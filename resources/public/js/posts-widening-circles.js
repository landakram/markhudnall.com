(function(){
shadow$provide[18]=function(cc,$b,fc,Za){!function(Ua){"object"==typeof Za&&"undefined"!=typeof fc?fc.exports=Ua():"function"==typeof define&&define.amd?define([],Ua):("undefined"!=typeof window?window:"undefined"!=typeof cc?cc:"undefined"!=typeof self?self:this).p5=Ua()}(function(){return function z(a,R,F){function y(l,h){if(!R[l]){if(!a[l]){var d="function"==typeof $b&&$b;if(!h&&d)return d(l,!0);if(w)return w(l,!0);throw(h=Error("Cannot find module '"+l+"'")).code="MODULE_NOT_FOUND",h;}d=R[l]={exports:{}};
a[l][0].call(d.exports,function(b){return y(a[l][1][b]||b)},d,d.exports,z,a,R,F)}return R[l].exports}for(var w="function"==typeof $b&&$b,r=0;r<F.length;r++)y(F[r]);return y}({1:[function(a,R,F){function z(l){var h=l.length;if(0<h%4)throw Error("Invalid string. Length must be a multiple of 4");l=l.indexOf("\x3d");h=(l=-1===l?h:l)===h?0:4-l%4;return[l,h]}F.byteLength=function(l){l=z(l);var h=l[0];l=l[1];return 3*(h+l)/4-l};F.toByteArray=function(l){var h=z(l);var d=h[0];h=h[1];var b=new r(3*(d+h)/4-
h),g=0,p=0<h?d-4:d;for(d=0;d<p;d+=4){var k=w[l.charCodeAt(d)]<<18|w[l.charCodeAt(d+1)]<<12|w[l.charCodeAt(d+2)]<<6|w[l.charCodeAt(d+3)];b[g++]=k>>16&255;b[g++]=k>>8&255;b[g++]=255&k}2===h&&(k=w[l.charCodeAt(d)]<<2|w[l.charCodeAt(d+1)]>>4,b[g++]=255&k);1===h&&(k=w[l.charCodeAt(d)]<<10|w[l.charCodeAt(d+1)]<<4|w[l.charCodeAt(d+2)]>>2,b[g++]=k>>8&255,b[g++]=255&k);return b};F.fromByteArray=function(l){for(var h,d=l.length,b=d%3,g=[],p=0,k=d-b;p<k;p+=16383){for(var n=g,q=n.push,u,v=l,x=k<p+16383?k:p+16383,
C=[],A=p;A<x;A+=3)u=(v[A]<<16&16711680)+(v[A+1]<<8&65280)+(255&v[A+2]),C.push(y[u>>18&63]+y[u>>12&63]+y[u>>6&63]+y[63&u]);u=C.join("");q.call(n,u)}1==b?(h=l[d-1],g.push(y[h>>2]+y[h<<4&63]+"\x3d\x3d")):2==b&&(h=(l[d-2]<<8)+l[d-1],g.push(y[h>>10]+y[h>>4&63]+y[h<<2&63]+"\x3d"));return g.join("")};var y=[],w=[],r="undefined"!=typeof Uint8Array?Uint8Array:Array;for(a=0;64>a;++a)y[a]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[a],w["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charCodeAt(a)]=
a;w[45]=62;w[95]=63},{}],2:[function(a,R,F){},{}],3:[function(a,R,F){},{}],4:[function(a,R,F){!function(z){function y(L){if(ea<L)throw new RangeError('The value "'+L+'" is invalid for option "size"');L=new Uint8Array(L);return Object.setPrototypeOf(L,z.prototype),L}function z(L,S,E){if("number"!=typeof L)return w(L,S,E);if("string"==typeof S)throw new TypeError('The "string" argument must be of type string. Received type number');return l(L)}function w(L,S,E){if("string"==typeof L){var P=S;if(z.isEncoding(P=
"string"==typeof P&&""!==P?P:"utf8"))return aa=0|b(L,P),ja=y(aa),(L=ja.write(L,P))!==aa?ja.slice(0,L):ja;throw new TypeError("Unknown encoding: "+P);}if(ArrayBuffer.isView(L))return h(L);if(null!=L){if(J(L,ArrayBuffer)||L&&J(L.buffer,ArrayBuffer)){var aa=L;L=S;var ja=E;if(0>L||aa.byteLength<L)throw new RangeError('"offset" is outside of buffer bounds');if(aa.byteLength<L+(ja||0))throw new RangeError('"length" is outside of buffer bounds');return aa=void 0===L&&void 0===ja?new Uint8Array(aa):void 0===
ja?new Uint8Array(aa,L):new Uint8Array(aa,L,ja),Object.setPrototypeOf(aa,z.prototype),aa}if("number"==typeof L)throw new TypeError('The "value" argument must not be of type number. Received type number');P=L.valueOf&&L.valueOf();if(null!=P&&P!==L)return z.from(P,S,E);var oa,ra;z.isBuffer(L)?P=(oa=0|d(L.length),0!==(ra=y(oa)).length&&L.copy(ra,0,0,oa),ra):void 0!==L.length?((P="number"!=typeof L.length)||(P=L.length,P=P!=P),P=P?y(0):h(L)):P="Buffer"===L.type&&Array.isArray(L.data)?h(L.data):void 0;
if(P)return P;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof L[Symbol.toPrimitive])return z.from(L[Symbol.toPrimitive]("string"),S,E)}throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof L);}function r(L){if("number"!=typeof L)throw new TypeError('"size" argument must be of type number');if(0>L)throw new RangeError('The value "'+L+'" is invalid for option "size"');}function l(L){return r(L),
y(0>L?0:0|d(L))}function h(L){for(var S=0>L.length?0:0|d(L.length),E=y(S),P=0;P<S;P+=1)E[P]=255&L[P];return E}function d(L){if(ea<=L)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+ea.toString(16)+" bytes");return 0|L}function b(L,S){if(z.isBuffer(L))return L.length;if(ArrayBuffer.isView(L)||J(L,ArrayBuffer))return L.byteLength;if("string"!=typeof L)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof L);
var E=L.length,P=2<arguments.length&&!0===arguments[2];if(!P&&0===E)return 0;for(var aa=!1;;)switch(S){case "ascii":case "latin1":case "binary":return E;case "utf8":case "utf-8":return K(L).length;case "ucs2":case "ucs-2":case "utf16le":case "utf-16le":return 2*E;case "hex":return E>>>1;case "base64":return G(L).length;default:if(aa)return P?-1:K(L).length;S=(""+S).toLowerCase();aa=!0}}function g(L,S,E){var P,aa=!1;if((S=void 0===S||0>S?0:S)>this.length||0>=(E=void 0===E||E>this.length?this.length:
E)||(E>>>=0)<=(S>>>=0))return"";for(L=L||"utf8";;)switch(L){case "hex":L=S;S=this.length;(!E||0>E||S<E)&&(E=S);S="";for(L=!L||0>L?0:L;L<E;++L)S+=Z[this[L]];return S;case "utf8":case "utf-8":return u(this,S,E);case "ascii":L="";for(E=Math.min(this.length,E);S<E;++S)L+=String.fromCharCode(127&this[S]);return L;case "latin1":case "binary":L=S;S="";for(E=Math.min(this.length,E);L<E;++L)S+=String.fromCharCode(this[L]);return S;case "base64":return ja=this,P=E,0===(oa=S)&&P===ja.length?I.fromByteArray(ja):
I.fromByteArray(ja.slice(oa,P));case "ucs2":case "ucs-2":case "utf16le":case "utf-16le":var ja=S,oa=E;E=this.slice(ja,oa);L="";for(S=0;S<E.length;S+=2)L+=String.fromCharCode(E[S]+256*E[S+1]);return L;default:if(aa)throw new TypeError("Unknown encoding: "+L);L=(L+"").toLowerCase();aa=!0}}function p(L,S,E){var P=L[S];L[S]=L[E];L[E]=P}function k(L,S,E,P,aa){if(0===L.length)return-1;"string"==typeof E?(P=E,E=0):2147483647<E?E=2147483647:-2147483648>E&&(E=-2147483648);var ja=E=+E;if((E=0>(E=ja!=ja?aa?
0:L.length-1:E)?L.length+E:E)>=L.length){if(aa)return-1;E=L.length-1}else if(0>E){if(!aa)return-1;E=0}if("string"==typeof S&&(S=z.from(S,P)),z.isBuffer(S))return 0===S.length?-1:n(L,S,E,P,aa);if("number"==typeof S)return S&=255,"function"==typeof Uint8Array.prototype.indexOf?(aa?Uint8Array.prototype.indexOf:Uint8Array.prototype.lastIndexOf).call(L,S,E):n(L,[S],E,P,aa);throw new TypeError("val must be string, number or Buffer");}function n(L,S,E,P,aa){function ja(sa,Da){return 1===oa?sa[Da]:sa.readUInt16BE(Da*
oa)}var oa=1,ra=L.length,la=S.length;if(void 0!==P&&("ucs2"===(P=String(P).toLowerCase())||"ucs-2"===P||"utf16le"===P||"utf-16le"===P)){if(2>L.length||2>S.length)return-1;ra/=oa=2;la/=2;E/=2}if(aa)for(aa=-1,P=E;P<ra;P++)if(ja(L,P)===ja(S,-1===aa?0:P-aa)){if(P-(aa=-1===aa?P:aa)+1===la)return aa*oa}else-1!==aa&&(P-=P-aa),aa=-1;else for(P=E=ra<E+la?ra-la:E;0<=P;P--){E=!0;for(ra=0;ra<la;ra++)if(ja(L,P+ra)!==ja(S,ra)){E=!1;break}if(E)return P}return-1}function q(L,S,E,P){for(var aa=[],ja=0;ja<S.length;++ja)aa.push(255&
S.charCodeAt(ja));return U(aa,L,E,P)}function u(L,S,E){E=Math.min(L.length,E);for(var P=[];S<E;){var aa,ja,oa=L[S],ra=null,la=239<oa?4:223<oa?3:191<oa?2:1;if(S+la<=E)switch(la){case 1:128>oa&&(ra=oa);break;case 2:128==(192&(aa=L[S+1]))&&127<(ja=(31&oa)<<6|63&aa)&&(ra=ja);break;case 3:aa=L[S+1];var sa=L[S+2];128==(192&aa)&&128==(192&sa)&&2047<(ja=(15&oa)<<12|(63&aa)<<6|63&sa)&&(55296>ja||57343<ja)&&(ra=ja);break;case 4:aa=L[S+1];sa=L[S+2];var Da=L[S+3];128==(192&aa)&&128==(192&sa)&&128==(192&Da)&&
65535<(ja=(15&oa)<<18|(63&aa)<<12|(63&sa)<<6|63&Da)&&1114112>ja&&(ra=ja)}null===ra?(ra=65533,la=1):65535<ra&&(ra-=65536,P.push(ra>>>10&1023|55296),ra=56320|1023&ra);P.push(ra);S+=la}L=P.length;if(L<=da)return String.fromCharCode.apply(String,P);E="";for(aa=0;aa<L;)E+=String.fromCharCode.apply(String,P.slice(aa,aa+=da));return E}function v(L,S,E){if(0!=L%1||0>L)throw new RangeError("offset is not uint");if(E<L+S)throw new RangeError("Trying to access beyond buffer length");}function x(L,S,E,P,aa,ja){if(!z.isBuffer(L))throw new TypeError('"buffer" argument must be a Buffer instance');
if(aa<S||S<ja)throw new RangeError('"value" argument is out of bounds');if(E+P>L.length)throw new RangeError("Index out of range");}function C(L,S,E,P){if(E+P>L.length)throw new RangeError("Index out of range");if(0>E)throw new RangeError("Index out of range");}function A(L,S,E,P,aa){return S=+S,E>>>=0,aa||C(L,0,E,4),T.write(L,S,E,P,23,4),E+4}function M(L,S,E,P,aa){return S=+S,E>>>=0,aa||C(L,0,E,8),T.write(L,S,E,P,52,8),E+8}function K(L,S){S=S||1/0;for(var E,P=L.length,aa=null,ja=[],oa=0;oa<P;++oa){if(55295<
(E=L.charCodeAt(oa))&&57344>E){if(!aa){if(56319<E){-1<(S-=3)&&ja.push(239,191,189);continue}if(oa+1===P){-1<(S-=3)&&ja.push(239,191,189);continue}aa=E;continue}if(56320>E){-1<(S-=3)&&ja.push(239,191,189);aa=E;continue}E=65536+(aa-55296<<10|E-56320)}else aa&&-1<(S-=3)&&ja.push(239,191,189);if(aa=null,128>E){if(0>--S)break;ja.push(E)}else if(2048>E){if(0>(S-=2))break;ja.push(E>>6|192,63&E|128)}else if(65536>E){if(0>(S-=3))break;ja.push(E>>12|224,E>>6&63|128,63&E|128)}else{if(!(1114112>E))throw Error("Invalid code point");
if(0>(S-=4))break;ja.push(E>>18|240,E>>12&63|128,E>>6&63|128,63&E|128)}}return ja}function G(L){var S=I,E=S.toByteArray;if(2>(L=(L=L.split("\x3d")[0]).trim().replace(X,"")).length)L="";else for(;0!=L.length%4;)L+="\x3d";return E.call(S,L)}function U(L,S,E,P){for(var aa=0;aa<P&&!(aa+E>=S.length||aa>=L.length);++aa)S[aa+E]=L[aa];return aa}function J(L,S){return L instanceof S||null!=L&&null!=L.constructor&&null!=L.constructor.name&&L.constructor.name===S.name}var I=a("base64-js"),T=a("ieee754"),Y="function"==
typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null,ea=(F.Buffer=z,F.SlowBuffer=function(L){+L!=L&&(L=0);return z.alloc(+L)},F.INSPECT_MAX_BYTES=50,2147483647);F.kMaxLength=ea;(z.TYPED_ARRAY_SUPPORT=function(){try{var L=new Uint8Array(1),S={foo:function(){return 42}};return Object.setPrototypeOf(S,Uint8Array.prototype),Object.setPrototypeOf(L,S),42===L.foo()}catch(E){return!1}}())||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");
Object.defineProperty(z.prototype,"parent",{enumerable:!0,get:function(){if(z.isBuffer(this))return this.buffer}});Object.defineProperty(z.prototype,"offset",{enumerable:!0,get:function(){if(z.isBuffer(this))return this.byteOffset}});"undefined"!=typeof Symbol&&null!=Symbol.species&&z[Symbol.species]===z&&Object.defineProperty(z,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1});z.poolSize=8192;z.from=w;Object.setPrototypeOf(z.prototype,Uint8Array.prototype);Object.setPrototypeOf(z,
Uint8Array);z.alloc=function(L,S,E){return r(L),0>=L||void 0===S?y(L):"string"==typeof E?y(L).fill(S,E):y(L).fill(S)};z.allocUnsafe=l;z.allocUnsafeSlow=l;z.isBuffer=function(L){return null!=L&&!0===L._isBuffer&&L!==z.prototype};z.compare=function(L,S){if(J(L,Uint8Array)&&(L=z.from(L,L.offset,L.byteLength)),J(S,Uint8Array)&&(S=z.from(S,S.offset,S.byteLength)),!z.isBuffer(L)||!z.isBuffer(S))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(L===S)return 0;
for(var E=L.length,P=S.length,aa=0,ja=Math.min(E,P);aa<ja;++aa)if(L[aa]!==S[aa]){E=L[aa];P=S[aa];break}return E<P?-1:P<E?1:0};z.isEncoding=function(L){switch(String(L).toLowerCase()){case "hex":case "utf8":case "utf-8":case "ascii":case "latin1":case "binary":case "base64":case "ucs2":case "ucs-2":case "utf16le":case "utf-16le":return!0;default:return!1}};z.concat=function(L,S){if(!Array.isArray(L))throw new TypeError('"list" argument must be an Array of Buffers');if(0===L.length)return z.alloc(0);
if(void 0===S)for(P=S=0;P<L.length;++P)S+=L[P].length;S=z.allocUnsafe(S);for(var E=0,P=0;P<L.length;++P){var aa=L[P];if(J(aa,Uint8Array)&&(aa=z.from(aa)),!z.isBuffer(aa))throw new TypeError('"list" argument must be an Array of Buffers');aa.copy(S,E);E+=aa.length}return S};z.byteLength=b;z.prototype._isBuffer=!0;z.prototype.swap16=function(){var L=this.length;if(0!=L%2)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var S=0;S<L;S+=2)p(this,S,S+1);return this};z.prototype.swap32=
function(){var L=this.length;if(0!=L%4)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var S=0;S<L;S+=4)p(this,S,S+3),p(this,S+1,S+2);return this};z.prototype.swap64=function(){var L=this.length;if(0!=L%8)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var S=0;S<L;S+=8)p(this,S,S+7),p(this,S+1,S+6),p(this,S+2,S+5),p(this,S+3,S+4);return this};z.prototype.toLocaleString=z.prototype.toString=function(){var L=this.length;return 0===L?"":0===arguments.length?
u(this,0,L):g.apply(this,arguments)};z.prototype.equals=function(L){if(z.isBuffer(L))return this===L||0===z.compare(this,L);throw new TypeError("Argument must be a Buffer");};z.prototype.inspect=function(){var L=F.INSPECT_MAX_BYTES;var S=this.toString("hex",0,L).replace(/(.{2})/g,"$1 ").trim();return this.length>L&&(S+=" ... "),"\x3cBuffer "+S+"\x3e"};Y&&(z.prototype[Y]=z.prototype.inspect);z.prototype.compare=function(L,S,E,P,aa){if(J(L,Uint8Array)&&(L=z.from(L,L.offset,L.byteLength)),!z.isBuffer(L))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+
typeof L);if(void 0===E&&(E=L?L.length:0),void 0===P&&(P=0),void 0===aa&&(aa=this.length),0>(S=void 0===S?0:S)||E>L.length||0>P||aa>this.length)throw new RangeError("out of range index");if(aa<=P&&E<=S)return 0;if(aa<=P)return-1;if(E<=S)return 1;if(this===L)return 0;var ja=(aa>>>=0)-(P>>>=0),oa=(E>>>=0)-(S>>>=0),ra=Math.min(ja,oa);P=this.slice(P,aa);L=L.slice(S,E);for(S=0;S<ra;++S)if(P[S]!==L[S]){ja=P[S];oa=L[S];break}return ja<oa?-1:oa<ja?1:0};z.prototype.includes=function(L,S,E){return-1!==this.indexOf(L,
S,E)};z.prototype.indexOf=function(L,S,E){return k(this,L,S,E,!0)};z.prototype.lastIndexOf=function(L,S,E){return k(this,L,S,E,!1)};z.prototype.write=function(L,S,E,P){if(void 0===S)P="utf8",E=this.length,S=0;else if(void 0===E&&"string"==typeof S)P=S,E=this.length,S=0;else{if(!isFinite(S))throw Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");S>>>=0;isFinite(E)?(E>>>=0,void 0===P&&(P="utf8")):(P=E,E=void 0)}var aa=this.length-S;if((void 0===E||aa<E)&&(E=aa),0<L.length&&
(0>E||0>S)||S>this.length)throw new RangeError("Attempt to write outside buffer bounds");P=P||"utf8";var ja,oa,ra;for(aa=!1;;)switch(P){case "hex":var la=(S=Number(S)||0,this.length-S);(!E||la<(E=Number(E)))&&(E=la);(la=L.length)/2<E&&(E=la/2);for(la=0;la<E;++la){P=parseInt(L.substr(2*la,2),16);if(P!=P)break;this[S+la]=P}return la;case "utf8":case "utf-8":return la=S,ra=E,U(K(L,(oa=this).length-la),oa,la,ra);case "ascii":return q(this,L,S,E);case "latin1":case "binary":return q(this,L,S,E);case "base64":return oa=
this,ra=S,ja=E,U(G(L),oa,ra,ja);case "ucs2":case "ucs-2":case "utf16le":case "utf-16le":la=L;P=E;ja=this.length-S;oa=[];for(ra=0;ra<la.length&&!(0>(ja-=2));++ra)E=la.charCodeAt(ra),L=E>>8,E%=256,oa.push(E),oa.push(L);return U(oa,this,S,P);default:if(aa)throw new TypeError("Unknown encoding: "+P);P=(""+P).toLowerCase();aa=!0}};z.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var da=4096;z.prototype.slice=function(L,S){var E=this.length;E=(0>(L=
~~L)?0>(L+=E)&&(L=0):E<L&&(L=E),0>(S=void 0===S?E:~~S)?0>(S+=E)&&(S=0):E<S&&(S=E),S<L&&(S=L),this.subarray(L,S));return Object.setPrototypeOf(E,z.prototype),E};z.prototype.readUIntLE=function(L,S,E){L>>>=0;S>>>=0;E||v(L,S,this.length);E=this[L];for(var P=1,aa=0;++aa<S&&(P*=256);)E+=this[L+aa]*P;return E};z.prototype.readUIntBE=function(L,S,E){L>>>=0;S>>>=0;E||v(L,S,this.length);E=this[L+--S];for(var P=1;0<S&&(P*=256);)E+=this[L+--S]*P;return E};z.prototype.readUInt8=function(L,S){return L>>>=0,S||
v(L,1,this.length),this[L]};z.prototype.readUInt16LE=function(L,S){return L>>>=0,S||v(L,2,this.length),this[L]|this[L+1]<<8};z.prototype.readUInt16BE=function(L,S){return L>>>=0,S||v(L,2,this.length),this[L]<<8|this[L+1]};z.prototype.readUInt32LE=function(L,S){return L>>>=0,S||v(L,4,this.length),(this[L]|this[L+1]<<8|this[L+2]<<16)+16777216*this[L+3]};z.prototype.readUInt32BE=function(L,S){return L>>>=0,S||v(L,4,this.length),16777216*this[L]+(this[L+1]<<16|this[L+2]<<8|this[L+3])};z.prototype.readIntLE=
function(L,S,E){L>>>=0;S>>>=0;E||v(L,S,this.length);E=this[L];for(var P=1,aa=0;++aa<S&&(P*=256);)E+=this[L+aa]*P;return 128*P<=E&&(E-=Math.pow(2,8*S)),E};z.prototype.readIntBE=function(L,S,E){L>>>=0;S>>>=0;E||v(L,S,this.length);E=S;for(var P=1,aa=this[L+--E];0<E&&(P*=256);)aa+=this[L+--E]*P;return 128*P<=aa&&(aa-=Math.pow(2,8*S)),aa};z.prototype.readInt8=function(L,S){return L>>>=0,S||v(L,1,this.length),128&this[L]?-1*(255-this[L]+1):this[L]};z.prototype.readInt16LE=function(L,S){L>>>=0;S||v(L,2,
this.length);S=this[L]|this[L+1]<<8;return 32768&S?4294901760|S:S};z.prototype.readInt16BE=function(L,S){L>>>=0;S||v(L,2,this.length);S=this[L+1]|this[L]<<8;return 32768&S?4294901760|S:S};z.prototype.readInt32LE=function(L,S){return L>>>=0,S||v(L,4,this.length),this[L]|this[L+1]<<8|this[L+2]<<16|this[L+3]<<24};z.prototype.readInt32BE=function(L,S){return L>>>=0,S||v(L,4,this.length),this[L]<<24|this[L+1]<<16|this[L+2]<<8|this[L+3]};z.prototype.readFloatLE=function(L,S){return L>>>=0,S||v(L,4,this.length),
T.read(this,L,!0,23,4)};z.prototype.readFloatBE=function(L,S){return L>>>=0,S||v(L,4,this.length),T.read(this,L,!1,23,4)};z.prototype.readDoubleLE=function(L,S){return L>>>=0,S||v(L,8,this.length),T.read(this,L,!0,52,8)};z.prototype.readDoubleBE=function(L,S){return L>>>=0,S||v(L,8,this.length),T.read(this,L,!1,52,8)};z.prototype.writeUIntLE=function(L,S,E,P){L=+L;S>>>=0;E>>>=0;P||x(this,L,S,E,Math.pow(2,8*E)-1,0);P=1;var aa=0;for(this[S]=255&L;++aa<E&&(P*=256);)this[S+aa]=L/P&255;return S+E};z.prototype.writeUIntBE=
function(L,S,E,P){L=+L;S>>>=0;E>>>=0;P||x(this,L,S,E,Math.pow(2,8*E)-1,0);P=E-1;var aa=1;for(this[S+P]=255&L;0<=--P&&(aa*=256);)this[S+P]=L/aa&255;return S+E};z.prototype.writeUInt8=function(L,S,E){return L=+L,S>>>=0,E||x(this,L,S,1,255,0),this[S]=255&L,S+1};z.prototype.writeUInt16LE=function(L,S,E){return L=+L,S>>>=0,E||x(this,L,S,2,65535,0),this[S]=255&L,this[S+1]=L>>>8,S+2};z.prototype.writeUInt16BE=function(L,S,E){return L=+L,S>>>=0,E||x(this,L,S,2,65535,0),this[S]=L>>>8,this[S+1]=255&L,S+2};
z.prototype.writeUInt32LE=function(L,S,E){return L=+L,S>>>=0,E||x(this,L,S,4,4294967295,0),this[S+3]=L>>>24,this[S+2]=L>>>16,this[S+1]=L>>>8,this[S]=255&L,S+4};z.prototype.writeUInt32BE=function(L,S,E){return L=+L,S>>>=0,E||x(this,L,S,4,4294967295,0),this[S]=L>>>24,this[S+1]=L>>>16,this[S+2]=L>>>8,this[S+3]=255&L,S+4};z.prototype.writeIntLE=function(L,S,E,P){L=+L;S>>>=0;P||x(this,L,S,E,(P=Math.pow(2,8*E-1))-1,-P);P=0;var aa=1,ja=0;for(this[S]=255&L;++P<E&&(aa*=256);)0>L&&0===ja&&0!==this[S+P-1]&&
(ja=1),this[S+P]=(L/aa>>0)-ja&255;return S+E};z.prototype.writeIntBE=function(L,S,E,P){L=+L;S>>>=0;P||x(this,L,S,E,(P=Math.pow(2,8*E-1))-1,-P);P=E-1;var aa=1,ja=0;for(this[S+P]=255&L;0<=--P&&(aa*=256);)0>L&&0===ja&&0!==this[S+P+1]&&(ja=1),this[S+P]=(L/aa>>0)-ja&255;return S+E};z.prototype.writeInt8=function(L,S,E){return L=+L,S>>>=0,E||x(this,L,S,1,127,-128),this[S]=255&(0>L?255+L+1:L),S+1};z.prototype.writeInt16LE=function(L,S,E){return L=+L,S>>>=0,E||x(this,L,S,2,32767,-32768),this[S]=255&L,this[S+
1]=L>>>8,S+2};z.prototype.writeInt16BE=function(L,S,E){return L=+L,S>>>=0,E||x(this,L,S,2,32767,-32768),this[S]=L>>>8,this[S+1]=255&L,S+2};z.prototype.writeInt32LE=function(L,S,E){return L=+L,S>>>=0,E||x(this,L,S,4,2147483647,-2147483648),this[S]=255&L,this[S+1]=L>>>8,this[S+2]=L>>>16,this[S+3]=L>>>24,S+4};z.prototype.writeInt32BE=function(L,S,E){return L=+L,S>>>=0,E||x(this,L,S,4,2147483647,-2147483648),this[S]=(L=0>L?4294967295+L+1:L)>>>24,this[S+1]=L>>>16,this[S+2]=L>>>8,this[S+3]=255&L,S+4};z.prototype.writeFloatLE=
function(L,S,E){return A(this,L,S,!0,E)};z.prototype.writeFloatBE=function(L,S,E){return A(this,L,S,!1,E)};z.prototype.writeDoubleLE=function(L,S,E){return M(this,L,S,!0,E)};z.prototype.writeDoubleBE=function(L,S,E){return M(this,L,S,!1,E)};z.prototype.copy=function(L,S,E,P){if(!z.isBuffer(L))throw new TypeError("argument should be a Buffer");if((E=E||0,P||0===P||(P=this.length),S>=L.length&&(S=L.length),(P=0<P&&P<E?E:P)===E)||0===L.length||0===this.length)return 0;if(0>(S=S||0))throw new RangeError("targetStart out of bounds");
if(0>E||E>=this.length)throw new RangeError("Index out of range");if(0>P)throw new RangeError("sourceEnd out of bounds");P>this.length&&(P=this.length);var aa=(P=L.length-S<P-E?L.length-S+E:P)-E;if(this===L&&"function"==typeof Uint8Array.prototype.copyWithin)this.copyWithin(S,E,P);else if(this===L&&E<S&&S<P)for(P=aa-1;0<=P;--P)L[P+S]=this[P+E];else Uint8Array.prototype.set.call(L,this.subarray(E,P),S);return aa};z.prototype.fill=function(L,S,E,P){if("string"==typeof L){if("string"==typeof S?(P=S,
S=0,E=this.length):"string"==typeof E&&(P=E,E=this.length),void 0!==P&&"string"!=typeof P)throw new TypeError("encoding must be a string");if("string"==typeof P&&!z.isEncoding(P))throw new TypeError("Unknown encoding: "+P);var aa;1===L.length&&(aa=L.charCodeAt(0),("utf8"===P&&128>aa||"latin1"===P)&&(L=aa))}else"number"==typeof L?L&=255:"boolean"==typeof L&&(L=Number(L));if(0>S||this.length<S||this.length<E)throw new RangeError("Out of range index");if(!(E<=S))if(S>>>=0,E=void 0===E?this.length:E>>>
0,"number"==typeof(L=L||0))for(P=S;P<E;++P)this[P]=L;else{aa=z.isBuffer(L)?L:z.from(L,P);var ja=aa.length;if(0===ja)throw new TypeError('The value "'+L+'" is invalid for argument "value"');for(P=0;P<E-S;++P)this[P+S]=aa[P%ja]}return this};var X=/[^+/0-9A-Za-z-_]/g,Z=function(){for(var L=Array(256),S=0;16>S;++S)for(var E=16*S,P=0;16>P;++P)L[E+P]="0123456789abcdef"[S]+"0123456789abcdef"[P];return L}()}.call(this,a("buffer").Buffer)},{"base64-js":1,buffer:4,ieee754:254}],5:[function(a,R,F){R.exports=
function(z){if("function"!=typeof z)throw TypeError(String(z)+" is not a function");return z}},{}],6:[function(a,R,F){var z=a("../internals/is-object");R.exports=function(y){if(z(y)||null===y)return y;throw TypeError("Can't set "+String(y)+" as a prototype");}},{"../internals/is-object":75}],7:[function(a,R,F){F=a("../internals/well-known-symbol");var z=a("../internals/object-create");a=a("../internals/object-define-property");var y=F("unscopables"),w=Array.prototype;null==w[y]&&a.f(w,y,{configurable:!0,
value:z(null)});R.exports=function(r){w[y][r]=!0}},{"../internals/object-create":91,"../internals/object-define-property":93,"../internals/well-known-symbol":150}],8:[function(a,R,F){var z=a("../internals/string-multibyte").charAt;R.exports=function(y,w,r){return w+(r?z(y,w).length:1)}},{"../internals/string-multibyte":125}],9:[function(a,R,F){R.exports=function(z,y,w){if(z instanceof y)return z;throw TypeError("Incorrect "+(w?w+" ":"")+"invocation");}},{}],10:[function(a,R,F){var z=a("../internals/is-object");
R.exports=function(y){if(z(y))return y;throw TypeError(String(y)+" is not an object");}},{"../internals/is-object":75}],11:[function(a,R,F){R.exports="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView},{}],12:[function(a,R,F){function z(I){return l(I)&&h(J,d(I))}var y;F=a("../internals/array-buffer-native");var w=a("../internals/descriptors"),r=a("../internals/global"),l=a("../internals/is-object"),h=a("../internals/has"),d=a("../internals/classof"),b=a("../internals/create-non-enumerable-property"),
g=a("../internals/redefine"),p=a("../internals/object-define-property").f,k=a("../internals/object-get-prototype-of"),n=a("../internals/object-set-prototype-of"),q=a("../internals/well-known-symbol");a=a("../internals/uid");var u=r.Int8Array,v=u&&u.prototype,x=r.Uint8ClampedArray;x=x&&x.prototype;var C=u&&k(u),A=v&&k(v),M=Object.prototype,K=M.isPrototypeOf;q=q("toStringTag");var G=a("TYPED_ARRAY_TAG"),U=F&&!!n&&"Opera"!==d(r.opera);a=!1;var J={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,
Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8};for(y in J)r[y]||(U=!1);if((!U||"function"!=typeof C||C===Function.prototype)&&(C=function(){throw TypeError("Incorrect invocation");},U))for(y in J)r[y]&&n(r[y],C);if((!U||!A||A===M)&&(A=C.prototype,U))for(y in J)r[y]&&n(r[y].prototype,A);if(U&&k(x)!==A&&n(x,A),w&&!h(A,q))for(y in a=!0,p(A,q,{get:function(){return l(this)?this[G]:void 0}}),J)r[y]&&b(r[y],G,y);R.exports={NATIVE_ARRAY_BUFFER_VIEWS:U,TYPED_ARRAY_TAG:a&&G,aTypedArray:function(I){if(z(I))return I;
throw TypeError("Target is not a typed array");},aTypedArrayConstructor:function(I){if(n){if(K.call(C,I))return I}else for(var T in J)if(h(J,y)&&(T=r[T])&&(I===T||K.call(T,I)))return I;throw TypeError("Target is not a typed array constructor");},exportTypedArrayMethod:function(I,T,Y){if(w){if(Y)for(var ea in J)(ea=r[ea])&&h(ea.prototype,I)&&delete ea.prototype[I];A[I]&&!Y||g(A,I,!Y&&U&&v[I]||T)}},exportTypedArrayStaticMethod:function(I,T,Y){var ea,da;if(w){if(n){if(Y)for(ea in J)(da=r[ea])&&h(da,
I)&&delete da[I];if(C[I]&&!Y)return;try{return g(C,I,!Y&&U&&u[I]||T)}catch(X){}}for(ea in J)!(da=r[ea])||da[I]&&!Y||g(da,I,T)}},isView:function(I){I=d(I);return"DataView"===I||h(J,I)},isTypedArray:z,TypedArray:C,TypedArrayPrototype:A}},{"../internals/array-buffer-native":11,"../internals/classof":29,"../internals/create-non-enumerable-property":38,"../internals/descriptors":43,"../internals/global":60,"../internals/has":61,"../internals/is-object":75,"../internals/object-define-property":93,"../internals/object-get-prototype-of":98,
"../internals/object-set-prototype-of":102,"../internals/redefine":110,"../internals/uid":147,"../internals/well-known-symbol":150}],13:[function(a,R,F){function z(la){return[255&la]}function y(la){return[255&la,la>>8&255]}function w(la){return[255&la,la>>8&255,la>>16&255,la>>24&255]}function r(la){return la[3]<<24|la[2]<<16|la[1]<<8|la[0]}function l(la){return aa(la,23,4)}function h(la){return aa(la,52,8)}function d(la,sa){J(la[da],sa,{get:function(){return Y(this)[sa]}})}function b(la,sa,Da,qa){if(Da=
A(Da),la=Y(la),Da+sa>la.byteLength)throw P(X);var Aa=Y(la.buffer).bytes;Da+=la.byteOffset;la=Aa.slice(Da,Da+sa);return qa?la:la.reverse()}function g(la,sa,Da,qa,Aa,Ga){if(Da=A(Da),la=Y(la),Da+sa>la.byteLength)throw P(X);var Ka=Y(la.buffer).bytes;la=Da+la.byteOffset;qa=qa(+Aa);for(Aa=0;Aa<sa;Aa++)Ka[la+Aa]=qa[Ga?Aa:sa-Aa-1]}F=a("../internals/global");var p=a("../internals/descriptors"),k=a("../internals/array-buffer-native"),n=a("../internals/create-non-enumerable-property"),q=a("../internals/redefine-all"),
u=a("../internals/fails"),v=a("../internals/an-instance"),x=a("../internals/to-integer"),C=a("../internals/to-length"),A=a("../internals/to-index"),M=a("../internals/ieee754"),K=a("../internals/object-get-prototype-of"),G=a("../internals/object-set-prototype-of"),U=a("../internals/object-get-own-property-names").f,J=a("../internals/object-define-property").f,I=a("../internals/array-fill"),T=a("../internals/set-to-string-tag");a=a("../internals/internal-state");var Y=a.get,ea=a.set,da="prototype",
X="Wrong index",Z=F.ArrayBuffer,L=Z,S=F.DataView;a=S&&S[da];var E=Object.prototype,P=F.RangeError,aa=M.pack,ja=M.unpack;if(k){if(!u(function(){Z(1)})||!u(function(){new Z(-1)})||u(function(){return new Z,new Z(1.5),new Z(NaN),"ArrayBuffer"!=Z.name})){var oa;F=(L=function(la){return v(this,L),new Z(A(la))})[da]=Z[da];k=U(Z);for(u=0;k.length>u;)(oa=k[u++])in L||n(L,oa,Z[oa]);F.constructor=L}G&&K(a)!==E&&G(a,E);M=new S(new L(2));var ra=a.setInt8;M.setInt8(0,2147483648);M.setInt8(1,2147483649);!M.getInt8(0)&&
M.getInt8(1)||q(a,{setInt8:function(la,sa){ra.call(this,la,sa<<24>>24)},setUint8:function(la,sa){ra.call(this,la,sa<<24>>24)}},{unsafe:!0})}else L=function(la){v(this,L,"ArrayBuffer");la=A(la);ea(this,{bytes:I.call(Array(la),0),byteLength:la});p||(this.byteLength=la)},S=function(la,sa,Da){v(this,S,"DataView");v(la,L,"DataView");var qa=Y(la).byteLength;sa=x(sa);if(0>sa||qa<sa)throw P("Wrong offset");if(qa<sa+(Da=void 0===Da?qa-sa:C(Da)))throw P("Wrong length");ea(this,{buffer:la,byteLength:Da,byteOffset:sa});
p||(this.buffer=la,this.byteLength=Da,this.byteOffset=sa)},p&&(d(L,"byteLength"),d(S,"buffer"),d(S,"byteLength"),d(S,"byteOffset")),q(S[da],{getInt8:function(la){return b(this,1,la)[0]<<24>>24},getUint8:function(la){return b(this,1,la)[0]},getInt16:function(la){la=b(this,2,la,1<arguments.length?arguments[1]:void 0);return(la[1]<<8|la[0])<<16>>16},getUint16:function(la){la=b(this,2,la,1<arguments.length?arguments[1]:void 0);return la[1]<<8|la[0]},getInt32:function(la){return r(b(this,4,la,1<arguments.length?
arguments[1]:void 0))},getUint32:function(la){return r(b(this,4,la,1<arguments.length?arguments[1]:void 0))>>>0},getFloat32:function(la){return ja(b(this,4,la,1<arguments.length?arguments[1]:void 0),23)},getFloat64:function(la){return ja(b(this,8,la,1<arguments.length?arguments[1]:void 0),52)},setInt8:function(la,sa){g(this,1,la,z,sa)},setUint8:function(la,sa){g(this,1,la,z,sa)},setInt16:function(la,sa){g(this,2,la,y,sa,2<arguments.length?arguments[2]:void 0)},setUint16:function(la,sa){g(this,2,la,
y,sa,2<arguments.length?arguments[2]:void 0)},setInt32:function(la,sa){g(this,4,la,w,sa,2<arguments.length?arguments[2]:void 0)},setUint32:function(la,sa){g(this,4,la,w,sa,2<arguments.length?arguments[2]:void 0)},setFloat32:function(la,sa){g(this,4,la,l,sa,2<arguments.length?arguments[2]:void 0)},setFloat64:function(la,sa){g(this,8,la,h,sa,2<arguments.length?arguments[2]:void 0)}});T(L,"ArrayBuffer");T(S,"DataView");R.exports={ArrayBuffer:L,DataView:S}},{"../internals/an-instance":9,"../internals/array-buffer-native":11,
"../internals/array-fill":15,"../internals/create-non-enumerable-property":38,"../internals/descriptors":43,"../internals/fails":51,"../internals/global":60,"../internals/ieee754":66,"../internals/internal-state":71,"../internals/object-define-property":93,"../internals/object-get-own-property-names":96,"../internals/object-get-prototype-of":98,"../internals/object-set-prototype-of":102,"../internals/redefine-all":109,"../internals/set-to-string-tag":119,"../internals/to-index":135,"../internals/to-integer":137,
"../internals/to-length":138}],14:[function(a,R,F){var z=a("../internals/to-object"),y=a("../internals/to-absolute-index"),w=a("../internals/to-length"),r=Math.min;R.exports=[].copyWithin||function(l,h){var d=z(this),b=w(d.length),g=y(l,b),p=y(h,b);l=2<arguments.length?arguments[2]:void 0;b=r((void 0===l?b:y(l,b))-p,b-g);var k=1;for(p<g&&g<p+b&&(k=-1,p+=b-1,g+=b-1);0<b--;)p in d?d[g]=d[p]:delete d[g],g+=k,p+=k;return d}},{"../internals/to-absolute-index":134,"../internals/to-length":138,"../internals/to-object":139}],
15:[function(a,R,F){var z=a("../internals/to-object"),y=a("../internals/to-absolute-index"),w=a("../internals/to-length");R.exports=function(r){var l=z(this),h=w(l.length),d=arguments.length,b=y(1<d?arguments[1]:void 0,h);d=2<d?arguments[2]:void 0;for(h=void 0===d?h:y(d,h);b<h;)l[b++]=r;return l}},{"../internals/to-absolute-index":134,"../internals/to-length":138,"../internals/to-object":139}],16:[function(a,R,F){var z=a("../internals/array-iteration").forEach;F=a("../internals/array-method-is-strict");
a=a("../internals/array-method-uses-to-length");F=F("forEach");a=a("forEach");R.exports=F&&a?[].forEach:function(y){return z(this,y,1<arguments.length?arguments[1]:void 0)}},{"../internals/array-iteration":19,"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23}],17:[function(a,R,F){var z=a("../internals/function-bind-context"),y=a("../internals/to-object"),w=a("../internals/call-with-safe-iteration-closing"),r=a("../internals/is-array-iterator-method"),l=a("../internals/to-length"),
h=a("../internals/create-property"),d=a("../internals/get-iterator-method");R.exports=function(b){var g;var p=y(b);b="function"==typeof this?this:Array;var k=arguments.length;var n=1<k?arguments[1]:void 0,q=void 0!==n;var u=d(p);var v=0;if(q&&(n=z(n,2<k?arguments[2]:void 0,2)),null==u||b==Array&&r(u))for(k=new b(g=l(p.length));v<g;v++)u=q?n(p[v],v):p[v],h(k,v,u);else for(g=(p=u.call(p)).next,k=new b;!(u=g.call(p)).done;v++)u=q?w(p,n,[u.value,v],!0):u.value,h(k,v,u);return k.length=v,k}},{"../internals/call-with-safe-iteration-closing":26,
"../internals/create-property":40,"../internals/function-bind-context":55,"../internals/get-iterator-method":58,"../internals/is-array-iterator-method":72,"../internals/to-length":138,"../internals/to-object":139}],18:[function(a,R,F){function z(l){return function(h,d,b){var g;h=y(h);var p=w(h.length);b=r(b,p);if(l&&d!=d)for(;b<p;){if((g=h[b++])!=g)return!0}else for(;b<p;b++)if((l||b in h)&&h[b]===d)return l||b||0;return!l&&-1}}var y=a("../internals/to-indexed-object"),w=a("../internals/to-length"),
r=a("../internals/to-absolute-index");R.exports={includes:z(!0),indexOf:z(!1)}},{"../internals/to-absolute-index":134,"../internals/to-indexed-object":136,"../internals/to-length":138}],19:[function(a,R,F){function z(b){var g=1==b,p=2==b,k=3==b,n=4==b,q=6==b,u=5==b||q;return function(v,x,C,A){var M,K,G=r(v),U=w(G);C=y(x,C,3);var J=l(U.length),I=0;x=A||h;for(v=g?x(v,J):p?x(v,0):void 0;I<J;I++)if((u||I in U)&&(K=C(M=U[I],I,G),b))if(g)v[I]=K;else if(K)switch(b){case 3:return!0;case 5:return M;case 6:return I;
case 2:d.call(v,M)}else if(n)return!1;return q?-1:k||n?n:v}}var y=a("../internals/function-bind-context"),w=a("../internals/indexed-object"),r=a("../internals/to-object"),l=a("../internals/to-length"),h=a("../internals/array-species-create"),d=[].push;R.exports={forEach:z(0),map:z(1),filter:z(2),some:z(3),every:z(4),find:z(5),findIndex:z(6)}},{"../internals/array-species-create":25,"../internals/function-bind-context":55,"../internals/indexed-object":67,"../internals/to-length":138,"../internals/to-object":139}],
20:[function(a,R,F){var z=a("../internals/to-indexed-object"),y=a("../internals/to-integer"),w=a("../internals/to-length");F=a("../internals/array-method-is-strict");a=a("../internals/array-method-uses-to-length");var r=Math.min,l=[].lastIndexOf,h=!!l&&0>1/[1].lastIndexOf(1,-0);F=F("lastIndexOf");a=a("indexOf",{ACCESSORS:!0,1:0});R.exports=!h&&F&&a?l:function(d){if(h)return l.apply(this,arguments)||0;var b=z(this),g=w(b.length),p=g-1;for(0>(p=1<arguments.length?r(p,y(arguments[1])):p)&&(p=g+p);0<=
p;p--)if(p in b&&b[p]===d)return p||0;return-1}},{"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23,"../internals/to-indexed-object":136,"../internals/to-integer":137,"../internals/to-length":138}],21:[function(a,R,F){var z=a("../internals/fails");F=a("../internals/well-known-symbol");var y=a("../internals/engine-v8-version"),w=F("species");R.exports=function(r){return 51<=y||!z(function(){var l=[];return(l.constructor={})[w]=function(){return{foo:1}},1!==l[r](Boolean).foo})}},
{"../internals/engine-v8-version":48,"../internals/fails":51,"../internals/well-known-symbol":150}],22:[function(a,R,F){var z=a("../internals/fails");R.exports=function(y,w){var r=[][y];return!!r&&z(function(){r.call(null,w||function(){throw 1;},1)})}},{"../internals/fails":51}],23:[function(a,R,F){function z(d){throw d;}var y=a("../internals/descriptors"),w=a("../internals/fails"),r=a("../internals/has"),l=Object.defineProperty,h={};R.exports=function(d,b){var g,p,k,n;return r(h,d)?h[d]:(g=[][d],
p=!!r(b=b||{},"ACCESSORS")&&b.ACCESSORS,k=r(b,0)?b[0]:z,n=r(b,1)?b[1]:void 0,h[d]=!!g&&!w(function(){if(p&&!y)return!0;var q={length:-1};p?l(q,1,{enumerable:!0,get:z}):q[1]=1;g.call(q,k,n)}))}},{"../internals/descriptors":43,"../internals/fails":51,"../internals/has":61}],24:[function(a,R,F){function z(h){return function(d,b,g,p){y(b);d=w(d);var k=r(d),n=l(d.length),q=h?n-1:0,u=h?-1:1;if(2>g)for(;;){if(q in k){p=k[q];q+=u;break}if(q+=u,h?0>q:n<=q)throw TypeError("Reduce of empty array with no initial value");
}for(;h?0<=q:q<n;q+=u)q in k&&(p=b(p,k[q],q,d));return p}}var y=a("../internals/a-function"),w=a("../internals/to-object"),r=a("../internals/indexed-object"),l=a("../internals/to-length");R.exports={left:z(!1),right:z(!0)}},{"../internals/a-function":5,"../internals/indexed-object":67,"../internals/to-length":138,"../internals/to-object":139}],25:[function(a,R,F){var z=a("../internals/is-object"),y=a("../internals/is-array"),w=a("../internals/well-known-symbol")("species");R.exports=function(r,l){var h;
return new (void 0===(h=y(r)&&("function"==typeof(h=r.constructor)&&(h===Array||y(h.prototype))||z(h)&&null===(h=h[w]))?void 0:h)?Array:h)(0===l?0:l)}},{"../internals/is-array":73,"../internals/is-object":75,"../internals/well-known-symbol":150}],26:[function(a,R,F){var z=a("../internals/an-object");R.exports=function(y,w,r,l){try{return l?w(z(r)[0],r[1]):w(r)}catch(h){throw l=y.return,void 0!==l&&z(l.call(y)),h;}}},{"../internals/an-object":10}],27:[function(a,R,F){var z=a("../internals/well-known-symbol")("iterator"),
y=!1;try{var w=0;a={next:function(){return{done:!!w++}},return:function(){y=!0}};a[z]=function(){return this};Array.from(a,function(){throw 2;})}catch(r){}R.exports=function(r,l){if(!l&&!y)return!1;var h=!1;try{l={},l[z]=function(){return{next:function(){return{done:h=!0}}}},r(l)}catch(d){}return h}},{"../internals/well-known-symbol":150}],28:[function(a,R,F){var z={}.toString;R.exports=function(y){return z.call(y).slice(8,-1)}},{}],29:[function(a,R,F){F=a("../internals/to-string-tag-support");var z=
a("../internals/classof-raw"),y=a("../internals/well-known-symbol")("toStringTag"),w="Arguments"==z(function(){return arguments}());R.exports=F?z:function(r){var l;if(void 0===r)r="Undefined";else{if(null===r)var h="Null";else{a:{var d=r=Object(r);try{h=d[y];break a}catch(b){}h=void 0}h="string"==typeof(l=h)?l:w?z(r):"Object"==(l=z(r))&&"function"==typeof r.callee?"Arguments":l}r=h}return r}},{"../internals/classof-raw":28,"../internals/to-string-tag-support":143,"../internals/well-known-symbol":150}],
30:[function(a,R,F){var z=a("../internals/object-define-property").f,y=a("../internals/object-create"),w=a("../internals/redefine-all"),r=a("../internals/function-bind-context"),l=a("../internals/an-instance"),h=a("../internals/iterate"),d=a("../internals/define-iterator"),b=a("../internals/set-species"),g=a("../internals/descriptors"),p=a("../internals/internal-metadata").fastKey;a=a("../internals/internal-state");var k=a.set,n=a.getterFor;R.exports={getConstructor:function(q,u,v,x){function C(G,
U,J){var I,T=K(G),Y=A(G,U);return Y?Y.value=J:(T.last=Y={index:I=p(U,!0),key:U,value:J,previous:U=T.last,next:void 0,removed:!1},T.first||(T.first=Y),U&&(U.next=Y),g?T.size++:G.size++,"F"!==I&&(T.index[I]=Y)),G}function A(G,U){G=K(G);var J=p(U);if("F"!==J)return G.index[J];for(G=G.first;G;G=G.next)if(G.key==U)return G}var M=q(function(G,U){l(G,M,u);k(G,{type:u,index:y(null),first:void 0,last:void 0,size:0});g||(G.size=0);null!=U&&h(U,G[x],G,v)}),K=n(u);return w(M.prototype,{clear:function(){for(var G=
K(this),U=G.index,J=G.first;J;)J.removed=!0,J.previous&&(J.previous=J.previous.next=void 0),delete U[J.index],J=J.next;G.first=G.last=void 0;g?G.size=0:this.size=0},delete:function(G){var U,J,I=K(this);G=A(this,G);return G&&(U=G.next,J=G.previous,delete I.index[G.index],G.removed=!0,J&&(J.next=U),U&&(U.previous=J),I.first==G&&(I.first=U),I.last==G&&(I.last=J),g?I.size--:this.size--),!!G},forEach:function(G){for(var U,J=K(this),I=r(G,1<arguments.length?arguments[1]:void 0,3);U=U?U.next:J.first;)for(I(U.value,
U.key,this);U&&U.removed;)U=U.previous},has:function(G){return!!A(this,G)}}),w(M.prototype,v?{get:function(G){return(G=A(this,G))&&G.value},set:function(G,U){return C(this,0===G?0:G,U)}}:{add:function(G){return C(this,G=0===G?0:G,G)}}),g&&z(M.prototype,"size",{get:function(){return K(this).size}}),M},setStrong:function(q,u,v){var x=u+" Iterator",C=n(u),A=n(x);d(q,u,function(M,K){k(this,{type:x,target:M,state:C(M),kind:K,last:void 0})},function(){for(var M=A(this),K=M.kind,G=M.last;G&&G.removed;)G=
G.previous;return M.target&&(M.last=G=G?G.next:M.state.first)?"keys"==K?{value:G.key,done:!1}:"values"==K?{value:G.value,done:!1}:{value:[G.key,G.value],done:!1}:{value:M.target=void 0,done:!0}},v?"entries":"values",!v,!0);b(u)}}},{"../internals/an-instance":9,"../internals/define-iterator":41,"../internals/descriptors":43,"../internals/function-bind-context":55,"../internals/internal-metadata":70,"../internals/internal-state":71,"../internals/iterate":78,"../internals/object-create":91,"../internals/object-define-property":93,
"../internals/redefine-all":109,"../internals/set-species":118}],31:[function(a,R,F){function z(x){return x.frozen||(x.frozen=new y)}function y(){this.entries=[]}function w(x,C){return q(x.entries,function(A){return A[0]===C})}var r=a("../internals/redefine-all"),l=a("../internals/internal-metadata").getWeakData,h=a("../internals/an-object"),d=a("../internals/is-object"),b=a("../internals/an-instance"),g=a("../internals/iterate");F=a("../internals/array-iteration");var p=a("../internals/has");a=a("../internals/internal-state");
var k=a.set,n=a.getterFor,q=F.find,u=F.findIndex,v=0;y.prototype={get:function(x){if(x=w(this,x))return x[1]},has:function(x){return!!w(this,x)},set:function(x,C){var A=w(this,x);A?A[1]=C:this.entries.push([x,C])},delete:function(x){var C=u(this.entries,function(A){return A[0]===x});return~C&&this.entries.splice(C,1),!!~C}};R.exports={getConstructor:function(x,C,A,M){function K(J,I,T){var Y=U(J),ea=l(h(I),!0);return!0===ea?z(Y).set(I,T):ea[Y.id]=T,J}var G=x(function(J,I){b(J,G,C);k(J,{type:C,id:v++,
frozen:void 0});null!=I&&g(I,J[M],J,A)}),U=n(C);return r(G.prototype,{delete:function(J){var I,T=U(this);return!!d(J)&&(!0===(I=l(J))?z(T).delete(J):I&&p(I,T.id)&&delete I[T.id])},has:function(J){var I,T=U(this);return!!d(J)&&(!0===(I=l(J))?z(T).has(J):I&&p(I,T.id))}}),r(G.prototype,A?{get:function(J){var I,T=U(this);if(d(J))return!0===(I=l(J))?z(T).get(J):I?I[T.id]:void 0},set:function(J,I){return K(this,J,I)}}:{add:function(J){return K(this,J,!0)}}),G}}},{"../internals/an-instance":9,"../internals/an-object":10,
"../internals/array-iteration":19,"../internals/has":61,"../internals/internal-metadata":70,"../internals/internal-state":71,"../internals/is-object":75,"../internals/iterate":78,"../internals/redefine-all":109}],32:[function(a,R,F){var z=a("../internals/export"),y=a("../internals/global"),w=a("../internals/is-forced"),r=a("../internals/redefine"),l=a("../internals/internal-metadata"),h=a("../internals/iterate"),d=a("../internals/an-instance"),b=a("../internals/is-object"),g=a("../internals/fails"),
p=a("../internals/check-correctness-of-iteration"),k=a("../internals/set-to-string-tag"),n=a("../internals/inherit-if-required");R.exports=function(q,u,v){function x(X){var Z=Y[X];r(Y,X,"add"==X?function(L){return Z.call(this,0===L?0:L),this}:"delete"==X?function(L){return!(J&&!b(L))&&Z.call(this,0===L?0:L)}:"get"==X?function(L){return J&&!b(L)?void 0:Z.call(this,0===L?0:L)}:"has"==X?function(L){return!(J&&!b(L))&&Z.call(this,0===L?0:L)}:function(L,S){return Z.call(this,0===L?0:L,S),this})}var C,
A,M,K,G,U=-1!==q.indexOf("Map"),J=-1!==q.indexOf("Weak"),I=U?"set":"add",T=y[q],Y=T&&T.prototype,ea=T,da={};return w(q,"function"!=typeof T||!(J||Y.forEach&&!g(function(){(new T).entries().next()})))?(ea=v.getConstructor(u,q,U,I),l.REQUIRED=!0):w(q,!0)&&(A=(C=new ea)[I](J?{}:-0,1)!=C,M=g(function(){C.has(1)}),K=p(function(X){new T(X)}),G=!J&&g(function(){for(var X=new T,Z=5;Z--;)X[I](Z,Z);return!X.has(-0)}),K||(((ea=u(function(X,Z){d(X,ea,q);X=n(new T,X,ea);return null!=Z&&h(Z,X[I],X,U),X})).prototype=
Y).constructor=ea),(M||G)&&(x("delete"),x("has"),U&&x("get")),(G||A)&&x(I),J&&Y.clear&&delete Y.clear),da[q]=ea,z({global:!0,forced:ea!=T},da),k(ea,q),J||v.setStrong(ea,q,U),ea}},{"../internals/an-instance":9,"../internals/check-correctness-of-iteration":27,"../internals/export":50,"../internals/fails":51,"../internals/global":60,"../internals/inherit-if-required":68,"../internals/internal-metadata":70,"../internals/is-forced":74,"../internals/is-object":75,"../internals/iterate":78,"../internals/redefine":110,
"../internals/set-to-string-tag":119}],33:[function(a,R,F){var z=a("../internals/has"),y=a("../internals/own-keys"),w=a("../internals/object-get-own-property-descriptor"),r=a("../internals/object-define-property");R.exports=function(l,h){for(var d=y(h),b=r.f,g=w.f,p=0;p<d.length;p++){var k=d[p];z(l,k)||b(l,k,g(h,k))}}},{"../internals/has":61,"../internals/object-define-property":93,"../internals/object-get-own-property-descriptor":94,"../internals/own-keys":105}],34:[function(a,R,F){var z=a("../internals/well-known-symbol")("match");
R.exports=function(y){var w=/./;try{"/./"[y](w)}catch(r){try{return w[z]=!1,"/./"[y](w)}catch(l){}}return!1}},{"../internals/well-known-symbol":150}],35:[function(a,R,F){a=a("../internals/fails");R.exports=!a(function(){function z(){}return z.prototype.constructor=null,Object.getPrototypeOf(new z)!==z.prototype})},{"../internals/fails":51}],36:[function(a,R,F){var z=a("../internals/require-object-coercible"),y=/"/g;R.exports=function(w,r,l,h){w=String(z(w));var d="\x3c"+r;return""!==l&&(d+=" "+l+
'\x3d"'+String(h).replace(y,"\x26quot;")+'"'),d+"\x3e"+w+"\x3c/"+r+"\x3e"}},{"../internals/require-object-coercible":115}],37:[function(a,R,F){function z(){return this}var y=a("../internals/iterators-core").IteratorPrototype,w=a("../internals/object-create"),r=a("../internals/create-property-descriptor"),l=a("../internals/set-to-string-tag"),h=a("../internals/iterators");R.exports=function(d,b,g){b+=" Iterator";return d.prototype=w(y,{next:r(1,g)}),l(d,b,!1,!0),h[b]=z,d}},{"../internals/create-property-descriptor":39,
"../internals/iterators":80,"../internals/iterators-core":79,"../internals/object-create":91,"../internals/set-to-string-tag":119}],38:[function(a,R,F){F=a("../internals/descriptors");var z=a("../internals/object-define-property"),y=a("../internals/create-property-descriptor");R.exports=F?function(w,r,l){return z.f(w,r,y(1,l))}:function(w,r,l){return w[r]=l,w}},{"../internals/create-property-descriptor":39,"../internals/descriptors":43,"../internals/object-define-property":93}],39:[function(a,R,F){R.exports=
function(z,y){return{enumerable:!(1&z),configurable:!(2&z),writable:!(4&z),value:y}}},{}],40:[function(a,R,F){var z=a("../internals/to-primitive"),y=a("../internals/object-define-property"),w=a("../internals/create-property-descriptor");R.exports=function(r,l,h){l=z(l);l in r?y.f(r,l,w(0,h)):r[l]=h}},{"../internals/create-property-descriptor":39,"../internals/object-define-property":93,"../internals/to-primitive":142}],41:[function(a,R,F){function z(){return this}var y=a("../internals/export"),w=
a("../internals/create-iterator-constructor"),r=a("../internals/object-get-prototype-of"),l=a("../internals/object-set-prototype-of"),h=a("../internals/set-to-string-tag"),d=a("../internals/create-non-enumerable-property"),b=a("../internals/redefine");F=a("../internals/well-known-symbol");var g=a("../internals/is-pure"),p=a("../internals/iterators");a=a("../internals/iterators-core");var k=a.IteratorPrototype,n=a.BUGGY_SAFARI_ITERATORS,q=F("iterator");R.exports=function(u,v,x,C,A,M,K){function G(X){if(X===
A&&ea)return ea;if(!n&&X in T)return T[X];switch(X){case "keys":case "values":case "entries":return function(){return new x(this,X)}}return function(){return new x(this)}}w(x,v,C);var U,J;C=v+" Iterator";var I=!1,T=u.prototype,Y=T[q]||T["@@iterator"]||A&&T[A],ea=!n&&Y||G(A),da="Array"==v&&T.entries||Y;if(da&&(da=r(da.call(new u)),k!==Object.prototype&&da.next&&(g||r(da)===k||(l?l(da,k):"function"!=typeof da[q]&&d(da,q,z)),h(da,C,!0,!0),g&&(p[C]=z))),"values"==A&&Y&&"values"!==Y.name&&(I=!0,ea=function(){return Y.call(this)}),
g&&!K||T[q]===ea||d(T,q,ea),p[v]=ea,A)if(U={values:G("values"),keys:M?ea:G("keys"),entries:G("entries")},K)for(J in U)!n&&!I&&J in T||b(T,J,U[J]);else y({target:v,proto:!0,forced:n||I},U);return U}},{"../internals/create-iterator-constructor":37,"../internals/create-non-enumerable-property":38,"../internals/export":50,"../internals/is-pure":76,"../internals/iterators":80,"../internals/iterators-core":79,"../internals/object-get-prototype-of":98,"../internals/object-set-prototype-of":102,"../internals/redefine":110,
"../internals/set-to-string-tag":119,"../internals/well-known-symbol":150}],42:[function(a,R,F){var z=a("../internals/path"),y=a("../internals/has"),w=a("../internals/well-known-symbol-wrapped"),r=a("../internals/object-define-property").f;R.exports=function(l){var h=z.Symbol||(z.Symbol={});y(h,l)||r(h,l,{value:w.f(l)})}},{"../internals/has":61,"../internals/object-define-property":93,"../internals/path":106,"../internals/well-known-symbol-wrapped":149}],43:[function(a,R,F){a=a("../internals/fails");
R.exports=!a(function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})},{"../internals/fails":51}],44:[function(a,R,F){F=a("../internals/global");a=a("../internals/is-object");var z=F.document,y=a(z)&&a(z.createElement);R.exports=function(w){return y?z.createElement(w):{}}},{"../internals/global":60,"../internals/is-object":75}],45:[function(a,R,F){R.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,
FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},{}],46:[function(a,R,F){a=a("../internals/engine-user-agent");R.exports=/(iphone|ipod|ipad).*applewebkit/i.test(a)},{"../internals/engine-user-agent":47}],
47:[function(a,R,F){a=a("../internals/get-built-in");R.exports=a("navigator","userAgent")||""},{"../internals/get-built-in":57}],48:[function(a,R,F){var z,y;F=a("../internals/global");a=a("../internals/engine-user-agent");(F=(F=(F=F.process)&&F.versions)&&F.v8)?y=(z=F.split("."))[0]+z[1]:a&&(!(z=a.match(/Edge\/(\d+)/))||74<=z[1])&&(z=a.match(/Chrome\/(\d+)/))&&(y=z[1]);R.exports=y&&+y},{"../internals/engine-user-agent":47,"../internals/global":60}],49:[function(a,R,F){R.exports="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ")},
{}],50:[function(a,R,F){var z=a("../internals/global"),y=a("../internals/object-get-own-property-descriptor").f,w=a("../internals/create-non-enumerable-property"),r=a("../internals/redefine"),l=a("../internals/set-global"),h=a("../internals/copy-constructor-properties"),d=a("../internals/is-forced");R.exports=function(b,g){var p,k,n,q=b.target,u=b.global,v=b.stat,x=u?z:v?z[q]||l(q,{}):(z[q]||{}).prototype;if(x)for(p in g){if(k=g[p],n=b.noTargetGet?(n=y(x,p))&&n.value:x[p],!d(u?p:q+(v?".":"#")+p,b.forced)&&
void 0!==n){if(typeof k==typeof n)continue;h(k,n)}(b.sham||n&&n.sham)&&w(k,"sham",!0);r(x,p,k,b)}}},{"../internals/copy-constructor-properties":33,"../internals/create-non-enumerable-property":38,"../internals/global":60,"../internals/is-forced":74,"../internals/object-get-own-property-descriptor":94,"../internals/redefine":110,"../internals/set-global":117}],51:[function(a,R,F){R.exports=function(z){try{return!!z()}catch(y){return!0}}},{}],52:[function(a,R,F){a("../modules/es.regexp.exec");var z=
a("../internals/redefine"),y=a("../internals/fails"),w=a("../internals/well-known-symbol"),r=a("../internals/regexp-exec"),l=a("../internals/create-non-enumerable-property"),h=w("species"),d=!y(function(){var k=/./;return k.exec=function(){var n=[];return n.groups={a:"7"},n},"7"!=="".replace(k,"$\x3ca\x3e")}),b="$0"==="a".replace(/./,"$0");a=w("replace");var g=!!/./[a]&&""===/./[a]("a","$0"),p=!y(function(){var k=/(?:)/,n=k.exec;k=(k.exec=function(){return n.apply(this,arguments)},"ab".split(k));
return 2!==k.length||"a"!==k[0]||"b"!==k[1]});R.exports=function(k,n,q,u){var v,x,C=w(k),A=!y(function(){var K={};return K[C]=function(){return 7},7!=""[k](K)}),M=A&&!y(function(){var K=!1,G=/a/;return"split"===k&&((G={constructor:{}}).constructor[h]=function(){return G},G.flags="",G[C]=/./[C]),G.exec=function(){return K=!0,null},G[C](""),!K});A&&M&&("replace"!==k||d&&b&&!g)&&("split"!==k||p)||(v=/./[C],q=(M=q(C,""[k],function(K,G,U,J,I){return G.exec===r?A&&!I?{done:!0,value:v.call(G,U,J)}:{done:!0,
value:K.call(U,G,J)}:{done:!1}},{REPLACE_KEEPS_$0:b,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:g}))[0],x=M[1],z(String.prototype,k,q),z(RegExp.prototype,C,2==n?function(K,G){return x.call(K,this,G)}:function(K){return x.call(K,this)}));u&&l(RegExp.prototype[C],"sham",!0)}},{"../internals/create-non-enumerable-property":38,"../internals/fails":51,"../internals/redefine":110,"../internals/regexp-exec":112,"../internals/well-known-symbol":150,"../modules/es.regexp.exec":195}],53:[function(a,R,F){function z(l,
h,d,b,g,p,k,n){var q,u=0;for(k=!!k&&r(k,n,3);u<b;){if(u in d){if(q=k?k(d[u],u,h):d[u],0<p&&y(q))g=z(l,h,q,w(q.length),g,p-1)-1;else{if(9007199254740991<=g)throw TypeError("Exceed the acceptable array length");l[g]=q}g++}u++}return g}var y=a("../internals/is-array"),w=a("../internals/to-length"),r=a("../internals/function-bind-context");R.exports=z},{"../internals/function-bind-context":55,"../internals/is-array":73,"../internals/to-length":138}],54:[function(a,R,F){a=a("../internals/fails");R.exports=
!a(function(){return Object.isExtensible(Object.preventExtensions({}))})},{"../internals/fails":51}],55:[function(a,R,F){var z=a("../internals/a-function");R.exports=function(y,w,r){if(z(y),void 0===w)return y;switch(r){case 0:return function(){return y.call(w)};case 1:return function(l){return y.call(w,l)};case 2:return function(l,h){return y.call(w,l,h)};case 3:return function(l,h,d){return y.call(w,l,h,d)}}return function(){return y.apply(w,arguments)}}},{"../internals/a-function":5}],56:[function(a,
R,F){var z=a("../internals/a-function"),y=a("../internals/is-object"),w=[].slice,r={};R.exports=Function.bind||function(l){var h=z(this),d=w.call(arguments,1),b=function(){var g=d.concat(w.call(arguments));if(this instanceof b){var p=g.length;if(!(p in r)){for(var k=[],n=0;n<p;n++)k[n]="a["+n+"]";r[p]=Function("C,a","return new C("+k.join(",")+")")}return r[p](h,g)}return h.apply(l,g)};return y(h.prototype)&&(b.prototype=h.prototype),b}},{"../internals/a-function":5,"../internals/is-object":75}],
57:[function(a,R,F){function z(r){return"function"==typeof r?r:void 0}var y=a("../internals/path"),w=a("../internals/global");R.exports=function(r,l){return 2>arguments.length?z(y[r])||z(w[r]):y[r]&&y[r][l]||w[r]&&w[r][l]}},{"../internals/global":60,"../internals/path":106}],58:[function(a,R,F){var z=a("../internals/classof"),y=a("../internals/iterators"),w=a("../internals/well-known-symbol")("iterator");R.exports=function(r){if(null!=r)return r[w]||r["@@iterator"]||y[z(r)]}},{"../internals/classof":29,
"../internals/iterators":80,"../internals/well-known-symbol":150}],59:[function(a,R,F){var z=a("../internals/an-object"),y=a("../internals/get-iterator-method");R.exports=function(w){var r=y(w);if("function"!=typeof r)throw TypeError(String(w)+" is not iterable");return z(r.call(w))}},{"../internals/an-object":10,"../internals/get-iterator-method":58}],60:[function(a,R,F){!function(z){function y(w){return w&&w.Math==Math&&w}R.exports=y("object"==typeof globalThis&&globalThis)||y("object"==typeof window&&
window)||y("object"==typeof self&&self)||y("object"==typeof z&&z)||Function("return this")()}.call(this,"undefined"!=typeof cc?cc:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],61:[function(a,R,F){var z={}.hasOwnProperty;R.exports=function(y,w){return z.call(y,w)}},{}],62:[function(a,R,F){R.exports={}},{}],63:[function(a,R,F){var z=a("../internals/global");R.exports=function(y,w){var r=z.console;r&&r.error&&(1===arguments.length?r.error(y):r.error(y,w))}},{"../internals/global":60}],
64:[function(a,R,F){a=a("../internals/get-built-in");R.exports=a("document","documentElement")},{"../internals/get-built-in":57}],65:[function(a,R,F){F=a("../internals/descriptors");var z=a("../internals/fails"),y=a("../internals/document-create-element");R.exports=!F&&!z(function(){return 7!=Object.defineProperty(y("div"),"a",{get:function(){return 7}}).a})},{"../internals/descriptors":43,"../internals/document-create-element":44,"../internals/fails":51}],66:[function(a,R,F){var z=Math.abs,y=Math.pow,
w=Math.floor,r=Math.log,l=Math.LN2;R.exports={pack:function(h,d,b){var g,p,k,n=Array(b),q=8*b-d-1;b=(1<<q)-1;var u=b>>1,v=23===d?y(2,-24)-y(2,-77):0,x=0>h||0===h&&0>1/h?1:0,C=0;for((h=z(h))!=h||h===1/0?(p=h!=h?1:0,g=b):(g=w(r(h)/l),1>h*(k=y(2,-g))&&(g--,k*=2),2<=(h+=1<=g+u?v/k:v*y(2,1-u))*k&&(g++,k/=2),b<=g+u?(p=0,g=b):1<=g+u?(p=(h*k-1)*y(2,d),g+=u):(p=h*y(2,u-1)*y(2,d),g=0));8<=d;n[C++]=255&p,p/=256,d-=8);g=g<<d|p;for(q+=d;0<q;n[C++]=255&g,g/=256,q-=8);return n[--C]|=128*x,n},unpack:function(h,d){var b=
h.length;var g=8*b-d-1,p=(1<<g)-1,k=p>>1,n=g-7,q=b-1;g=h[q--];var u=127&g;for(g>>=7;0<n;u=256*u+h[q],q--,n-=8);b=u&(1<<-n)-1;u>>=-n;for(n+=d;0<n;b=256*b+h[q],q--,n-=8);if(0===u)u=1-k;else{if(u===p)return b?NaN:g?-1/0:1/0;b+=y(2,d);u-=k}return(g?-1:1)*b*y(2,u-d)}}},{}],67:[function(a,R,F){F=a("../internals/fails");var z=a("../internals/classof-raw"),y="".split;R.exports=F(function(){return!Object("z").propertyIsEnumerable(0)})?function(w){return"String"==z(w)?y.call(w,""):Object(w)}:Object},{"../internals/classof-raw":28,
"../internals/fails":51}],68:[function(a,R,F){var z=a("../internals/is-object"),y=a("../internals/object-set-prototype-of");R.exports=function(w,r,l){return y&&"function"==typeof(r=r.constructor)&&r!==l&&z(r=r.prototype)&&r!==l.prototype&&y(w,r),w}},{"../internals/is-object":75,"../internals/object-set-prototype-of":102}],69:[function(a,R,F){a=a("../internals/shared-store");var z=Function.toString;"function"!=typeof a.inspectSource&&(a.inspectSource=function(y){return z.call(y)});R.exports=a.inspectSource},
{"../internals/shared-store":121}],70:[function(a,R,F){function z(k){r(k,d,{value:{objectID:"O"+ ++b,weakData:{}}})}F=a("../internals/hidden-keys");var y=a("../internals/is-object"),w=a("../internals/has"),r=a("../internals/object-define-property").f,l=a("../internals/uid"),h=a("../internals/freezing"),d=l("meta"),b=0,g=Object.isExtensible||function(){return!0},p=R.exports={REQUIRED:!1,fastKey:function(k,n){if(!y(k))return"symbol"==typeof k?k:("string"==typeof k?"S":"P")+k;if(!w(k,d)){if(!g(k))return"F";
if(!n)return"E";z(k)}return k[d].objectID},getWeakData:function(k,n){if(!w(k,d)){if(!g(k))return!0;if(!n)return!1;z(k)}return k[d].weakData},onFreeze:function(k){return h&&p.REQUIRED&&g(k)&&!w(k,d)&&z(k),k}};F[d]=!0},{"../internals/freezing":54,"../internals/has":61,"../internals/hidden-keys":62,"../internals/is-object":75,"../internals/object-define-property":93,"../internals/uid":147}],71:[function(a,R,F){var z,y,w,r,l,h,d;F=a("../internals/native-weak-map");var b=a("../internals/global"),g=a("../internals/is-object"),
p=a("../internals/create-non-enumerable-property"),k=a("../internals/has"),n=a("../internals/shared-key");a=a("../internals/hidden-keys");b=b.WeakMap;var q=F?(z=new b,y=z.get,w=z.has,r=z.set,l=function(u,v){return r.call(z,u,v),v},h=function(u){return y.call(z,u)||{}},function(u){return w.call(z,u)}):(a[d=n("state")]=!0,l=function(u,v){return p(u,d,v),v},h=function(u){return k(u,d)?u[d]:{}},function(u){return k(u,d)});R.exports={set:l,get:h,has:q,enforce:function(u){return q(u)?h(u):l(u,{})},getterFor:function(u){return function(v){if(g(v)&&
(v=h(v)).type===u)return v;throw TypeError("Incompatible receiver, "+u+" required");}}}},{"../internals/create-non-enumerable-property":38,"../internals/global":60,"../internals/has":61,"../internals/hidden-keys":62,"../internals/is-object":75,"../internals/native-weak-map":86,"../internals/shared-key":120}],72:[function(a,R,F){F=a("../internals/well-known-symbol");var z=a("../internals/iterators"),y=F("iterator"),w=Array.prototype;R.exports=function(r){return void 0!==r&&(z.Array===r||w[y]===r)}},
{"../internals/iterators":80,"../internals/well-known-symbol":150}],73:[function(a,R,F){var z=a("../internals/classof-raw");R.exports=Array.isArray||function(y){return"Array"==z(y)}},{"../internals/classof-raw":28}],74:[function(a,R,F){function z(b,g){return(b=l[r(b)])==d||b!=h&&("function"==typeof g?y(g):!!g)}var y=a("../internals/fails"),w=/#|\.prototype\./,r=z.normalize=function(b){return String(b).replace(w,".").toLowerCase()},l=z.data={},h=z.NATIVE="N",d=z.POLYFILL="P";R.exports=z},{"../internals/fails":51}],
75:[function(a,R,F){R.exports=function(z){return"object"==typeof z?null!==z:"function"==typeof z}},{}],76:[function(a,R,F){R.exports=!1},{}],77:[function(a,R,F){var z=a("../internals/is-object"),y=a("../internals/classof-raw"),w=a("../internals/well-known-symbol")("match");R.exports=function(r){var l;return z(r)&&(void 0!==(l=r[w])?!!l:"RegExp"==y(r))}},{"../internals/classof-raw":28,"../internals/is-object":75,"../internals/well-known-symbol":150}],78:[function(a,R,F){function z(b,g){this.stopped=
b;this.result=g}var y=a("../internals/an-object"),w=a("../internals/is-array-iterator-method"),r=a("../internals/to-length"),l=a("../internals/function-bind-context"),h=a("../internals/get-iterator-method"),d=a("../internals/call-with-safe-iteration-closing");(R.exports=function(b,g,p,k,n){var q,u;p=l(g,p,k?2:1);if(!n){if("function"!=typeof(g=h(b)))throw TypeError("Target is not iterable");if(w(g)){g=0;for(n=r(b.length);g<n;g++)if((q=k?p(y(u=b[g])[0],u[1]):p(b[g]))&&q instanceof z)return q;return new z(!1)}b=
g.call(b)}for(g=b.next;!(u=g.call(b)).done;)if("object"==typeof(q=d(b,p,u.value,k))&&q&&q instanceof z)return q;return new z(!1)}).stop=function(b){return new z(!0,b)}},{"../internals/an-object":10,"../internals/call-with-safe-iteration-closing":26,"../internals/function-bind-context":55,"../internals/get-iterator-method":58,"../internals/is-array-iterator-method":72,"../internals/to-length":138}],79:[function(a,R,F){var z,y;F=a("../internals/object-get-prototype-of");var w=a("../internals/create-non-enumerable-property"),
r=a("../internals/has"),l=a("../internals/well-known-symbol");a=a("../internals/is-pure");l=l("iterator");var h=!1;[].keys&&("next"in(y=[].keys())?(F=F(F(y)))!==Object.prototype&&(z=F):h=!0);null==z&&(z={});a||r(z,l)||w(z,l,function(){return this});R.exports={IteratorPrototype:z,BUGGY_SAFARI_ITERATORS:h}},{"../internals/create-non-enumerable-property":38,"../internals/has":61,"../internals/is-pure":76,"../internals/object-get-prototype-of":98,"../internals/well-known-symbol":150}],80:[function(a,
R,F){R.exports={}},{}],81:[function(a,R,F){R.exports=Math.sign||function(z){return 0==(z=+z)||z!=z?z:0>z?-1:1}},{}],82:[function(a,R,F){var z,y,w,r,l,h,d,b,g=a("../internals/global");F=a("../internals/object-get-own-property-descriptor").f;var p=a("../internals/classof-raw"),k=a("../internals/task").set;a=a("../internals/engine-is-ios");var n=g.MutationObserver||g.WebKitMutationObserver,q=g.process,u=g.Promise,v="process"==p(q);(F=(p=F(g,"queueMicrotask"))&&p.value)||(z=function(){var x;for(v&&(x=
q.domain)&&x.exit();y;){var C=y.fn;y=y.next;try{C()}catch(A){throw y?r():w=void 0,A;}}w=void 0;x&&x.enter()},r=v?function(){q.nextTick(z)}:n&&!a?(l=!0,h=document.createTextNode(""),(new n(z)).observe(h,{characterData:!0}),function(){h.data=l=!l}):u&&u.resolve?(d=u.resolve(void 0),b=d.then,function(){b.call(d,z)}):function(){k.call(g,z)});R.exports=F||function(x){x={fn:x,next:void 0};w&&(w.next=x);y||(y=x,r());w=x}},{"../internals/classof-raw":28,"../internals/engine-is-ios":46,"../internals/global":60,
"../internals/object-get-own-property-descriptor":94,"../internals/task":132}],83:[function(a,R,F){a=a("../internals/global");R.exports=a.Promise},{"../internals/global":60}],84:[function(a,R,F){a=a("../internals/fails");R.exports=!!Object.getOwnPropertySymbols&&!a(function(){return!String(Symbol())})},{"../internals/fails":51}],85:[function(a,R,F){F=a("../internals/fails");var z=a("../internals/well-known-symbol"),y=a("../internals/is-pure"),w=z("iterator");R.exports=!F(function(){var r=new URL("b?a\x3d1\x26b\x3d2\x26c\x3d3",
"http://a"),l=r.searchParams,h="";return r.pathname="c%20d",l.forEach(function(d,b){l.delete("b");h+=b+d}),y&&!r.toJSON||!l.sort||"http://a/c%20d?a\x3d1\x26c\x3d3"!==r.href||"3"!==l.get("c")||"a\x3d1"!==String(new URLSearchParams("?a\x3d1"))||!l[w]||"a"!==(new URL("https://a@b")).username||"b"!==(new URLSearchParams(new URLSearchParams("a\x3db"))).get("a")||"xn--e1aybc"!==(new URL("http://")).host||"#%D0%B1"!==(new URL("http://a#")).hash||"a1c3"!==h||"x"!==(new URL("http://x",void 0)).host})},
{"../internals/fails":51,"../internals/is-pure":76,"../internals/well-known-symbol":150}],86:[function(a,R,F){F=a("../internals/global");a=a("../internals/inspect-source");F=F.WeakMap;R.exports="function"==typeof F&&/native code/.test(a(F))},{"../internals/global":60,"../internals/inspect-source":69}],87:[function(a,R,F){function z(w){var r,l;this.promise=new w(function(h,d){if(void 0!==r||void 0!==l)throw TypeError("Bad Promise constructor");r=h;l=d});this.resolve=y(r);this.reject=y(l)}var y=a("../internals/a-function");
R.exports.f=function(w){return new z(w)}},{"../internals/a-function":5}],88:[function(a,R,F){var z=a("../internals/is-regexp");R.exports=function(y){if(z(y))throw TypeError("The method doesn't accept regular expressions");return y}},{"../internals/is-regexp":77}],89:[function(a,R,F){var z=a("../internals/global").isFinite;R.exports=Number.isFinite||function(y){return"number"==typeof y&&z(y)}},{"../internals/global":60}],90:[function(a,R,F){var z=a("../internals/descriptors");F=a("../internals/fails");
var y=a("../internals/object-keys"),w=a("../internals/object-get-own-property-symbols"),r=a("../internals/object-property-is-enumerable"),l=a("../internals/to-object"),h=a("../internals/indexed-object"),d=Object.assign,b=Object.defineProperty;R.exports=!d||F(function(){var g,p,k;return!(!z||1===d({b:1},d(b({},"a",{enumerable:!0,get:function(){b(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)||(p={},(g={})[k=Symbol()]=7,"abcdefghijklmnopqrst".split("").forEach(function(n){p[n]=n}),7!=d({},g)[k]||"abcdefghijklmnopqrst"!=
y(d({},p)).join(""))})?function(g,p){for(var k=l(g),n=arguments.length,q=1,u=w.f,v=r.f;q<n;)for(var x,C=h(arguments[q++]),A=u?y(C).concat(u(C)):y(C),M=A.length,K=0;K<M;)x=A[K++],z&&!v.call(C,x)||(k[x]=C[x]);return k}:d},{"../internals/descriptors":43,"../internals/fails":51,"../internals/indexed-object":67,"../internals/object-get-own-property-symbols":97,"../internals/object-keys":100,"../internals/object-property-is-enumerable":101,"../internals/to-object":139}],91:[function(a,R,F){function z(){}
var y,w=a("../internals/an-object"),r=a("../internals/object-define-properties"),l=a("../internals/enum-bug-keys");F=a("../internals/hidden-keys");var h=a("../internals/html"),d=a("../internals/document-create-element");a=a("../internals/shared-key");var b=a("IE_PROTO"),g=function(){try{y=document.domain&&new ActiveXObject("htmlfile")}catch(n){}g=y?((p=y).write("\x3cscript\x3e\x3c/script\x3e"),p.close(),k=p.parentWindow.Object,k):(p=d("iframe"),k="javascript:",p.style.display="none",h.appendChild(p),
p.src=String(k),(k=p.contentWindow.document).open(),k.write("\x3cscript\x3edocument.F\x3dObject\x3c/script\x3e"),k.close(),k.F);var p,k;for(p=l.length;p--;)delete g.prototype[l[p]];return g()};F[b]=!0;R.exports=Object.create||function(p,k){var n;return null!==p?(z.prototype=w(p),n=new z,z.prototype=null,n[b]=p):n=g(),void 0===k?n:r(n,k)}},{"../internals/an-object":10,"../internals/document-create-element":44,"../internals/enum-bug-keys":49,"../internals/hidden-keys":62,"../internals/html":64,"../internals/object-define-properties":92,
"../internals/shared-key":120}],92:[function(a,R,F){F=a("../internals/descriptors");var z=a("../internals/object-define-property"),y=a("../internals/an-object"),w=a("../internals/object-keys");R.exports=F?Object.defineProperties:function(r,l){y(r);for(var h,d=w(l),b=d.length,g=0;g<b;)z.f(r,h=d[g++],l[h]);return r}},{"../internals/an-object":10,"../internals/descriptors":43,"../internals/object-define-property":93,"../internals/object-keys":100}],93:[function(a,R,F){R=a("../internals/descriptors");
var z=a("../internals/ie8-dom-define"),y=a("../internals/an-object"),w=a("../internals/to-primitive"),r=Object.defineProperty;F.f=R?r:function(l,h,d){if(y(l),h=w(h,!0),y(d),z)try{return r(l,h,d)}catch(b){}if("get"in d||"set"in d)throw TypeError("Accessors not supported");return"value"in d&&(l[h]=d.value),l}},{"../internals/an-object":10,"../internals/descriptors":43,"../internals/ie8-dom-define":65,"../internals/to-primitive":142}],94:[function(a,R,F){R=a("../internals/descriptors");var z=a("../internals/object-property-is-enumerable"),
y=a("../internals/create-property-descriptor"),w=a("../internals/to-indexed-object"),r=a("../internals/to-primitive"),l=a("../internals/has"),h=a("../internals/ie8-dom-define"),d=Object.getOwnPropertyDescriptor;F.f=R?d:function(b,g){if(b=w(b),g=r(g,!0),h)try{return d(b,g)}catch(p){}if(l(b,g))return y(!z.f.call(b,g),b[g])}},{"../internals/create-property-descriptor":39,"../internals/descriptors":43,"../internals/has":61,"../internals/ie8-dom-define":65,"../internals/object-property-is-enumerable":101,
"../internals/to-indexed-object":136,"../internals/to-primitive":142}],95:[function(a,R,F){var z=a("../internals/to-indexed-object"),y=a("../internals/object-get-own-property-names").f,w={}.toString,r="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];R.exports.f=function(l){if(!r||"[object Window]"!=w.call(l))return y(z(l));try{return y(l)}catch(h){return r.slice()}}},{"../internals/object-get-own-property-names":96,"../internals/to-indexed-object":136}],
96:[function(a,R,F){var z=a("../internals/object-keys-internal"),y=a("../internals/enum-bug-keys").concat("length","prototype");F.f=Object.getOwnPropertyNames||function(w){return z(w,y)}},{"../internals/enum-bug-keys":49,"../internals/object-keys-internal":99}],97:[function(a,R,F){F.f=Object.getOwnPropertySymbols},{}],98:[function(a,R,F){var z=a("../internals/has"),y=a("../internals/to-object");F=a("../internals/shared-key");a=a("../internals/correct-prototype-getter");var w=F("IE_PROTO"),r=Object.prototype;
R.exports=a?Object.getPrototypeOf:function(l){return l=y(l),z(l,w)?l[w]:"function"==typeof l.constructor&&l instanceof l.constructor?l.constructor.prototype:l instanceof Object?r:null}},{"../internals/correct-prototype-getter":35,"../internals/has":61,"../internals/shared-key":120,"../internals/to-object":139}],99:[function(a,R,F){var z=a("../internals/has"),y=a("../internals/to-indexed-object"),w=a("../internals/array-includes").indexOf,r=a("../internals/hidden-keys");R.exports=function(l,h){var d;
l=y(l);var b=0,g=[];for(d in l)!z(r,d)&&z(l,d)&&g.push(d);for(;h.length>b;)!z(l,d=h[b++])||~w(g,d)||g.push(d);return g}},{"../internals/array-includes":18,"../internals/has":61,"../internals/hidden-keys":62,"../internals/to-indexed-object":136}],100:[function(a,R,F){var z=a("../internals/object-keys-internal"),y=a("../internals/enum-bug-keys");R.exports=Object.keys||function(w){return z(w,y)}},{"../internals/enum-bug-keys":49,"../internals/object-keys-internal":99}],101:[function(a,R,F){a={}.propertyIsEnumerable;
var z=Object.getOwnPropertyDescriptor;R=z&&!a.call({1:2},1);F.f=R?function(y){y=z(this,y);return!!y&&y.enumerable}:a},{}],102:[function(a,R,F){var z=a("../internals/an-object"),y=a("../internals/a-possible-prototype");R.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var w,r=!1,l={};try{(w=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(l,[]),r=l instanceof Array}catch(h){}return function(h,d){return z(h),y(d),r?w.call(h,d):h.__proto__=d,h}}():void 0)},{"../internals/a-possible-prototype":6,
"../internals/an-object":10}],103:[function(a,R,F){function z(h){return function(d){for(var b=r(d),g=w(b),p=g.length,k=0,n=[];k<p;)d=g[k++],y&&!l.call(b,d)||n.push(h?[d,b[d]]:b[d]);return n}}var y=a("../internals/descriptors"),w=a("../internals/object-keys"),r=a("../internals/to-indexed-object"),l=a("../internals/object-property-is-enumerable").f;R.exports={entries:z(!0),values:z(!1)}},{"../internals/descriptors":43,"../internals/object-keys":100,"../internals/object-property-is-enumerable":101,"../internals/to-indexed-object":136}],
104:[function(a,R,F){F=a("../internals/to-string-tag-support");var z=a("../internals/classof");R.exports=F?{}.toString:function(){return"[object "+z(this)+"]"}},{"../internals/classof":29,"../internals/to-string-tag-support":143}],105:[function(a,R,F){F=a("../internals/get-built-in");var z=a("../internals/object-get-own-property-names"),y=a("../internals/object-get-own-property-symbols"),w=a("../internals/an-object");R.exports=F("Reflect","ownKeys")||function(r){var l=z.f(w(r)),h=y.f;return h?l.concat(h(r)):
l}},{"../internals/an-object":10,"../internals/get-built-in":57,"../internals/object-get-own-property-names":96,"../internals/object-get-own-property-symbols":97}],106:[function(a,R,F){a=a("../internals/global");R.exports=a},{"../internals/global":60}],107:[function(a,R,F){R.exports=function(z){try{return{error:!1,value:z()}}catch(y){return{error:!0,value:y}}}},{}],108:[function(a,R,F){var z=a("../internals/an-object"),y=a("../internals/is-object"),w=a("../internals/new-promise-capability");R.exports=
function(r,l){return z(r),y(l)&&l.constructor===r?l:((0,(r=w.f(r)).resolve)(l),r.promise)}},{"../internals/an-object":10,"../internals/is-object":75,"../internals/new-promise-capability":87}],109:[function(a,R,F){var z=a("../internals/redefine");R.exports=function(y,w,r){for(var l in w)z(y,l,w[l],r);return y}},{"../internals/redefine":110}],110:[function(a,R,F){var z=a("../internals/global"),y=a("../internals/create-non-enumerable-property"),w=a("../internals/has"),r=a("../internals/set-global"),
l=a("../internals/inspect-source");a=a("../internals/internal-state");var h=a.get,d=a.enforce,b=String(String).split("String");(R.exports=function(g,p,k,n){var q=!!n&&!!n.unsafe,u=!!n&&!!n.enumerable;n=!!n&&!!n.noTargetGet;"function"==typeof k&&("string"!=typeof p||w(k,"name")||y(k,"name",p),d(k).source=b.join("string"==typeof p?p:""));g===z?u?g[p]=k:r(p,k):(q?!n&&g[p]&&(u=!0):delete g[p],u?g[p]=k:y(g,p,k))})(Function.prototype,"toString",function(){return"function"==typeof this&&h(this).source||
l(this)})},{"../internals/create-non-enumerable-property":38,"../internals/global":60,"../internals/has":61,"../internals/inspect-source":69,"../internals/internal-state":71,"../internals/set-global":117}],111:[function(a,R,F){var z=a("./classof-raw"),y=a("./regexp-exec");R.exports=function(w,r){var l=w.exec;if("function"==typeof l){l=l.call(w,r);if("object"!=typeof l)throw TypeError("RegExp exec method returned something other than an Object or null");return l}if("RegExp"!==z(w))throw TypeError("RegExp#exec called on incompatible receiver");
return y.call(w,r)}},{"./classof-raw":28,"./regexp-exec":112}],112:[function(a,R,F){var z,y,w=a("./regexp-flags");a=a("./regexp-sticky-helpers");var r=RegExp.prototype.exec,l=String.prototype.replace;F=r;var h=(z=/a/,y=/b*/g,r.call(z,"a"),r.call(y,"a"),0!==z.lastIndex||0!==y.lastIndex),d=a.UNSUPPORTED_Y||a.BROKEN_CARET,b=void 0!==/()??/.exec("")[1];R.exports=F=h||b||d?function(g){var p,k,n,q,u=d&&this.sticky,v=w.call(this),x=this.source,C=0,A=g;return u&&(-1===(v=v.replace("y","")).indexOf("g")&&
(v+="g"),A=String(g).slice(this.lastIndex),0<this.lastIndex&&(!this.multiline||this.multiline&&"\n"!==g[this.lastIndex-1])&&(x="(?: "+x+")",A=" "+A,C++),k=new RegExp("^(?:"+x+")",v)),b&&(k=new RegExp("^"+x+"$(?!\\s)",v)),h&&(p=this.lastIndex),n=r.call(u?k:this,A),u?n?(n.input=n.input.slice(C),n[0]=n[0].slice(C),n.index=this.lastIndex,this.lastIndex+=n[0].length):this.lastIndex=0:h&&n&&(this.lastIndex=this.global?n.index+n[0].length:p),b&&n&&1<n.length&&l.call(n[0],k,function(){for(q=1;q<arguments.length-
2;q++)void 0===arguments[q]&&(n[q]=void 0)}),n}:F},{"./regexp-flags":113,"./regexp-sticky-helpers":114}],113:[function(a,R,F){var z=a("../internals/an-object");R.exports=function(){var y=z(this),w="";return y.global&&(w+="g"),y.ignoreCase&&(w+="i"),y.multiline&&(w+="m"),y.dotAll&&(w+="s"),y.unicode&&(w+="u"),y.sticky&&(w+="y"),w}},{"../internals/an-object":10}],114:[function(a,R,F){a=a("./fails");F.UNSUPPORTED_Y=a(function(){var z=RegExp("a","y");return z.lastIndex=2,null!=z.exec("abcd")});F.BROKEN_CARET=
a(function(){var z=RegExp("^r","gy");return z.lastIndex=2,null!=z.exec("str")})},{"./fails":51}],115:[function(a,R,F){R.exports=function(z){if(null==z)throw TypeError("Can't call method on "+z);return z}},{}],116:[function(a,R,F){R.exports=Object.is||function(z,y){return z===y?0!==z||1/z==1/y:z!=z&&y!=y}},{}],117:[function(a,R,F){var z=a("../internals/global"),y=a("../internals/create-non-enumerable-property");R.exports=function(w,r){try{y(z,w,r)}catch(l){z[w]=r}return r}},{"../internals/create-non-enumerable-property":38,
"../internals/global":60}],118:[function(a,R,F){var z=a("../internals/get-built-in"),y=a("../internals/object-define-property");F=a("../internals/well-known-symbol");var w=a("../internals/descriptors"),r=F("species");R.exports=function(l){l=z(l);var h=y.f;w&&l&&!l[r]&&h(l,r,{configurable:!0,get:function(){return this}})}},{"../internals/descriptors":43,"../internals/get-built-in":57,"../internals/object-define-property":93,"../internals/well-known-symbol":150}],119:[function(a,R,F){var z=a("../internals/object-define-property").f,
y=a("../internals/has"),w=a("../internals/well-known-symbol")("toStringTag");R.exports=function(r,l,h){r&&!y(r=h?r:r.prototype,w)&&z(r,w,{configurable:!0,value:l})}},{"../internals/has":61,"../internals/object-define-property":93,"../internals/well-known-symbol":150}],120:[function(a,R,F){F=a("../internals/shared");var z=a("../internals/uid"),y=F("keys");R.exports=function(w){return y[w]||(y[w]=z(w))}},{"../internals/shared":122,"../internals/uid":147}],121:[function(a,R,F){F=a("../internals/global");
a=a("../internals/set-global");F=F["__core-js_shared__"]||a("__core-js_shared__",{});R.exports=F},{"../internals/global":60,"../internals/set-global":117}],122:[function(a,R,F){F=a("../internals/is-pure");var z=a("../internals/shared-store");(R.exports=function(y,w){return z[y]||(z[y]=void 0!==w?w:{})})("versions",[]).push({version:"3.6.5",mode:F?"pure":"global",copyright:" 2020 Denis Pushkarev (zloirock.ru)"})},{"../internals/is-pure":76,"../internals/shared-store":121}],123:[function(a,R,F){var z=
a("../internals/an-object"),y=a("../internals/a-function"),w=a("../internals/well-known-symbol")("species");R.exports=function(r,l){r=z(r).constructor;return void 0===r||null==(r=z(r)[w])?l:y(r)}},{"../internals/a-function":5,"../internals/an-object":10,"../internals/well-known-symbol":150}],124:[function(a,R,F){var z=a("../internals/fails");R.exports=function(y){return z(function(){var w=""[y]('"');return w!==w.toLowerCase()||3<w.split('"').length})}},{"../internals/fails":51}],125:[function(a,R,
F){function z(r){return function(l,h){var d;l=String(w(l));h=y(h);var b=l.length;return 0>h||b<=h?r?"":void 0:55296>(d=l.charCodeAt(h))||56319<d||h+1===b||56320>(b=l.charCodeAt(h+1))||57343<b?r?l.charAt(h):d:r?l.slice(h,h+2):b-56320+(d-55296<<10)+65536}}var y=a("../internals/to-integer"),w=a("../internals/require-object-coercible");R.exports={codeAt:z(!1),charAt:z(!0)}},{"../internals/require-object-coercible":115,"../internals/to-integer":137}],126:[function(a,R,F){a=a("../internals/engine-user-agent");
R.exports=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(a)},{"../internals/engine-user-agent":47}],127:[function(a,R,F){function z(h){return function(d,b,g){d=String(r(d));var p=d.length;g=void 0===g?" ":String(g);b=y(b);return b<=p||""==g?d:((p=w.call(g,l((b-=p)/g.length))).length>b&&(p=p.slice(0,b)),h?d+p:p+d)}}var y=a("../internals/to-length"),w=a("../internals/string-repeat"),r=a("../internals/require-object-coercible"),l=Math.ceil;R.exports={start:z(!1),end:z(!0)}},{"../internals/require-object-coercible":115,
"../internals/string-repeat":129,"../internals/to-length":138}],128:[function(a,R,F){function z(u){return u+22+75*(26>u)}function y(u){var v,x=[],C=(u=function(X){for(var Z=[],L=0,S=X.length;L<S;){var E,P=X.charCodeAt(L++);55296<=P&&56319>=P&&L<S?56320==(64512&(E=X.charCodeAt(L++)))?Z.push(((1023&P)<<10)+(1023&E)+65536):(Z.push(P),L--):Z.push(P)}return Z}(u)).length,A=128,M=0,K=72;for(I=0;I<u.length;I++)128>(v=u[I])&&x.push(q(v));var G=x.length,U=G;for(G&&x.push("-");U<C;){for(var J=w,I=0;I<u.length;I++)A<=
(v=u[I])&&v<J&&(J=v);var T=U+1;if(J-A>n((w-M)/T))throw RangeError(p);M+=(J-A)*T;A=J;for(I=0;I<u.length;I++){if((v=u[I])<A&&++M>w)throw RangeError(p);if(v==A){var Y=M;for(J=r;;J+=r){var ea=J<=K?1:K+l<=J?l:J-K;if(Y<ea)break;Y-=ea;var da=r-ea;x.push(q(z(ea+Y%da)));Y=n(Y/da)}x.push(q(z(Y)));K=function(X,Z,L){var S=0;X=L?n(X/d):X>>1;for(X+=n(X/Z);k*l>>1<X;S+=r)X=n(X/k);return n(S+(k+1)*X/(X+h))}(M,T,U==G);M=0;++U}}++M;++A}return x.join("")}var w=2147483647,r=36,l=26,h=38,d=700,b=/[^\0-\u007E]/,g=/[.\u3002\uFF0E\uFF61]/g,
p="Overflow: input needs wider integers to process",k=r-1,n=Math.floor,q=String.fromCharCode;R.exports=function(u){for(var v=[],x=u.toLowerCase().replace(g,".").split("."),C=0;C<x.length;C++)u=x[C],v.push(b.test(u)?"xn--"+y(u):u);return v.join(".")}},{}],129:[function(a,R,F){var z=a("../internals/to-integer"),y=a("../internals/require-object-coercible");R.exports="".repeat||function(w){var r=String(y(this)),l="";w=z(w);if(0>w||w==1/0)throw RangeError("Wrong number of repetitions");for(;0<w;(w>>>=
1)&&(r+=r))1&w&&(l+=r);return l}},{"../internals/require-object-coercible":115,"../internals/to-integer":137}],130:[function(a,R,F){var z=a("../internals/fails"),y=a("../internals/whitespaces");R.exports=function(w){return z(function(){return!!y[w]()||""!=""[w]()||y[w].name!==w})}},{"../internals/fails":51,"../internals/whitespaces":151}],131:[function(a,R,F){function z(l){return function(h){h=String(y(h));return 1&l&&(h=h.replace(w,"")),2&l?h.replace(r,""):h}}var y=a("../internals/require-object-coercible");
a="["+a("../internals/whitespaces")+"]";var w=RegExp("^"+a+a+"*"),r=RegExp(a+a+"*$");R.exports={start:z(1),end:z(2),trim:z(3)}},{"../internals/require-object-coercible":115,"../internals/whitespaces":151}],132:[function(a,R,F){function z(M){return function(){A(M)}}function y(M){A(M.data)}function w(M){l.postMessage(M+"",p.protocol+"//"+p.host)}var r,l=a("../internals/global");F=a("../internals/fails");var h=a("../internals/classof-raw"),d=a("../internals/function-bind-context"),b=a("../internals/html"),
g=a("../internals/document-create-element");a=a("../internals/engine-is-ios");var p=l.location,k=l.setImmediate,n=l.clearImmediate,q=l.process,u=l.MessageChannel,v=l.Dispatch,x=0,C={},A=function(M){var K;C.hasOwnProperty(M)&&(K=C[M],delete C[M],K())};k&&n||(k=function(M){for(var K=[],G=1;G<arguments.length;)K.push(arguments[G++]);return C[++x]=function(){("function"==typeof M?M:Function(M)).apply(void 0,K)},r(x),x},n=function(M){delete C[M]},"process"==h(q)?r=function(M){q.nextTick(z(M))}:v&&v.now?
r=function(M){v.now(z(M))}:u&&!a?(a=(h=new u).port2,h.port1.onmessage=y,r=d(a.postMessage,a,1)):!l.addEventListener||"function"!=typeof postMessage||l.importScripts||F(w)||"file:"===p.protocol?r="onreadystatechange"in g("script")?function(M){b.appendChild(g("script")).onreadystatechange=function(){b.removeChild(this);A(M)}}:function(M){setTimeout(z(M),0)}:(r=w,l.addEventListener("message",y,!1)));R.exports={set:k,clear:n}},{"../internals/classof-raw":28,"../internals/document-create-element":44,"../internals/engine-is-ios":46,
"../internals/fails":51,"../internals/function-bind-context":55,"../internals/global":60,"../internals/html":64}],133:[function(a,R,F){var z=a("../internals/classof-raw");R.exports=function(y){if("number"!=typeof y&&"Number"!=z(y))throw TypeError("Incorrect invocation");return+y}},{"../internals/classof-raw":28}],134:[function(a,R,F){var z=a("../internals/to-integer"),y=Math.max,w=Math.min;R.exports=function(r,l){r=z(r);return 0>r?y(r+l,0):w(r,l)}},{"../internals/to-integer":137}],135:[function(a,
R,F){var z=a("../internals/to-integer"),y=a("../internals/to-length");R.exports=function(w){if(void 0===w)return 0;w=z(w);var r=y(w);if(w!==r)throw RangeError("Wrong length or index");return r}},{"../internals/to-integer":137,"../internals/to-length":138}],136:[function(a,R,F){var z=a("../internals/indexed-object"),y=a("../internals/require-object-coercible");R.exports=function(w){return z(y(w))}},{"../internals/indexed-object":67,"../internals/require-object-coercible":115}],137:[function(a,R,F){var z=
Math.ceil,y=Math.floor;R.exports=function(w){return isNaN(w=+w)?0:(0<w?y:z)(w)}},{}],138:[function(a,R,F){var z=a("../internals/to-integer"),y=Math.min;R.exports=function(w){return 0<w?y(z(w),9007199254740991):0}},{"../internals/to-integer":137}],139:[function(a,R,F){var z=a("../internals/require-object-coercible");R.exports=function(y){return Object(z(y))}},{"../internals/require-object-coercible":115}],140:[function(a,R,F){var z=a("../internals/to-positive-integer");R.exports=function(y,w){y=z(y);
if(y%w)throw RangeError("Wrong offset");return y}},{"../internals/to-positive-integer":141}],141:[function(a,R,F){var z=a("../internals/to-integer");R.exports=function(y){y=z(y);if(0>y)throw RangeError("The argument can't be less than 0");return y}},{"../internals/to-integer":137}],142:[function(a,R,F){var z=a("../internals/is-object");R.exports=function(y,w){if(!z(y))return y;var r,l;if(w&&"function"==typeof(r=y.toString)&&!z(l=r.call(y))||"function"==typeof(r=y.valueOf)&&!z(l=r.call(y))||!w&&"function"==
typeof(r=y.toString)&&!z(l=r.call(y)))return l;throw TypeError("Can't convert object to primitive value");}},{"../internals/is-object":75}],143:[function(a,R,F){F={};F[a("../internals/well-known-symbol")("toStringTag")]="z";R.exports="[object z]"===String(F)},{"../internals/well-known-symbol":150}],144:[function(a,R,F){function z(ha,na){var xa=0,Ca=na.length;for(ha=new (Ga(ha))(Ca);xa<Ca;)ha[xa]=na[xa++];return ha}function y(ha,na){P(ha,na,{get:function(){return S(this)[na]}})}function w(ha){return ha instanceof
ra||"ArrayBuffer"==(ha=K(ha))||"SharedArrayBuffer"==ha}function r(ha,na){return Ka(ha)&&"symbol"!=typeof na&&na in ha&&String(+na)==String(na)}function l(ha,na){return r(ha,na=A(na,!0))?q(2,ha[na]):aa(ha,na)}function h(ha,na,xa){return!(r(ha,na=A(na,!0))&&G(xa)&&M(xa,"value"))||M(xa,"get")||M(xa,"set")||xa.configurable||M(xa,"writable")&&!xa.writable||M(xa,"enumerable")&&!xa.enumerable?P(ha,na,xa):(ha[na]=xa.value,ha)}var d=a("../internals/export"),b=a("../internals/global");F=a("../internals/descriptors");
var g=a("../internals/typed-array-constructors-require-wrappers"),p=a("../internals/array-buffer-view-core"),k=a("../internals/array-buffer"),n=a("../internals/an-instance"),q=a("../internals/create-property-descriptor"),u=a("../internals/create-non-enumerable-property"),v=a("../internals/to-length"),x=a("../internals/to-index"),C=a("../internals/to-offset"),A=a("../internals/to-primitive"),M=a("../internals/has"),K=a("../internals/classof"),G=a("../internals/is-object"),U=a("../internals/object-create"),
J=a("../internals/object-set-prototype-of"),I=a("../internals/object-get-own-property-names").f,T=a("../internals/typed-array-from"),Y=a("../internals/array-iteration").forEach,ea=a("../internals/set-species"),da=a("../internals/object-define-property"),X=a("../internals/object-get-own-property-descriptor"),Z=a("../internals/internal-state"),L=a("../internals/inherit-if-required"),S=Z.get,E=Z.set,P=da.f,aa=X.f,ja=Math.round,oa=b.RangeError,ra=k.ArrayBuffer,la=k.DataView,sa=p.NATIVE_ARRAY_BUFFER_VIEWS,
Da=p.TYPED_ARRAY_TAG,qa=p.TypedArray,Aa=p.TypedArrayPrototype,Ga=p.aTypedArrayConstructor,Ka=p.isTypedArray;F?(sa||(X.f=l,da.f=h,y(Aa,"buffer"),y(Aa,"byteOffset"),y(Aa,"byteLength"),y(Aa,"length")),d({target:"Object",stat:!0,forced:!sa},{getOwnPropertyDescriptor:l,defineProperty:h}),R.exports=function(ha,na,xa){function Ca(nb,rb){P(nb,rb,{get:function(){var ab=this;return(ab=S(ab)).view[Oa](rb*za+ab.byteOffset,!0)},set:function(ab){var Ab=S(this);xa&&(ab=0>(ab=ja(ab))?0:255<ab?255:255&ab);Ab.view[bb](rb*
za+Ab.byteOffset,ab,!0)},enumerable:!0})}var za=ha.match(/\d+$/)[0]/8,Na=ha+(xa?"Clamped":"")+"Array",Oa="get"+ha,bb="set"+ha,eb=b[Na],cb=eb;ha=cb&&cb.prototype;var wb={};sa?g&&(cb=na(function(nb,rb,ab,Ab){return n(nb,cb,Na),L(G(rb)?w(rb)?void 0!==Ab?new eb(rb,C(ab,za),Ab):void 0!==ab?new eb(rb,C(ab,za)):new eb(rb):Ka(rb)?z(cb,rb):T.call(cb,rb):new eb(x(rb)),nb,cb)}),J&&J(cb,qa),Y(I(eb),function(nb){nb in cb||u(cb,nb,eb[nb])}),cb.prototype=ha):(cb=na(function(nb,rb,ab,Ab){n(nb,cb,Na);var fa=0,ka=
0;if(G(rb)){if(!w(rb))return Ka(rb)?z(cb,rb):T.call(cb,rb);var Q=rb;ka=C(ab,za);ab=rb.byteLength;if(void 0===Ab){if(ab%za)throw oa("Wrong length");if(0>(rb=ab-ka))throw oa("Wrong length");}else if(ab<(rb=v(Ab)*za)+ka)throw oa("Wrong length");ab=rb/za}else ab=x(rb),Q=new ra(rb=ab*za);for(E(nb,{buffer:Q,byteOffset:ka,byteLength:rb,length:ab,view:new la(Q)});fa<ab;)Ca(nb,fa++)}),J&&J(cb,qa),ha=cb.prototype=U(Aa));ha.constructor!==cb&&u(ha,"constructor",cb);Da&&u(ha,Da,Na);wb[Na]=cb;d({global:!0,forced:cb!=
eb,sham:!sa},wb);"BYTES_PER_ELEMENT"in cb||u(cb,"BYTES_PER_ELEMENT",za);"BYTES_PER_ELEMENT"in ha||u(ha,"BYTES_PER_ELEMENT",za);ea(Na)}):R.exports=function(){}},{"../internals/an-instance":9,"../internals/array-buffer":13,"../internals/array-buffer-view-core":12,"../internals/array-iteration":19,"../internals/classof":29,"../internals/create-non-enumerable-property":38,"../internals/create-property-descriptor":39,"../internals/descriptors":43,"../internals/export":50,"../internals/global":60,"../internals/has":61,
"../internals/inherit-if-required":68,"../internals/internal-state":71,"../internals/is-object":75,"../internals/object-create":91,"../internals/object-define-property":93,"../internals/object-get-own-property-descriptor":94,"../internals/object-get-own-property-names":96,"../internals/object-set-prototype-of":102,"../internals/set-species":118,"../internals/to-index":135,"../internals/to-length":138,"../internals/to-offset":140,"../internals/to-primitive":142,"../internals/typed-array-constructors-require-wrappers":145,
"../internals/typed-array-from":146}],145:[function(a,R,F){F=a("../internals/global");var z=a("../internals/fails"),y=a("../internals/check-correctness-of-iteration");a=a("../internals/array-buffer-view-core").NATIVE_ARRAY_BUFFER_VIEWS;var w=F.ArrayBuffer,r=F.Int8Array;R.exports=!a||!z(function(){r(1)})||!z(function(){new r(-1)})||!y(function(l){new r;new r(null);new r(1.5);new r(l)},!0)||z(function(){return 1!==(new r(new w(2),1,void 0)).length})},{"../internals/array-buffer-view-core":12,"../internals/check-correctness-of-iteration":27,
"../internals/fails":51,"../internals/global":60}],146:[function(a,R,F){var z=a("../internals/to-object"),y=a("../internals/to-length"),w=a("../internals/get-iterator-method"),r=a("../internals/is-array-iterator-method"),l=a("../internals/function-bind-context"),h=a("../internals/array-buffer-view-core").aTypedArrayConstructor;R.exports=function(d){var b,g=z(d);var p=arguments.length;var k=1<p?arguments[1]:void 0,n=void 0!==k;var q=w(g);if(null!=q&&!r(q)){var u=(b=q.call(g)).next;for(g=[];!(q=u.call(b)).done;)g.push(q.value)}n&&
2<p&&(k=l(k,arguments[2],2));q=y(g.length);b=new (h(this))(q);for(p=0;p<q;p++)b[p]=n?k(g[p],p):g[p];return b}},{"../internals/array-buffer-view-core":12,"../internals/function-bind-context":55,"../internals/get-iterator-method":58,"../internals/is-array-iterator-method":72,"../internals/to-length":138,"../internals/to-object":139}],147:[function(a,R,F){var z=0,y=Math.random();R.exports=function(w){return"Symbol("+String(void 0===w?"":w)+")_"+(++z+y).toString(36)}},{}],148:[function(a,R,F){a=a("../internals/native-symbol");
R.exports=a&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},{"../internals/native-symbol":84}],149:[function(a,R,F){a=a("../internals/well-known-symbol");F.f=a},{"../internals/well-known-symbol":150}],150:[function(a,R,F){F=a("../internals/global");var z=a("../internals/shared"),y=a("../internals/has"),w=a("../internals/uid"),r=a("../internals/native-symbol");a=a("../internals/use-symbol-as-uid");var l=z("wks"),h=F.Symbol,d=a?h:h&&h.withoutSetter||w;R.exports=function(b){return y(l,b)||(r&&y(h,b)?
l[b]=h[b]:l[b]=d("Symbol."+b)),l[b]}},{"../internals/global":60,"../internals/has":61,"../internals/native-symbol":84,"../internals/shared":122,"../internals/uid":147,"../internals/use-symbol-as-uid":148}],151:[function(a,R,F){R.exports="\t\n\v\f\r "},{}],152:[function(a,R,F){R=a("../internals/export");F=a("../internals/global");var z=a("../internals/array-buffer");a=a("../internals/set-species");z=z.ArrayBuffer;R({global:!0,forced:F.ArrayBuffer!==z},{ArrayBuffer:z});a("ArrayBuffer")},
{"../internals/array-buffer":13,"../internals/export":50,"../internals/global":60,"../internals/set-species":118}],153:[function(a,R,F){R=a("../internals/export");F=a("../internals/fails");var z=a("../internals/is-array"),y=a("../internals/is-object"),w=a("../internals/to-object"),r=a("../internals/to-length"),l=a("../internals/create-property"),h=a("../internals/array-species-create"),d=a("../internals/array-method-has-species-support"),b=a("../internals/well-known-symbol");a=a("../internals/engine-v8-version");
var g=b("isConcatSpreadable");b=51<=a||!F(function(){var p=[];return p[g]=!1,p.concat()[0]!==p});a=d("concat");R({target:"Array",proto:!0,forced:!b||!a},{concat:function(p){for(var k,n,q,u,v,x=w(this),C=h(x,0),A=0,M=-1,K=arguments.length;M<K;M++)if(v=void 0,y(u=q=-1===M?x:arguments[M])&&(void 0!==(v=u[g])?v:z(u))){if(n=r(q.length),9007199254740991<A+n)throw TypeError("Maximum allowed index exceeded");for(k=0;k<n;k++,A++)k in q&&l(C,A,q[k])}else{if(9007199254740991<=A)throw TypeError("Maximum allowed index exceeded");
l(C,A++,q)}return C.length=A,C}})},{"../internals/array-method-has-species-support":21,"../internals/array-species-create":25,"../internals/create-property":40,"../internals/engine-v8-version":48,"../internals/export":50,"../internals/fails":51,"../internals/is-array":73,"../internals/is-object":75,"../internals/to-length":138,"../internals/to-object":139,"../internals/well-known-symbol":150}],154:[function(a,R,F){R=a("../internals/export");F=a("../internals/array-copy-within");a=a("../internals/add-to-unscopables");
R({target:"Array",proto:!0},{copyWithin:F});a("copyWithin")},{"../internals/add-to-unscopables":7,"../internals/array-copy-within":14,"../internals/export":50}],155:[function(a,R,F){R=a("../internals/export");var z=a("../internals/array-iteration").every;F=a("../internals/array-method-is-strict");a=a("../internals/array-method-uses-to-length");F=F("every");a=a("every");R({target:"Array",proto:!0,forced:!F||!a},{every:function(y){return z(this,y,1<arguments.length?arguments[1]:void 0)}})},{"../internals/array-iteration":19,
"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23,"../internals/export":50}],156:[function(a,R,F){R=a("../internals/export");F=a("../internals/array-fill");a=a("../internals/add-to-unscopables");R({target:"Array",proto:!0},{fill:F});a("fill")},{"../internals/add-to-unscopables":7,"../internals/array-fill":15,"../internals/export":50}],157:[function(a,R,F){R=a("../internals/export");var z=a("../internals/array-iteration").filter;F=a("../internals/array-method-has-species-support");
a=a("../internals/array-method-uses-to-length");F=F("filter");a=a("filter");R({target:"Array",proto:!0,forced:!F||!a},{filter:function(y){return z(this,y,1<arguments.length?arguments[1]:void 0)}})},{"../internals/array-iteration":19,"../internals/array-method-has-species-support":21,"../internals/array-method-uses-to-length":23,"../internals/export":50}],158:[function(a,R,F){R=a("../internals/export");var z=a("../internals/array-iteration").findIndex;F=a("../internals/add-to-unscopables");a=a("../internals/array-method-uses-to-length");
var y=!0;a=a("findIndex");"findIndex"in[]&&Array(1).findIndex(function(){y=!1});R({target:"Array",proto:!0,forced:y||!a},{findIndex:function(w){return z(this,w,1<arguments.length?arguments[1]:void 0)}});F("findIndex")},{"../internals/add-to-unscopables":7,"../internals/array-iteration":19,"../internals/array-method-uses-to-length":23,"../internals/export":50}],159:[function(a,R,F){R=a("../internals/export");var z=a("../internals/flatten-into-array"),y=a("../internals/to-object"),w=a("../internals/to-length"),
r=a("../internals/a-function"),l=a("../internals/array-species-create");R({target:"Array",proto:!0},{flatMap:function(h){var d,b=y(this),g=w(b.length);return r(h),(d=l(b,0)).length=z(d,b,b,g,0,1,h,1<arguments.length?arguments[1]:void 0),d}})},{"../internals/a-function":5,"../internals/array-species-create":25,"../internals/export":50,"../internals/flatten-into-array":53,"../internals/to-length":138,"../internals/to-object":139}],160:[function(a,R,F){R=a("../internals/export");var z=a("../internals/flatten-into-array"),
y=a("../internals/to-object"),w=a("../internals/to-length"),r=a("../internals/to-integer"),l=a("../internals/array-species-create");R({target:"Array",proto:!0},{flat:function(){var h=arguments.length?arguments[0]:void 0,d=y(this),b=w(d.length),g=l(d,0);return g.length=z(g,d,d,b,0,void 0===h?1:r(h)),g}})},{"../internals/array-species-create":25,"../internals/export":50,"../internals/flatten-into-array":53,"../internals/to-integer":137,"../internals/to-length":138,"../internals/to-object":139}],161:[function(a,
R,F){R=a("../internals/export");a=a("../internals/array-for-each");R({target:"Array",proto:!0,forced:[].forEach!=a},{forEach:a})},{"../internals/array-for-each":16,"../internals/export":50}],162:[function(a,R,F){R=a("../internals/export");F=a("../internals/array-from");R({target:"Array",stat:!0,forced:!a("../internals/check-correctness-of-iteration")(function(z){Array.from(z)})},{from:F})},{"../internals/array-from":17,"../internals/check-correctness-of-iteration":27,"../internals/export":50}],163:[function(a,
R,F){R=a("../internals/export");var z=a("../internals/array-includes").includes;F=a("../internals/add-to-unscopables");R({target:"Array",proto:!0,forced:!a("../internals/array-method-uses-to-length")("indexOf",{ACCESSORS:!0,1:0})},{includes:function(y){return z(this,y,1<arguments.length?arguments[1]:void 0)}});F("includes")},{"../internals/add-to-unscopables":7,"../internals/array-includes":18,"../internals/array-method-uses-to-length":23,"../internals/export":50}],164:[function(a,R,F){R=a("../internals/export");
var z=a("../internals/array-includes").indexOf;F=a("../internals/array-method-is-strict");a=a("../internals/array-method-uses-to-length");var y=[].indexOf,w=!!y&&0>1/[1].indexOf(1,-0);F=F("indexOf");a=a("indexOf",{ACCESSORS:!0,1:0});R({target:"Array",proto:!0,forced:w||!F||!a},{indexOf:function(r){return w?y.apply(this,arguments)||0:z(this,r,1<arguments.length?arguments[1]:void 0)}})},{"../internals/array-includes":18,"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23,
"../internals/export":50}],165:[function(a,R,F){var z=a("../internals/to-indexed-object");F=a("../internals/add-to-unscopables");var y=a("../internals/iterators"),w=a("../internals/internal-state");a=a("../internals/define-iterator");var r=w.set,l=w.getterFor("Array Iterator");R.exports=a(Array,"Array",function(h,d){r(this,{type:"Array Iterator",target:z(h),index:0,kind:d})},function(){var h=l(this),d=h.target,b=h.kind,g=h.index++;return!d||g>=d.length?{value:h.target=void 0,done:!0}:"keys"==b?{value:g,
done:!1}:"values"==b?{value:d[g],done:!1}:{value:[g,d[g]],done:!1}},"values");y.Arguments=y.Array;F("keys");F("values");F("entries")},{"../internals/add-to-unscopables":7,"../internals/define-iterator":41,"../internals/internal-state":71,"../internals/iterators":80,"../internals/to-indexed-object":136}],166:[function(a,R,F){R=a("../internals/export");F=a("../internals/indexed-object");var z=a("../internals/to-indexed-object");a=a("../internals/array-method-is-strict");var y=[].join;F=F!=Object;a=
a("join",",");R({target:"Array",proto:!0,forced:F||!a},{join:function(w){return y.call(z(this),void 0===w?",":w)}})},{"../internals/array-method-is-strict":22,"../internals/export":50,"../internals/indexed-object":67,"../internals/to-indexed-object":136}],167:[function(a,R,F){R=a("../internals/export");a=a("../internals/array-last-index-of");R({target:"Array",proto:!0,forced:a!==[].lastIndexOf},{lastIndexOf:a})},{"../internals/array-last-index-of":20,"../internals/export":50}],168:[function(a,R,F){R=
a("../internals/export");var z=a("../internals/array-iteration").map;F=a("../internals/array-method-has-species-support");a=a("../internals/array-method-uses-to-length");F=F("map");a=a("map");R({target:"Array",proto:!0,forced:!F||!a},{map:function(y){return z(this,y,1<arguments.length?arguments[1]:void 0)}})},{"../internals/array-iteration":19,"../internals/array-method-has-species-support":21,"../internals/array-method-uses-to-length":23,"../internals/export":50}],169:[function(a,R,F){R=a("../internals/export");
var z=a("../internals/is-object"),y=a("../internals/is-array"),w=a("../internals/to-absolute-index"),r=a("../internals/to-length"),l=a("../internals/to-indexed-object"),h=a("../internals/create-property");F=a("../internals/well-known-symbol");var d=a("../internals/array-method-has-species-support");a=a("../internals/array-method-uses-to-length");d=d("slice");a=a("slice",{ACCESSORS:!0,0:0,1:2});var b=F("species"),g=[].slice,p=Math.max;R({target:"Array",proto:!0,forced:!d||!a},{slice:function(k,n){var q,
u=l(this);var v=r(u.length);k=w(k,v);n=w(void 0===n?v:n,v);if(y(u)&&((q="function"==typeof(q=u.constructor)&&(q===Array||y(q.prototype))||z(q)&&null===(q=q[b])?void 0:q)===Array||void 0===q))return g.call(u,k,n);q=new (void 0===q?Array:q)(p(n-k,0));for(v=0;k<n;k++,v++)k in u&&h(q,v,u[k]);return q.length=v,q}})},{"../internals/array-method-has-species-support":21,"../internals/array-method-uses-to-length":23,"../internals/create-property":40,"../internals/export":50,"../internals/is-array":73,"../internals/is-object":75,
"../internals/to-absolute-index":134,"../internals/to-indexed-object":136,"../internals/to-length":138,"../internals/well-known-symbol":150}],170:[function(a,R,F){R=a("../internals/export");var z=a("../internals/array-iteration").some;F=a("../internals/array-method-is-strict");a=a("../internals/array-method-uses-to-length");F=F("some");a=a("some");R({target:"Array",proto:!0,forced:!F||!a},{some:function(y){return z(this,y,1<arguments.length?arguments[1]:void 0)}})},{"../internals/array-iteration":19,
"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23,"../internals/export":50}],171:[function(a,R,F){R=a("../internals/export");var z=a("../internals/to-absolute-index"),y=a("../internals/to-integer"),w=a("../internals/to-length"),r=a("../internals/to-object"),l=a("../internals/array-species-create"),h=a("../internals/create-property");F=a("../internals/array-method-has-species-support");a=a("../internals/array-method-uses-to-length");F=F("splice");a=a("splice",{ACCESSORS:!0,
0:0,1:2});var d=Math.max,b=Math.min;R({target:"Array",proto:!0,forced:!F||!a},{splice:function(g,p){var k,n,q,u,v=r(this),x=w(v.length),C=z(g,x);g=arguments.length;if(0===g?k=n=0:n=1===g?(k=0,x-C):(k=g-2,b(d(y(p),0),x-C)),9007199254740991<x+k-n)throw TypeError("Maximum allowed length exceeded");var A=l(v,n);for(q=0;q<n;q++)(u=C+q)in v&&h(A,q,v[u]);if(k<(A.length=n)){for(q=C;q<x-n;q++){var M=q+k;(u=q+n)in v?v[M]=v[u]:delete v[M]}for(q=x;x-n+k<q;q--)delete v[q-1]}else if(n<k)for(q=x-n;C<q;q--)M=q+k-
1,(u=q+n-1)in v?v[M]=v[u]:delete v[M];for(q=0;q<k;q++)v[q+C]=arguments[q+2];return v.length=x-n+k,A}})},{"../internals/array-method-has-species-support":21,"../internals/array-method-uses-to-length":23,"../internals/array-species-create":25,"../internals/create-property":40,"../internals/export":50,"../internals/to-absolute-index":134,"../internals/to-integer":137,"../internals/to-length":138,"../internals/to-object":139}],172:[function(a,R,F){a("../internals/add-to-unscopables")("flatMap")},{"../internals/add-to-unscopables":7}],
173:[function(a,R,F){a("../internals/add-to-unscopables")("flat")},{"../internals/add-to-unscopables":7}],174:[function(a,R,F){R=a("../internals/descriptors");a=a("../internals/object-define-property").f;F=Function.prototype;var z=F.toString,y=/^\s*function ([^ (]*)/;!R||"name"in F||a(F,"name",{configurable:!0,get:function(){try{return z.call(this).match(y)[1]}catch(w){return""}}})},{"../internals/descriptors":43,"../internals/object-define-property":93}],175:[function(a,R,F){F=a("../internals/collection");
a=a("../internals/collection-strong");R.exports=F("Map",function(z){return function(){return z(this,arguments.length?arguments[0]:void 0)}},a)},{"../internals/collection":32,"../internals/collection-strong":30}],176:[function(a,R,F){a=a("../internals/export");R=Math.hypot;var z=Math.abs,y=Math.sqrt;a({target:"Math",stat:!0,forced:!!R&&R(1/0,NaN)!==1/0},{hypot:function(w,r){for(var l,h,d=0,b=0,g=arguments.length,p=0;b<g;)p<(l=z(arguments[b++]))?(d=d*(h=p/l)*h+1,p=l):d+=0<l?(h=l/p)*h:l;return p===1/
0?1/0:p*y(d)}})},{"../internals/export":50}],177:[function(a,R,F){a=a("../internals/export");var z=Math.log,y=Math.LN2;a({target:"Math",stat:!0},{log2:function(w){return z(w)/y}})},{"../internals/export":50}],178:[function(a,R,F){a("../internals/export")({target:"Math",stat:!0},{sign:a("../internals/math-sign")})},{"../internals/export":50,"../internals/math-sign":81}],179:[function(a,R,F){function z(M){var K,G,U;var J=d(M,!1);if("string"==typeof J&&2<J.length)if(43===(M=(J=q(J)).charCodeAt(0))||
45===M){if(88===(K=J.charCodeAt(2))||120===K)return NaN}else if(48===M){switch(J.charCodeAt(1)){case 66:case 98:M=2;K=49;break;case 79:case 111:M=8;K=55;break;default:return+J}var I=(J=J.slice(2)).length;for(G=0;G<I;G++)if(48>(U=J.charCodeAt(G))||K<U)return NaN;return parseInt(J,M)}return+J}var y=a("../internals/descriptors");R=a("../internals/global");var w=a("../internals/is-forced");F=a("../internals/redefine");var r=a("../internals/has"),l=a("../internals/classof-raw"),h=a("../internals/inherit-if-required"),
d=a("../internals/to-primitive"),b=a("../internals/fails"),g=a("../internals/object-create"),p=a("../internals/object-get-own-property-names").f,k=a("../internals/object-get-own-property-descriptor").f,n=a("../internals/object-define-property").f,q=a("../internals/string-trim").trim,u=R.Number,v=u.prototype,x="Number"==l(g(v));if(w("Number",!u(" 0o1")||!u("0b1")||u("+0x1"))){var C,A=function(M){M=1>arguments.length?0:M;var K=this;return K instanceof A&&(x?b(function(){v.valueOf.call(K)}):"Number"!=
l(K))?h(new u(z(M)),K,A):z(M)};a=y?p(u):"MAX_VALUE MIN_VALUE NaN NEGATIVE_INFINITY POSITIVE_INFINITY EPSILON isFinite isInteger isNaN isSafeInteger MAX_SAFE_INTEGER MIN_SAFE_INTEGER parseFloat parseInt isInteger".split(" ");for(y=0;a.length>y;y++)r(u,C=a[y])&&!r(A,C)&&n(A,C,k(u,C));(A.prototype=v).constructor=A;F(R,"Number",A)}},{"../internals/classof-raw":28,"../internals/descriptors":43,"../internals/fails":51,"../internals/global":60,"../internals/has":61,"../internals/inherit-if-required":68,
"../internals/is-forced":74,"../internals/object-create":91,"../internals/object-define-property":93,"../internals/object-get-own-property-descriptor":94,"../internals/object-get-own-property-names":96,"../internals/redefine":110,"../internals/string-trim":131,"../internals/to-primitive":142}],180:[function(a,R,F){a("../internals/export")({target:"Number",stat:!0},{EPSILON:Math.pow(2,-52)})},{"../internals/export":50}],181:[function(a,R,F){a("../internals/export")({target:"Number",stat:!0},{isFinite:a("../internals/number-is-finite")})},
{"../internals/export":50,"../internals/number-is-finite":89}],182:[function(a,R,F){function z(d,b,g){return 0===b?g:1==b%2?z(d,b-1,g*d):z(d*d,b/2,g)}R=a("../internals/export");var y=a("../internals/to-integer"),w=a("../internals/this-number-value"),r=a("../internals/string-repeat");a=a("../internals/fails");var l=(1).toFixed,h=Math.floor;R({target:"Number",proto:!0,forced:l&&("0.000"!==(8E-5).toFixed(3)||"1"!==(.9).toFixed(0)||"1.25"!==(1.255).toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||
!a(function(){l.call({})})},{toFixed:function(d){function b(x,C){for(var A=-1;6>++A;)C+=x*q[A],q[A]=C%1E7,C=h(C/1E7)}function g(x){for(var C=6,A=0;0<=--C;)A+=q[C],q[C]=h(A/x),A=A%x*1E7}function p(){for(var x,C=6,A="";0<=--C;)""===A&&0!==C&&0===q[C]||(x=String(q[C]),A=""===A?x:A+r.call("0",7-x.length)+x);return A}var k,n=w(this);d=y(d);var q=[0,0,0,0,0,0],u="";var v="0";if(0>d||20<d)throw RangeError("Incorrect fraction digits");if(n!=n)return"NaN";if(-1E21>=n||1E21<=n)return String(n);if(0>n&&(u="-",
n=-n),1E-21<n)if(n=0>(k=function(x){for(var C=0;4096<=x;)C+=12,x/=4096;for(;2<=x;)C+=1,x/=2;return C}(n*z(2,69,1))-69)?n*z(2,-k,1):n/z(2,k,1),n*=4503599627370496,0<(k=52-k)){b(0,n);for(v=d;7<=v;)b(1E7,0),v-=7;b(z(10,v,1),0);for(v=k-1;23<=v;)g(8388608),v-=23;g(1<<v);b(1,1);g(2);v=p()}else b(0,n),b(1<<-k,0),v=p()+r.call("0",d);return v=0<d?u+((n=v.length)<=d?"0."+r.call("0",d-n)+v:v.slice(0,n-d)+"."+v.slice(n-d)):u+v}})},{"../internals/export":50,"../internals/fails":51,"../internals/string-repeat":129,
"../internals/this-number-value":133,"../internals/to-integer":137}],183:[function(a,R,F){R=a("../internals/export");a=a("../internals/object-assign");R({target:"Object",stat:!0,forced:Object.assign!==a},{assign:a})},{"../internals/export":50,"../internals/object-assign":90}],184:[function(a,R,F){R=a("../internals/export");var z=a("../internals/object-to-array").entries;R({target:"Object",stat:!0},{entries:function(y){return z(y)}})},{"../internals/export":50,"../internals/object-to-array":103}],
185:[function(a,R,F){R=a("../internals/export");var z=a("../internals/iterate"),y=a("../internals/create-property");R({target:"Object",stat:!0},{fromEntries:function(w){var r={};return z(w,function(l,h){y(r,l,h)},void 0,!0),r}})},{"../internals/create-property":40,"../internals/export":50,"../internals/iterate":78}],186:[function(a,R,F){R=a("../internals/export");F=a("../internals/fails");var z=a("../internals/to-indexed-object"),y=a("../internals/object-get-own-property-descriptor").f;a=a("../internals/descriptors");
F=F(function(){y(1)});R({target:"Object",stat:!0,forced:!a||F,sham:!a},{getOwnPropertyDescriptor:function(w,r){return y(z(w),r)}})},{"../internals/descriptors":43,"../internals/export":50,"../internals/fails":51,"../internals/object-get-own-property-descriptor":94,"../internals/to-indexed-object":136}],187:[function(a,R,F){R=a("../internals/export");F=a("../internals/fails");a=a("../internals/object-get-own-property-names-external").f;R({target:"Object",stat:!0,forced:F(function(){return!Object.getOwnPropertyNames(1)})},
{getOwnPropertyNames:a})},{"../internals/export":50,"../internals/fails":51,"../internals/object-get-own-property-names-external":95}],188:[function(a,R,F){R=a("../internals/export");F=a("../internals/fails");var z=a("../internals/to-object"),y=a("../internals/object-get-prototype-of");a=a("../internals/correct-prototype-getter");R({target:"Object",stat:!0,forced:F(function(){y(1)}),sham:!a},{getPrototypeOf:function(w){return y(z(w))}})},{"../internals/correct-prototype-getter":35,"../internals/export":50,
"../internals/fails":51,"../internals/object-get-prototype-of":98,"../internals/to-object":139}],189:[function(a,R,F){R=a("../internals/export");var z=a("../internals/to-object"),y=a("../internals/object-keys");R({target:"Object",stat:!0,forced:a("../internals/fails")(function(){y(1)})},{keys:function(w){return y(z(w))}})},{"../internals/export":50,"../internals/fails":51,"../internals/object-keys":100,"../internals/to-object":139}],190:[function(a,R,F){R=a("../internals/to-string-tag-support");F=
a("../internals/redefine");a=a("../internals/object-to-string");R||F(Object.prototype,"toString",a,{unsafe:!0})},{"../internals/object-to-string":104,"../internals/redefine":110,"../internals/to-string-tag-support":143}],191:[function(a,R,F){var z,y,w;R=a("../internals/export");var r=a("../internals/is-pure"),l=a("../internals/global");F=a("../internals/get-built-in");var h=a("../internals/native-promise-constructor"),d=a("../internals/redefine"),b=a("../internals/redefine-all"),g=a("../internals/set-to-string-tag"),
p=a("../internals/set-species"),k=a("../internals/is-object"),n=a("../internals/a-function"),q=a("../internals/an-instance"),u=a("../internals/classof-raw"),v=a("../internals/inspect-source"),x=a("../internals/iterate"),C=a("../internals/check-correctness-of-iteration"),A=a("../internals/species-constructor"),M=a("../internals/task").set,K=a("../internals/microtask"),G=a("../internals/promise-resolve"),U=a("../internals/host-report-errors"),J=a("../internals/new-promise-capability"),I=a("../internals/perform"),
T=a("../internals/internal-state"),Y=a("../internals/is-forced"),ea=a("../internals/well-known-symbol"),da=a("../internals/engine-v8-version"),X=ea("species"),Z=T.get,L=T.set,S=T.getterFor("Promise"),E=h,P=l.TypeError,aa=l.document,ja=l.process,oa=F("fetch"),ra=J.f,la=ra,sa="process"==u(ja),Da=!!(aa&&aa.createEvent&&l.dispatchEvent);ea=(a=Y("Promise",function(){var Ca,za;return v(E)!==String(E)||66!==da&&(sa||"function"==typeof PromiseRejectionEvent)?!(!r||E.prototype.finally)||!(51<=da&&/native code/.test(E))&&
(za=function(Na){Na(function(){},function(){})},((Ca=E.resolve(1)).constructor={})[X]=za,!(Ca.then(function(){})instanceof za)):!0}))||!C(function(Ca){E.all(Ca).catch(function(){})});var qa=function(Ca){var za;return!(!k(Ca)||"function"!=typeof(za=Ca.then))&&za},Aa=function(Ca,za,Na){var Oa;za.notified||(za.notified=!0,Oa=za.reactions,K(function(){for(var bb=za.value,eb=1==za.state,cb=0;Oa.length>cb;){var wb,nb,rb,ab=Oa[cb++],Ab=eb?ab.ok:ab.fail,fa=ab.resolve,ka=ab.reject,Q=ab.domain;try{Ab?(eb||
(2===za.rejection&&function(W,ia){M.call(l,function(){sa?ja.emit("rejectionHandled",W):Ga("rejectionhandled",W,ia.value)})}(Ca,za),za.rejection=1),!0===Ab?wb=bb:(Q&&Q.enter(),wb=Ab(bb),Q&&(Q.exit(),rb=!0)),wb===ab.promise?ka(P("Promise-chain cycle")):(nb=qa(wb))?nb.call(wb,fa,ka):fa(wb)):ka(bb)}catch(W){Q&&!rb&&Q.exit(),ka(W)}}za.reactions=[];za.notified=!1;Na&&!za.rejection&&M.call(l,function(){var W=za.value,ia=1!==za.rejection&&!za.parent;if(ia&&(ia=I(function(){sa?ja.emit("unhandledRejection",
W,Ca):Ga("unhandledrejection",Ca,W)}),za.rejection=sa||1!==za.rejection&&!za.parent?2:1,ia.error))throw ia.value;})}))},Ga=function(Ca,za,Na){var Oa;Da?((Oa=aa.createEvent("Event")).promise=za,Oa.reason=Na,Oa.initEvent(Ca,!1,!0),l.dispatchEvent(Oa)):Oa={promise:za,reason:Na};(za=l["on"+Ca])?za(Oa):"unhandledrejection"===Ca&&U("Unhandled promise rejection",Na)},Ka=function(Ca,za,Na,Oa){return function(bb){Ca(za,Na,bb,Oa)}},ha=function(Ca,za,Na,Oa){za.done||(za.done=!0,(za=Oa?Oa:za).value=Na,za.state=
2,Aa(Ca,za,!0))},na=function(Ca,za,Na,Oa){if(!za.done){za.done=!0;Oa&&(za=Oa);try{if(Ca===Na)throw P("Promise can't be resolved itself");var bb=qa(Na);bb?K(function(){var eb={done:!1};try{bb.call(Na,Ka(na,Ca,eb,za),Ka(ha,Ca,eb,za))}catch(cb){ha(Ca,eb,cb,za)}}):(za.value=Na,za.state=1,Aa(Ca,za,!1))}catch(eb){ha(Ca,{done:!1},eb,za)}}};a&&(E=function(Ca){q(this,E,"Promise");n(Ca);z.call(this);var za=Z(this);try{Ca(Ka(na,this,za),Ka(ha,this,za))}catch(Na){ha(this,za,Na)}},(z=function(Ca){L(this,{type:"Promise",
done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=b(E.prototype,{then:function(Ca,za){var Na=S(this),Oa=ra(A(this,E));return Oa.ok="function"!=typeof Ca||Ca,Oa.fail="function"==typeof za&&za,Oa.domain=sa?ja.domain:void 0,Na.parent=!0,Na.reactions.push(Oa),0!=Na.state&&Aa(this,Na,!1),Oa.promise},catch:function(Ca){return this.then(void 0,Ca)}}),y=function(){var Ca=new z,za=Z(Ca);this.promise=Ca;this.resolve=Ka(na,Ca,za);this.reject=Ka(ha,Ca,za)},J.f=ra=function(Ca){return Ca===
E||Ca===xa?new y:la(Ca)},r||"function"!=typeof h||(w=h.prototype.then,d(h.prototype,"then",function(Ca,za){var Na=this;return(new E(function(Oa,bb){w.call(Na,Oa,bb)})).then(Ca,za)},{unsafe:!0}),"function"==typeof oa&&R({global:!0,enumerable:!0,forced:!0},{fetch:function(Ca){return G(E,oa.apply(l,arguments))}})));R({global:!0,wrap:!0,forced:a},{Promise:E});g(E,"Promise",!1,!0);p("Promise");var xa=F("Promise");R({target:"Promise",stat:!0,forced:a},{reject:function(Ca){var za=ra(this);return za.reject.call(void 0,
Ca),za.promise}});R({target:"Promise",stat:!0,forced:r||a},{resolve:function(Ca){return G(r&&this===xa?E:this,Ca)}});R({target:"Promise",stat:!0,forced:ea},{all:function(Ca){var za=this,Na=ra(za),Oa=Na.resolve,bb=Na.reject,eb=I(function(){var cb=n(za.resolve),wb=[],nb=0,rb=1;x(Ca,function(ab){var Ab=nb++,fa=!1;wb.push(void 0);rb++;cb.call(za,ab).then(function(ka){fa||(fa=!0,wb[Ab]=ka,--rb||Oa(wb))},bb)});--rb||Oa(wb)});return eb.error&&bb(eb.value),Na.promise},race:function(Ca){var za=this,Na=ra(za),
Oa=Na.reject,bb=I(function(){var eb=n(za.resolve);x(Ca,function(cb){eb.call(za,cb).then(Na.resolve,Oa)})});return bb.error&&Oa(bb.value),Na.promise}})},{"../internals/a-function":5,"../internals/an-instance":9,"../internals/check-correctness-of-iteration":27,"../internals/classof-raw":28,"../internals/engine-v8-version":48,"../internals/export":50,"../internals/get-built-in":57,"../internals/global":60,"../internals/host-report-errors":63,"../internals/inspect-source":69,"../internals/internal-state":71,
"../internals/is-forced":74,"../internals/is-object":75,"../internals/is-pure":76,"../internals/iterate":78,"../internals/microtask":82,"../internals/native-promise-constructor":83,"../internals/new-promise-capability":87,"../internals/perform":107,"../internals/promise-resolve":108,"../internals/redefine":110,"../internals/redefine-all":109,"../internals/set-species":118,"../internals/set-to-string-tag":119,"../internals/species-constructor":123,"../internals/task":132,"../internals/well-known-symbol":150}],
192:[function(a,R,F){R=a("../internals/export");F=a("../internals/get-built-in");var z=a("../internals/a-function"),y=a("../internals/an-object"),w=a("../internals/is-object"),r=a("../internals/object-create"),l=a("../internals/function-bind");a=a("../internals/fails");var h=F("Reflect","construct"),d=a(function(){function g(){}return!(h(function(){},[],g)instanceof g)}),b=!a(function(){h(function(){})});F=d||b;R({target:"Reflect",stat:!0,forced:F,sham:F},{construct:function(g,p){z(g);y(p);var k=
3>arguments.length?g:z(arguments[2]);if(b&&!d)return h(g,p,k);if(g==k){switch(p.length){case 0:return new g;case 1:return new g(p[0]);case 2:return new g(p[0],p[1]);case 3:return new g(p[0],p[1],p[2]);case 4:return new g(p[0],p[1],p[2],p[3])}var n=[null];return n.push.apply(n,p),new (l.apply(g,n))}n=k.prototype;k=r(w(n)?n:Object.prototype);n=Function.apply.call(g,k,p);return w(n)?n:k}})},{"../internals/a-function":5,"../internals/an-object":10,"../internals/export":50,"../internals/fails":51,"../internals/function-bind":56,
"../internals/get-built-in":57,"../internals/is-object":75,"../internals/object-create":91}],193:[function(a,R,F){R=a("../internals/export");var z=a("../internals/is-object"),y=a("../internals/an-object"),w=a("../internals/has"),r=a("../internals/object-get-own-property-descriptor"),l=a("../internals/object-get-prototype-of");R({target:"Reflect",stat:!0},{get:function g(d,b){var p,k=3>arguments.length?d:arguments[2];return y(d)===k?d[b]:(p=r.f(d,b))?w(p,"value")?p.value:void 0===p.get?void 0:p.get.call(k):
z(p=l(d))?g(p,b,k):void 0}})},{"../internals/an-object":10,"../internals/export":50,"../internals/has":61,"../internals/is-object":75,"../internals/object-get-own-property-descriptor":94,"../internals/object-get-prototype-of":98}],194:[function(a,R,F){var z=a("../internals/descriptors");R=a("../internals/global");var y=a("../internals/is-forced"),w=a("../internals/inherit-if-required"),r=a("../internals/object-define-property").f,l=a("../internals/object-get-own-property-names").f,h=a("../internals/is-regexp"),
d=a("../internals/regexp-flags"),b=a("../internals/regexp-sticky-helpers");F=a("../internals/redefine");var g=a("../internals/fails"),p=a("../internals/internal-state").set,k=a("../internals/set-species"),n=a("../internals/well-known-symbol")("match"),q=R.RegExp,u=q.prototype,v=/a/g,x=/a/g,C=new q(v)!==v,A=b.UNSUPPORTED_Y;if(z&&y("RegExp",!C||A||g(function(){return x[n]=!1,q(v)!=v||q(x)==x||"/a/i"!=q(v,"i")}))){var M=function(K,G){var U,J=this instanceof M,I=h(K),T=void 0===G;if(!J&&I&&K.constructor===
M&&T)return K;C?I&&!T&&(K=K.source):K instanceof M&&(T&&(G=d.call(K)),K=K.source);A&&(U=!!G&&-1<G.indexOf("y"))&&(G=G.replace(/y/g,""));I=w(C?new q(K,G):q(K,G),J?this:u,M);return A&&U&&p(I,{sticky:U}),I};a=l(q);for(z=0;a.length>z;)!function(K){K in M||r(M,K,{configurable:!0,get:function(){return q[K]},set:function(G){q[K]=G}})}(a[z++]);(u.constructor=M).prototype=u;F(R,"RegExp",M)}k("RegExp")},{"../internals/descriptors":43,"../internals/fails":51,"../internals/global":60,"../internals/inherit-if-required":68,
"../internals/internal-state":71,"../internals/is-forced":74,"../internals/is-regexp":77,"../internals/object-define-property":93,"../internals/object-get-own-property-names":96,"../internals/redefine":110,"../internals/regexp-flags":113,"../internals/regexp-sticky-helpers":114,"../internals/set-species":118,"../internals/well-known-symbol":150}],195:[function(a,R,F){R=a("../internals/export");a=a("../internals/regexp-exec");R({target:"RegExp",proto:!0,forced:/./.exec!==a},{exec:a})},{"../internals/export":50,
"../internals/regexp-exec":112}],196:[function(a,R,F){R=a("../internals/redefine");var z=a("../internals/an-object");F=a("../internals/fails");var y=a("../internals/regexp-flags");a="toString";var w=RegExp.prototype,r=w[a];F=F(function(){return"/a/b"!=r.call({source:"a",flags:"b"})});var l=r.name!=a;(F||l)&&R(RegExp.prototype,a,function(){var h=z(this),d=h.flags;return"/"+String(h.source)+"/"+String(void 0===d&&h instanceof RegExp&&!("flags"in w)?y.call(h):d)},{unsafe:!0})},{"../internals/an-object":10,
"../internals/fails":51,"../internals/redefine":110,"../internals/regexp-flags":113}],197:[function(a,R,F){F=a("../internals/collection");a=a("../internals/collection-strong");R.exports=F("Set",function(z){return function(){return z(this,arguments.length?arguments[0]:void 0)}},a)},{"../internals/collection":32,"../internals/collection-strong":30}],198:[function(a,R,F){R=a("../internals/export");F=a("../internals/object-get-own-property-descriptor").f;var z=a("../internals/to-length"),y=a("../internals/not-a-regexp"),
w=a("../internals/require-object-coercible"),r=a("../internals/correct-is-regexp-logic");a=a("../internals/is-pure");var l="".endsWith,h=Math.min;r=r("endsWith");R({target:"String",proto:!0,forced:!(!a&&!r&&(R=F(String.prototype,"endsWith"))&&!R.writable)&&!r},{endsWith:function(d){var b=String(w(this)),g=(y(d),1<arguments.length?arguments[1]:void 0),p=z(b.length);g=void 0===g?p:h(z(g),p);p=String(d);return l?l.call(b,p,g):b.slice(g-p.length,g)===p}})},{"../internals/correct-is-regexp-logic":34,"../internals/export":50,
"../internals/is-pure":76,"../internals/not-a-regexp":88,"../internals/object-get-own-property-descriptor":94,"../internals/require-object-coercible":115,"../internals/to-length":138}],199:[function(a,R,F){R=a("../internals/export");var z=a("../internals/not-a-regexp"),y=a("../internals/require-object-coercible");R({target:"String",proto:!0,forced:!a("../internals/correct-is-regexp-logic")("includes")},{includes:function(w){return!!~String(y(this)).indexOf(z(w),1<arguments.length?arguments[1]:void 0)}})},
{"../internals/correct-is-regexp-logic":34,"../internals/export":50,"../internals/not-a-regexp":88,"../internals/require-object-coercible":115}],200:[function(a,R,F){var z=a("../internals/string-multibyte").charAt;R=a("../internals/internal-state");a=a("../internals/define-iterator");var y=R.set,w=R.getterFor("String Iterator");a(String,"String",function(r){y(this,{type:"String Iterator",string:String(r),index:0})},function(){var r=w(this),l=r.string,h=r.index;return h>=l.length?{value:void 0,done:!0}:
(l=z(l,h),r.index+=l.length,{value:l,done:!1})})},{"../internals/define-iterator":41,"../internals/internal-state":71,"../internals/string-multibyte":125}],201:[function(a,R,F){R=a("../internals/fix-regexp-well-known-symbol-logic");var z=a("../internals/an-object"),y=a("../internals/to-length"),w=a("../internals/require-object-coercible"),r=a("../internals/advance-string-index"),l=a("../internals/regexp-exec-abstract");R("match",1,function(h,d,b){return[function(g){var p=w(this),k=null==g?void 0:
g[h];return void 0!==k?k.call(g,p):(new RegExp(g))[h](String(p))},function(g){var p=b(d,g,this);if(p.done)return p.value;g=z(g);p=String(this);if(!g.global)return l(g,p);for(var k=g.unicode,n=[],q=g.lastIndex=0;null!==(u=l(g,p));){var u=String(u[0]);""===(n[q]=u)&&(g.lastIndex=r(p,y(g.lastIndex),k));q++}return 0===q?null:n}]})},{"../internals/advance-string-index":8,"../internals/an-object":10,"../internals/fix-regexp-well-known-symbol-logic":52,"../internals/regexp-exec-abstract":111,"../internals/require-object-coercible":115,
"../internals/to-length":138}],202:[function(a,R,F){R=a("../internals/export");var z=a("../internals/string-pad").start;R({target:"String",proto:!0,forced:a("../internals/string-pad-webkit-bug")},{padStart:function(y){return z(this,y,1<arguments.length?arguments[1]:void 0)}})},{"../internals/export":50,"../internals/string-pad":127,"../internals/string-pad-webkit-bug":126}],203:[function(a,R,F){a("../internals/export")({target:"String",proto:!0},{repeat:a("../internals/string-repeat")})},{"../internals/export":50,
"../internals/string-repeat":129}],204:[function(a,R,F){R=a("../internals/fix-regexp-well-known-symbol-logic");var z=a("../internals/an-object"),y=a("../internals/to-object"),w=a("../internals/to-length"),r=a("../internals/to-integer"),l=a("../internals/require-object-coercible"),h=a("../internals/advance-string-index"),d=a("../internals/regexp-exec-abstract"),b=Math.max,g=Math.min,p=Math.floor,k=/\$([$&'`]|\d\d?|<[^>]*>)/g,n=/\$([$&'`]|\d\d?)/g;R("replace",2,function(q,u,v,x){var C=x.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,
A=x.REPLACE_KEEPS_$0,M=C?"$":"$0";return[function(K,G){var U=l(this),J=null==K?void 0:K[q];return void 0!==J?J.call(K,U,G):u.call(String(U),K,G)},function(K,G){if(!C&&A||"string"==typeof G&&-1===G.indexOf(M)){var U=v(u,K,this,G);if(U.done)return U.value}var J,I=z(K);K=String(this);U="function"==typeof G;for(var T=(U||(G=String(G)),I.global),Y=(T&&(J=I.unicode,I.lastIndex=0),[]);null!==(da=d(I,K))&&(Y.push(da),T);)""===String(da[0])&&(I.lastIndex=h(K,w(I.lastIndex),J));var ea;J="";for(T=I=0;T<Y.length;T++){for(var da=
Y[T],X=String(da[0]),Z=b(g(r(da.index),K.length),0),L=[],S=1;S<da.length;S++)L.push(void 0===(ea=da[S])?ea:String(ea));da=da.groups;var E=U?(E=[X].concat(L,Z,K),void 0!==da&&E.push(da),String(G.apply(void 0,E))):function(P,aa,ja,oa,ra,la){var sa=ja+P.length,Da=oa.length,qa=n;void 0!==ra&&(ra=y(ra),qa=k);return u.call(la,qa,function(Aa,Ga){switch(Ga.charAt(0)){case "$":return"$";case "\x26":return P;case "`":return aa.slice(0,ja);case "'":return aa.slice(sa);case "\x3c":Aa=ra[Ga.slice(1,-1)];break;
default:var Ka,ha=+Ga;if(0==ha)return Aa;if(Da<ha)return 0!==(Ka=p(ha/10))&&Ka<=Da?void 0===oa[Ka-1]?Ga.charAt(1):oa[Ka-1]+Ga.charAt(1):Aa;Aa=oa[ha-1]}return void 0===Aa?"":Aa})}(X,K,Z,L,da,G);I<=Z&&(J+=K.slice(I,Z)+E,I=Z+X.length)}return J+K.slice(I)}]})},{"../internals/advance-string-index":8,"../internals/an-object":10,"../internals/fix-regexp-well-known-symbol-logic":52,"../internals/regexp-exec-abstract":111,"../internals/require-object-coercible":115,"../internals/to-integer":137,"../internals/to-length":138,
"../internals/to-object":139}],205:[function(a,R,F){R=a("../internals/fix-regexp-well-known-symbol-logic");var z=a("../internals/an-object"),y=a("../internals/require-object-coercible"),w=a("../internals/same-value"),r=a("../internals/regexp-exec-abstract");R("search",1,function(l,h,d){return[function(b){var g=y(this),p=null==b?void 0:b[l];return void 0!==p?p.call(b,g):(new RegExp(b))[l](String(g))},function(b){var g,p=d(h,b,this);return p.done?p.value:(p=z(b),b=String(this),g=p.lastIndex,w(g,0)||
(p.lastIndex=0),b=r(p,b),w(p.lastIndex,g)||(p.lastIndex=g),null===b?-1:b.index)}]})},{"../internals/an-object":10,"../internals/fix-regexp-well-known-symbol-logic":52,"../internals/regexp-exec-abstract":111,"../internals/require-object-coercible":115,"../internals/same-value":116}],206:[function(a,R,F){R=a("../internals/fix-regexp-well-known-symbol-logic");var z=a("../internals/is-regexp"),y=a("../internals/an-object"),w=a("../internals/require-object-coercible"),r=a("../internals/species-constructor"),
l=a("../internals/advance-string-index"),h=a("../internals/to-length"),d=a("../internals/regexp-exec-abstract"),b=a("../internals/regexp-exec");a=a("../internals/fails");var g=[].push,p=Math.min,k=!a(function(){return!RegExp(4294967295,"y")});R("split",2,function(n,q,u){var v="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||1<".".split(/()()/).length||"".split(/.?/).length?function(x,C){var A=String(w(this)),M=void 0===
C?4294967295:C>>>0;if(0==M)return[];if(void 0===x)return[A];if(!z(x))return q.call(A,x,M);var K,G,U,J=[];C=(x.ignoreCase?"i":"")+(x.multiline?"m":"")+(x.unicode?"u":"")+(x.sticky?"y":"");var I=0;for(x=new RegExp(x.source,C+"g");(K=b.call(x,A))&&!(I<(G=x.lastIndex)&&(J.push(A.slice(I,K.index)),1<K.length&&K.index<A.length&&g.apply(J,K.slice(1)),U=K[0].length,I=G,J.length>=M));)x.lastIndex===K.index&&x.lastIndex++;return I===A.length?!U&&x.test("")||J.push(""):J.push(A.slice(I)),J.length>M?J.slice(0,
M):J}:"0".split(void 0,0).length?function(x,C){return void 0===x&&0===C?[]:q.call(this,x,C)}:q;return[function(x,C){var A=w(this),M=null==x?void 0:x[n];return void 0!==M?M.call(x,A,C):v.call(String(A),x,C)},function(x,C){var A=u(v,x,this,C,v!==q);if(A.done)return A.value;A=y(x);var M=String(this);x=r(A,RegExp);var K=A.unicode;x=new x(k?A:"^(?:"+A.source+")",(A.ignoreCase?"i":"")+(A.multiline?"m":"")+(A.unicode?"u":"")+(k?"y":"g"));C=void 0===C?4294967295:C>>>0;if(0==C)return[];if(0===M.length)return null===
d(x,M)?[M]:[];var G=0,U=0;for(A=[];U<M.length;){x.lastIndex=k?U:0;var J,I=d(x,k?M:M.slice(U));if(null===I||(J=p(h(x.lastIndex+(k?0:U)),M.length))===G)U=l(M,U,K);else{if(A.push(M.slice(G,U)),A.length===C)return A;for(G=1;G<=I.length-1;G++)if(A.push(I[G]),A.length===C)return A;U=G=J}}return A.push(M.slice(G)),A}]},!k)},{"../internals/advance-string-index":8,"../internals/an-object":10,"../internals/fails":51,"../internals/fix-regexp-well-known-symbol-logic":52,"../internals/is-regexp":77,"../internals/regexp-exec":112,
"../internals/regexp-exec-abstract":111,"../internals/require-object-coercible":115,"../internals/species-constructor":123,"../internals/to-length":138}],207:[function(a,R,F){R=a("../internals/export");F=a("../internals/object-get-own-property-descriptor").f;var z=a("../internals/to-length"),y=a("../internals/not-a-regexp"),w=a("../internals/require-object-coercible"),r=a("../internals/correct-is-regexp-logic");a=a("../internals/is-pure");var l="".startsWith,h=Math.min;r=r("startsWith");R({target:"String",
proto:!0,forced:!(!a&&!r&&(R=F(String.prototype,"startsWith"))&&!R.writable)&&!r},{startsWith:function(d){var b=String(w(this)),g=(y(d),z(h(1<arguments.length?arguments[1]:void 0,b.length)));d=String(d);return l?l.call(b,d,g):b.slice(g,g+d.length)===d}})},{"../internals/correct-is-regexp-logic":34,"../internals/export":50,"../internals/is-pure":76,"../internals/not-a-regexp":88,"../internals/object-get-own-property-descriptor":94,"../internals/require-object-coercible":115,"../internals/to-length":138}],
208:[function(a,R,F){R=a("../internals/export");var z=a("../internals/create-html");R({target:"String",proto:!0,forced:a("../internals/string-html-forced")("sub")},{sub:function(){return z(this,"sub","","")}})},{"../internals/create-html":36,"../internals/export":50,"../internals/string-html-forced":124}],209:[function(a,R,F){R=a("../internals/export");var z=a("../internals/string-trim").trim;R({target:"String",proto:!0,forced:a("../internals/string-trim-forced")("trim")},{trim:function(){return z(this)}})},
{"../internals/export":50,"../internals/string-trim":131,"../internals/string-trim-forced":130}],210:[function(a,R,F){var z,y,w,r,l;R=a("../internals/export");F=a("../internals/descriptors");var h=a("../internals/global"),d=a("../internals/has"),b=a("../internals/is-object"),g=a("../internals/object-define-property").f;a=a("../internals/copy-constructor-properties");var p=h.Symbol;!F||"function"!=typeof p||"description"in p.prototype&&void 0===p().description||(z={},a(y=function(){var k=1>arguments.length||
void 0===arguments[0]?void 0:String(arguments[0]),n=this instanceof y?new p(k):void 0===k?p():p(k);return""===k&&(z[n]=!0),n},p),(h=y.prototype=p.prototype).constructor=y,w=h.toString,r="Symbol(test)"==String(p("test")),l=/^Symbol\((.*)\)[^)]+$/,g(h,"description",{configurable:!0,get:function(){var k=b(this)?this.valueOf():this,n=w.call(k);return d(z,k)?"":""===(k=r?n.slice(7,-1):n.replace(l,"$1"))?void 0:k}}),R({global:!0,forced:!0},{Symbol:y}))},{"../internals/copy-constructor-properties":33,"../internals/descriptors":43,
"../internals/export":50,"../internals/global":60,"../internals/has":61,"../internals/is-object":75,"../internals/object-define-property":93}],211:[function(a,R,F){a("../internals/define-well-known-symbol")("iterator")},{"../internals/define-well-known-symbol":42}],212:[function(a,R,F){function z(fa,ka){var Q=Na[fa]=M(Ka[Da]);return qa(Q,{type:sa,tag:fa,description:ka}),d||(Q.description=ka),Q}function y(fa,ka){u(fa);var Q=x(ka);ka=K(Q).concat(Ab(Q));return ra(ka,function(W){d&&!ab.call(Q,W)||rb(fa,
W,Q[W])}),fa}function w(fa,ka){var Q;fa=x(fa);ka=C(ka,!0);if(fa!==Ga||!k(Na,ka)||k(Oa,ka))return!(Q=na(fa,ka))||!k(Na,ka)||k(fa,la)&&fa[la][ka]||(Q.enumerable=!0),Q}function r(fa){fa=Ca(x(fa));var ka=[];return ra(fa,function(Q){k(Na,Q)||k(L,Q)||ka.push(Q)}),ka}R=a("../internals/export");F=a("../internals/global");var l=a("../internals/get-built-in"),h=a("../internals/is-pure"),d=a("../internals/descriptors"),b=a("../internals/native-symbol"),g=a("../internals/use-symbol-as-uid"),p=a("../internals/fails"),
k=a("../internals/has"),n=a("../internals/is-array"),q=a("../internals/is-object"),u=a("../internals/an-object"),v=a("../internals/to-object"),x=a("../internals/to-indexed-object"),C=a("../internals/to-primitive"),A=a("../internals/create-property-descriptor"),M=a("../internals/object-create"),K=a("../internals/object-keys"),G=a("../internals/object-get-own-property-names"),U=a("../internals/object-get-own-property-names-external"),J=a("../internals/object-get-own-property-symbols"),I=a("../internals/object-get-own-property-descriptor"),
T=a("../internals/object-define-property"),Y=a("../internals/object-property-is-enumerable"),ea=a("../internals/create-non-enumerable-property"),da=a("../internals/redefine"),X=a("../internals/shared"),Z=a("../internals/shared-key"),L=a("../internals/hidden-keys"),S=a("../internals/uid"),E=a("../internals/well-known-symbol"),P=a("../internals/well-known-symbol-wrapped"),aa=a("../internals/define-well-known-symbol"),ja=a("../internals/set-to-string-tag"),oa=a("../internals/internal-state"),ra=a("../internals/array-iteration").forEach,
la=Z("hidden"),sa="Symbol",Da="prototype";a=E("toPrimitive");var qa=oa.set,Aa=oa.getterFor(sa),Ga=Object[Da],Ka=F.Symbol,ha=l("JSON","stringify"),na=I.f,xa=T.f,Ca=U.f,za=Y.f,Na=X("symbols"),Oa=X("op-symbols"),bb=X("string-to-symbol-registry"),eb=X("symbol-to-string-registry");Z=X("wks");oa=F.QObject;var cb=!oa||!oa[Da]||!oa[Da].findChild,wb=d&&p(function(){return 7!=M(xa({},"a",{get:function(){return xa(this,"a",{value:7}).a}})).a})?function(fa,ka,Q){var W=na(Ga,ka);W&&delete Ga[ka];xa(fa,ka,Q);W&&
fa!==Ga&&xa(Ga,ka,W)}:xa,nb=g?function(fa){return"symbol"==typeof fa}:function(fa){return Object(fa)instanceof Ka},rb=function(fa,ka,Q){fa===Ga&&rb(Oa,ka,Q);u(fa);ka=C(ka,!0);return u(Q),(k(Na,ka)?(Q.enumerable?(k(fa,la)&&fa[la][ka]&&(fa[la][ka]=!1),Q=M(Q,{enumerable:A(0,!1)})):(k(fa,la)||xa(fa,la,A(1,{})),fa[la][ka]=!0),wb):xa)(fa,ka,Q)},ab=function(fa){fa=C(fa,!0);var ka=za.call(this,fa);return!(this===Ga&&k(Na,fa)&&!k(Oa,fa))&&(!(ka||!k(this,fa)||!k(Na,fa)||k(this,la)&&this[la][fa])||ka)},Ab=function(fa){var ka=
fa===Ga;fa=Ca(ka?Oa:x(fa));var Q=[];return ra(fa,function(W){!k(Na,W)||ka&&!k(Ga,W)||Q.push(Na[W])}),Q};b||(da((Ka=function(){if(this instanceof Ka)throw TypeError("Symbol is not a constructor");var fa=arguments.length&&void 0!==arguments[0]?String(arguments[0]):void 0,ka=S(fa),Q=function(W){this===Ga&&Q.call(Oa,W);k(this,la)&&k(this[la],ka)&&(this[la][ka]=!1);wb(this,ka,A(1,W))};return d&&cb&&wb(Ga,ka,{configurable:!0,set:Q}),z(ka,fa)})[Da],"toString",function(){return Aa(this).tag}),da(Ka,"withoutSetter",
function(fa){return z(S(fa),fa)}),Y.f=ab,T.f=rb,I.f=w,G.f=U.f=r,J.f=Ab,P.f=function(fa){return z(E(fa),fa)},d&&(xa(Ka[Da],"description",{configurable:!0,get:function(){return Aa(this).description}}),h||da(Ga,"propertyIsEnumerable",ab,{unsafe:!0})));R({global:!0,wrap:!0,forced:!b,sham:!b},{Symbol:Ka});ra(K(Z),function(fa){aa(fa)});R({target:sa,stat:!0,forced:!b},{for:function(fa){var ka;fa=String(fa);return k(bb,fa)?bb[fa]:(ka=Ka(fa),bb[fa]=ka,eb[ka]=fa,ka)},keyFor:function(fa){if(!nb(fa))throw TypeError(fa+
" is not a symbol");if(k(eb,fa))return eb[fa]},useSetter:function(){cb=!0},useSimple:function(){cb=!1}});R({target:"Object",stat:!0,forced:!b,sham:!d},{create:function(fa,ka){return void 0===ka?M(fa):y(M(fa),ka)},defineProperty:rb,defineProperties:y,getOwnPropertyDescriptor:w});R({target:"Object",stat:!0,forced:!b},{getOwnPropertyNames:r,getOwnPropertySymbols:Ab});R({target:"Object",stat:!0,forced:p(function(){J.f(1)})},{getOwnPropertySymbols:function(fa){return J.f(v(fa))}});ha&&R({target:"JSON",
stat:!0,forced:!b||p(function(){var fa=Ka();return"[null]"!=ha([fa])||"{}"!=ha({a:fa})||"{}"!=ha(Object(fa))})},{stringify:function(fa,ka,Q){for(var W,ia=[fa],va=1;va<arguments.length;)ia.push(arguments[va++]);if((q(W=ka)||void 0!==fa)&&!nb(fa))return n(ka)||(ka=function(ya,Ia){if("function"==typeof W&&(Ia=W.call(this,ya,Ia)),!nb(Ia))return Ia}),ia[1]=ka,ha.apply(null,ia)}});Ka[Da][a]||ea(Ka[Da],a,Ka[Da].valueOf);ja(Ka,sa);L[la]=!0},{"../internals/an-object":10,"../internals/array-iteration":19,"../internals/create-non-enumerable-property":38,
"../internals/create-property-descriptor":39,"../internals/define-well-known-symbol":42,"../internals/descriptors":43,"../internals/export":50,"../internals/fails":51,"../internals/get-built-in":57,"../internals/global":60,"../internals/has":61,"../internals/hidden-keys":62,"../internals/internal-state":71,"../internals/is-array":73,"../internals/is-object":75,"../internals/is-pure":76,"../internals/native-symbol":84,"../internals/object-create":91,"../internals/object-define-property":93,"../internals/object-get-own-property-descriptor":94,
"../internals/object-get-own-property-names":96,"../internals/object-get-own-property-names-external":95,"../internals/object-get-own-property-symbols":97,"../internals/object-keys":100,"../internals/object-property-is-enumerable":101,"../internals/redefine":110,"../internals/set-to-string-tag":119,"../internals/shared":122,"../internals/shared-key":120,"../internals/to-indexed-object":136,"../internals/to-object":139,"../internals/to-primitive":142,"../internals/uid":147,"../internals/use-symbol-as-uid":148,
"../internals/well-known-symbol":150,"../internals/well-known-symbol-wrapped":149}],213:[function(a,R,F){R=a("../internals/array-buffer-view-core");var z=a("../internals/array-copy-within"),y=R.aTypedArray;(0,R.exportTypedArrayMethod)("copyWithin",function(w,r){return z.call(y(this),w,r,2<arguments.length?arguments[2]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-copy-within":14}],214:[function(a,R,F){R=a("../internals/array-buffer-view-core");var z=a("../internals/array-iteration").every,
y=R.aTypedArray;(0,R.exportTypedArrayMethod)("every",function(w){return z(y(this),w,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],215:[function(a,R,F){R=a("../internals/array-buffer-view-core");var z=a("../internals/array-fill"),y=R.aTypedArray;(0,R.exportTypedArrayMethod)("fill",function(w){return z.apply(y(this),arguments)})},{"../internals/array-buffer-view-core":12,"../internals/array-fill":15}],216:[function(a,R,F){R=
a("../internals/array-buffer-view-core");var z=a("../internals/array-iteration").filter,y=a("../internals/species-constructor"),w=R.aTypedArray,r=R.aTypedArrayConstructor;(0,R.exportTypedArrayMethod)("filter",function(l){var h=z(w(this),l,1<arguments.length?arguments[1]:void 0);l=y(this,this.constructor);for(var d=0,b=h.length,g=new (r(l))(b);d<b;)g[d]=h[d++];return g})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19,"../internals/species-constructor":123}],217:[function(a,
R,F){R=a("../internals/array-buffer-view-core");var z=a("../internals/array-iteration").findIndex,y=R.aTypedArray;(0,R.exportTypedArrayMethod)("findIndex",function(w){return z(y(this),w,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],218:[function(a,R,F){R=a("../internals/array-buffer-view-core");var z=a("../internals/array-iteration").find,y=R.aTypedArray;(0,R.exportTypedArrayMethod)("find",function(w){return z(y(this),w,1<
arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],219:[function(a,R,F){a("../internals/typed-array-constructor")("Float32",function(z){return function(y,w,r){return z(this,y,w,r)}})},{"../internals/typed-array-constructor":144}],220:[function(a,R,F){a("../internals/typed-array-constructor")("Float64",function(z){return function(y,w,r){return z(this,y,w,r)}})},{"../internals/typed-array-constructor":144}],221:[function(a,R,F){R=a("../internals/array-buffer-view-core");
var z=a("../internals/array-iteration").forEach,y=R.aTypedArray;(0,R.exportTypedArrayMethod)("forEach",function(w){z(y(this),w,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],222:[function(a,R,F){R=a("../internals/array-buffer-view-core");var z=a("../internals/array-includes").includes,y=R.aTypedArray;(0,R.exportTypedArrayMethod)("includes",function(w){return z(y(this),w,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,
"../internals/array-includes":18}],223:[function(a,R,F){R=a("../internals/array-buffer-view-core");var z=a("../internals/array-includes").indexOf,y=R.aTypedArray;(0,R.exportTypedArrayMethod)("indexOf",function(w){return z(y(this),w,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-includes":18}],224:[function(a,R,F){a("../internals/typed-array-constructor")("Int16",function(z){return function(y,w,r){return z(this,y,w,r)}})},{"../internals/typed-array-constructor":144}],
225:[function(a,R,F){a("../internals/typed-array-constructor")("Int32",function(z){return function(y,w,r){return z(this,y,w,r)}})},{"../internals/typed-array-constructor":144}],226:[function(a,R,F){function z(){return w.call(h(this))}R=a("../internals/global");F=a("../internals/array-buffer-view-core");var y=a("../modules/es.array.iterator");a=a("../internals/well-known-symbol")("iterator");R=R.Uint8Array;var w=y.values,r=y.keys,l=y.entries,h=F.aTypedArray;y=F.exportTypedArrayMethod;F=R&&R.prototype[a];
R=!!F&&("values"==F.name||null==F.name);y("entries",function(){return l.call(h(this))});y("keys",function(){return r.call(h(this))});y("values",z,!R);y(a,z,!R)},{"../internals/array-buffer-view-core":12,"../internals/global":60,"../internals/well-known-symbol":150,"../modules/es.array.iterator":165}],227:[function(a,R,F){a=a("../internals/array-buffer-view-core");var z=a.aTypedArray;a=a.exportTypedArrayMethod;var y=[].join;a("join",function(w){return y.apply(z(this),arguments)})},{"../internals/array-buffer-view-core":12}],
228:[function(a,R,F){R=a("../internals/array-buffer-view-core");var z=a("../internals/array-last-index-of"),y=R.aTypedArray;(0,R.exportTypedArrayMethod)("lastIndexOf",function(w){return z.apply(y(this),arguments)})},{"../internals/array-buffer-view-core":12,"../internals/array-last-index-of":20}],229:[function(a,R,F){R=a("../internals/array-buffer-view-core");var z=a("../internals/array-iteration").map,y=a("../internals/species-constructor"),w=R.aTypedArray,r=R.aTypedArrayConstructor;(0,R.exportTypedArrayMethod)("map",
function(l){return z(w(this),l,1<arguments.length?arguments[1]:void 0,function(h,d){return new (r(y(h,h.constructor)))(d)})})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19,"../internals/species-constructor":123}],230:[function(a,R,F){R=a("../internals/array-buffer-view-core");var z=a("../internals/array-reduce").right,y=R.aTypedArray;(0,R.exportTypedArrayMethod)("reduceRight",function(w){return z(y(this),w,arguments.length,1<arguments.length?arguments[1]:void 0)})},
{"../internals/array-buffer-view-core":12,"../internals/array-reduce":24}],231:[function(a,R,F){R=a("../internals/array-buffer-view-core");var z=a("../internals/array-reduce").left,y=R.aTypedArray;(0,R.exportTypedArrayMethod)("reduce",function(w){return z(y(this),w,arguments.length,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-reduce":24}],232:[function(a,R,F){a=a("../internals/array-buffer-view-core");var z=a.aTypedArray;a=a.exportTypedArrayMethod;
var y=Math.floor;a("reverse",function(){for(var w,r=z(this).length,l=y(r/2),h=0;h<l;)w=this[h],this[h++]=this[--r],this[r]=w;return this})},{"../internals/array-buffer-view-core":12}],233:[function(a,R,F){R=a("../internals/array-buffer-view-core");var z=a("../internals/to-length"),y=a("../internals/to-offset"),w=a("../internals/to-object");a=a("../internals/fails");var r=R.aTypedArray;(0,R.exportTypedArrayMethod)("set",function(l){r(this);var h=y(1<arguments.length?arguments[1]:void 0,1),d=this.length,
b=w(l),g=z(b.length),p=0;if(d<g+h)throw RangeError("Wrong length");for(;p<g;)this[h+p]=b[p++]},a(function(){(new Int8Array(1)).set({})}))},{"../internals/array-buffer-view-core":12,"../internals/fails":51,"../internals/to-length":138,"../internals/to-object":139,"../internals/to-offset":140}],234:[function(a,R,F){R=a("../internals/array-buffer-view-core");var z=a("../internals/species-constructor");a=a("../internals/fails");var y=R.aTypedArray,w=R.aTypedArrayConstructor;R=R.exportTypedArrayMethod;
var r=[].slice;R("slice",function(l,h){h=r.call(y(this),l,h);l=z(this,this.constructor);var d=0,b=h.length;for(l=new (w(l))(b);d<b;)l[d]=h[d++];return l},a(function(){(new Int8Array(1)).slice()}))},{"../internals/array-buffer-view-core":12,"../internals/fails":51,"../internals/species-constructor":123}],235:[function(a,R,F){R=a("../internals/array-buffer-view-core");var z=a("../internals/array-iteration").some,y=R.aTypedArray;(0,R.exportTypedArrayMethod)("some",function(w){return z(y(this),w,1<arguments.length?
arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],236:[function(a,R,F){a=a("../internals/array-buffer-view-core");var z=a.aTypedArray;a=a.exportTypedArrayMethod;var y=[].sort;a("sort",function(w){return y.call(z(this),w)})},{"../internals/array-buffer-view-core":12}],237:[function(a,R,F){R=a("../internals/array-buffer-view-core");var z=a("../internals/to-length"),y=a("../internals/to-absolute-index"),w=a("../internals/species-constructor"),r=R.aTypedArray;
(0,R.exportTypedArrayMethod)("subarray",function(l,h){var d=r(this),b=d.length;l=y(l,b);return new (w(d,d.constructor))(d.buffer,d.byteOffset+l*d.BYTES_PER_ELEMENT,z((void 0===h?b:y(h,b))-l))})},{"../internals/array-buffer-view-core":12,"../internals/species-constructor":123,"../internals/to-absolute-index":134,"../internals/to-length":138}],238:[function(a,R,F){R=a("../internals/global");F=a("../internals/array-buffer-view-core");a=a("../internals/fails");var z=R.Int8Array,y=F.aTypedArray;R=F.exportTypedArrayMethod;
var w=[].toLocaleString,r=[].slice,l=!!z&&a(function(){w.call(new z(1))});R("toLocaleString",function(){return w.apply(l?r.call(y(this)):y(this),arguments)},a(function(){return[1,2].toLocaleString()!=(new z([1,2])).toLocaleString()})||!a(function(){z.prototype.toLocaleString.call([1,2])}))},{"../internals/array-buffer-view-core":12,"../internals/fails":51,"../internals/global":60}],239:[function(a,R,F){R=a("../internals/array-buffer-view-core").exportTypedArrayMethod;F=a("../internals/fails");a=(a=
a("../internals/global").Uint8Array)&&a.prototype||{};var z=[].toString,y=[].join;F=(F(function(){z.call({})})&&(z=function(){return y.call(this)}),a.toString!=z);R("toString",z,F)},{"../internals/array-buffer-view-core":12,"../internals/fails":51,"../internals/global":60}],240:[function(a,R,F){a("../internals/typed-array-constructor")("Uint16",function(z){return function(y,w,r){return z(this,y,w,r)}})},{"../internals/typed-array-constructor":144}],241:[function(a,R,F){a("../internals/typed-array-constructor")("Uint32",
function(z){return function(y,w,r){return z(this,y,w,r)}})},{"../internals/typed-array-constructor":144}],242:[function(a,R,F){a("../internals/typed-array-constructor")("Uint8",function(z){return function(y,w,r){return z(this,y,w,r)}})},{"../internals/typed-array-constructor":144}],243:[function(a,R,F){a("../internals/typed-array-constructor")("Uint8",function(z){return function(y,w,r){return z(this,y,w,r)}},!0)},{"../internals/typed-array-constructor":144}],244:[function(a,R,F){function z(u){return function(){return u(this,
arguments.length?arguments[0]:void 0)}}var y,w,r,l,h;F=a("../internals/global");var d=a("../internals/redefine-all"),b=a("../internals/internal-metadata"),g=a("../internals/collection"),p=a("../internals/collection-weak"),k=a("../internals/is-object"),n=a("../internals/internal-state").enforce;a=a("../internals/native-weak-map");F=!F.ActiveXObject&&"ActiveXObject"in F;var q=Object.isExtensible;R=R.exports=g("WeakMap",z,p);a&&F&&(y=p.getConstructor(z,"WeakMap",!0),b.REQUIRED=!0,g=R.prototype,w=g.delete,
r=g.has,l=g.get,h=g.set,d(g,{delete:function(u){var v;return k(u)&&!q(u)?((v=n(this)).frozen||(v.frozen=new y),w.call(this,u)||v.frozen.delete(u)):w.call(this,u)},has:function(u){var v;return k(u)&&!q(u)?((v=n(this)).frozen||(v.frozen=new y),r.call(this,u)||v.frozen.has(u)):r.call(this,u)},get:function(u){var v;return!k(u)||q(u)||((v=n(this)).frozen||(v.frozen=new y),r.call(this,u))?l.call(this,u):v.frozen.get(u)},set:function(u,v){var x;return!k(u)||q(u)||((x=n(this)).frozen||(x.frozen=new y),r.call(this,
u))?h.call(this,u,v):x.frozen.set(u,v),this}}))},{"../internals/collection":32,"../internals/collection-weak":31,"../internals/global":60,"../internals/internal-metadata":70,"../internals/internal-state":71,"../internals/is-object":75,"../internals/native-weak-map":86,"../internals/redefine-all":109}],245:[function(a,R,F){var z;R=a("../internals/global");var y=a("../internals/dom-iterables");F=a("../internals/array-for-each");a=a("../internals/create-non-enumerable-property");for(z in y)if((y=(y=
R[z])&&y.prototype)&&y.forEach!==F)try{a(y,"forEach",F)}catch(w){y.forEach=F}},{"../internals/array-for-each":16,"../internals/create-non-enumerable-property":38,"../internals/dom-iterables":45,"../internals/global":60}],246:[function(a,R,F){var z;R=a("../internals/global");F=a("../internals/dom-iterables");var y=a("../modules/es.array.iterator"),w=a("../internals/create-non-enumerable-property");a=a("../internals/well-known-symbol");var r=a("iterator");a=a("toStringTag");var l=y.values;for(z in F){var h=
R[z];if(h=h&&h.prototype){if(h[r]!==l)try{w(h,r,l)}catch(b){h[r]=l}if(h[a]||w(h,a,z),F[z])for(var d in y)if(h[d]!==y[d])try{w(h,d,y[d])}catch(b){h[d]=y[d]}}}},{"../internals/create-non-enumerable-property":38,"../internals/dom-iterables":45,"../internals/global":60,"../internals/well-known-symbol":150,"../modules/es.array.iterator":165}],247:[function(a,R,F){function z(oa){try{return decodeURIComponent(oa)}catch(ra){return oa}}function y(oa){return P[oa]}function w(oa){this.entries.length=0;aa(this.entries,
oa)}function r(oa,ra){if(oa<ra)throw TypeError("Not enough arguments");}function l(){q(this,l,T);var oa,ra,la,sa,Da;var qa=0<arguments.length?arguments[0]:void 0;var Aa=[];if(ea(this,{type:T,entries:Aa,updateURL:function(){},updateSearchParams:w}),void 0!==qa)if(A(qa))if("function"==typeof(oa=U(qa)))for(ra=(oa=oa.call(qa)).next;!(qa=ra.call(oa)).done;){if((sa=(la=(qa=G(C(qa.value))).next).call(qa)).done||(Da=la.call(qa)).done||!la.call(qa).done)throw TypeError("Expected sequence with length 2");Aa.push({key:sa.value+
"",value:Da.value+""})}else for(ra in qa)u(qa,ra)&&Aa.push({key:ra,value:qa[ra]+""});else aa(Aa,"string"==typeof qa?"?"===qa.charAt(0)?qa.slice(1):qa:qa+"")}a("../modules/es.array.iterator");F=a("../internals/export");var h=a("../internals/get-built-in"),d=a("../internals/native-url"),b=a("../internals/redefine"),g=a("../internals/redefine-all"),p=a("../internals/set-to-string-tag"),k=a("../internals/create-iterator-constructor"),n=a("../internals/internal-state"),q=a("../internals/an-instance"),
u=a("../internals/has"),v=a("../internals/function-bind-context"),x=a("../internals/classof"),C=a("../internals/an-object"),A=a("../internals/is-object"),M=a("../internals/object-create"),K=a("../internals/create-property-descriptor"),G=a("../internals/get-iterator"),U=a("../internals/get-iterator-method");a=a("../internals/well-known-symbol");var J=h("fetch"),I=h("Headers");h=a("iterator");var T="URLSearchParams",Y=T+"Iterator",ea=n.set,da=n.getterFor(T),X=n.getterFor(Y),Z=/\+/g,L=Array(4),S=function(oa){var ra;
oa=oa.replace(Z," ");var la=4;try{return decodeURIComponent(oa)}catch(sa){for(;la;)oa=oa.replace((ra=la--,L[ra-1]||(L[ra-1]=RegExp("((?:%[\\da-f]{2}){"+ra+"})","gi"))),z);return oa}},E=/[!'()~]|%20/g,P={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},aa=function(oa,ra){if(ra){var la;ra=ra.split("\x26");for(var sa=0;sa<ra.length;)(la=ra[sa++]).length&&(la=la.split("\x3d"),oa.push({key:S(la.shift()),value:S(la.join("\x3d"))}))}},ja=k(function(oa,ra){ea(this,{type:Y,iterator:G(da(oa).entries),
kind:ra})},"Iterator",function(){var oa=X(this),ra=oa.kind;oa=oa.iterator.next();var la=oa.value;return oa.done||(oa.value="keys"===ra?la.key:"values"===ra?la.value:[la.key,la.value]),oa});a=l.prototype;g(a,{append:function(oa,ra){r(arguments.length,2);var la=da(this);la.entries.push({key:oa+"",value:ra+""});la.updateURL()},delete:function(oa){r(arguments.length,1);for(var ra=da(this),la=ra.entries,sa=oa+"",Da=0;Da<la.length;)la[Da].key===sa?la.splice(Da,1):Da++;ra.updateURL()},get:function(oa){r(arguments.length,
1);for(var ra=da(this).entries,la=oa+"",sa=0;sa<ra.length;sa++)if(ra[sa].key===la)return ra[sa].value;return null},getAll:function(oa){r(arguments.length,1);for(var ra=da(this).entries,la=oa+"",sa=[],Da=0;Da<ra.length;Da++)ra[Da].key===la&&sa.push(ra[Da].value);return sa},has:function(oa){r(arguments.length,1);for(var ra=da(this).entries,la=oa+"",sa=0;sa<ra.length;)if(ra[sa++].key===la)return!0;return!1},set:function(oa,ra){r(arguments.length,1);for(var la,sa=da(this),Da=sa.entries,qa=!1,Aa=oa+"",
Ga=ra+"",Ka=0;Ka<Da.length;Ka++)(la=Da[Ka]).key===Aa&&(qa?Da.splice(Ka--,1):(qa=!0,la.value=Ga));qa||Da.push({key:Aa,value:Ga});sa.updateURL()},sort:function(){for(var oa,ra,la=da(this),sa=la.entries,Da=sa.slice(),qa=sa.length=0;qa<Da.length;qa++){oa=Da[qa];for(ra=0;ra<qa;ra++)if(sa[ra].key>oa.key){sa.splice(ra,0,oa);break}ra===qa&&sa.push(oa)}la.updateURL()},forEach:function(oa){for(var ra,la=da(this).entries,sa=v(oa,1<arguments.length?arguments[1]:void 0,3),Da=0;Da<la.length;)sa((ra=la[Da++]).value,
ra.key,this)},keys:function(){return new ja(this,"keys")},values:function(){return new ja(this,"values")},entries:function(){return new ja(this,"entries")}},{enumerable:!0});b(a,h,a.entries);b(a,"toString",function(){for(var oa,ra=da(this).entries,la=[],sa=0;sa<ra.length;)oa=ra[sa++],la.push(encodeURIComponent(oa.key).replace(E,y)+"\x3d"+encodeURIComponent(oa.value).replace(E,y));return la.join("\x26")},{enumerable:!0});p(l,T);F({global:!0,forced:!d},{URLSearchParams:l});d||"function"!=typeof J||
"function"!=typeof I||F({global:!0,enumerable:!0,forced:!0},{fetch:function(oa){var ra,la,sa;oa=[oa];return 1<arguments.length&&(A(ra=arguments[1])&&(la=ra.body,x(la)===T&&((sa=ra.headers?new I(ra.headers):new I).has("content-type")||sa.set("content-type","application/x-www-form-urlencoded;charset\x3dUTF-8"),ra=M(ra,{body:K(0,String(la)),headers:K(0,sa)}))),oa.push(ra)),J.apply(this,oa)}});R.exports={URLSearchParams:l,getState:da}},{"../internals/an-instance":9,"../internals/an-object":10,"../internals/classof":29,
"../internals/create-iterator-constructor":37,"../internals/create-property-descriptor":39,"../internals/export":50,"../internals/function-bind-context":55,"../internals/get-built-in":57,"../internals/get-iterator":59,"../internals/get-iterator-method":58,"../internals/has":61,"../internals/internal-state":71,"../internals/is-object":75,"../internals/native-url":85,"../internals/object-create":91,"../internals/redefine":110,"../internals/redefine-all":109,"../internals/set-to-string-tag":119,"../internals/well-known-symbol":150,
"../modules/es.array.iterator":165}],248:[function(a,R,F){function z(wa){var Wa,lb;if("number"==typeof wa){var hb=[];for(Wa=0;4>Wa;Wa++)hb.unshift(wa%256),wa=Y(wa/256);return hb.join(".")}if("object"!=typeof wa)return wa;hb="";Wa=null;var Ta=1;for(var ib=null,Db=0,Ha=0;8>Ha;Ha++)0!==wa[Ha]?(Ta<Db&&(Wa=ib,Ta=Db),ib=null,Db=0):(null===ib&&(ib=Ha),++Db);Ta=(Ta<Db&&(Wa=ib),Wa);for(Wa=0;8>Wa;Wa++)lb&&0===wa[Wa]||(lb=lb&&!1,Ta===Wa?(hb+=Wa?":":"::",lb=!0):(hb+=wa[Wa].toString(16),7>Wa&&(hb+=":")));return"["+
hb+"]"}function y(wa){return!wa.host||wa.cannotBeABaseURL||"file"==wa.scheme}function w(wa,Wa,lb,hb){var Ta;var ib=lb||eb;var Db=0,Ha="",Fb=!1,Lb=!1,gc=!1;lb||(wa.scheme="",wa.username="",wa.password="",wa.host=null,wa.port=null,wa.path=[],wa.query=null,wa.fragment=null,wa.cannotBeABaseURL=!1,Wa=Wa.replace(Da,""));Wa=Wa.replace(qa,"");for(Wa=x(Wa);Db<=Wa.length;){switch(Ta=Wa[Db],ib){case eb:if(!Ta||!S.test(Ta)){if(lb)return X;ib=wb;continue}Ha+=Ta.toLowerCase();ib=cb;break;case cb:if(Ta&&(E.test(Ta)||
"+"==Ta||"-"==Ta||"."==Ta))Ha+=Ta.toLowerCase();else{if(":"!=Ta){if(lb)return X;Ha="";ib=wb;Db=0;continue}if(lb&&(za(wa)!=u(Ca,Ha)||"file"==Ha&&(""!=wa.username||""!=wa.password||null!==wa.port)||"file"==wa.scheme&&!wa.host))return;if(wa.scheme=Ha,lb)return void(za(wa)&&Ca[wa.scheme]==wa.port&&(wa.port=null));Ha="";"file"==wa.scheme?ib=ya:za(wa)&&hb&&hb.scheme==wa.scheme?ib=nb:za(wa)?ib=fa:"/"==Wa[Db+1]?(ib=rb,Db++):(wa.cannotBeABaseURL=!0,wa.path.push(""),ib=pb)}break;case wb:if(!hb||hb.cannotBeABaseURL&&
"#"!=Ta)return X;if(hb.cannotBeABaseURL&&"#"==Ta){wa.scheme=hb.scheme;wa.path=hb.path.slice();wa.query=hb.query;wa.fragment="";wa.cannotBeABaseURL=!0;ib=Va;break}ib="file"==hb.scheme?ya:ab;continue;case nb:if("/"!=Ta||"/"!=Wa[Db+1]){ib=ab;continue}ib=ka;Db++;break;case rb:if("/"==Ta){ib=Q;break}ib=fb;continue;case ab:if(wa.scheme=hb.scheme,Ta==h)wa.username=hb.username,wa.password=hb.password,wa.host=hb.host,wa.port=hb.port,wa.path=hb.path.slice(),wa.query=hb.query;else if("/"==Ta||"\\"==Ta&&za(wa))ib=
Ab;else if("?"==Ta)wa.username=hb.username,wa.password=hb.password,wa.host=hb.host,wa.port=hb.port,wa.path=hb.path.slice(),wa.query="",ib=kb;else{if("#"!=Ta){wa.username=hb.username;wa.password=hb.password;wa.host=hb.host;wa.port=hb.port;wa.path=hb.path.slice();wa.path.pop();ib=fb;continue}wa.username=hb.username;wa.password=hb.password;wa.host=hb.host;wa.port=hb.port;wa.path=hb.path.slice();wa.query=hb.query;wa.fragment="";ib=Va}break;case Ab:if(!za(wa)||"/"!=Ta&&"\\"!=Ta){if("/"!=Ta){wa.username=
hb.username;wa.password=hb.password;wa.host=hb.host;wa.port=hb.port;ib=fb;continue}ib=Q}else ib=ka;break;case fa:if(ib=ka,"/"!=Ta||"/"!=Ha.charAt(Db+1))continue;Db++;break;case ka:if("/"==Ta||"\\"==Ta)break;ib=Q;continue;case Q:if("@"==Ta){Fb&&(Ha="%40"+Ha);Fb=!0;Ha=x(Ha);for(Ta=0;Ta<Ha.length;Ta++){var Wb=Ha[Ta];":"!=Wb||gc?(Wb=xa(Wb,na),gc?wa.password+=Wb:wa.username+=Wb):gc=!0}Ha=""}else if(Ta==h||"/"==Ta||"?"==Ta||"#"==Ta||"\\"==Ta&&za(wa)){if(Fb&&""==Ha)return da;Db-=x(Ha).length+1;Ha="";ib=
W}else Ha+=Ta;break;case W:case ia:if(lb&&"file"==wa.scheme){ib=La;continue}if(":"!=Ta||Lb){if(Ta==h||"/"==Ta||"?"==Ta||"#"==Ta||"\\"==Ta&&za(wa)){if(za(wa)&&""==Ha)return Z;if(lb&&""==Ha&&(""!=wa.username||""!=wa.password||null!==wa.port))return;if(ib=Aa(wa,Ha))return ib;if(Ha="",ib=db,lb)return;continue}"["==Ta?Lb=!0:"]"==Ta&&(Lb=!1);Ha+=Ta}else{if(""==Ha)return Z;if(ib=Aa(wa,Ha))return ib;if(Ha="",ib=va,lb==ia)return}break;case va:if(!P.test(Ta)){if(Ta==h||"/"==Ta||"?"==Ta||"#"==Ta||"\\"==Ta&&
za(wa)||lb){if(""!=Ha){ib=parseInt(Ha,10);if(65535<ib)return L;wa.port=za(wa)&&ib===Ca[wa.scheme]?null:ib;Ha=""}if(lb)return;ib=db;continue}return L}Ha+=Ta;break;case ya:if(wa.scheme="file","/"==Ta||"\\"==Ta)ib=Ia;else{if(!hb||"file"!=hb.scheme){ib=fb;continue}if(Ta==h)wa.host=hb.host,wa.path=hb.path.slice(),wa.query=hb.query;else if("?"==Ta)wa.host=hb.host,wa.path=hb.path.slice(),wa.query="",ib=kb;else{if("#"!=Ta){Oa(Wa.slice(Db).join(""))||(wa.host=hb.host,wa.path=hb.path.slice(),bb(wa));ib=fb;
continue}wa.host=hb.host;wa.path=hb.path.slice();wa.query=hb.query;wa.fragment="";ib=Va}}break;case Ia:if("/"==Ta||"\\"==Ta){ib=La;break}hb&&"file"==hb.scheme&&!Oa(Wa.slice(Db).join(""))&&(Na(hb.path[0],!0)?wa.path.push(hb.path[0]):wa.host=hb.host);ib=fb;continue;case La:if(Ta==h||"/"==Ta||"\\"==Ta||"?"==Ta||"#"==Ta){if(!lb&&Na(Ha))ib=fb;else{if(""==Ha){if(wa.host="",lb)return}else{if(ib=Aa(wa,Ha))return ib;if("localhost"==wa.host&&(wa.host=""),lb)return;Ha=""}ib=db}continue}Ha+=Ta;break;case db:if(za(wa)){if(ib=
fb,"/"!=Ta&&"\\"!=Ta)continue}else if(lb||"?"!=Ta)if(lb||"#"!=Ta){if(Ta!=h&&(ib=fb,"/"!=Ta))continue}else wa.fragment="",ib=Va;else wa.query="",ib=kb;break;case fb:if(Ta==h||"/"==Ta||"\\"==Ta&&za(wa)||!lb&&("?"==Ta||"#"==Ta)){Wb=Ha;if(".."===(Wb=Wb.toLowerCase())||"%2e."===Wb||".%2e"===Wb||"%2e%2e"===Wb?(bb(wa),"/"==Ta||"\\"==Ta&&za(wa)||wa.path.push("")):"."===Ha||"%2e"===Ha.toLowerCase()?"/"==Ta||"\\"==Ta&&za(wa)||wa.path.push(""):("file"==wa.scheme&&!wa.path.length&&Na(Ha)&&(wa.host&&(wa.host=
""),Ha=Ha.charAt(0)+":"),wa.path.push(Ha)),Ha="","file"==wa.scheme&&(Ta==h||"?"==Ta||"#"==Ta))for(;1<wa.path.length&&""===wa.path[0];)wa.path.shift();"?"==Ta?(wa.query="",ib=kb):"#"==Ta&&(wa.fragment="",ib=Va)}else Ha+=xa(Ta,ha);break;case pb:"?"==Ta?(wa.query="",ib=kb):"#"==Ta?(wa.fragment="",ib=Va):Ta!=h&&(wa.path[0]+=xa(Ta,Ga));break;case kb:lb||"#"!=Ta?Ta!=h&&("'"==Ta&&za(wa)?wa.query+="%27":wa.query+="#"==Ta?"%23":xa(Ta,Ga)):(wa.fragment="",ib=Va);break;case Va:Ta!=h&&(wa.fragment+=xa(Ta,Ka))}Db++}}
function r(wa){var Wa,lb=q(this,r,"URL"),hb=1<arguments.length?arguments[1]:void 0;wa=String(wa);var Ta=I(lb,{type:"URL"});if(void 0!==hb)if(hb instanceof r)var ib=T(hb);else if(Wa=w(ib={},String(hb)))throw TypeError(Wa);if(Wa=w(Ta,wa,null,ib))throw TypeError(Wa);var Db=Ta.searchParams=new U;(hb=J(Db)).updateSearchParams(Ta.query);hb.updateURL=function(){Ta.query=String(Db)||null};g||(lb.href=qb.call(lb),lb.origin=jb.call(lb),lb.protocol=Ib.call(lb),lb.username=Hb.call(lb),lb.password=Pb.call(lb),
lb.host=Ob.call(lb),lb.hostname=dc.call(lb),lb.port=Jb.call(lb),lb.pathname=Rb.call(lb),lb.search=bc.call(lb),lb.searchParams=oc.call(lb),lb.hash=pc.call(lb))}function l(wa,Wa){return{get:wa,set:Wa,configurable:!0,enumerable:!0}}a("../modules/es.string.iterator");var h,d,b;R=a("../internals/export");var g=a("../internals/descriptors");F=a("../internals/native-url");var p=a("../internals/global"),k=a("../internals/object-define-properties"),n=a("../internals/redefine"),q=a("../internals/an-instance"),
u=a("../internals/has"),v=a("../internals/object-assign"),x=a("../internals/array-from"),C=a("../internals/string-multibyte").codeAt,A=a("../internals/string-punycode-to-ascii"),M=a("../internals/set-to-string-tag"),K=a("../modules/web.url-search-params");a=a("../internals/internal-state");var G=p.URL,U=K.URLSearchParams,J=K.getState,I=a.set,T=a.getterFor("URL"),Y=Math.floor,ea=Math.pow,da="Invalid authority",X="Invalid scheme",Z="Invalid host",L="Invalid port",S=/[A-Za-z]/,E=/[\d+-.A-Za-z]/,P=/\d/,
aa=/^(0x|0X)/,ja=/^[0-7]+$/,oa=/^\d+$/,ra=/^[\dA-Fa-f]+$/,la=/[\u0000\u0009\u000A\u000D #%/:?@[\\]]/,sa=/[\u0000\u0009\u000A\u000D #/:?@[\\]]/,Da=/^[\u0000-\u001F ]+|[\u0000-\u001F ]+$/g,qa=/[\u0009\u000A\u000D]/g,Aa=function(wa,Wa){var lb,hb;if("["==Wa.charAt(0))return"]"==Wa.charAt(Wa.length-1)&&(lb=function(Ta){var ib=[0,0,0,0,0,0,0,0],Db=0,Ha=null,Fb=0,Lb,gc;var Wb=function(){return Ta.charAt(Fb)};if(":"==Wb()){if(":"!=Ta.charAt(1))return;Fb+=2;Db++;Ha=Db}for(;Wb();){if(8==Db)return;if(":"==Wb()){if(null!==
Ha)return;Fb++;Db++;Ha=Db}else{for(Lb=gc=0;4>gc&&ra.test(Wb());)Lb=16*Lb+parseInt(Wb(),16),Fb++,gc++;if("."==Wb()){if(0==gc)return;Fb-=gc;if(6<Db)return;for(Lb=0;Wb();){gc=null;if(0<Lb)if("."==Wb()&&4>Lb)Fb++;else return;if(!P.test(Wb()))return;for(;P.test(Wb());){var Pa=parseInt(Wb(),10);if(null===gc)gc=Pa;else{if(0==gc)return;gc=10*gc+Pa}if(255<gc)return;Fb++}ib[Db]=256*ib[Db]+gc;Lb++;2!=Lb&&4!=Lb||Db++}if(4!=Lb)return;break}else if(":"==Wb()){if(Fb++,!Wb())return}else if(Wb())return;ib[Db++]=Lb}}if(null!==
Ha)for(Wb=Db-Ha,Db=7;0!=Db&&0<Wb;)Lb=ib[Db],ib[Db--]=ib[Ha+Wb-1],ib[Ha+--Wb]=Lb;else if(8!=Db)return;return ib}(Wa.slice(1,-1)))?void(wa.host=lb):Z;if(za(wa))return Wa=A(Wa),la.test(Wa)||null===(lb=function(Ta){var ib=Ta.split("."),Db,Ha;ib.length&&""==ib[ib.length-1]&&ib.pop();if(4<(Db=ib.length))return Ta;var Fb=[];for(Ha=0;Ha<Db;Ha++){var Lb=ib[Ha];if(""==Lb)return Ta;var gc=10;1<Lb.length&&"0"==Lb.charAt(0)&&(gc=aa.test(Lb)?16:8,Lb=Lb.slice(8==gc?1:2));if(""===Lb)Lb=0;else{if(!(10==gc?oa:8==gc?
ja:ra).test(Lb))return Ta;Lb=parseInt(Lb,gc)}Fb.push(Lb)}for(Ha=0;Ha<Db;Ha++)if(Lb=Fb[Ha],Ha==Db-1){if(Lb>=ea(256,5-Db))return null}else if(255<Lb)return null;Ta=Fb.pop();for(Ha=0;Ha<Fb.length;Ha++)Ta+=Fb[Ha]*ea(256,3-Ha);return Ta}(Wa))?Z:void(wa.host=lb);if(sa.test(Wa))return Z;lb="";Wa=x(Wa);for(hb=0;hb<Wa.length;hb++)lb+=xa(Wa[hb],Ga);wa.host=lb},Ga={},Ka=v({},Ga,{" ":1,'"':1,"\x3c":1,"\x3e":1,"`":1}),ha=v({},Ka,{"#":1,"?":1,"{":1,"}":1}),na=v({},ha,{"/":1,":":1,";":1,"\x3d":1,"@":1,"[":1,"\\":1,
"]":1,"^":1,"|":1}),xa=function(wa,Wa){var lb=C(wa,0);return 32<lb&&127>lb&&!u(Wa,wa)?wa:encodeURIComponent(wa)},Ca={ftp:21,file:null,http:80,https:443,ws:80,wss:443},za=function(wa){return u(Ca,wa.scheme)},Na=function(wa,Wa){return 2==wa.length&&S.test(wa.charAt(0))&&(":"==(wa=wa.charAt(1))||!Wa&&"|"==wa)},Oa=function(wa){return 1<wa.length&&Na(wa.slice(0,2))&&(2==wa.length||"/"===(wa=wa.charAt(2))||"\\"===wa||"?"===wa||"#"===wa)},bb=function(wa){var Wa=wa.path,lb=Wa.length;!lb||"file"==wa.scheme&&
1==lb&&Na(Wa[0],!0)||Wa.pop()},eb={},cb={},wb={},nb={},rb={},ab={},Ab={},fa={},ka={},Q={},W={},ia={},va={},ya={},Ia={},La={},db={},fb={},pb={},kb={},Va={};p=r.prototype;var qb=function(){var wa=T(this),Wa=wa.scheme,lb=wa.username,hb=wa.password,Ta=wa.host,ib=wa.port,Db=wa.path,Ha=wa.query,Fb=wa.fragment,Lb=Wa+":";return null!==Ta?(Lb+="//",(""!=wa.username||""!=wa.password)&&(Lb+=lb+(hb?":"+hb:"")+"@"),Lb+=z(Ta),null!==ib&&(Lb+=":"+ib)):"file"==Wa&&(Lb+="//"),Lb+=wa.cannotBeABaseURL?Db[0]:Db.length?
"/"+Db.join("/"):"",null!==Ha&&(Lb+="?"+Ha),null!==Fb&&(Lb+="#"+Fb),Lb},jb=function(){var wa=T(this),Wa=wa.scheme,lb=wa.port;if("blob"==Wa)try{return(new URL(Wa.path[0])).origin}catch(hb){return"null"}return"file"!=Wa&&za(wa)?Wa+"://"+z(wa.host)+(null!==lb?":"+lb:""):"null"},Ib=function(){return T(this).scheme+":"},Hb=function(){return T(this).username},Pb=function(){return T(this).password},Ob=function(){var wa=T(this),Wa=wa.host;wa=wa.port;return null===Wa?"":null===wa?z(Wa):z(Wa)+":"+wa},dc=function(){var wa=
T(this).host;return null===wa?"":z(wa)},Jb=function(){var wa=T(this).port;return null===wa?"":String(wa)},Rb=function(){var wa=T(this),Wa=wa.path;return wa.cannotBeABaseURL?Wa[0]:Wa.length?"/"+Wa.join("/"):""},bc=function(){var wa=T(this).query;return wa?"?"+wa:""},oc=function(){return T(this).searchParams},pc=function(){var wa=T(this).fragment;return wa?"#"+wa:""};g&&k(p,{href:l(qb,function(wa){var Wa=T(this);wa=String(wa);if(wa=w(Wa,wa))throw TypeError(wa);J(Wa.searchParams).updateSearchParams(Wa.query)}),
origin:l(jb),protocol:l(Ib,function(wa){var Wa=T(this);w(Wa,String(wa)+":",eb)}),username:l(Hb,function(wa){var Wa=T(this);wa=x(String(wa));if(!y(Wa)){Wa.username="";for(var lb=0;lb<wa.length;lb++)Wa.username+=xa(wa[lb],na)}}),password:l(Pb,function(wa){var Wa=T(this);wa=x(String(wa));if(!y(Wa)){Wa.password="";for(var lb=0;lb<wa.length;lb++)Wa.password+=xa(wa[lb],na)}}),host:l(Ob,function(wa){var Wa=T(this);Wa.cannotBeABaseURL||w(Wa,String(wa),W)}),hostname:l(dc,function(wa){var Wa=T(this);Wa.cannotBeABaseURL||
w(Wa,String(wa),ia)}),port:l(Jb,function(wa){var Wa=T(this);y(Wa)||(""==(wa=String(wa))?Wa.port=null:w(Wa,wa,va))}),pathname:l(Rb,function(wa){var Wa=T(this);Wa.cannotBeABaseURL||(Wa.path=[],w(Wa,wa+"",db))}),search:l(bc,function(wa){var Wa=T(this);""==(wa=String(wa))?Wa.query=null:("?"==wa.charAt(0)&&(wa=wa.slice(1)),Wa.query="",w(Wa,wa,kb));J(Wa.searchParams).updateSearchParams(Wa.query)}),searchParams:l(oc),hash:l(pc,function(wa){var Wa=T(this);""==(wa=String(wa))?Wa.fragment=null:("#"==wa.charAt(0)&&
(wa=wa.slice(1)),Wa.fragment="",w(Wa,wa,Va))})});n(p,"toJSON",function(){return qb.call(this)},{enumerable:!0});n(p,"toString",function(){return qb.call(this)},{enumerable:!0});G&&(d=G.createObjectURL,b=G.revokeObjectURL,d&&n(r,"createObjectURL",function(wa){return d.apply(G,arguments)}),b&&n(r,"revokeObjectURL",function(wa){return b.apply(G,arguments)}));M(r,"URL");R({global:!0,forced:!F,sham:!g},{URL:r})},{"../internals/an-instance":9,"../internals/array-from":17,"../internals/descriptors":43,"../internals/export":50,
"../internals/global":60,"../internals/has":61,"../internals/internal-state":71,"../internals/native-url":85,"../internals/object-assign":90,"../internals/object-define-properties":92,"../internals/redefine":110,"../internals/set-to-string-tag":119,"../internals/string-multibyte":125,"../internals/string-punycode-to-ascii":128,"../modules/es.string.iterator":200,"../modules/web.url-search-params":247}],249:[function(a,R,F){R.exports=a("./").polyfill()},{"./":250}],250:[function(a,R,F){!function(z,
y){var w=function(){function r(){var qa=setTimeout;return function(){return qa(l,1)}}function l(){for(var qa=0;qa<J;qa+=2)(0,L[qa])(L[qa+1]),L[qa]=void 0,L[qa+1]=void 0;J=0}function h(){try{var qa=Function("return this")().require("vertx");return void 0!==(I=qa.runOnLoop||qa.runOnContext)?function(){I(l)}:r()}catch(Aa){return r()}}function d(qa,Aa){var Ga,Ka=this,ha=new this.constructor(g),na=(void 0===ha[ja]&&M(ha),Ka._state);return na?(Ga=arguments[na-1],Y(function(){return A(na,ha,Ga,Ka._result)})):
x(Ka,ha,qa,Aa),ha}function b(qa){var Aa;return qa&&"object"==typeof qa&&qa.constructor===this?qa:(n(Aa=new this(g),qa),Aa)}function g(){}function p(qa,Aa,Ga){Y(function(Ka){var ha=!1,na=function(xa,Ca,za,Na){try{xa.call(Ca,za,Na)}catch(Oa){return Oa}}(Ga,Aa,function(xa){ha||(ha=!0,(Aa!==xa?n:u)(Ka,xa))},function(xa){ha||(ha=!0,v(Ka,xa))},Ka._label);!ha&&na&&(ha=!0,v(Ka,na))},qa)}function k(qa,Aa,Ga){Aa.constructor===qa.constructor&&Ga===d&&Aa.constructor.resolve===b?Aa._state===ra?u(qa,Aa._result):
Aa._state===la?v(qa,Aa._result):x(Aa,void 0,function(Ka){return n(qa,Ka)},function(Ka){return v(qa,Ka)}):void 0!==Ga&&"function"==typeof Ga?p(qa,Aa,Ga):u(qa,Aa)}function n(qa,Aa){if(qa===Aa)v(qa,new TypeError("You cannot resolve a promise with itself"));else if(Ga=typeof Aa,null===Aa||"object"!=Ga&&"function"!=Ga)u(qa,Aa);else{Ga=void 0;try{Ga=Aa.then}catch(Ka){return void v(qa,Ka)}k(qa,Aa,Ga)}var Ga}function q(qa){qa._onerror&&qa._onerror(qa._result);C(qa)}function u(qa,Aa){qa._state===oa&&(qa._result=
Aa,qa._state=ra,0!==qa._subscribers.length&&Y(C,qa))}function v(qa,Aa){qa._state===oa&&(qa._state=la,qa._result=Aa,Y(q,qa))}function x(qa,Aa,Ga,Ka){var ha=qa._subscribers,na=ha.length;qa._onerror=null;ha[na]=Aa;ha[na+ra]=Ga;ha[na+la]=Ka;0===na&&qa._state&&Y(C,qa)}function C(qa){var Aa=qa._subscribers,Ga=qa._state;if(0!==Aa.length){for(var Ka,ha,na=qa._result,xa=0;xa<Aa.length;xa+=3)Ka=Aa[xa],ha=Aa[xa+Ga],Ka?A(Ga,Ka,ha,na):ha(na);qa._subscribers.length=0}}function A(qa,Aa,Ga,Ka){var ha="function"==
typeof Ga,na=void 0,xa=void 0,Ca=!0;if(ha){try{na=Ga(Ka)}catch(za){Ca=!1,xa=za}if(Aa===na)return void v(Aa,new TypeError("A promises callback cannot return that same promise."))}else na=Ka;Aa._state===oa&&(ha&&Ca?n(Aa,na):!1===Ca?v(Aa,xa):qa===ra?u(Aa,na):qa===la&&v(Aa,na))}function M(qa){qa[ja]=sa++;qa._state=void 0;qa._result=void 0;qa._subscribers=[]}function K(qa,Aa){this._instanceConstructor=qa;this.promise=new qa(g);this.promise[ja]||M(this.promise);U(Aa)?(this.length=Aa.length,this._remaining=
Aa.length,this._result=Array(this.length),0!==this.length&&(this.length=this.length||0,this._enumerate(Aa),0!==this._remaining)||u(this.promise,this._result)):v(this.promise,Error("Array Methods must be provided an Array"))}function G(qa){if(this[ja]=sa++,this._result=this._state=void 0,this._subscribers=[],g!==qa){if("function"!=typeof qa)throw new TypeError("You must pass a resolver function as the first argument to the promise constructor");if(!(this instanceof G))throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");
var Aa=this;try{qa(function(Ga){n(Aa,Ga)},function(Ga){v(Aa,Ga)})}catch(Ga){v(Aa,Ga)}}}var U=Array.isArray||function(qa){return"[object Array]"===Object.prototype.toString.call(qa)},J=0,I=void 0,T=void 0,Y=function(qa,Aa){L[J]=qa;L[J+1]=Aa;2===(J+=2)&&(T?T(l):aa())},ea="undefined"!=typeof window?window:void 0,da=ea||{};da=da.MutationObserver||da.WebKitMutationObserver;var X="undefined"==typeof self&&void 0!==z&&"[object process]"==={}.toString.call(z),Z="undefined"!=typeof Uint8ClampedArray&&"undefined"!=
typeof importScripts&&"undefined"!=typeof MessageChannel,L=Array(1E3),S,E,P,aa=void 0;aa=X?function(){return z.nextTick(l)}:da?(E=0,X=new da(l),P=document.createTextNode(""),X.observe(P,{characterData:!0}),function(){P.data=E=++E%2}):Z?((S=new MessageChannel).port1.onmessage=l,function(){return S.port2.postMessage(0)}):(void 0===ea&&"function"==typeof a?h:r)();var ja=Math.random().toString(36).substring(2),oa=void 0,ra=1,la=2,sa=0;K.prototype._enumerate=function(qa){for(var Aa=0;this._state===oa&&
Aa<qa.length;Aa++)this._eachEntry(qa[Aa],Aa)};K.prototype._eachEntry=function(qa,Aa){var Ga=this._instanceConstructor,Ka=Ga.resolve;if(Ka===b){var ha,na=Ka=void 0,xa=!1;try{Ka=qa.then}catch(Ca){xa=!0,na=Ca}Ka===d&&qa._state!==oa?this._settledAt(qa._state,Aa,qa._result):"function"!=typeof Ka?(this._remaining--,this._result[Aa]=qa):Ga===Da?(ha=new Ga(g),xa?v(ha,na):k(ha,qa,Ka),this._willSettleAt(ha,Aa)):this._willSettleAt(new Ga(function(Ca){return Ca(qa)}),Aa)}else this._willSettleAt(Ka(qa),Aa)};K.prototype._settledAt=
function(qa,Aa,Ga){var Ka=this.promise;Ka._state===oa&&(this._remaining--,qa===la?v(Ka,Ga):this._result[Aa]=Ga);0===this._remaining&&u(Ka,this._result)};K.prototype._willSettleAt=function(qa,Aa){var Ga=this;x(qa,void 0,function(Ka){return Ga._settledAt(ra,Aa,Ka)},function(Ka){return Ga._settledAt(la,Aa,Ka)})};G.prototype.catch=function(qa){return this.then(null,qa)};G.prototype.finally=function(qa){var Aa=this.constructor;return"function"==typeof qa?this.then(function(Ga){return Aa.resolve(qa()).then(function(){return Ga})},
function(Ga){return Aa.resolve(qa()).then(function(){throw Ga;})}):this.then(qa,qa)};var Da=G;return Da.prototype.then=d,Da.all=function(qa){return(new K(this,qa)).promise},Da.race=function(qa){var Aa=this;return U(qa)?new Aa(function(Ga,Ka){for(var ha=qa.length,na=0;na<ha;na++)Aa.resolve(qa[na]).then(Ga,Ka)}):new Aa(function(Ga,Ka){return Ka(new TypeError("You must pass an array to race."))})},Da.resolve=b,Da.reject=function(qa){var Aa=new this(g);return v(Aa,qa),Aa},Da._setScheduler=function(qa){T=
qa},Da._setAsap=function(qa){Y=qa},Da._asap=Y,Da.polyfill=function(){var qa=void 0;if(void 0!==y)qa=y;else if("undefined"!=typeof self)qa=self;else try{qa=Function("return this")()}catch(Ka){throw Error("polyfill failed because global object is unavailable in this environment");}var Aa=qa.Promise;if(Aa){var Ga=null;try{Ga=Object.prototype.toString.call(Aa.resolve())}catch(Ka){}if("[object Promise]"===Ga&&!Aa.cast)return}qa.Promise=Da},Da.Promise=Da};"object"==typeof F&&void 0!==R?R.exports=w():this.ES6Promise=
w()}.call(this,a("_process"),"undefined"!=typeof cc?cc:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{_process:259}],251:[function(a,R,F){a=function(z,y){function w(l){try{delete window[l]}catch(h){window[l]=void 0}}function r(l){(l=document.getElementById(l))&&document.getElementsByTagName("head")[0].removeChild(l)}y.exports=function(l){var h=1>=arguments.length||void 0===arguments[1]?{}:arguments[1],d=l,b=h.timeout||5E3,g=h.jsonpCallback||"callback",p=void 0;return new Promise(function(k,
n){var q=h.jsonpCallbackFunction||"jsonp_"+Date.now()+"_"+Math.ceil(1E5*Math.random()),u=g+"_"+q,v=(window[q]=function(x){k({ok:!0,json:function(){return Promise.resolve(x)}});p&&clearTimeout(p);r(u);w(q)},d+=-1===d.indexOf("?")?"?":"\x26",document.createElement("script"));v.setAttribute("src",""+d+g+"\x3d"+q);h.charset&&v.setAttribute("charset",h.charset);v.id=u;document.getElementsByTagName("head")[0].appendChild(v);p=setTimeout(function(){n(Error("JSONP request to "+l+" timed out"));w(q);r(u);
window[q]=function(){w(q)}},b);v.onerror=function(){n(Error("JSONP request to "+l+" failed"));w(q);r(u);p&&clearTimeout(p)}})}};void 0!==F&&void 0!==R?a(0,R):(a(a={exports:{}},a),this.fetchJsonp=a.exports)},{}],252:[function(a,R,F){a=function(z){var y,w,r,l,h,d,b,g,p,k;if(!(void 0===z||"undefined"!=typeof navigator&&/MSIE [1-9]\./.test(navigator.userAgent)))return k=z.document,y=function(){return z.URL||z.webkitURL||z},w=k.createElementNS("http://www.w3.org/1999/xhtml","a"),r="download"in w,l=/constructor/i.test(z.HTMLElement)||
z.safari,h=/CriOS\/[\d]+/.test(navigator.userAgent),d=function(n){(z.setImmediate||z.setTimeout)(function(){throw n;},0)},b=function(n){setTimeout(function(){"string"==typeof n?y().revokeObjectURL(n):n.remove()},4E4)},g=function(n){return/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(n.type)?new Blob([String.fromCharCode(65279),n],{type:n.type}):n},k=(p=function(n,q,u){u||(n=g(n));var v,x,C=this;u="application/octet-stream"===n.type;var A=function(){for(var M=["writestart",
"progress","write","writeend"],K=(M=[].concat(M)).length;K--;){var G=C["on"+M[K]];if("function"==typeof G)try{G.call(C,C)}catch(U){d(U)}}};C.readyState=C.INIT;r?(v=y().createObjectURL(n),setTimeout(function(){w.href=v;w.download=q;var M=new MouseEvent("click");w.dispatchEvent(M);A();b(v);C.readyState=C.DONE})):(h||u&&l)&&z.FileReader?((x=new FileReader).onloadend=function(){var M=h?x.result:x.result.replace(/^data:[^;]*;/,"data:attachment/file;");z.open(M,"_blank")||(z.location.href=M);C.readyState=
C.DONE;A()},x.readAsDataURL(n),C.readyState=C.INIT):(v=v||y().createObjectURL(n),!u&&z.open(v,"_blank")||(z.location.href=v),C.readyState=C.DONE,A(),b(v))}).prototype,"undefined"!=typeof navigator&&navigator.msSaveOrOpenBlob?function(n,q,u){return q=q||n.name||"download",u||(n=g(n)),navigator.msSaveOrOpenBlob(n,q)}:(k.abort=function(){},k.readyState=k.INIT=0,k.WRITING=1,k.DONE=2,k.error=k.onwritestart=k.onprogress=k.onwrite=k.onabort=k.onerror=k.onwriteend=null,function(n,q,u){return new p(n,q||n.name||
"download",u)})}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||this.content);void 0!==R&&R.exports&&(R.exports.saveAs=a)},{}],253:[function(a,R,F){function z(J=256){function I(ea){var da=Y.length;ea<=da||(ea=Math.max(ea,da*(1048576>da?2:1.125)>>>0),0!=da&&(ea=Math.max(ea,256)),da=Y,Y=new Uint8Array(ea),0<T&&Y.set(da.subarray(0,T),0))}let T=0,Y=new Uint8Array(J);return{get buffer(){return Y.buffer},reset(){T=0},bytesView(){return Y.subarray(0,T)},bytes(){return Y.slice(0,T)},
writeByte(ea){I(T+1);Y[T]=ea;T++},writeBytes(ea,da=0,X=ea.length){I(T+X);for(let Z=0;Z<X;Z++)Y[T++]=ea[Z+da]},writeBytesView(ea,da=0,X=ea.byteLength){I(T+X);Y.set(ea.subarray(da,da+X),T);T+=X}}}function y(J,I,T){return J<<8&63488|I<<2&992|T>>3}function w(J,I,T){return J>>4<<8|240&I|T>>4}function r(J,I,T){return J<I?I:T<J?T:J}function l(J){return J*J}function h(J,I,T){var Y=0,ea=1E100;I=J[I];for(var da=I.cnt,X=I.ac,Z=I.rc,L=I.gc,S=I.bc,E=I.fw;0!=E;E=J[E].fw){var P,aa=J[E],ja=aa.cnt;ja=da*ja/(da+ja);
ea<=ja||(P=0,T&&ea<=(P+=ja*l(aa.ac-X))||ea<=(P+=ja*l(aa.rc-Z))||ea<=(P+=ja*l(aa.gc-L))||ea<=(P+=ja*l(aa.bc-S))||(ea=P,Y=E))}I.err=ea;I.nn=Y}function d(){return{ac:0,rc:0,gc:0,bc:0,cnt:0,nn:0,fw:0,bk:0,tm:0,mtm:0,err:0}}function b(J,I){for(var T=0,Y=0;Y<J.length;Y++){var ea=J[Y]-I[Y];T+=ea*ea}return T}function g(J,I){return 1<I?Math.round(J/I)*I:J}function p(J){return J*J}function k(J,I,T=b){let Y=1/0,ea=-1;for(let X=0;X<J.length;X++){var da=T(I,J[X]);da<Y&&(Y=da,ea=X)}return ea}function n(J,I,T=b){let Y=
1/0,ea=-1;for(let X=0;X<J.length;X++){var da=T(I,J[X]);da<Y&&(Y=da,ea=X)}return[ea,Y]}function q(J={}){function I(){x(ea,"GIF89a")}const {initialCapacity:T=4096,auto:Y=!0}=J,ea=z(T),da=new Uint8Array(256),X=new Int32Array(5003),Z=new Int32Array(5003);let L=!1;return{reset(){ea.reset();L=!1},finish(){ea.writeByte(M.trailer)},bytes(){return ea.bytes()},bytesView(){return ea.bytesView()},get buffer(){return ea.buffer},get stream(){return ea},writeHeader:I,writeFrame(S,E,P,aa={}){var {transparent:ja=
!1,transparentIndex:oa=0,delay:ra=0,palette:la=null,repeat:sa=0,colorDepth:Da=8,dispose:qa=-1}=aa;let Aa=!1;if(Y?L||(Aa=!0,I(),L=!0):Aa=!!aa.first,E=Math.max(0,Math.floor(E)),P=Math.max(0,Math.floor(P)),Aa){if(!la)throw Error("First frame must include a { palette } option");var [aa,Ga,Ka,ha,na=8]=[ea,E,P,la,Da];ha=C(ha.length)-1;na=128|na-1<<4|ha;v(aa,Ga);v(aa,Ka);aa.writeBytes([na,0,0]);u(ea,la);0<=sa&&(ha=ea,Ga=sa,ha.writeByte(33),ha.writeByte(255),ha.writeByte(11),x(ha,"NETSCAPE2.0"),ha.writeByte(3),
ha.writeByte(1),v(ha,Ga),ha.writeByte(0))}var xa;Ka=Math.round(ra/10);aa=ea;na=qa;sa=Ka;Ga=ja;ha=oa;ra=(aa.writeByte(33),aa.writeByte(249),aa.writeByte(4),0>ha&&(ha=0,Ga=!1),Ga=Ga?(xa=1,2):xa=0,0<=na&&(Ga=7&na),Ga<<=2,aa.writeByte(0|Ga|xa),v(aa,sa),aa.writeByte(ha||0),aa.writeByte(0),!!la&&!Aa);qa=ea;ja=E;oa=P;xa=ra?la:null;qa.writeByte(44);v(qa,0);v(qa,0);v(qa,ja);v(qa,oa);xa?(ja=C(xa.length)-1,qa.writeByte(128|ja)):qa.writeByte(0);ra&&u(ea,la);[sa,aa,oa,ja,qa=8,ra,la,S]=[ea,S,E,P,Da,da,X,Z];G(oa,
ja,aa,qa,sa,ra,la,S)}}}function u(J,I){var T=1<<C(I.length);for(let Y=0;Y<T;Y++){let ea=[0,0,0];Y<I.length&&(ea=I[Y]);J.writeByte(ea[0]);J.writeByte(ea[1]);J.writeByte(ea[2])}}function v(J,I){J.writeByte(255&I);J.writeByte(I>>8&255)}function x(J,I){for(var T=0;T<I.length;T++)J.writeByte(I.charCodeAt(T))}function C(J){return Math.max(Math.ceil(Math.log2(J)),1)}var A;a=Object.defineProperty;F=(a(F,"__esModule",{value:!0}),F);R={GIFEncoder:()=>q,applyPalette:()=>function(J,I,T="rgb565"){if(!J||!J.buffer)throw Error("quantize() expected RGBA Uint8Array data");
if(!(J instanceof Uint8Array||J instanceof Uint8ClampedArray))throw Error("quantize() expected RGBA Uint8Array data");if(256<I.length)throw Error("applyPalette() only works with 256 colors or less");J=new Uint32Array(J.buffer);const Y=J.length;var ea="rgb444"===T?4096:65536;const da=new Uint8Array(Y);ea=Array(ea);if("rgba4444"===T)for(var X=0;X<Y;X++){T=J[X];var Z=T>>24&255,L=T>>16&255,S=T>>8&255;T&=255;var E=T>>4|240&S|(240&L)<<4|(240&Z)<<8;E=E in ea?ea[E]:ea[E]=function(P,aa,ja,oa,ra){let la=0,
sa=1E100;for(let Ga=0;Ga<ra.length;Ga++){var Da,qa=ra[Ga],Aa=p(qa[3]-oa);Aa>sa||(Da=qa[0],(Aa+=p(Da-P))>sa||(Da=qa[1],(Aa+=p(Da-aa))>sa||(Da=qa[2],(Aa+=p(Da-ja))>sa||(sa=Aa,la=Ga))))}return la}(T,S,L,Z,I);da[X]=E}else for(E="rgb444"===T?w:y,X=0;X<Y;X++)T=J[X],Z=T>>16&255,L=T>>8&255,T&=255,S=E(T,L,Z),S=S in ea?ea[S]:ea[S]=function(P,aa,ja,oa){let ra=0,la=1E100;for(let Aa=0;Aa<oa.length;Aa++){var sa,Da=oa[Aa],qa=p(Da[0]-P);qa>la||(sa=Da[1],(qa+=p(sa-aa))>la||(sa=Da[2],(qa+=p(sa-ja))>la||(la=qa,ra=Aa)))}return ra}(T,
L,Z,I),da[X]=S;return da},default:()=>U,nearestColor:()=>function(J,I,T=b){return J[k(J,I,T)]},nearestColorIndex:()=>k,nearestColorIndexWithDistance:()=>n,prequantize:()=>function(J,{roundRGB:I=5,roundAlpha:T=10,oneBitAlpha:Y=null}={}){J=new Uint32Array(J.buffer);for(let L=0;L<J.length;L++){var ea=J[L];let S=ea>>24&255;var da,X=ea>>16&255,Z=ea>>8&255;ea&=255;S=g(S,T);Y&&(da="number"==typeof Y?Y:127,S=S<=da?0:255);ea=g(ea,I);Z=g(Z,I);X=g(X,I);J[L]=S<<24|X<<16|Z<<8|ea<<0}},quantize:()=>function(J,I,
T={}){var {format:Y="rgb565",clearAlpha:ea=!0,clearAlphaColor:da=0,clearAlphaThreshold:X=0,oneBitAlpha:Z=!1}=T;if(!J||!J.buffer)throw Error("quantize() expected RGBA Uint8Array data");if(!(J instanceof Uint8Array||J instanceof Uint8ClampedArray))throw Error("quantize() expected RGBA Uint8Array data");J=new Uint32Array(J.buffer);var L=!1!==T.useSqrt;T="rgba4444"===Y;J=function(qa,Aa){const Ga=Array("rgb444"===Aa?4096:65536),Ka=qa.length;if("rgba4444"===Aa)for(var ha=0;ha<Ka;++ha){Aa=qa[ha];var na=
Aa>>24&255,xa=Aa>>16&255,Ca=Aa>>8&255;Aa&=255;var za=Aa>>4|240&Ca|(240&xa)<<4|(240&na)<<8;za=za in Ga?Ga[za]:Ga[za]=d();za.rc+=Aa;za.gc+=Ca;za.bc+=xa;za.ac+=na;za.cnt++}else if("rgb444"===Aa)for(Ca=0;Ca<Ka;++Ca)Aa=qa[Ca],na=Aa>>16&255,xa=Aa>>8&255,Aa&=255,ha=w(Aa,xa,na),ha=ha in Ga?Ga[ha]:Ga[ha]=d(),ha.rc+=Aa,ha.gc+=xa,ha.bc+=na,ha.cnt++;else for(Ca=0;Ca<Ka;++Ca)Aa=qa[Ca],na=Aa>>16&255,xa=Aa>>8&255,Aa&=255,ha=y(Aa,xa,na),ha=ha in Ga?Ga[ha]:Ga[ha]=d(),ha.rc+=Aa,ha.gc+=xa,ha.bc+=na,ha.cnt++;return Ga}(J,
Y);for(var S=J.length,E=S-1,P=new Uint32Array(S+1),aa=0,ja=0;ja<S;++ja){const qa=J[ja];null!=qa&&(sa=1/qa.cnt,T&&(qa.ac*=sa),qa.rc*=sa,qa.gc*=sa,qa.bc*=sa,J[aa++]=qa)}.022>I*I/aa&&(L=!1);var oa,ra;for(ja=0;ja<aa-1;++ja)J[ja].fw=ja+1,J[ja+1].bk=ja,L&&(J[ja].cnt=Math.sqrt(J[ja].cnt));L&&(J[ja].cnt=Math.sqrt(J[ja].cnt));for(ja=0;ja<aa;++ja){h(J,ja,!1);L=J[ja].err;for(sa=++P[0];1<sa&&(ra=sa>>1,!(J[oa=P[ra]].err<=L));sa=ra)P[sa]=oa;P[sa]=ja}var la;I=aa-I;for(ja=0;ja<I;){for(;;){aa=P[1];if((la=J[aa]).tm>=
la.mtm&&J[la.nn].mtm<=la.tm)break;la.mtm==E?aa=P[1]=P[P[0]--]:(h(J,aa,!1),la.tm=ja);L=J[aa].err;for(sa=1;(ra=sa+sa)<=P[0]&&(ra<P[0]&&J[P[ra]].err>J[P[ra+1]].err&&ra++,!(L<=J[oa=P[ra]].err));sa=ra)P[sa]=oa;P[sa]=aa}aa=J[la.nn];L=la.cnt;S=aa.cnt;var sa=1/(L+S);T&&(la.ac=sa*(L*la.ac+S*aa.ac));la.rc=sa*(L*la.rc+S*aa.rc);la.gc=sa*(L*la.gc+S*aa.gc);la.bc=sa*(L*la.bc+S*aa.bc);la.cnt+=aa.cnt;la.mtm=++ja;J[aa.bk].fw=aa.fw;J[aa.fw].bk=aa.bk;aa.mtm=E}oa=[];for(ja=0;;0){ra=r(Math.round(J[ja].rc),0,255);la=r(Math.round(J[ja].gc),
0,255);E=r(Math.round(J[ja].bc),0,255);P=255;T&&(P=r(Math.round(J[ja].ac),0,255),Z&&(Da="number"==typeof Z?Z:127,P=P<=Da?0:255),ea&&P<=X&&(ra=la=E=da,P=0));var Da=T?[ra,la,E,P]:[ra,la,E];if(function(qa,Aa){for(let ha=0;ha<qa.length;ha++){var Ga=qa[ha],Ka=Ga[0]===Aa[0]&&Ga[1]===Aa[1]&&Ga[2]===Aa[2];Ga=!(4<=Ga.length&&4<=Aa.length)||Ga[3]===Aa[3];if(Ka&&Ga)return!0}return!1}(oa,Da)||oa.push(Da),0==(ja=J[ja].fw))break}return oa},snapColorsToPalette:()=>function(J,I,T=5){if(J.length&&I.length){var Y=
J.map(Z=>Z.slice(0,3));T*=T;var ea=J[0].length;for(let Z=0;Z<I.length;Z++){let L=I[Z];L=L.length<ea?[L[0],L[1],L[2],255]:L.length>ea?L.slice(0,3):L.slice();var da=n(Y,L.slice(0,3),b),X=da[0];da=da[1];0<da&&da<=T&&(J[X]=L)}}}};for(A in R)a(F,A,{get:R[A],enumerable:!0});var M={signature:"GIF",version:"89a",trailer:59,extensionIntroducer:33,applicationExtensionLabel:255,graphicControlExtensionLabel:249,imageSeparator:44,signatureSize:3,versionSize:3,globalColorTableFlagMask:128,colorResolutionMask:112,
sortFlagMask:8,globalColorTableSizeMask:7,applicationIdentifierSize:8,applicationAuthCodeSize:3,disposalMethodMask:28,userInputFlagMask:2,transparentColorFlagMask:1,localColorTableFlagMask:128,interlaceFlagMask:64,idSortFlagMask:32,localColorTableSizeMask:7},K=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535],G=function(J,I,T,Y,ea=z(512),da=new Uint8Array(256),X=new Int32Array(5003),Z=new Int32Array(5003)){function L(ha){S&=K[E];0<E?S|=ha<<E:S=ha;for(E+=ja;8<=E;)da[sa++]=255&S,
254<=sa&&(ea.writeByte(sa),ea.writeBytesView(da,0,sa),sa=0),S>>=8,E-=8;if((la>oa||aa)&&(aa?(ja=P,oa=(1<<ja)-1,aa=!1):(++ja,oa=12===ja?1<<ja:(1<<ja)-1)),ha==ra){for(;0<E;)da[sa++]=255&S,254<=sa&&(ea.writeByte(sa),ea.writeBytesView(da,0,sa),sa=0),S>>=8,E-=8;0<sa&&(ea.writeByte(sa),ea.writeBytesView(da,0,sa),sa=0)}}J=X.length;Y=Math.max(2,Y);da.fill(0);Z.fill(0);X.fill(-1);let S=0,E=0;const P=I=Y+1;let aa=!1,ja=P,oa=(1<<ja)-1;I=1<<I-1;const ra=1+I;let la=2+I,sa=0,Da=T[0],qa=0;for(var Aa=J;65536>Aa;Aa*=
2)++qa;qa=8-qa;ea.writeByte(Y);L(I);Y=T.length;for(let ha=1;ha<Y;ha++)a:{Aa=T[ha];var Ga=(Aa<<12)+Da;let na=Aa<<qa^Da;if(X[na]===Ga)Da=Z[na];else{for(var Ka=0===na?1:J-na;0<=X[na];)if(0>(na-=Ka)&&(na+=J),X[na]===Ga){Da=Z[na];break a}L(Da);Da=Aa;4096>la?(Z[na]=la++,X[na]=Ga):(X.fill(-1),la=2+I,aa=!0,L(I))}}return L(Da),L(ra),ea.writeByte(0),ea.bytesView()},U=q},{}],254:[function(a,R,F){F.read=function(z,y,w,r,l){var h=8*l-r-1;var d=(1<<h)-1,b=d>>1,g=-7,p=w?l-1:0,k=w?-1:1;l=z[y+p];p+=k;w=l&(1<<-g)-
1;l>>=-g;for(g+=h;0<g;w=256*w+z[y+p],p+=k,g-=8);h=w&(1<<-g)-1;w>>=-g;for(g+=r;0<g;h=256*h+z[y+p],p+=k,g-=8);if(0===w)w=1-b;else{if(w===d)return h?NaN:1/0*(l?-1:1);h+=Math.pow(2,r);w-=b}return(l?-1:1)*h*Math.pow(2,w-r)};F.write=function(z,y,w,r,l,h){var d,b,g=8*h-l-1,p=(1<<g)-1,k=p>>1,n=23===l?Math.pow(2,-24)-Math.pow(2,-77):0,q=r?0:h-1,u=r?1:-1;h=0>y||0===y&&0>1/y?1:0;y=Math.abs(y);for(isNaN(y)||y===1/0?(b=isNaN(y)?1:0,d=p):(d=Math.floor(Math.log(y)/Math.LN2),1>y*(r=Math.pow(2,-d))&&(d--,r*=2),2<=
(y+=1<=d+k?n/r:n*Math.pow(2,1-k))*r&&(d++,r/=2),p<=d+k?(b=0,d=p):1<=d+k?(b=(y*r-1)*Math.pow(2,l),d+=k):(b=y*Math.pow(2,k-1)*Math.pow(2,l),d=0));8<=l;z[w+q]=255&b,q+=u,b/=256,l-=8);d=d<<l|b;for(g+=l;0<g;z[w+q]=255&d,q+=u,d/=256,g-=8);z[w+q-u]|=128*h}},{}],255:[function(a,R,F){function z(fa,ka){return fa.b===ka.b&&fa.a===ka.a}function y(fa,ka){return fa.b<ka.b||fa.b===ka.b&&fa.a<=ka.a}function w(fa,ka,Q){var W=ka.b-fa.b,ia=Q.b-ka.b;return 0<W+ia?W<ia?ka.a-fa.a+W/(W+ia)*(fa.a-Q.a):ka.a-Q.a+ia/(W+ia)*
(Q.a-fa.a):0}function r(fa,ka,Q){var W=ka.b-fa.b,ia=Q.b-ka.b;return 0<W+ia?(ka.a-Q.a)*W+(ka.a-fa.a)*ia:0}function l(fa,ka){return fa.a<ka.a||fa.a===ka.a&&fa.b<=ka.b}function h(fa,ka,Q){var W=ka.a-fa.a,ia=Q.a-ka.a;return 0<W+ia?W<ia?ka.b-fa.b+W/(W+ia)*(fa.b-Q.b):ka.b-Q.b+ia/(W+ia)*(Q.b-fa.b):0}function d(fa,ka,Q){var W=ka.a-fa.a,ia=Q.a-ka.a;return 0<W+ia?(ka.b-Q.b)*W+(ka.b-fa.b)*ia:0}function b(fa,ka,Q,W){return(fa=0>fa?0:fa)<=(Q=0>Q?0:Q)?0===Q?(ka+W)/2:ka+fa/(fa+Q)*(W-ka):W+Q/(fa+Q)*(ka-W)}function g(fa){var ka=
u(fa.b);return x(ka,fa.c),x(ka.b,fa.c),C(ka,fa.a),ka}function p(fa,ka){var Q=!1,W=!1;fa!==ka&&(ka.a!==fa.a&&(W=!0,M(ka.a,fa.a)),ka.d!==fa.d&&(Q=!0,K(ka.d,fa.d)),v(ka,fa),W||(x(ka,fa.a),fa.a.c=fa),Q||(C(ka,fa.d),fa.d.a=fa))}function k(fa){var ka=fa.b,Q=!1;fa.d!==fa.b.d&&(Q=!0,K(fa.d,fa.b.d));fa.c===fa?M(fa.a,null):(fa.b.d.a=fa.b.e,fa.a.c=fa.c,v(fa,fa.b.e),Q||C(fa,fa.d));ka.c===ka?(M(ka.a,null),K(ka.d,null)):(fa.d.a=ka.b.e,ka.a.c=ka.c,v(ka,ka.b.e));A(fa)}function n(fa){var ka=u(fa),Q=ka.b;return v(ka,
fa.e),ka.a=fa.b.a,x(Q,ka.a),ka.d=Q.d=fa.d,ka=ka.b,v(fa.b,fa.b.b.e),v(fa.b,ka),fa.b.a=ka.a,ka.b.a.c=ka.b,ka.b.d=fa.b.d,ka.f=fa.f,ka.b.f=fa.b.f,ka}function q(fa,ka){var Q=!1,W=u(fa),ia=W.b;return ka.d!==fa.d&&(Q=!0,K(ka.d,fa.d)),v(W,fa.e),v(ia,ka),W.a=fa.b.a,ia.a=ka.a,W.d=ia.d=fa.d,fa.d.a=ia,Q||C(W,fa.d),W}function u(fa){var ka=new ha,Q=new ha;return(((Q.h=fa.b.h).b.h=ka).h=fa).b.h=Q,ka.b=Q,((ka.c=ka).e=Q).b=ka,(Q.c=Q).e=ka}function v(fa,ka){var Q=fa.c,W=ka.c;Q.b.e=ka;(W.b.e=fa).c=W;ka.c=Q}function x(fa,
ka){var Q=ka.f,W=new xa(ka,Q);Q.e=W;for(Q=(ka.f=W).c=fa;Q.a=W,(Q=Q.c)!==fa;);}function C(fa,ka){var Q=ka.d,W=new Ka(ka,Q);Q.b=W;(ka.d=W).a=fa;W.c=ka.c;for(Q=fa;Q.d=W,(Q=Q.e)!==fa;);}function A(fa){var ka=fa.h;fa=fa.b.h;(ka.b.h=fa).b.h=ka}function M(fa,ka){for(var Q=fa.c,W=Q;W.a=ka,(W=W.c)!==Q;);Q=fa.f;((W=fa.e).f=Q).e=W}function K(fa,ka){for(var Q=fa.a,W=Q;W.d=ka,(W=W.e)!==Q;);Q=fa.d;((W=fa.b).d=Q).b=W}function G(fa){var ka=0;return Math.abs(fa[1])>Math.abs(fa[0])&&(ka=1),Math.abs(fa[2])>Math.abs(fa[ka])?
2:ka}function U(fa,ka){fa.f+=ka.f;fa.b.f+=ka.b.f}function J(fa,ka,Q){return fa=fa.a,ka=ka.a,Q=Q.a,ka.b.a===fa?Q.b.a===fa?y(ka.a,Q.a)?0>=r(Q.b.a,ka.a,Q.a):0<=r(ka.b.a,Q.a,ka.a):0>=r(Q.b.a,fa,Q.a):Q.b.a===fa?0<=r(ka.b.a,fa,ka.a):(ka=w(ka.b.a,fa,ka.a),w(Q.b.a,fa,Q.a)<=ka)}function I(fa){fa.a.i=null;var ka=fa.e;ka.a.c=ka.c;ka.c.a=ka.a;fa.e=null}function T(fa,ka){k(fa.a);fa.c=!1;(fa.a=ka).i=fa}function Y(fa){for(var ka=fa.a.a;(fa=Ab(fa)).a.a===ka;);return fa.c&&(T(fa,q(ab(fa).a.b,fa.a.e)),fa=Ab(fa)),fa}
function ea(fa,ka,Q){var W=new rb;return W.a=Q,W.e=sa(fa.f,ka.e,W),Q.i=W}function da(fa,ka){switch(fa.s){case 100130:return 0!=(1&ka);case 100131:return 0!==ka;case 100132:return 0<ka;case 100133:return 0>ka;case 100134:return 2<=ka||-2>=ka}return!1}function X(fa){var ka=fa.a,Q=ka.d;Q.c=fa.d;Q.a=ka;I(fa)}function Z(fa,ka,Q){for(ka=(fa=ka).a;fa!==Q;){fa.c=!1;var W=ab(fa),ia=W.a;if(ia.a!==ka.a){if(!W.c){X(fa);break}T(W,ia=q(ka.c.b,ia.b))}ka.c!==ia&&(p(ia.b.e,ia),p(ka,ia));X(fa);ka=W.a;fa=W}return ka}
function L(fa,ka,Q,W,ia,va){for(var ya=!0;ea(fa,ka,Q.b),(Q=Q.c)!==W;);for(null===ia&&(ia=ab(ka).a.b.c);(Q=(W=ab(ka)).a.b).a===ia.a;)Q.c!==ia&&(p(Q.b.e,Q),p(ia.b.e,Q)),W.f=ka.f-Q.f,W.d=da(fa,W.f),ka.b=!0,!ya&&aa(fa,ka)&&(U(Q,ia),I(ka),k(ia)),ya=!1,ka=W,ia=Q;ka.b=!0;va&&oa(fa,ka)}function S(fa,ka,Q,W,ia){var va=[ka.g[0],ka.g[1],ka.g[2]];ka.d=null;ka.d=fa.o&&fa.o(va,Q,W,fa.c)||null;null===ka.d&&(ia?fa.n||(Ga(fa,100156),fa.n=!0):ka.d=Q[0])}function E(fa,ka,Q){var W=[null,null,null,null];W[0]=ka.a.d;W[1]=
Q.a.d;S(fa,ka.a,W,[.5,.5,0,0],!1);p(ka,Q)}function P(fa,ka,Q,W,ia){var va=Math.abs(ka.b-fa.b)+Math.abs(ka.a-fa.a),ya=Math.abs(Q.b-fa.b)+Math.abs(Q.a-fa.a),Ia=ia+1;W[ia]=.5*ya/(va+ya);W[Ia]=.5*va/(va+ya);fa.g[0]+=W[ia]*ka.g[0]+W[Ia]*Q.g[0];fa.g[1]+=W[ia]*ka.g[1]+W[Ia]*Q.g[1];fa.g[2]+=W[ia]*ka.g[2]+W[Ia]*Q.g[2]}function aa(fa,ka){var Q=ab(ka),W=ka.a,ia=Q.a;if(y(W.a,ia.a)){if(0<r(ia.b.a,W.a,ia.a))return;if(z(W.a,ia.a)){if(W.a!==ia.a){Q=fa.e;ka=W.a.h;if(0<=ka){var va=(Q=Q.b).d,ya=Q.e,Ia=Q.c,La=Ia[ka];
va[La]=va[Q.a];(Ia[va[La]]=La)<=--Q.a&&(1>=La||y(ya[va[La>>1]],ya[va[La]])?wb:nb)(Q,La);ya[ka]=null;Ia[ka]=Q.b;Q.b=ka}else for(Q.c[-(ka+1)]=null;0<Q.a&&null===Q.c[Q.d[Q.a-1]];)--Q.a;E(fa,ia.b.e,W)}}else n(ia.b),p(W,ia.b.e),ka.b=Q.b=!0}else{if(0>r(W.b.a,ia.a,W.a))return;Ab(ka).b=ka.b=!0;n(W.b);p(ia.b.e,W)}return 1}function ja(fa,ka){var Q=ab(ka),W=ka.a,ia=Q.a,va=W.a,ya=ia.a,Ia=W.b.a,La=ia.b.a,db=new xa;if(r(Ia,fa.a,va),r(La,fa.a,ya),!(va===ya||Math.min(va.a,Ia.a)>Math.max(ya.a,La.a))){if(y(va,ya)){if(0<
r(La,va,ya))return}else if(0>r(Ia,ya,va))return;var fb,pb,kb=Ia,Va=va,qb=La,jb=ya;if(y(kb,Va)||(fb=kb,kb=Va,Va=fb),y(qb,jb)||(fb=qb,qb=jb,jb=fb),y(kb,qb)||(fb=kb,kb=qb,qb=fb,fb=Va,Va=jb,jb=fb),y(qb,Va)?y(Va,jb)?(0>(fb=w(kb,qb,Va))+(pb=w(qb,Va,jb))&&(fb=-fb,pb=-pb),db.b=b(fb,qb.b,pb,Va.b)):(0>(fb=r(kb,qb,Va))+(pb=-r(kb,jb,Va))&&(fb=-fb,pb=-pb),db.b=b(fb,qb.b,pb,jb.b)):db.b=(qb.b+Va.b)/2,l(kb,Va)||(fb=kb,kb=Va,Va=fb),l(qb,jb)||(fb=qb,qb=jb,jb=fb),l(kb,qb)||(fb=kb,kb=qb,qb=fb,fb=Va,Va=jb,jb=fb),l(qb,
Va)?l(Va,jb)?(0>(fb=h(kb,qb,Va))+(pb=h(qb,Va,jb))&&(fb=-fb,pb=-pb),db.a=b(fb,qb.a,pb,Va.a)):(0>(fb=d(kb,qb,Va))+(pb=-d(kb,jb,Va))&&(fb=-fb,pb=-pb),db.a=b(fb,qb.a,pb,jb.a)):db.a=(qb.a+Va.a)/2,y(db,fa.a)&&(db.b=fa.a.b,db.a=fa.a.a),kb=y(va,ya)?va:ya,y(kb,db)&&(db.b=kb.b,db.a=kb.a),z(db,va)||z(db,ya))return aa(fa,ka),0;if(!z(Ia,fa.a)&&0<=r(Ia,fa.a,db)||!z(La,fa.a)&&0>=r(La,fa.a,db)){if(La===fa.a)n(W.b),p(ia.b,W),W=ab(ka=Y(ka)).a,Z(fa,ab(ka),Q),L(fa,ka,W.b.e,W,W,!0);else{if(Ia!==fa.a)return 0<=r(Ia,fa.a,
db)&&(Ab(ka).b=ka.b=!0,n(W.b),W.a.b=fa.a.b,W.a.a=fa.a.a),void(0>=r(La,fa.a,db)&&(ka.b=Q.b=!0,n(ia.b),ia.a.b=fa.a.b,ia.a.a=fa.a.a));n(ia.b);p(W.e,ia.b.e);for(ya=(va=Q=ka).a.b.a;(va=Ab(va)).a.b.a===ya;);va=ab(ka=va).a.b.c;Q.a=ia.b.e;L(fa,ka,Z(fa,Q,null).c,W.b.c,va,!0)}return 1}n(W.b);n(ia.b);p(ia.b.e,W);W.a.b=db.b;W.a.a=db.a;W.a.h=za(fa.e,W.a);W=W.a;ia=[0,0,0,0];db=[va.d,Ia.d,ya.d,La.d];W.g[0]=W.g[1]=W.g[2]=0;P(W,va,Ia,ia,0);P(W,ya,La,ia,2);S(fa,W,db,ia,!0);Ab(ka).b=ka.b=Q.b=!0}}function oa(fa,ka){for(var Q=
ab(ka);;){for(;Q.b;)Q=ab(ka=Q);if(!(ka.b||null!==(ka=Ab(Q=ka))&&ka.b))break;ka.b=!1;var W=ka.a,ia=Q.a;if(va=W.b.a!==ia.b.a)a:{var va,ya=ab(va=ka),Ia=va.a,La=ya.a;if(y(Ia.b.a,La.b.a)){if(0>r(Ia.b.a,La.b.a,Ia.a)){va=!1;break a}Ab(va).b=va.b=!0;ya=n(Ia);p(La.b,ya);ya.d.c=va.d}else{if(0<r(La.b.a,Ia.b.a,La.a)){va=!1;break a}va.b=ya.b=!0;ya=n(La);p(Ia.e,La.b);ya.b.d.c=va.d}va=!0}if(va&&(Q.c?(I(Q),k(ia),ia=(Q=ab(ka)).a):ka.c&&(I(ka),k(W),W=(ka=Ab(Q)).a)),W.a!==ia.a)if(W.b.a===ia.b.a||ka.c||Q.c||W.b.a!==
fa.a&&ia.b.a!==fa.a)aa(fa,ka);else if(ja(fa,ka))break;W.a===ia.a&&W.b.a===ia.b.a&&(U(ia,W),I(ka),k(W),ka=Ab(Q))}}function ra(fa,ka){var Q=new rb,W=g(fa.b);W.a.b=4E150;W.a.a=ka;W.b.a.b=-4E150;W.b.a.a=ka;fa.a=W.b.a;Q.a=W;Q.f=0;Q.d=!1;Q.c=!1;Q.h=!0;Q.b=!1;W=sa(W=fa.f,W.a,Q);Q.e=W}function la(fa){this.a=new Da;this.b=fa;this.c=J}function sa(fa,ka,Q){for(;null!==(ka=ka.c).b&&!fa.c(fa.b,ka.b,Q););return fa=new Da(Q,ka.a,ka),ka.a.c=fa,ka.a=fa}function Da(fa,ka,Q){this.b=fa||null;this.a=ka||this;this.c=Q||
this}function qa(){this.d=0;this.p=this.b=this.q=null;this.j=[0,0,0];this.s=100130;this.n=!1;this.o=this.a=this.e=this.f=null;this.m=!1;this.c=this.r=this.i=this.k=this.l=this.h=null}function Aa(fa,ka){if(fa.d!==ka)for(;fa.d!==ka;)if(fa.d<ka)switch(fa.d){case 0:Ga(fa,100151);fa.u(null);break;case 1:Ga(fa,100152),fa.t()}else switch(fa.d){case 2:Ga(fa,100154);fa.v();break;case 1:Ga(fa,100153),fa.w()}}function Ga(fa,ka){fa.p&&fa.p(ka,fa.c)}function Ka(fa,ka){this.b=fa||this;this.d=ka||this;this.a=null;
this.c=!1}function ha(){(this.h=this).i=this.d=this.a=this.e=this.c=this.b=null;this.f=0}function na(){this.c=new xa;this.a=new Ka;this.b=new ha;this.d=new ha;this.b.b=this.d;this.d.b=this.b}function xa(fa,ka){this.e=fa||this;this.f=ka||this;this.d=this.c=null;this.g=[0,0,0];this.h=this.a=this.b=0}function Ca(){this.c=[];this.d=null;this.a=0;this.e=!1;this.b=new Oa}function za(fa,ka){var Q,W,ia;return fa.e?(2*(W=++(Q=fa.b).a)>Q.f&&(Q.f*=2,Q.c=bb(Q.c,Q.f+1)),0===Q.b?ia=W:(ia=Q.b,Q.b=Q.c[Q.b]),Q.e[ia]=
ka,Q.c[ia]=W,Q.d[W]=ia,Q.h&&nb(Q,W),ia):(Q=fa.a++,fa.c[Q]=ka,-(Q+1))}function Na(fa){if(0===fa.a)return cb(fa.b);var ka=fa.c[fa.d[fa.a-1]];if(0!==fa.b.a&&y(eb(fa.b),ka))return cb(fa.b);for(;--fa.a,0<fa.a&&null===fa.c[fa.d[fa.a-1]];);return ka}function Oa(){this.d=bb([0],33);this.e=[null,null];this.c=[0,0];this.a=0;this.f=32;this.b=0;this.h=!1;this.d[1]=1}function bb(fa,ka){for(var Q=Array(ka),W=0;W<fa.length;W++)Q[W]=fa[W];for(;W<ka;W++)Q[W]=0;return Q}function eb(fa){return fa.e[fa.d[1]]}function cb(fa){var ka=
fa.d,Q=fa.e,W=fa.c,ia=ka[1],va=Q[ia];return 0<fa.a&&(ka[1]=ka[fa.a],W[ka[1]]=1,Q[ia]=null,W[ia]=fa.b,fa.b=ia,0<--fa.a&&wb(fa,1)),va}function wb(fa,ka){for(var Q=fa.d,W=fa.e,ia=fa.c,va=Q[ka];;){var ya=ka<<1,Ia=(ya<fa.a&&y(W[Q[ya+1]],W[Q[ya]])&&(ya+=1),Q[ya]);if(ya>fa.a||y(W[va],W[Ia])){ia[Q[ka]=va]=ka;break}ia[Q[ka]=Ia]=ka;ka=ya}}function nb(fa,ka){var Q=fa.d,W=fa.e;fa=fa.c;for(var ia=Q[ka];;){var va=ka>>1,ya=Q[va];if(0==va||y(W[ya],W[ia])){fa[Q[ka]=ia]=ka;break}fa[Q[ka]=ya]=ka;ka=va}}function rb(){this.e=
this.a=null;this.f=0;this.c=this.b=this.h=this.d=!1}function ab(fa){return fa.e.c.b}function Ab(fa){return fa.e.a.b}(a=qa.prototype).x=function(){Aa(this,0)};a.B=function(fa,ka){switch(fa){case 100142:return;case 100140:switch(ka){case 100130:case 100131:case 100132:case 100133:case 100134:return void(this.s=ka)}break;case 100141:return void(this.m=!!ka);default:return void Ga(this,100900)}Ga(this,100901)};a.y=function(fa){switch(fa){case 100142:return 0;case 100140:return this.s;case 100141:return this.m;
default:Ga(this,100900)}return!1};a.A=function(fa,ka,Q){this.j[0]=fa;this.j[1]=ka;this.j[2]=Q};a.z=function(fa,ka){ka=ka||null;switch(fa){case 100100:case 100106:this.h=ka;break;case 100104:case 100110:this.l=ka;break;case 100101:case 100107:this.k=ka;break;case 100102:case 100108:this.i=ka;break;case 100103:case 100109:this.p=ka;break;case 100105:case 100111:this.o=ka;break;case 100112:this.r=ka;break;default:Ga(this,100900)}};a.C=function(fa,ka){var Q=!1,W=[0,0,0];Aa(this,2);for(var ia=0;3>ia;++ia){var va=
fa[ia];-1E150>va&&(va=-1E150,Q=!0);1E150<va&&(va=1E150,Q=!0);W[ia]=va}Q&&Ga(this,100155);null===(Q=this.q)?p(Q=g(this.b),Q.b):(n(Q),Q=Q.e);Q.a.d=ka;Q.a.g[0]=W[0];Q.a.g[1]=W[1];Q.a.g[2]=W[2];Q.f=1;Q.b.f=-1;this.q=Q};a.u=function(fa){Aa(this,0);this.d=1;this.b=new na;this.c=fa};a.t=function(){Aa(this,1);this.d=2;this.q=null};a.v=function(){Aa(this,2);this.d=1};a.w=function(){Aa(this,1);this.d=0;var fa,ka,Q=this.j[0],W=this.j[1],ia=this.j[2],va=!1,ya=[Q,W,ia];if(0===Q&&0===W&&0===ia){W=[-2E150,-2E150,
-2E150];var Ia=[2E150,2E150,2E150];ia=[];var La=[];for(Q=(va=this.b.c).e;Q!==va;Q=Q.e)for(var db=0;3>db;++db){var fb=Q.g[db];fb<Ia[db]&&(Ia[db]=fb,La[db]=Q);fb>W[db]&&(W[db]=fb,ia[db]=Q)}if(W[1]-Ia[1]>W[Q=0]-Ia[0]&&(Q=1),Ia[Q=W[2]-Ia[2]>W[Q]-Ia[Q]?2:Q]>=W[Q])ya[0]=0,ya[1]=0,ya[2]=1;else{Ia=La[Q];ia=ia[Q];La=[W=0,0,0];Ia=[Ia.g[0]-ia.g[0],Ia.g[1]-ia.g[1],Ia.g[2]-ia.g[2]];db=[0,0,0];for(Q=va.e;Q!==va;Q=Q.e)db[0]=Q.g[0]-ia.g[0],db[1]=Q.g[1]-ia.g[1],db[2]=Q.g[2]-ia.g[2],La[0]=Ia[1]*db[2]-Ia[2]*db[1],La[1]=
Ia[2]*db[0]-Ia[0]*db[2],La[2]=Ia[0]*db[1]-Ia[1]*db[0],W<(fb=La[0]*La[0]+La[1]*La[1]+La[2]*La[2])&&(W=fb,ya[0]=La[0],ya[1]=La[1],ya[2]=La[2]);0>=W&&(ya[0]=ya[1]=ya[2]=0,ya[G(Ia)]=1)}va=!0}La=G(ya);Q=this.b.c;W=(La+1)%3;ia=(La+2)%3;La=0<ya[La]?1:-1;for(ya=Q.e;ya!==Q;ya=ya.e)ya.b=ya.g[W],ya.a=La*ya.g[ia];if(va){ya=0;for(Q=(va=this.b.a).b;Q!==va;Q=Q.b)if(!(0>=(W=Q.a).f))for(;ya+=(W.a.b-W.b.a.b)*(W.a.a+W.b.a.a),(W=W.e)!==Q.a;);if(0>ya)for(va=(ya=this.b.c).e;va!==ya;va=va.e)va.a=-va.a}this.n=!1;ya=this.b.b;
for(Q=ya.h;Q!==ya;Q=va)va=Q.h,W=Q.e,z(Q.a,Q.b.a)&&Q.e.e!==Q&&(E(this,W,Q),k(Q),W=(Q=W).e),W.e===Q&&(W!==Q&&(W!==va&&W!==va.b||(va=va.h),k(W)),Q!==va&&Q!==va.b||(va=va.h),k(Q));this.e=ya=new Ca;va=this.b.c;for(Q=va.e;Q!==va;Q=Q.e)Q.h=za(ya,Q);Q=ya;Q.d=[];for(W=0;W<Q.a;W++)Q.d[W]=W;Q.d.sort(function(pb){return function(kb,Va){return y(pb[kb],pb[Va])?1:-1}}(Q.c));Q.e=!0;Q=Q.b;for(W=Q.a;1<=W;--W)wb(Q,W);Q.h=!0;this.f=new la(this);ra(this,-4E150);for(ra(this,4E150);null!==(ya=Na(this.e));){for(;;){if(0===
(Q=this.e).a)va=eb(Q.b);else if(va=Q.c[Q.d[Q.a-1]],0!==Q.b.a&&y(Q=eb(Q.b),va))va=Q;if(null===va||!z(va,ya))break;va=Na(this.e);E(this,ya.c,va.c)}!function qb(kb,Va){for(var jb,Ib=(kb.a=Va).c;null===Ib.i;)if((Ib=Ib.c)===Va.c){Ib=kb;var Hb=Va;(Jb=new rb).a=Hb.c.b;for(var Pb=(Va=Ib.f).a;null!==(Pb=Pb.a).b&&!Va.c(Va.b,Jb,Pb.b););var Ob,dc=ab(Va=Pb.b),Jb=Va.a;Pb=dc.a;return void(0===r(Jb.b.a,Hb,Jb.a)?z((Jb=Va.a).a,Hb)||z(Jb.b.a,Hb)||(n(Jb.b),Va.c&&(k(Jb.c),Va.c=!1),p(Hb.c,Jb),qb(Ib,Hb)):(Ob=y(Pb.b.a,Jb.b.a)?
Va:dc,Va.d||Ob.c?(dc=Ob===Va?q(Hb.c.b,Jb.e):q(Pb.b.c.b,Hb.c).b,Ob.c?T(Ob,dc):((Va=ea(Jb=Ib,Va,dc)).f=Ab(Va).f+Va.a.f,Va.d=da(Jb,Va.f)),qb(Ib,Hb)):L(Ib,Va,Hb.c,Hb.c,null,!0)))}Va=(Jb=ab(Ib=Y(Ib.i))).a;(Jb=Z(kb,Jb,null)).c===Va?(Jb=(Va=Jb).c,Pb=ab(Ib),dc=Ib.a,Ob=Pb.a,jb=!1,dc.b.a!==Ob.b.a&&ja(kb,Ib),z(dc.a,kb.a)&&(p(Jb.b.e,dc),Jb=ab(Ib=Y(Ib)).a,Z(kb,ab(Ib),Pb),jb=!0),z(Ob.a,kb.a)&&(p(Va,Ob.b.e),Va=Z(kb,Pb,null),jb=!0),jb?L(kb,Ib,Va.c,Jb,Jb,!0):(Hb=y(Ob.a,dc.a)?Ob.b.e:dc,L(kb,Ib,Hb=q(Va.c.b,Hb),Hb.c,
Hb.c,!1),Hb.b.i.c=!0,oa(kb,Ib))):L(kb,Ib,Jb.c,Va,Va,!0)}(this,ya)}this.a=this.f.a.a.b.a.a;for(ya=0;null!==(va=this.f.a.a.b);)va.h||++ya,I(va);this.f=null;(ya=this.e).b=null;ya.d=null;this.e=ya.c=null;ya=this.b;for(Q=ya.a.b;Q!==ya.a;Q=va)va=Q.b,(Q=Q.a).e.e===Q&&(U(Q.c,Q),k(Q));if(!this.n){if(ya=this.b,this.m)for(Q=ya.b.h;Q!==ya.b;Q=va)va=Q.h,Q.b.d.c!==Q.d.c?Q.f=Q.d.c?1:-1:k(Q);else for(Q=ya.a.b;Q!==ya.a;Q=va)if(va=Q.b,Q.c){for(Q=Q.a;y(Q.b.a,Q.a);Q=Q.c.b);for(;y(Q.a,Q.b.a);Q=Q.e);W=Q.c.b;for(ia=void 0;Q.e!==
W;)if(y(Q.b.a,W.a)){for(;W.e!==Q&&(y((ka=W.e).b.a,ka.a)||0>=r(W.a,W.b.a,W.e.b.a));)W=(ia=q(W.e,W)).b;W=W.c.b}else{for(;W.e!==Q&&(y((fa=Q.c.b).a,fa.b.a)||0<=r(Q.b.a,Q.a,Q.c.b.a));)Q=(ia=q(Q,Q.c.b)).b;Q=Q.e}for(;W.e.e!==Q;)ia=q(W.e,W),W=ia.b}if(this.h||this.i||this.k||this.l)if(this.m)for(va=(ya=this.b).a.b;va!==ya.a;va=va.b){if(va.c){this.h&&this.h(2,this.c);for(Q=va.a;this.k&&this.k(Q.a.d,this.c),(Q=Q.e)!==va.a;);this.i&&this.i(this.c)}}else{ya=this.b;va=!!this.l;Q=!1;W=-1;for(ia=ya.a.d;ia!==ya.a;ia=
ia.d)if(ia.c)for(Q||(this.h&&this.h(4,this.c),Q=!0),La=ia.a;va&&(Ia=La.b.d.c?0:1,W!==Ia&&(W=Ia,this.l&&this.l(!!W,this.c))),this.k&&this.k(La.a.d,this.c),(La=La.e)!==ia.a;);Q&&this.i&&this.i(this.c)}if(this.r){ya=this.b;for(Q=ya.a.b;Q!==ya.a;Q=va)if(va=Q.b,!Q.c){ia=(W=Q.a).e;for(La=void 0;ia=(La=ia).e,(La.d=null)===La.b.d&&(La.c===La?M(La.a,null):(La.a.c=La.c,v(La,La.b.e)),(Ia=La.b).c===Ia?M(Ia.a,null):(Ia.a.c=Ia.c,v(Ia,Ia.b.e)),A(La)),La!==W;);W=Q.d;((Q=Q.b).d=W).b=Q}return this.r(this.b),void(this.c=
this.b=null)}}this.b=this.c=null};this.libtess={GluTesselator:qa,windingRule:{GLU_TESS_WINDING_ODD:100130,GLU_TESS_WINDING_NONZERO:100131,GLU_TESS_WINDING_POSITIVE:100132,GLU_TESS_WINDING_NEGATIVE:100133,GLU_TESS_WINDING_ABS_GEQ_TWO:100134},primitiveType:{GL_LINE_LOOP:2,GL_TRIANGLES:4,GL_TRIANGLE_STRIP:5,GL_TRIANGLE_FAN:6},errorType:{GLU_TESS_MISSING_BEGIN_POLYGON:100151,GLU_TESS_MISSING_END_POLYGON:100153,GLU_TESS_MISSING_BEGIN_CONTOUR:100152,GLU_TESS_MISSING_END_CONTOUR:100154,GLU_TESS_COORD_TOO_LARGE:100155,
GLU_TESS_NEED_COMBINE_CALLBACK:100156},gluEnum:{GLU_TESS_MESH:100112,GLU_TESS_TOLERANCE:100142,GLU_TESS_WINDING_RULE:100140,GLU_TESS_BOUNDARY_ONLY:100141,GLU_INVALID_ENUM:100900,GLU_INVALID_VALUE:100901,GLU_TESS_BEGIN:100100,GLU_TESS_VERTEX:100101,GLU_TESS_END:100102,GLU_TESS_ERROR:100103,GLU_TESS_EDGE_FLAG:100104,GLU_TESS_COMBINE:100105,GLU_TESS_BEGIN_DATA:100106,GLU_TESS_VERTEX_DATA:100107,GLU_TESS_END_DATA:100108,GLU_TESS_ERROR_DATA:100109,GLU_TESS_EDGE_FLAG_DATA:100110,GLU_TESS_COMBINE_DATA:100111}};
qa.prototype.gluDeleteTess=qa.prototype.x;qa.prototype.gluTessProperty=qa.prototype.B;qa.prototype.gluGetTessProperty=qa.prototype.y;qa.prototype.gluTessNormal=qa.prototype.A;qa.prototype.gluTessCallback=qa.prototype.z;qa.prototype.gluTessVertex=qa.prototype.C;qa.prototype.gluTessBeginPolygon=qa.prototype.u;qa.prototype.gluTessBeginContour=qa.prototype.t;qa.prototype.gluTessEndContour=qa.prototype.v;qa.prototype.gluTessEndPolygon=qa.prototype.w;void 0!==R&&(R.exports=this.libtess)},{}],256:[function(a,
R,F){function z(w,r,l,h){function d(v){v=v.length;if(2>v||256<v||v&v-1)throw Error("Invalid code/color length, must be power of 2 and 2 .. 256.");return v}var b=0,g=void 0===(h=void 0===h?{}:h).loop?null:h.loop,p=void 0===h.palette?null:h.palette;if(0>=r||0>=l||65535<r||65535<l)throw Error("Width/Height invalid.");w[b++]=71;w[b++]=73;w[b++]=70;w[b++]=56;w[b++]=57;w[b++]=97;var k=0,n=0;if(null!==p){for(var q=d(p);q>>=1;)++k;if(q=1<<k,--k,void 0!==h.background){if(q<=(n=h.background))throw Error("Background index out of range.");
if(0===n)throw Error("Background index explicitly passed as 0.");}}if(w[b++]=255&r,w[b++]=r>>8&255,w[b++]=255&l,w[b++]=l>>8&255,w[b++]=(null!==p?128:0)|k,w[b++]=n,w[b++]=0,null!==p)for(r=0,l=p.length;r<l;++r)h=p[r],w[b++]=h>>16&255,w[b++]=h>>8&255,w[b++]=255&h;if(null!==g){if(0>g||65535<g)throw Error("Loop count invalid.");w[b++]=33;w[b++]=255;w[b++]=11;w[b++]=78;w[b++]=69;w[b++]=84;w[b++]=83;w[b++]=67;w[b++]=65;w[b++]=80;w[b++]=69;w[b++]=50;w[b++]=46;w[b++]=48;w[b++]=3;w[b++]=1;w[b++]=255&g;w[b++]=
g>>8&255;w[b++]=0}var u=!1;this.addFrame=function(v,x,C,A,M,K){if(!0===u&&(--b,u=!1),K=void 0===K?{}:K,0>v||0>x||65535<v||65535<x)throw Error("x/y invalid.");if(0>=C||0>=A||65535<C||65535<A)throw Error("Width/Height invalid.");if(M.length<C*A)throw Error("Not enough pixels for the frame size.");var G=!0,U=K.palette;if(null==U&&(G=!1,U=p),null==U)throw Error("Must supply either a local or global palette.");for(var J=d(U),I=0;J>>=1;)++I;J=void 0===K.delay?0:K.delay;var T=void 0===K.disposal?0:K.disposal;
if(0>T||3<T)throw Error("Disposal out of range.");var Y=!1,ea=0;if(void 0!==K.transparent&&null!==K.transparent&&(Y=!0,0>(ea=K.transparent)||1<<I<=ea))throw Error("Transparent color index.");if(0===T&&!Y&&0===J||(w[b++]=33,w[b++]=249,w[b++]=4,w[b++]=T<<2|(!0===Y?1:0),w[b++]=255&J,w[b++]=J>>8&255,w[b++]=ea,w[b++]=0),w[b++]=44,w[b++]=255&v,w[b++]=v>>8&255,w[b++]=255&x,w[b++]=x>>8&255,w[b++]=255&C,w[b++]=C>>8&255,w[b++]=255&A,w[b++]=A>>8&255,w[b++]=!0===G?128|I-1:0,!0===G)for(v=0,x=U.length;v<x;++v)C=
U[v],w[b++]=C>>16&255,w[b++]=C>>8&255,w[b++]=255&C;return b=function(da,X,Z,L){function S(Ca){for(;Ca<=sa;)da[X++]=255&Da,Da>>=8,sa-=8,X===P+256&&(da[P]=255,P=X++)}function E(Ca){Da|=Ca<<sa;sa+=la;S(8)}da[X++]=Z;var P=X++,aa=1<<Z,ja=aa-1,oa=1+aa,ra=1+oa,la=Z+1,sa=0,Da=0,qa=L[0]&ja,Aa={};E(aa);for(var Ga=1,Ka=L.length;Ga<Ka;++Ga){var ha=L[Ga]&ja,na=qa<<8|ha,xa=Aa[na];if(void 0===xa){Da|=qa<<sa;for(sa+=la;8<=sa;)da[X++]=255&Da,Da>>=8,sa-=8,X===P+256&&(da[P]=255,P=X++);4096===ra?(E(aa),ra=1+oa,la=Z+
1,Aa={}):(1<<la<=ra&&++la,Aa[na]=ra++);qa=ha}else qa=xa}E(qa);E(oa);S(1);P+1===X?da[P]=0:(da[P]=X-P-1,da[X++]=0);return X}(w,b,2>I?2:I,M)};this.end=function(){return!1===u&&(w[b++]=59,u=!0),b};this.getOutputBuffer=function(){return w};this.setOutputBuffer=function(v){w=v};this.getOutputBufferPosition=function(){return b};this.setOutputBufferPosition=function(v){b=v}}function y(w,r,l,h){for(var d=w[r++],b=1<<d,g=1+b,p=1+g,k=d+1,n=(1<<k)-1,q=0,u=0,v=0,x=w[r++],C=new Int32Array(4096),A=null;;){for(;16>
q&&0!==x;)u|=w[r++]<<q,q+=8,1===x?x=w[r++]:--x;if(q<k)break;var M=u&n;if(u>>=k,q-=k,M==b)p=1+g,n=(1<<(k=d+1))-1,A=null;else{if(M==g)break;for(var K=M<p?M:A,G=0,U=K;b<U;)U=C[U]>>8,++G;var J=U;if(h<v+G+(K!==M?1:0))return void console.log("Warning, gif stream longer than expected.");l[v++]=J;var I=v+=G;K!==M&&(l[v++]=J);for(U=K;G--;)U=C[U],l[--I]=255&U,U>>=8;null!==A&&4096>p&&(C[p++]=A<<8|J,n+1<=p&&12>k&&(++k,n=n<<1|1));A=M}}v!==h&&console.log("Warning, gif stream shorter than expected.")}try{F.GifWriter=
z,F.GifReader=function(w){var r=0;if(71!==w[r++]||73!==w[r++]||70!==w[r++]||56!==w[r++]||56!=(w[r++]+1&253)||97!==w[r++])throw Error("Invalid GIF 87a/89a header.");var l=w[r++]|w[r++]<<8,h=w[r++]|w[r++]<<8,d=w[r++],b=1<<1+(7&d),g=(w[r++],w[r++],null),p=null;d=(d>>7&&(g=r,r+=3*(p=b)),!0);var k=[];b=0;var n=null,q=0,u=null;this.width=l;for(this.height=h;d&&r<w.length;)switch(w[r++]){case 33:switch(w[r++]){case 255:if(11!==w[r]||78==w[r+1]&&69==w[r+2]&&84==w[r+3]&&83==w[r+4]&&67==w[r+5]&&65==w[r+6]&&
80==w[r+7]&&69==w[r+8]&&50==w[r+9]&&46==w[r+10]&&48==w[r+11]&&3==w[r+12]&&1==w[r+13]&&0==w[r+16])r+=14,u=w[r++]|w[r++]<<8,r++;else for(r+=12;;){if(!(0<=(v=w[r++])))throw Error("Invalid block size");if(0===v)break;r+=v}break;case 249:if(4!==w[r++]||0!==w[r+4])throw Error("Invalid graphics extension block.");q=w[r++];b=w[r++]|w[r++]<<8;n=w[r++];0==(1&q)&&(n=null);q=q>>2&7;r++;break;case 254:for(;;){if(!(0<=(v=w[r++])))throw Error("Invalid block size");if(0===v)break;r+=v}break;default:throw Error("Unknown graphic control label: 0x"+
w[r-1].toString(16));}break;case 44:var v;h=w[r++]|w[r++]<<8;var x=w[r++]|w[r++]<<8,C=w[r++]|w[r++]<<8,A=w[r++]|w[r++]<<8,M=w[r++],K=M>>6&1;v=1<<1+(7&M);var G=g,U=p,J=!1;M=(M>>7&&(J=!0,G=r,r+=3*(U=v)),r);for(r++;;){if(!(0<=(v=w[r++])))throw Error("Invalid block size");if(0===v)break;r+=v}k.push({x:h,y:x,width:C,height:A,has_local_palette:J,palette_offset:G,palette_size:U,data_offset:M,data_length:r-M,transparent_index:n,interlaced:!!K,delay:b,disposal:q});break;case 59:d=!1;break;default:throw Error("Unknown gif block: 0x"+
w[r-1].toString(16));}this.numFrames=function(){return k.length};this.loopCount=function(){return u};this.frameInfo=function(I){if(0>I||I>=k.length)throw Error("Frame index out of range.");return k[I]};this.decodeAndBlitFrameBGRA=function(I,T){I=this.frameInfo(I);var Y=I.width*I.height,ea=new Uint8Array(Y);Y=(y(w,I.data_offset,ea,Y),I.palette_offset);var da=I.transparent_index,X=(null===da&&(da=256),I.width),Z=l-X,L=X,S=4*(I.y*l+I.x),E=4*((I.y+I.height)*l+I.x),P=S,aa=4*Z;I=(!0===I.interlaced&&(aa+=
28*l),8);for(var ja=0,oa=ea.length;ja<oa;++ja){var ra,la,sa=ea[ja];0===L&&(L=X,E<=(P+=aa)&&(aa=4*Z+4*l*(I-1),P=S+(X+Z)*(I<<1),I>>=1));sa===da?P+=4:(ra=w[Y+3*sa],la=w[Y+3*sa+1],sa=w[Y+3*sa+2],T[P++]=sa,T[P++]=la,T[P++]=ra,T[P++]=255);--L}};this.decodeAndBlitFrameRGBA=function(I,T){I=this.frameInfo(I);var Y=I.width*I.height,ea=new Uint8Array(Y);Y=(y(w,I.data_offset,ea,Y),I.palette_offset);var da=I.transparent_index,X=(null===da&&(da=256),I.width),Z=l-X,L=X,S=4*(I.y*l+I.x),E=4*((I.y+I.height)*l+I.x),
P=S,aa=4*Z;I=(!0===I.interlaced&&(aa+=28*l),8);for(var ja=0,oa=ea.length;ja<oa;++ja){var ra,la,sa=ea[ja];0===L&&(L=X,E<=(P+=aa)&&(aa=4*Z+4*l*(I-1),P=S+(X+Z)*(I<<1),I>>=1));sa===da?P+=4:(ra=w[Y+3*sa],la=w[Y+3*sa+1],sa=w[Y+3*sa+2],T[P++]=ra,T[P++]=la,T[P++]=sa,T[P++]=255);--L}}}}catch(w){}},{}],257:[function(a,R,F){!function(z){var y=function(w){function r(f){if(null==this)throw TypeError();var t,D=String(this),H=D.length;f=f?Number(f):0;if(!(0>(f=f!=f?0:f)||H<=f))return 55296<=(t=D.charCodeAt(f))&&
56319>=t&&f+1<H&&56320<=(H=D.charCodeAt(f+1))&&57343>=H?1024*(t-55296)+H-56320+65536:t}function l(){this.table=new Uint16Array(16);this.trans=new Uint16Array(288)}function h(f,t){this.source=f;this.bitcount=this.tag=this.sourceIndex=0;this.dest=t;this.destLen=0;this.ltree=new l;this.dtree=new l}function d(f,t,D,H){for(var O=0;O<D;++O)f[O]=0;for(O=0;O<30-D;++O)f[O+D]=O/D|0;D=H;for(O=0;30>O;++O)t[O]=D,D+=1<<f[O]}function b(f,t,D,H){for(var O,ba=0;16>ba;++ba)f.table[ba]=0;for(ba=0;ba<H;++ba)f.table[t[D+
ba]]++;for(ba=O=f.table[0]=0;16>ba;++ba)Zf[ba]=O,O+=f.table[ba];for(ba=0;ba<H;++ba)t[D+ba]&&(f.trans[Zf[t[D+ba]]++]=ba)}function g(f,t,D){if(!t)return D;for(;24>f.bitcount;)f.tag|=f.source[f.sourceIndex++]<<f.bitcount,f.bitcount+=8;var H=f.tag&65535>>>16-t;return f.tag>>>=t,f.bitcount-=t,H+D}function p(f,t){for(;24>f.bitcount;)f.tag|=f.source[f.sourceIndex++]<<f.bitcount,f.bitcount+=8;for(var D=0,H=0,O=0,ba=f.tag;H=2*H+(1&ba),ba>>>=1,D+=t.table[++O],0<=(H-=t.table[O]););return f.tag=ba,f.bitcount-=
O,t.trans[D+H]}function k(f,t,D){for(;;){var H=p(f,t);if(256===H)return 0;if(256>H)f.dest[f.destLen++]=H;else{var O=g(f,df[H-=257],Qd[H]);H=p(f,D);for(var ba=H=f.destLen-g(f,Wf[H],ef[H]);ba<H+O;++ba)f.dest[f.destLen++]=f.dest[ba]}}}function n(f,t,D,H,O){return Math.pow(1-O,3)*f+3*Math.pow(1-O,2)*O*t+3*(1-O)*Math.pow(O,2)*D+Math.pow(O,3)*H}function q(){this.y2=this.x2=this.y1=this.x1=Number.NaN}function u(){this.commands=[];this.fill="black";this.stroke=null;this.strokeWidth=1}function v(f){throw Error(f);
}function x(f,t){f||v(t)}function C(f){return function(){return f}}function A(f,t,D){for(var H=0;H<t.length;H+=1){var O=t[H];this[O.name]=O.value}if(this.tableName=f,this.fields=t,D)for(f=Object.keys(D),t=0;t<f.length;t+=1)H=f[t],O=D[H],void 0!==this[H]&&(this[H]=O)}function M(f,t,D){void 0===D&&(D=t.length);var H=Array(t.length+1);H[0]={name:f+"Count",type:"USHORT",value:D};for(D=0;D<t.length;D++)H[D+1]={name:f+D,type:"USHORT",value:t[D]};return H}function K(f,t,D){var H=t.length,O=Array(H+1);O[0]=
{name:f+"Count",type:"USHORT",value:H};for(var ba=0;ba<H;ba++)O[ba+1]={name:f+ba,type:"TABLE",value:D(t[ba],ba)};return O}function G(f,t,D){var H=t.length,O=[];O[0]={name:f+"Count",type:"USHORT",value:H};for(f=0;f<H;f++)O=O.concat(D(t[f],f));return O}function U(f){1===f.format?A.call(this,"coverageTable",[{name:"coverageFormat",type:"USHORT",value:1}].concat(M("glyph",f.glyphs))):Ub.assert(!1,"Can't create coverage table format 2 yet.")}function J(f){A.call(this,"scriptListTable",G("scriptRecord",
f,function(t,D){var H=t.script,O=H.defaultLangSys;return Ub.assert(!!O,"Unable to write GSUB: script "+t.tag+" has no default language system."),[{name:"scriptTag"+D,type:"TAG",value:t.tag},{name:"script"+D,type:"TABLE",value:new A("scriptTable",[{name:"defaultLangSys",type:"TABLE",value:new A("defaultLangSys",[{name:"lookupOrder",type:"USHORT",value:0},{name:"reqFeatureIndex",type:"USHORT",value:O.reqFeatureIndex}].concat(M("featureIndex",O.featureIndexes)))}].concat(G("langSys",H.langSysRecords,
function(ba,ca){var ta=ba.langSys;return[{name:"langSysTag"+ca,type:"TAG",value:ba.tag},{name:"langSys"+ca,type:"TABLE",value:new A("langSys",[{name:"lookupOrder",type:"USHORT",value:0},{name:"reqFeatureIndex",type:"USHORT",value:ta.reqFeatureIndex}].concat(M("featureIndex",ta.featureIndexes)))}]})))}]}))}function I(f){A.call(this,"featureListTable",G("featureRecord",f,function(t,D){var H=t.feature;return[{name:"featureTag"+D,type:"TAG",value:t.tag},{name:"feature"+D,type:"TABLE",value:new A("featureTable",
[{name:"featureParams",type:"USHORT",value:H.featureParams}].concat(M("lookupListIndex",H.lookupListIndexes)))}]}))}function T(f,t){A.call(this,"lookupListTable",K("lookup",f,function(D){var H=t[D.lookupType];return Ub.assert(!!H,"Unable to write GSUB lookup type "+D.lookupType+" tables."),new A("lookupTable",[{name:"lookupType",type:"USHORT",value:D.lookupType},{name:"lookupFlag",type:"USHORT",value:D.lookupFlag}].concat(K("subtable",D.subtables,H)))}))}function Y(f,t){return f.getUint8(t)}function ea(f,
t){return f.getUint16(t,!1)}function da(f,t){return f.getUint32(t,!1)}function X(f,t){return f.getInt16(t,!1)+f.getUint16(t+2,!1)/65535}function Z(f,t){this.data=f;this.offset=t;this.relativeOffset=0}function L(f){this.font=f}function S(f){this.cmap=f}function E(f,t){this.encoding=f;this.charset=t}function P(f){switch(f.version){case 1:this.names=rd.slice();break;case 2:this.names=Array(f.numberOfGlyphs);for(var t=0;t<f.numberOfGlyphs;t++)f.glyphNameIndex[t]<rd.length?this.names[t]=rd[f.glyphNameIndex[t]]:
this.names[t]=f.names[f.glyphNameIndex[t]-rd.length];break;case 2.5:this.names=Array(f.numberOfGlyphs);for(t=0;t<f.numberOfGlyphs;t++)this.names[t]=rd[t+f.glyphNameIndex[t]];break;default:this.names=[]}}function aa(f){this.bindConstructorValues(f)}function ja(f,t,D){Object.defineProperty(f,t,{get:function(){return f.path,f[D]},set:function(H){f[D]=H},enumerable:!0,configurable:!0})}function oa(f,t){if(this.font=f,this.glyphs={},Array.isArray(t))for(f=0;f<t.length;f++)this.glyphs[f]=t[f];this.length=
t&&t.length||0}function ra(f){return f=1240>f.length?107:33900>f.length?1131:32768}function la(f,t,D){var H=[],O=[];var ba=Gb.getCard16(f,t);if(0!==ba){for(var ca=Gb.getByte(f,t+2),ta=t+(ba+1)*ca+2,ua=t+3,Fa=0;Fa<ba+1;Fa+=1)H.push(Gb.getOffset(f,ua,ca)),ua+=ca;ba=ta+H[ba]}else ba=t+2;for(ca=0;ca<H.length-1;ca+=1)ua=Gb.getBytes(f,ta+H[ca],ta+H[ca+1]),D&&(ua=D(ua)),O.push(ua);return{objects:O,startOffset:t,endOffset:ba}}function sa(f,t){if(28===t)return f.parseByte()<<8|f.parseByte();if(29===t)return f.parseByte()<<
24|f.parseByte()<<16|f.parseByte()<<8|f.parseByte();if(30===t){t="";for(var D=["0","1","2","3","4","5","6","7","8","9",".","E","E-",null,"-"];;){var H=f.parseByte(),O=H>>4;H&=15;if(15==O)break;if(t+=D[O],15==H)break;t+=D[H]}return parseFloat(t)}if(32<=t&&246>=t)return t-139;if(247<=t&&250>=t)return 256*(t-247)+f.parseByte()+108;if(251<=t&&254>=t)return 256*-(t-251)-f.parseByte()-108;throw Error("Invalid b0 "+t);}function Da(f,t,D){var H=new Gb.Parser(f,void 0!==t?t:0);t=[];var O=[];for(D=void 0!==
D?D:f.length;H.relativeOffset<D;)f=H.parseByte(),21>=f?(12===f&&(f=1200+H.parseByte()),t.push([f,O]),O=[]):O.push(sa(H,f));D={};for(f=0;f<t.length;f+=1){H=t[f][0];O=t[f][1];O=1===O.length?O[0]:O;if(D.hasOwnProperty(H)&&!isNaN(D[H]))throw Error("Object "+D+" already has key "+H);D[H]=O}return D}function qa(f,t){return 390>=t?Bd[t]:f[t-391]}function Aa(f,t,D){for(var H,O={},ba=0;ba<t.length;ba+=1){var ca=t[ba];if(Array.isArray(ca.type)){var ta=[];ta.length=ca.type.length;for(var ua=0;ua<ca.type.length;ua++)void 0===
(H=void 0!==f[ca.op]?f[ca.op][ua]:void 0)&&(H=void 0!==ca.value&&void 0!==ca.value[ua]?ca.value[ua]:null),"SID"===ca.type[ua]&&(H=qa(D,H)),ta[ua]=H;O[ca.name]=ta}else void 0===(H=f[ca.op])&&(H=void 0!==ca.value?ca.value:null),"SID"===ca.type&&(H=qa(D,H)),O[ca.name]=H}return O}function Ga(f,t,D,H){return Aa(Da(f,t,D),bd,H)}function Ka(f,t,D,H){for(var O=[],ba=0;ba<D.length;ba+=1){var ca=new DataView((new Uint8Array(D[ba])).buffer);ca=(ta=H,Aa(Da(ca,0,ca.byteLength),kf,ta));var ta=(ca._subrs=[],ca._subrsBias=
0,ca.private[0]),ua=ca.private[1];0!==ta&&0!==ua&&(ta=Ga(f,ua+t,ta,H),ca._defaultWidthX=ta.defaultWidthX,ca._nominalWidthX=ta.nominalWidthX,0!==ta.subrs&&(ua=la(f,ua+ta.subrs+t),ca._subrs=ua.objects,ca._subrsBias=ra(ca._subrs)),ca._privateDict=ta);O.push(ca)}return O}function ha(f,t,D){function H(se,Mc){nc&&gb.closePath();gb.moveTo(se,Mc);nc=!0}function O(){0==Ea.length%2||Vb||(tc=Ea.shift()+ob);Mb+=Ea.length>>1;Ea.length=0;Vb=!0}var ba,ca,ta,ua,Fa,Qa,Ya,$a,ob,gb=new u,Ea=[],Mb=0,Vb=!1,nc=!1,zb=0,
Bb=0,tc=(ob=(f.isCIDFont?(Fa=f.tables.cff.topDict._fdSelect[t.index],Fa=f.tables.cff.topDict._fdArray[Fa],Qa=Fa._subrs,Ya=Fa._subrsBias,$a=Fa._defaultWidthX,Fa):(Qa=f.tables.cff.topDict._subrs,Ya=f.tables.cff.topDict._subrsBias,$a=f.tables.cff.topDict._defaultWidthX,f.tables.cff.topDict))._nominalWidthX,$a);return function wf(Mc){for(var md,ee,xf,Se,kc,te,cd,Nc,Xc,uc,Oc,xc=0;xc<Mc.length;)switch(kc=Mc[xc],xc+=1,kc){case 1:case 3:O();break;case 4:1<Ea.length&&!Vb&&(tc=Ea.shift()+ob,Vb=!0);Bb+=Ea.pop();
H(zb,Bb);break;case 5:for(;0<Ea.length;)zb+=Ea.shift(),Bb+=Ea.shift(),gb.lineTo(zb,Bb);break;case 6:for(;0<Ea.length&&(zb+=Ea.shift(),gb.lineTo(zb,Bb),0!==Ea.length);)Bb+=Ea.shift(),gb.lineTo(zb,Bb);break;case 7:for(;0<Ea.length&&(Bb+=Ea.shift(),gb.lineTo(zb,Bb),0!==Ea.length);)zb+=Ea.shift(),gb.lineTo(zb,Bb);break;case 8:for(;0<Ea.length;)ba=zb+Ea.shift(),ca=Bb+Ea.shift(),ta=ba+Ea.shift(),ua=ca+Ea.shift(),zb=ta+Ea.shift(),Bb=ua+Ea.shift(),gb.curveTo(ba,ca,ta,ua,zb,Bb);break;case 10:kc=Ea.pop()+Ya;
(te=Qa[kc])&&wf(te);break;case 11:return;case 12:switch(kc=Mc[xc],xc+=1,kc){case 35:ba=zb+Ea.shift();ca=Bb+Ea.shift();ta=ba+Ea.shift();ua=ca+Ea.shift();kc=ta+Ea.shift();cd=ua+Ea.shift();Nc=kc+Ea.shift();Xc=cd+Ea.shift();uc=Nc+Ea.shift();Oc=Xc+Ea.shift();zb=uc+Ea.shift();Bb=Oc+Ea.shift();Ea.shift();gb.curveTo(ba,ca,ta,ua,kc,cd);gb.curveTo(Nc,Xc,uc,Oc,zb,Bb);break;case 34:ba=zb+Ea.shift();ca=Bb;ta=ba+Ea.shift();ua=ca+Ea.shift();kc=ta+Ea.shift();cd=ua;Nc=kc+Ea.shift();Xc=ua;uc=Nc+Ea.shift();Oc=Bb;zb=
uc+Ea.shift();gb.curveTo(ba,ca,ta,ua,kc,cd);gb.curveTo(Nc,Xc,uc,Oc,zb,Bb);break;case 36:ba=zb+Ea.shift();ca=Bb+Ea.shift();ta=ba+Ea.shift();ua=ca+Ea.shift();kc=ta+Ea.shift();cd=ua;Nc=kc+Ea.shift();Xc=ua;uc=Nc+Ea.shift();Oc=Xc+Ea.shift();zb=uc+Ea.shift();gb.curveTo(ba,ca,ta,ua,kc,cd);gb.curveTo(Nc,Xc,uc,Oc,zb,Bb);break;case 37:ba=zb+Ea.shift();ca=Bb+Ea.shift();ta=ba+Ea.shift();ua=ca+Ea.shift();kc=ta+Ea.shift();cd=ua+Ea.shift();Nc=kc+Ea.shift();Xc=cd+Ea.shift();uc=Nc+Ea.shift();Oc=Xc+Ea.shift();Math.abs(uc-
zb)>Math.abs(Oc-Bb)?zb=uc+Ea.shift():Bb=Oc+Ea.shift();gb.curveTo(ba,ca,ta,ua,kc,cd);gb.curveTo(Nc,Xc,uc,Oc,zb,Bb);break;default:console.log("Glyph "+t.index+": unknown operator 1200"+kc),Ea.length=0}break;case 14:0<Ea.length&&!Vb&&(tc=Ea.shift()+ob,Vb=!0);nc&&(gb.closePath(),nc=!1);break;case 18:O();break;case 19:case 20:O();xc+=Mb+7>>3;break;case 21:2<Ea.length&&!Vb&&(tc=Ea.shift()+ob,Vb=!0);Bb+=Ea.pop();H(zb+=Ea.pop(),Bb);break;case 22:1<Ea.length&&!Vb&&(tc=Ea.shift()+ob,Vb=!0);H(zb+=Ea.pop(),Bb);
break;case 23:O();break;case 24:for(;2<Ea.length;)ba=zb+Ea.shift(),ca=Bb+Ea.shift(),ta=ba+Ea.shift(),ua=ca+Ea.shift(),zb=ta+Ea.shift(),Bb=ua+Ea.shift(),gb.curveTo(ba,ca,ta,ua,zb,Bb);zb+=Ea.shift();Bb+=Ea.shift();gb.lineTo(zb,Bb);break;case 25:for(;6<Ea.length;)zb+=Ea.shift(),Bb+=Ea.shift(),gb.lineTo(zb,Bb);ba=zb+Ea.shift();ca=Bb+Ea.shift();ta=ba+Ea.shift();ua=ca+Ea.shift();zb=ta+Ea.shift();Bb=ua+Ea.shift();gb.curveTo(ba,ca,ta,ua,zb,Bb);break;case 26:for(Ea.length%2&&(zb+=Ea.shift());0<Ea.length;)ba=
zb,ca=Bb+Ea.shift(),ta=ba+Ea.shift(),ua=ca+Ea.shift(),zb=ta,Bb=ua+Ea.shift(),gb.curveTo(ba,ca,ta,ua,zb,Bb);break;case 27:for(Ea.length%2&&(Bb+=Ea.shift());0<Ea.length;)ba=zb+Ea.shift(),ca=Bb,ta=ba+Ea.shift(),ua=ca+Ea.shift(),zb=ta+Ea.shift(),Bb=ua,gb.curveTo(ba,ca,ta,ua,zb,Bb);break;case 28:md=Mc[xc];ee=Mc[xc+1];Ea.push((md<<24|ee<<16)>>16);xc+=2;break;case 29:kc=Ea.pop()+f.gsubrsBias;(te=f.gsubrs[kc])&&wf(te);break;case 30:for(;0<Ea.length&&(ba=zb,ca=Bb+Ea.shift(),ta=ba+Ea.shift(),ua=ca+Ea.shift(),
zb=ta+Ea.shift(),Bb=ua+(1===Ea.length?Ea.shift():0),gb.curveTo(ba,ca,ta,ua,zb,Bb),0!==Ea.length);)ba=zb+Ea.shift(),ca=Bb,ta=ba+Ea.shift(),ua=ca+Ea.shift(),Bb=ua+Ea.shift(),zb=ta+(1===Ea.length?Ea.shift():0),gb.curveTo(ba,ca,ta,ua,zb,Bb);break;case 31:for(;0<Ea.length&&(ba=zb+Ea.shift(),ca=Bb,ta=ba+Ea.shift(),ua=ca+Ea.shift(),Bb=ua+Ea.shift(),zb=ta+(1===Ea.length?Ea.shift():0),gb.curveTo(ba,ca,ta,ua,zb,Bb),0!==Ea.length);)ba=zb,ca=Bb+Ea.shift(),ta=ba+Ea.shift(),ua=ca+Ea.shift(),zb=ta+Ea.shift(),Bb=
ua+(1===Ea.length?Ea.shift():0),gb.curveTo(ba,ca,ta,ua,zb,Bb);break;default:32>kc?console.log("Glyph "+t.index+": unknown operator "+kc):247>kc?Ea.push(kc-139):251>kc?(md=Mc[xc],xc+=1,Ea.push(256*(kc-247)+md+108)):255>kc?(md=Mc[xc],xc+=1,Ea.push(256*-(kc-251)-md-108)):(md=Mc[xc],ee=Mc[xc+1],xf=Mc[xc+2],Se=Mc[xc+3],xc+=4,Ea.push((md<<24|ee<<16|xf<<8|Se)/65536))}}(D),t.advanceWidth=tc,gb}function na(f,t){var D,H=Bd.indexOf(f);return 0<=(H=t.indexOf(f))?D=H+Bd.length:(D=Bd.length+t.length,t.push(f)),
D}function xa(f,t,D){for(var H={},O=0;O<f.length;O+=1){var ba=f[O],ca=t[ba.name];void 0===ca||function Qa(ua,Fa){if(ua===Fa)return 1;if(Array.isArray(ua)&&Array.isArray(Fa)&&ua.length===Fa.length){for(var Ya=0;Ya<ua.length;Ya+=1)if(!Qa(ua[Ya],Fa[Ya]))return;return 1}}(ca,ba.value)||("SID"===ba.type&&(ca=na(ca,D)),H[ba.op]={name:ba.name,type:ba.type,value:ca})}return H}function Ca(f,t){var D=new Kb.Record("Top DICT",[{name:"dict",type:"DICT",value:{}}]);return D.dict=xa(kf,f,t),D}function za(f){var t=
new Kb.Record("Top DICT INDEX",[{name:"topDicts",type:"INDEX",value:[]}]);return t.topDicts=[{name:"topDict_0",type:"TABLE",value:f}],t}function Na(f){for(var t=new Kb.Record("CharStrings INDEX",[{name:"charStrings",type:"INDEX",value:[]}]),D=0;D<f.length;D+=1){var H=f.get(D);var O=[];for(var ba=H.path,ca=(O.push({name:"width",type:"NUMBER",value:H.advanceWidth}),0),ta=0,ua=0;ua<ba.commands.length;ua+=1){var Fa,Qa,Ya,$a,ob=void 0,gb=void 0,Ea=ba.commands[ua];"M"===(Ea="Q"===Ea.type?{type:"C",x:Ea.x,
y:Ea.y,x1:1/3*ca+2/3*Ea.x1,y1:1/3*ta+2/3*Ea.y1,x2:1/3*Ea.x+2/3*Ea.x1,y2:1/3*Ea.y+2/3*Ea.y1}:Ea).type?(ob=Math.round(Ea.x-ca),gb=Math.round(Ea.y-ta),O.push({name:"dx",type:"NUMBER",value:ob}),O.push({name:"dy",type:"NUMBER",value:gb}),O.push({name:"rmoveto",type:"OP",value:21}),ca=Math.round(Ea.x),ta=Math.round(Ea.y)):"L"===Ea.type?(ob=Math.round(Ea.x-ca),gb=Math.round(Ea.y-ta),O.push({name:"dx",type:"NUMBER",value:ob}),O.push({name:"dy",type:"NUMBER",value:gb}),O.push({name:"rlineto",type:"OP",value:5}),
ca=Math.round(Ea.x),ta=Math.round(Ea.y)):"C"===Ea.type&&(Fa=Math.round(Ea.x1-ca),Qa=Math.round(Ea.y1-ta),Ya=Math.round(Ea.x2-Ea.x1),$a=Math.round(Ea.y2-Ea.y1),ob=Math.round(Ea.x-Ea.x2),gb=Math.round(Ea.y-Ea.y2),O.push({name:"dx1",type:"NUMBER",value:Fa}),O.push({name:"dy1",type:"NUMBER",value:Qa}),O.push({name:"dx2",type:"NUMBER",value:Ya}),O.push({name:"dy2",type:"NUMBER",value:$a}),O.push({name:"dx",type:"NUMBER",value:ob}),O.push({name:"dy",type:"NUMBER",value:gb}),O.push({name:"rrcurveto",type:"OP",
value:8}),ca=Math.round(Ea.x),ta=Math.round(Ea.y))}O=(O.push({name:"endchar",type:"OP",value:14}),O);t.charStrings.push({name:H.name,type:"CHARSTRING",value:O})}return t}function Oa(f,t,D){switch(f){case 0:return"utf-16";case 1:return dg[D]||td[t];case 3:if(1===t||10===t)return"utf-16"}}function bb(f){var t,D={};for(t in f)D[f[t]]=parseInt(t);return D}function eb(f,t,D,H,O,ba){return new Kb.Record("NameRecord",[{name:"platformID",type:"USHORT",value:f},{name:"encodingID",type:"USHORT",value:t},{name:"languageID",
type:"USHORT",value:D},{name:"nameID",type:"USHORT",value:H},{name:"length",type:"USHORT",value:O},{name:"offset",type:"USHORT",value:ba}])}function cb(f,t){a:{var D=f.length;var H=t.length-D+1,O=0;b:for(;O<H;O++)for(;O<H;){for(var ba=0;ba<D;ba++)if(t[O+ba]!==f[ba])continue b;D=O;break a}D=-1}if(0>D)for(D=t.length,H=0,O=f.length;H<O;++H)t.push(f[H]);return D}function wb(f){for(;0!=f.length%4;)f.push(0);for(var t=0,D=0;D<f.length;D+=4)t+=(f[D]<<24)+(f[D+1]<<16)+(f[D+2]<<8)+f[D+3];return t%Math.pow(2,
32)}function nb(f,t,D,H){return new Kb.Record("Table Record",[{name:"tag",type:"TAG",value:void 0!==f?f:""},{name:"checkSum",type:"ULONG",value:void 0!==t?t:0},{name:"offset",type:"ULONG",value:void 0!==D?D:0},{name:"length",type:"ULONG",value:void 0!==H?H:0}])}function rb(f){var t=new Kb.Table("sfnt",[{name:"version",type:"TAG",value:"OTTO"},{name:"numTables",type:"USHORT",value:0},{name:"searchRange",type:"USHORT",value:0},{name:"entrySelector",type:"USHORT",value:0},{name:"rangeShift",type:"USHORT",
value:0}]),D=(t.tables=f,t.numTables=f.length,Math.pow(2,Math.log(t.numTables)/Math.log(2)|0));D=(t.searchRange=16*D,t.entrySelector=Math.log(D)/Math.log(2)|0,t.rangeShift=16*t.numTables-t.searchRange,[]);for(var H=[],O=t.sizeOf()+nb().sizeOf()*t.numTables;0!=O%4;)O+=1,H.push({name:"padding",type:"BYTE",value:0});for(var ba=0;ba<f.length;ba+=1){var ca=f[ba],ta=(Ub.argument(4===ca.tableName.length,"Table name"+ca.tableName+" is invalid."),ca.sizeOf()),ua=nb(ca.tableName,wb(ca.encode()),O,ta);D.push({name:ua.tag+
" Table Record",type:"RECORD",value:ua});H.push({name:ca.tableName+" table",type:"RECORD",value:ca});O+=ta;for(Ub.argument(!isNaN(O),"Something went wrong calculating the offset.");0!=O%4;)O+=1,H.push({name:"padding",type:"BYTE",value:0})}return D.sort(function(Fa,Qa){return Fa.value.tag>Qa.value.tag?1:-1}),t.fields=t.fields.concat(D),t.fields=t.fields.concat(H),t}function ab(f,t,D){for(var H=0;H<t.length;H+=1){var O=f.charToGlyphIndex(t[H]);if(0<O)return f.glyphs.get(O).getMetrics()}return D}function Ab(f,
t){for(var D=0,H=f.length-1;D<=H;){var O=D+H>>>1,ba=f[O].tag;if(ba===t)return O;ba<t?D=1+O:H=O-1}return-D-1}function fa(f,t){for(var D=0,H=f.length-1;D<=H;){var O=D+H>>>1,ba=f[O];if(ba===t)return O;ba<t?D=1+O:H=O-1}return-D-1}function ka(f,t){for(var D=0,H=f.length-1;D<=H;){var O,ba=D+H>>>1,ca=(O=f[ba]).start;if(ca===t)return O;ca<t?D=1+ba:H=ba-1}if(0<D)return t>(O=f[D-1]).end?0:O}function Q(f,t){this.font=f;this.tableName=t}function W(f){Q.call(this,f,"gpos")}function ia(f){Q.call(this,f,"gsub")}
function va(f,t,D){f=f.subtables;for(var H=0;H<f.length;H++){var O=f[H];if(O.substFormat===t)return O}if(D)return f.push(D),D}function ya(f){for(var t=new ArrayBuffer(f.length),D=new Uint8Array(t),H=0;H<f.length;++H)D[H]=f[H];return t}function Ia(f,t){if(!f)throw t;}function La(f,t,D,H,O){var ba=0<(t&H)?(ba=f.parseByte(),D+(ba=0==(t&O)?-ba:ba)):0<(t&O)?D:D+f.parseShort();return ba}function db(f,t,D){var H;t=new Gb.Parser(t,D);if(f.numberOfContours=t.parseShort(),f._xMin=t.parseShort(),f._yMin=t.parseShort(),
f._xMax=t.parseShort(),f._yMax=t.parseShort(),0<f.numberOfContours){for(var O=f.endPointIndices=[],ba=0;ba<f.numberOfContours;ba+=1)O.push(t.parseUShort());f.instructionLength=t.parseUShort();f.instructions=[];for(ba=0;ba<f.instructionLength;ba+=1)f.instructions.push(t.parseByte());D=O[O.length-1]+1;ba=[];for(var ca=0;ca<D;ca+=1)if(H=t.parseByte(),ba.push(H),0<(8&H))for(var ta=t.parseByte(),ua=0;ua<ta;ua+=1)ba.push(H),ca+=1;if(Ub.argument(ba.length===D,"Bad flags."),0<O.length){ta=[];if(0<D){for(ua=
0;ua<D;ua+=1)H=ba[ua],(ca={}).onCurve=!!(1&H),ca.lastPointOfContour=0<=O.indexOf(ua),ta.push(ca);for(ua=O=0;ua<D;ua+=1)H=ba[ua],(ca=ta[ua]).x=La(t,H,O,2,16),O=ca.x;for(ua=O=0;ua<D;ua+=1)H=ba[ua],(ca=ta[ua]).y=La(t,H,O,4,32),O=ca.y}f.points=ta}else f.points=[]}else if(0===f.numberOfContours)f.points=[];else{f.isComposite=!0;f.points=[];f.components=[];for(H=!0;H;)ba=t.parseUShort(),H={glyphIndex:t.parseUShort(),xScale:1,scale01:0,scale10:0,yScale:1,dx:0,dy:0},0<(1&ba)?0<(2&ba)?(H.dx=t.parseShort(),
H.dy=t.parseShort()):H.matchedPoints=[t.parseUShort(),t.parseUShort()]:0<(2&ba)?(H.dx=t.parseChar(),H.dy=t.parseChar()):H.matchedPoints=[t.parseByte(),t.parseByte()],0<(8&ba)?H.xScale=H.yScale=t.parseF2Dot14():0<(64&ba)?(H.xScale=t.parseF2Dot14(),H.yScale=t.parseF2Dot14()):0<(128&ba)&&(H.xScale=t.parseF2Dot14(),H.scale01=t.parseF2Dot14(),H.scale10=t.parseF2Dot14(),H.yScale=t.parseF2Dot14()),f.components.push(H),H=!!(32&ba);if(256&ba)for(f.instructionLength=t.parseUShort(),f.instructions=[],H=0;H<
f.instructionLength;H+=1)f.instructions.push(t.parseByte())}}function fb(f,t){for(var D=[],H=0;H<f.length;H+=1){var O=f[H];O={x:t.xScale*O.x+t.scale01*O.y+t.dx,y:t.scale10*O.x+t.yScale*O.y+t.dy,onCurve:O.onCurve,lastPointOfContour:O.lastPointOfContour};D.push(O)}return D}function pb(f){var t=new u;if(f){for(var D=[],H=[],O=0;O<f.length;O+=1){var ba=f[O];H.push(ba);ba.lastPointOfContour&&(D.push(H),H=[])}f=(Ub.argument(0===H.length,"There are still points left in the current contour."),D);for(D=0;D<
f.length;++D){var ca;H=f[D];O=H[H.length-1];ba=H[0];O.onCurve?t.moveTo(O.x,O.y):ba.onCurve?t.moveTo(ba.x,ba.y):(ca={x:.5*(O.x+ba.x),y:.5*(O.y+ba.y)},t.moveTo(ca.x,ca.y));for(var ta=0;ta<H.length;++ta){var ua,Fa=O;O=ba;ba=H[(ta+1)%H.length];O.onCurve?t.lineTo(O.x,O.y):(ua=ba,Fa.onCurve||(O.x,Fa.x,O.y,Fa.y),ba.onCurve||(ua={x:.5*(O.x+ba.x),y:.5*(O.y+ba.y)}),t.quadraticCurveTo(O.x,O.y,ua.x,ua.y))}t.closePath()}}return t}function kb(f,t){if(t.isComposite)for(var D=0;D<t.components.length;D+=1){var H=
t.components[D],O=f.get(H.glyphIndex);if(O.getPath(),O.points){if(void 0!==H.matchedPoints){if(H.matchedPoints[0]>t.points.length-1||H.matchedPoints[1]>O.points.length-1)throw Error("Matched points out of range in "+t.name);var ba=t.points[H.matchedPoints[0]],ca=O.points[H.matchedPoints[1]];H={xScale:H.xScale,scale01:H.scale01,scale10:H.scale10,yScale:H.yScale,dx:0,dy:0};ca=fb([ca],H)[0];H.dx=ba.x-ca.x;H.dy=ba.y-ca.y}H=fb(O.points,H);t.points=t.points.concat(H)}}return pb(t.points)}function Va(f){this.font=
f;this.getCommands=function(t){return ud.getPath(t).commands};this._fpgmState=this._prepState=void 0;this._errorState=0}function qb(f){return f}function jb(f){return Math.sign(f)*Math.round(Math.abs(f))}function Ib(f){return Math.sign(f)*Math.round(Math.abs(2*f))/2}function Hb(f){return Math.sign(f)*(Math.round(Math.abs(f)+.5)-.5)}function Pb(f){return Math.sign(f)*Math.ceil(Math.abs(f))}function Ob(f){return Math.sign(f)*Math.floor(Math.abs(f))}function dc(f){var t=this.srPeriod,D=this.srPhase,H=
1;return 0>f&&(f=-f,H=-1),f+=this.srThreshold-D,f=Math.trunc(f/t)*t,0>(f+=D)?D*H:f*H}function Jb(f,t){this.x=f;this.y=t;this.axis=void 0;this.slope=t/f;this.normalSlope=-f/t;Object.freeze(this)}function Rb(f,t){var D=Math.sqrt(f*f+t*t);return t/=D,1===(f/=D)&&0===t?Wc:0===f&&1===t?Jc:new Jb(f,t)}function bc(f,t,D,H){this.x=this.xo=Math.round(64*f)/64;this.y=this.yo=Math.round(64*t)/64;this.lastPointOfContour=D;this.onCurve=H;this.nextPointOnContour=this.prevPointOnContour=void 0;this.yTouched=this.xTouched=
!1;Object.preventExtensions(this)}function oc(f,t){switch(this.env=f,this.stack=[],this.prog=t,f){case "glyf":this.zp0=this.zp1=this.zp2=1,this.rp0=this.rp1=this.rp2=0;case "prep":this.fv=this.pv=this.dpv=Wc,this.round=jb}}function pc(f){f=f.tZone=Array(f.gZone.length);for(var t=0;t<f.length;t++)f[t]=new bc(0,0)}function wa(f,t){var D,H=f.prog,O=f.ip,ba=1;do if(88===(D=H[++O]))ba++;else if(89===D)ba--;else if(64===D)O+=H[O+1]+1;else if(65===D)O+=2*H[O+1]+1;else if(176<=D&&183>=D)O+=D-176+1;else if(184<=
D&&191>=D)O+=2*(D-184+1);else if(t&&1===ba&&27===D)break;while(0<ba);f.ip=O}function Wa(f,t){w.DEBUG&&console.log(t.step,"SVTCA["+f.axis+"]");t.fv=t.pv=t.dpv=f}function lb(f,t){w.DEBUG&&console.log(t.step,"SPVTCA["+f.axis+"]");t.pv=t.dpv=f}function hb(f,t){w.DEBUG&&console.log(t.step,"SFVTCA["+f.axis+"]");t.fv=f}function Ta(f,t){var D,H=t.stack,O=H.pop();H=H.pop();var ba=t.z2[O],ca=t.z1[H];w.DEBUG&&console.log("SPVTL["+f+"]",O,H);O=f?(D=ba.y-ca.y,ca.x-ba.x):(D=ca.x-ba.x,ca.y-ba.y);t.pv=t.dpv=Rb(D,
O)}function ib(f,t){var D,H=t.stack,O=H.pop();H=H.pop();var ba=t.z2[O],ca=t.z1[H];w.DEBUG&&console.log("SFVTL["+f+"]",O,H);O=f?(D=ba.y-ca.y,ca.x-ba.x):(D=ca.x-ba.x,ca.y-ba.y);t.fv=Rb(D,O)}function Db(f){w.DEBUG&&console.log(f.step,"POP[]");f.stack.pop()}function Ha(f,t){var D=t.stack.pop(),H=t.z0[D],O=t.fv,ba=t.pv,ca=(w.DEBUG&&console.log(t.step,"MDAP["+f+"]",D),ba.distance(H,ae));f&&(ca=t.round(ca));O.setRelative(H,ae,ca,ba);O.touch(H);t.rp0=t.rp1=D}function Fb(f,t){var D,H,O=t.z2,ba=O.length-2;
w.DEBUG&&console.log(t.step,"IUP["+f.axis+"]");for(var ca=0;ca<ba;ca++)t=O[ca],f.touched(t)||(D=t.prevTouched(f))!==t&&(D===(H=t.nextTouched(f))&&f.setRelative(t,t,f.distance(D,D,!1,!0),f,!0),f.interpolate(t,D,H,f))}function Lb(f,t){for(var D=t.stack,H=(f?t.z0:t.z1)[f?t.rp1:t.rp2],O=t.fv,ba=t.pv,ca=t.loop,ta=t.z2;ca--;){var ua=D.pop(),Fa=ta[ua],Qa=ba.distance(H,H,!1,!0);O.setRelative(Fa,Fa,Qa,ba);O.touch(Fa);w.DEBUG&&console.log(t.step,(1<t.loop?"loop "+(t.loop-ca)+": ":"")+"SHP["+(f?"rp1":"rp2")+
"]",ua)}t.loop=1}function gc(f,t){var D=f?t.rp1:t.rp2,H=(f?t.z0:t.z1)[D],O=t.fv,ba=t.pv;D=t.stack.pop();var ca=t.z2[t.contours[D]],ta=ca;for(f=(w.DEBUG&&console.log(t.step,"SHC["+f+"]",D),ba.distance(H,H,!1,!0));ta!==H&&O.setRelative(ta,ta,f,ba),(ta=ta.nextPointOnContour)!==ca;);}function Wb(f,t){var D=t.stack;var H=f?t.rp1:t.rp2;H=(f?t.z0:t.z1)[H];var O=t.fv,ba=t.pv;D=D.pop();switch(w.DEBUG&&console.log(t.step,"SHZ["+f+"]",D),D){case 0:f=t.tZone;break;case 1:f=t.gZone;break;default:throw Error("Invalid zone");
}t=ba.distance(H,H,!1,!0);D=f.length-2;for(var ca=0;ca<D;ca++)H=f[ca],O.setRelative(H,H,t,ba)}function Pa(f,t){var D=t.stack,H=D.pop()/64;D=D.pop();var O=t.z1[D],ba=t.fv;ba.setRelative(O,t.z0[t.rp0],H,t.pv);ba.touch(O);w.DEBUG&&console.log(t.step,"MSIRP["+f+"]",H,D);t.rp1=t.rp0;t.rp2=D;f&&(t.rp0=D)}function ub(f,t){var D=t.stack,H=D.pop();D=D.pop();var O=t.z0[D],ba=t.fv,ca=t.pv,ta=t.cvt[H];H=(w.DEBUG&&console.log(t.step,"MIAP["+f+"]",H,"(",ta,")",D),ca.distance(O,ae));f&&(Math.abs(H-ta)<t.cvCutIn&&
(H=ta),H=t.round(H));ba.setRelative(O,ae,H,ca);0===t.zp0&&(O.xo=O.x,O.yo=O.y);ba.touch(O);t.rp0=t.rp1=D}function Sb(f,t){var D=t.stack,H=D.pop(),O=t.z2[H];w.DEBUG&&console.log(t.step,"GC["+f+"]",H);D.push(64*t.dpv.distance(O,ae,f,!1))}function Xb(f,t){var D=t.stack,H=D.pop();D=D.pop();var O=t.z0[D];O=t.dpv.distance(O,t.z1[H],f,f);w.DEBUG&&console.log(t.step,"MD["+f+"]",H,D,"-\x3e",O);t.stack.push(Math.round(64*O))}function jc(f,t){var D=t.stack,H=D.pop(),O=t.fv,ba=t.pv,ca=t.ppem,ta=t.deltaBase+16*
(f-1),ua=t.deltaShift,Fa=t.z0;w.DEBUG&&console.log(t.step,"DELTAP["+f+"]",H,D);for(f=0;f<H;f++){var Qa=D.pop(),Ya=D.pop();ta+((240&Ya)>>4)===ca&&(0<=(Ya=(15&Ya)-8)&&Ya++,w.DEBUG&&console.log(t.step,"DELTAPFIX",Qa,"by",Ya*ua),Qa=Fa[Qa],O.setRelative(Qa,Qa,Ya*ua,ba))}}function $c(f,t){f=t.stack;var D=f.pop();w.DEBUG&&console.log(t.step,"ROUND[]");f.push(64*t.round(D/64))}function ad(f,t){var D=t.stack,H=D.pop(),O=t.ppem,ba=t.deltaBase+16*(f-1),ca=t.deltaShift;w.DEBUG&&console.log(t.step,"DELTAC["+f+
"]",H,D);for(f=0;f<H;f++){var ta=D.pop(),ua=D.pop();ba+((240&ua)>>4)===O&&(0<=(ua=(15&ua)-8)&&ua++,ua*=ca,w.DEBUG&&console.log(t.step,"DELTACFIX",ta,"by",ua),t.cvt[ta]+=ua)}}function Fc(f,t){var D,H=t.stack,O=H.pop();H=H.pop();var ba=t.z2[O],ca=t.z1[H];w.DEBUG&&console.log(t.step,"SDPVTL["+f+"]",O,H);O=f?(D=ba.y-ca.y,ca.x-ba.x):(D=ca.x-ba.x,ca.y-ba.y);t.dpv=Rb(D,O)}function Qc(f,t){var D=t.stack,H=t.prog,O=t.ip;w.DEBUG&&console.log(t.step,"PUSHB["+f+"]");for(var ba=0;ba<f;ba++)D.push(H[++O]);t.ip=
O}function yc(f,t){var D=t.ip,H=t.prog,O=t.stack;w.DEBUG&&console.log(t.ip,"PUSHW["+f+"]");for(var ba=0;ba<f;ba++){var ca=H[++D]<<8|H[++D];32768&ca&&(ca=-(1+(65535^ca)));O.push(ca)}t.ip=D}function xb(f,t,D,H,O,ba){var ca,ta,ua=ba.stack,Fa=f&&ua.pop();ua=ua.pop();var Qa=ba.rp0;Qa=ba.z0[Qa];var Ya=ba.z1[ua],$a=ba.minDis,ob=ba.fv,gb=ba.dpv,Ea=ca=gb.distance(Ya,Qa,!0,!0),Mb=0<=Ea?1:-1;Ea=Math.abs(Ea);f&&(ta=ba.cvt[Fa],H&&Math.abs(Ea-ta)<ba.cvCutIn&&(Ea=ta));D&&Ea<$a&&(Ea=$a);H&&(Ea=ba.round(Ea));ob.setRelative(Ya,
Qa,Mb*Ea,gb);ob.touch(Ya);w.DEBUG&&console.log(ba.step,(f?"MIRP[":"MDRP[")+(t?"M":"m")+(D?"\x3e":"_")+(H?"R":"_")+(0===O?"Gr":1===O?"Bl":2===O?"Wh":"")+"]",f?Fa+"("+ba.cvt[Fa]+","+ta+")":"",ua,"(d \x3d",ca,"-\x3e",Mb*Ea,")");ba.rp1=ba.rp0;ba.rp2=ua;t&&(ba.rp0=ua)}function Yb(f){(f=f||{}).empty||(Ia(f.familyName,"When creating a new Font object, familyName is required."),Ia(f.styleName,"When creating a new Font object, styleName is required."),Ia(f.unitsPerEm,"When creating a new Font object, unitsPerEm is required."),
Ia(f.ascender,"When creating a new Font object, ascender is required."),Ia(f.descender,"When creating a new Font object, descender is required."),Ia(0>f.descender,"Descender should be negative (e.g. -512)."),this.names={fontFamily:{en:f.familyName||" "},fontSubfamily:{en:f.styleName||" "},fullName:{en:f.fullName||f.familyName+" "+f.styleName},postScriptName:{en:f.postScriptName||(f.familyName+f.styleName).replace(/\s/g,"")},designer:{en:f.designer||" "},designerURL:{en:f.designerURL||" "},manufacturer:{en:f.manufacturer||
" "},manufacturerURL:{en:f.manufacturerURL||" "},license:{en:f.license||" "},licenseURL:{en:f.licenseURL||" "},version:{en:f.version||"Version 0.1"},description:{en:f.description||" "},copyright:{en:f.copyright||" "},trademark:{en:f.trademark||" "}},this.unitsPerEm=f.unitsPerEm||1E3,this.ascender=f.ascender,this.descender=f.descender,this.createdTimestamp=f.createdTimestamp,this.tables={os2:{usWeightClass:f.weightClass||this.usWeightClasses.MEDIUM,usWidthClass:f.widthClass||this.usWidthClasses.MEDIUM,
fsSelection:f.fsSelection||this.fsSelectionValues.REGULAR}});this.supported=!0;this.glyphs=new Cd.GlyphSet(this,f.glyphs||[]);this.encoding=new L(this);this.position=new W(this);this.substitution=new ia(this);this.tables=this.tables||{};Object.defineProperty(this,"hinting",{get:function(){return this._hinting||("truetype"===this.outlinesFormat?this._hinting=new Va(this):void 0)}})}function Tf(f,t){var D,H=JSON.stringify(f),O=256;for(D in t){var ba=parseInt(D);if(ba&&!(256>ba)){if(JSON.stringify(t[D])===
H)return ba;O<=ba&&(O=ba+1)}}return t[O]=f,O}function Sg(f,t){a("fs").readFile(f,function(D,H){if(D)return t(D.message);t(null,ya(H))})}function Uf(f,t){var D=new XMLHttpRequest;D.open("get",f,!0);D.responseType="arraybuffer";D.onload=function(){return D.response?t(null,D.response):t("Font could not be loaded: "+D.statusText)};D.onerror=function(){t("Font could not be loaded")};D.send()}function bf(f,t){for(var D=[],H=12,O=0;O<t;O+=1){var ba=Gb.getTag(f,H),ca=Gb.getULong(f,H+4),ta=Gb.getULong(f,H+
8),ua=Gb.getULong(f,H+12);D.push({tag:ba,checksum:ca,offset:ta,length:ua,compression:!1});H+=16}return D}function rc(f,t){if("WOFF"!==t.compression)return{data:f,offset:t.offset};f=new Uint8Array(f.buffer,t.offset+2,t.compressedLength-2);var D=new Uint8Array(t.length),H,O,ba;f=new h(f,D);do{switch(ba=void 0,(O=f).bitcount--||(O.tag=O.source[O.sourceIndex++],O.bitcount=7),ba=1&O.tag,O.tag>>>=1,O=ba,g(f,2,0)){case 0:var ca;for(H=f;8<H.bitcount;)H.sourceIndex--,H.bitcount-=8;if((ca=256*H.source[H.sourceIndex+
1]+H.source[H.sourceIndex])!==(65535&~(256*H.source[H.sourceIndex+3]+H.source[H.sourceIndex+2])))H=-3;else{for(H.sourceIndex+=4;ca;--ca)H.dest[H.destLen++]=H.source[H.sourceIndex++];H=(H.bitcount=0,0)}break;case 1:H=k(f,fd,ie);break;case 2:H=f;ca=f.ltree;var ta=f.dtree,ua=g(H,5,257),Fa=g(H,5,1);var Qa=g(H,4,4);for(var Ya=0;19>Ya;++Ya)gd[Ya]=0;for(Ya=0;Ya<Qa;++Ya){var $a=g(H,3,0);gd[Xf[Ya]]=$a}b(Yf,gd,0,19);for(Qa=0;Qa<ua+Fa;)switch(Ya=p(H,Yf),Ya){case 16:Ya=gd[Qa-1];for($a=g(H,2,3);$a;--$a)gd[Qa++]=
Ya;break;case 17:for($a=g(H,3,3);$a;--$a)gd[Qa++]=0;break;case 18:for($a=g(H,7,11);$a;--$a)gd[Qa++]=0;break;default:gd[Qa++]=Ya}b(ca,gd,0,ua);b(ta,gd,ua,Fa);H=k(f,f.ltree,f.dtree);break;default:H=-3}if(0!==H)throw Error("Data error");}while(!O);f.destLen<f.dest.length&&("function"==typeof f.dest.slice?f.dest.slice(0,f.destLen):f.dest.subarray(0,f.destLen));if(D.byteLength!==t.length)throw Error("Decompression error: "+t.tag+" decompressed length doesn't match recorded length");return{data:new DataView(D.buffer,
0),offset:0}}function cf(f){var t,D=new Yb({empty:!0}),H=new DataView(f,0);f=Gb.getTag(H,0);if(f===String.fromCharCode(0,1,0,0)||"true"===f||"typ1"===f){D.outlinesFormat="truetype";var O=bf(H,f=Gb.getUShort(H,4))}else if("OTTO"===f)D.outlinesFormat="cff",O=bf(H,f=Gb.getUShort(H,4));else{if("wOFF"!==f)throw Error("Unsupported OpenType signature "+f);O=Gb.getTag(H,4);if(O===String.fromCharCode(0,1,0,0))D.outlinesFormat="truetype";else{if("OTTO"!==O)throw Error("Unsupported OpenType flavor "+f);D.outlinesFormat=
"cff"}O=f=Gb.getUShort(H,12);var ba=[],ca=44;for(t=0;t<O;t+=1){var ta=Gb.getTag(H,ca),ua=Gb.getULong(H,ca+4),Fa=Gb.getULong(H,ca+8),Qa=Gb.getULong(H,ca+12);ba.push({tag:ta,offset:ua,compression:Fa<Qa&&"WOFF",compressedLength:Fa,length:Qa});ca+=20}O=ba}for(ba=0;ba<f;ba+=1)switch(ca=O[ba],ca.tag){case "cmap":t=rc(H,ca);D.tables.cmap=jf.parse(t.data,t.offset);D.encoding=new S(D.tables.cmap);break;case "cvt ":t=rc(H,ca);t=new Gb.Parser(t.data,t.offset);D.tables.cvt=t.parseShortList(ca.length/2);break;
case "fvar":var Ya=ca;break;case "fpgm":t=rc(H,ca);t=new Gb.Parser(t.data,t.offset);D.tables.fpgm=t.parseByteList(ca.length);break;case "head":t=rc(H,ca);D.tables.head=ne.parse(t.data,t.offset);D.unitsPerEm=D.tables.head.unitsPerEm;var $a=D.tables.head.indexToLocFormat;break;case "hhea":t=rc(H,ca);D.tables.hhea=Uc.parse(t.data,t.offset);D.ascender=D.tables.hhea.ascender;D.descender=D.tables.hhea.descender;D.numberOfHMetrics=D.tables.hhea.numberOfHMetrics;break;case "hmtx":var ob=ca;break;case "ltag":t=
rc(H,ca);var gb=mf.parse(t.data,t.offset);break;case "maxp":t=rc(H,ca);D.tables.maxp=Ed.parse(t.data,t.offset);D.numGlyphs=D.tables.maxp.numGlyphs;break;case "name":var Ea=ca;break;case "OS/2":t=rc(H,ca);D.tables.os2=Wd.parse(t.data,t.offset);break;case "post":t=rc(H,ca);D.tables.post=of.parse(t.data,t.offset);D.glyphNames=new P(D.tables.post);break;case "prep":t=rc(H,ca);t=new Gb.Parser(t.data,t.offset);D.tables.prep=t.parseByteList(ca.length);break;case "glyf":var Mb=ca;break;case "loca":var Vb=
ca;break;case "CFF ":var nc=ca;break;case "kern":var zb=ca;break;case "GPOS":var Bb=ca;break;case "GSUB":var tc=ca;break;case "meta":var se=ca}O=rc(H,Ea);if(D.tables.name=Ud.parse(O.data,O.offset,gb),D.names=D.tables.name,Mb&&Vb)f=0===$a,O=rc(H,Vb),O=Qe.parse(O.data,O.offset,D.numGlyphs,f),f=rc(H,Mb),D.glyphs=ud.parse(f.data,f.offset,O,D);else{if(!nc)throw Error("Font doesn't contain TrueType or CFF outlines.");f=rc(H,nc);lf.parse(f.data,f.offset,D)}O=rc(H,ob);$a=(Ke.parse(O.data,O.offset,D.numberOfHMetrics,
D.numGlyphs,D.glyphs),D);gb=$a.tables.cmap.glyphIndexMap;nc=Object.keys(gb);for(Mb=0;Mb<nc.length;Mb+=1)ob=nc[Mb],$a.glyphs.get(gb[ob]).addUnicode(parseInt(ob));for(nc=0;nc<$a.glyphs.length;nc+=1)gb=$a.glyphs.get(nc),$a.cffEncoding?$a.isCIDFont?gb.name="gid"+nc:gb.name=$a.cffEncoding.charset[nc]:$a.glyphNames.names&&(gb.name=$a.glyphNames.glyphIndexToName(nc));return zb?(f=rc(H,zb),D.kerningPairs=Pe.parse(f.data,f.offset)):D.kerningPairs={},Bb&&(O=rc(H,Bb),D.tables.gpos=Gd.parse(O.data,O.offset),
D.position.init()),tc&&(f=rc(H,tc),D.tables.gsub=Yd.parse(f.data,f.offset)),Ya&&(O=rc(H,Ya),D.tables.fvar=uf.parse(O.data,O.offset,D.names)),se&&(f=rc(H,se),D.tables.meta=oe.parse(f.data,f.offset),D.metas=D.tables.meta),D}String.prototype.codePointAt||((Vf=function(){try{var f={},t=Object.defineProperty,D=t(f,f,f)&&t}catch(H){}return D}())?Vf(String.prototype,"codePointAt",{value:r,configurable:!0,writable:!0}):String.prototype.codePointAt=r);for(var Vf,fd=new l,ie=new l,df=new Uint8Array(30),Qd=
new Uint16Array(30),Wf=new Uint8Array(30),ef=new Uint16Array(30),Xf=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Yf=new l,gd=new Uint8Array(320),Zf=new Uint16Array(16),hc=0;7>hc;++hc)fd.table[hc]=0;fd.table[7]=24;fd.table[8]=152;fd.table[9]=112;for(hc=0;24>hc;++hc)fd.trans[hc]=256+hc;for(hc=0;144>hc;++hc)fd.trans[24+hc]=hc;for(hc=0;8>hc;++hc)fd.trans[168+hc]=280+hc;for(hc=0;112>hc;++hc)fd.trans[176+hc]=144+hc;for(hc=0;5>hc;++hc)ie.table[hc]=0;ie.table[5]=32;for(hc=0;32>hc;++hc)ie.trans[hc]=
hc;d(df,Qd,4,3);d(Wf,ef,2,1);df[28]=0;Qd[28]=258;q.prototype.isEmpty=function(){return isNaN(this.x1)||isNaN(this.y1)||isNaN(this.x2)||isNaN(this.y2)};q.prototype.addPoint=function(f,t){"number"==typeof f&&((isNaN(this.x1)||isNaN(this.x2))&&(this.x1=f,this.x2=f),f<this.x1&&(this.x1=f),f>this.x2&&(this.x2=f));"number"==typeof t&&((isNaN(this.y1)||isNaN(this.y2))&&(this.y1=t,this.y2=t),t<this.y1&&(this.y1=t),t>this.y2&&(this.y2=t))};q.prototype.addX=function(f){this.addPoint(f,null)};q.prototype.addY=
function(f){this.addPoint(null,f)};q.prototype.addBezier=function(f,t,D,H,O,ba,ca,ta){var ua=[f,t];D=[D,H];O=[O,ba];ba=[ca,ta];this.addPoint(f,t);this.addPoint(ca,ta);for(f=0;1>=f;f++){var Fa;t=6*ua[f]-12*D[f]+6*O[f];ca=-3*ua[f]+9*D[f]-9*O[f]+3*ba[f];ta=3*D[f]-3*ua[f];0==ca?0==t||0<(Fa=-ta/t)&&1>Fa&&(0===f&&this.addX(n(ua[f],D[f],O[f],ba[f],Fa)),1===f&&this.addY(n(ua[f],D[f],O[f],ba[f],Fa))):0>(Fa=Math.pow(t,2)-4*ta*ca)||(0<(ta=(-t+Math.sqrt(Fa))/(2*ca))&&1>ta&&(0===f&&this.addX(n(ua[f],D[f],O[f],
ba[f],ta)),1===f&&this.addY(n(ua[f],D[f],O[f],ba[f],ta))),0<(ta=(-t-Math.sqrt(Fa))/(2*ca))&&1>ta&&(0===f&&this.addX(n(ua[f],D[f],O[f],ba[f],ta)),1===f&&this.addY(n(ua[f],D[f],O[f],ba[f],ta))))}};q.prototype.addQuad=function(f,t,D,H,O,ba){D=f+2/3*(D-f);H=t+2/3*(H-t);this.addBezier(f,t,D,H,D+1/3*(O-f),H+1/3*(ba-t),O,ba)};u.prototype.moveTo=function(f,t){this.commands.push({type:"M",x:f,y:t})};u.prototype.lineTo=function(f,t){this.commands.push({type:"L",x:f,y:t})};u.prototype.curveTo=u.prototype.bezierCurveTo=
function(f,t,D,H,O,ba){this.commands.push({type:"C",x1:f,y1:t,x2:D,y2:H,x:O,y:ba})};u.prototype.quadTo=u.prototype.quadraticCurveTo=function(f,t,D,H){this.commands.push({type:"Q",x1:f,y1:t,x:D,y:H})};u.prototype.close=u.prototype.closePath=function(){this.commands.push({type:"Z"})};u.prototype.extend=function(f){var t;if(f.commands)f=f.commands;else if(f instanceof q)return t=f,this.moveTo(t.x1,t.y1),this.lineTo(t.x2,t.y1),this.lineTo(t.x2,t.y2),this.lineTo(t.x1,t.y2),void this.close();Array.prototype.push.apply(this.commands,
f)};u.prototype.getBoundingBox=function(){for(var f=new q,t=0,D=0,H=0,O=0,ba=0;ba<this.commands.length;ba++){var ca=this.commands[ba];switch(ca.type){case "M":f.addPoint(ca.x,ca.y);t=H=ca.x;D=O=ca.y;break;case "L":f.addPoint(ca.x,ca.y);H=ca.x;O=ca.y;break;case "Q":f.addQuad(H,O,ca.x1,ca.y1,ca.x,ca.y);H=ca.x;O=ca.y;break;case "C":f.addBezier(H,O,ca.x1,ca.y1,ca.x2,ca.y2,ca.x,ca.y);H=ca.x;O=ca.y;break;case "Z":H=t;O=D;break;default:throw Error("Unexpected path command "+ca.type);}}return f.isEmpty()&&
f.addPoint(0,0),f};u.prototype.draw=function(f){f.beginPath();for(var t=0;t<this.commands.length;t+=1){var D=this.commands[t];"M"===D.type?f.moveTo(D.x,D.y):"L"===D.type?f.lineTo(D.x,D.y):"C"===D.type?f.bezierCurveTo(D.x1,D.y1,D.x2,D.y2,D.x,D.y):"Q"===D.type?f.quadraticCurveTo(D.x1,D.y1,D.x,D.y):"Z"===D.type&&f.closePath()}this.fill&&(f.fillStyle=this.fill,f.fill());this.stroke&&(f.strokeStyle=this.stroke,f.lineWidth=this.strokeWidth,f.stroke())};u.prototype.toPathData=function(f){function t(){for(var ba=
arguments,ca="",ta=0;ta<arguments.length;ta+=1){var ua=ba[ta];0<=ua&&0<ta&&(ca+=" ");ca+=Math.round(ua)===ua?""+Math.round(ua):ua.toFixed(f)}return ca}f=void 0!==f?f:2;for(var D="",H=0;H<this.commands.length;H+=1){var O=this.commands[H];"M"===O.type?D+="M"+t(O.x,O.y):"L"===O.type?D+="L"+t(O.x,O.y):"C"===O.type?D+="C"+t(O.x1,O.y1,O.x2,O.y2,O.x,O.y):"Q"===O.type?D+="Q"+t(O.x1,O.y1,O.x,O.y):"Z"===O.type&&(D+="Z")}return D};u.prototype.toSVG=function(f){var t=(t='\x3cpath d\x3d"')+this.toPathData(f)+
'"';return this.fill&&"black"!==this.fill&&(null===this.fill?t+=' fill\x3d"none"':t+=' fill\x3d"'+this.fill+'"'),this.stroke&&(t+=' stroke\x3d"'+this.stroke+'" stroke-width\x3d"'+this.strokeWidth+'"'),t+"/\x3e"};u.prototype.toDOMElement=function(f){f=this.toPathData(f);var t=document.createElementNS("http://www.w3.org/2000/svg","path");return t.setAttribute("d",f),t};var Ub={fail:v,argument:x,assert:x},qd={},sb={},Nb={};sb.BYTE=function(f){return Ub.argument(0<=f&&255>=f,"Byte value should be between 0 and 255."),
[f]};Nb.BYTE=C(1);sb.CHAR=function(f){return[f.charCodeAt(0)]};Nb.CHAR=C(1);sb.CHARARRAY=function(f){for(var t=[],D=0;D<f.length;D+=1)t[D]=f.charCodeAt(D);return t};Nb.CHARARRAY=function(f){return f.length};sb.USHORT=function(f){return[f>>8&255,255&f]};Nb.USHORT=C(2);sb.SHORT=function(f){return[(f=32768<=f?-(65536-f):f)>>8&255,255&f]};Nb.SHORT=C(2);sb.UINT24=function(f){return[f>>16&255,f>>8&255,255&f]};Nb.UINT24=C(3);sb.ULONG=function(f){return[f>>24&255,f>>16&255,f>>8&255,255&f]};Nb.ULONG=C(4);
sb.LONG=function(f){return[(f=2147483648<=f?-(4294967296-f):f)>>24&255,f>>16&255,f>>8&255,255&f]};Nb.LONG=C(4);sb.FIXED=sb.ULONG;Nb.FIXED=Nb.ULONG;sb.FWORD=sb.SHORT;Nb.FWORD=Nb.SHORT;sb.UFWORD=sb.USHORT;Nb.UFWORD=Nb.USHORT;sb.LONGDATETIME=function(f){return[0,0,0,0,f>>24&255,f>>16&255,f>>8&255,255&f]};Nb.LONGDATETIME=C(8);sb.TAG=function(f){return Ub.argument(4===f.length,"Tag should be exactly 4 ASCII characters."),[f.charCodeAt(0),f.charCodeAt(1),f.charCodeAt(2),f.charCodeAt(3)]};Nb.TAG=C(4);sb.Card8=
sb.BYTE;Nb.Card8=Nb.BYTE;sb.Card16=sb.USHORT;Nb.Card16=Nb.USHORT;sb.OffSize=sb.BYTE;Nb.OffSize=Nb.BYTE;sb.SID=sb.USHORT;Nb.SID=Nb.USHORT;sb.NUMBER=function(f){return-107<=f&&107>=f?[f+139]:108<=f&&1131>=f?[247+((f-=108)>>8),255&f]:-1131<=f&&-108>=f?[251+((f=-f-108)>>8),255&f]:-32768<=f&&32767>=f?sb.NUMBER16(f):sb.NUMBER32(f)};Nb.NUMBER=function(f){return sb.NUMBER(f).length};sb.NUMBER16=function(f){return[28,f>>8&255,255&f]};Nb.NUMBER16=C(3);sb.NUMBER32=function(f){return[29,f>>24&255,f>>16&255,f>>
8&255,255&f]};Nb.NUMBER32=C(5);sb.REAL=function(f){var t=f.toString(),D=/\.(\d*?)(?:9{5,20}|0{5,20})\d{0,2}(?:e(.+)|$)/.exec(t),H=(D&&(D=parseFloat("1e"+((D[2]?+D[2]:0)+D[1].length)),t=(Math.round(f*D)/D).toString()),"");f=0;for(D=t.length;f<D;f+=1){var O=t[f];H+="e"===O?"-"===t[++f]?"c":"b":"."===O?"a":"-"===O?"e":O}t=[30];f=0;for(D=(H+=1&H.length?"f":"ff").length;f<D;f+=2)t.push(parseInt(H.substr(f,2),16));return t};Nb.REAL=function(f){return sb.REAL(f).length};sb.NAME=sb.CHARARRAY;Nb.NAME=Nb.CHARARRAY;
sb.STRING=sb.CHARARRAY;Nb.STRING=Nb.CHARARRAY;qd.UTF8=function(f,t,D){for(var H=[],O=0;O<D;O++,t+=1)H[O]=f.getUint8(t);return String.fromCharCode.apply(null,H)};qd.UTF16=function(f,t,D){var H=[];D/=2;for(var O=0;O<D;O++,t+=2)H[O]=f.getUint16(t);return String.fromCharCode.apply(null,H)};sb.UTF16=function(f){for(var t=[],D=0;D<f.length;D+=1){var H=f.charCodeAt(D);t[t.length]=H>>8&255;t[t.length]=255&H}return t};Nb.UTF16=function(f){return 2*f.length};var ke,Rd={"x-mac-croatian":"",
"x-mac-cyrillic":"","x-mac-gaelic":"","x-mac-greek":"","x-mac-icelandic":"",
"x-mac-inuit":"","x-mac-ce":"",macintosh:"","x-mac-romanian":"",
"x-mac-turkish":""},mc=(qd.MACSTRING=function(f,t,D,H){H=Rd[H];if(void 0!==H){for(var O="",ba=0;ba<D;ba++){var ca=f.getUint8(t+ba);O+=127>=ca?String.fromCharCode(ca):H[127&ca]}return O}},"function"==typeof WeakMap&&new WeakMap);sb.MACSTRING=function(f,t){a:{if(!ke)for(D in ke={},Rd)ke[D]=new String(D);var D=ke[t];if(void 0!==D){if(mc){var H=mc.get(D);if(void 0!==H){D=H;break a}}t=
Rd[t];if(void 0!==t){H={};for(var O=0;O<t.length;O++)H[t.charCodeAt(O)]=O+128;D=(mc&&mc.set(D,H),H);break a}}D=void 0}if(void 0!==D){t=[];for(H=0;H<f.length;H++){O=f.charCodeAt(H);if(128<=O&&void 0===(O=D[O]))return;t[H]=O}return t}};Nb.MACSTRING=function(f,t){f=sb.MACSTRING(f,t);return void 0!==f?f.length:0};sb.VARDELTAS=function(f){for(var t=0,D=[];t<f.length;){var H=f[t];t=(0===H?function(O,ba,ca){for(var ta=0,ua=O.length;ba<ua&&64>ta&&0===O[ba];)++ba,++ta;return ca.push(128|ta-1),ba}:-128<=H&&
127>=H?function(O,ba,ca){for(var ta=0,ua=O.length,Fa=ba;Fa<ua&&64>ta;){var Qa=O[Fa];if(!(-128<=Qa&&127>=Qa))break;if(0===Qa&&Fa+1<ua&&0===O[Fa+1])break;++Fa;++ta}for(ca.push(ta-1);ba<Fa;++ba)ca.push(O[ba]+256&255);return Fa}:function(O,ba,ca){for(var ta=0,ua=O.length,Fa=ba;Fa<ua&&64>ta;){var Qa=O[Fa];if(0===Qa)break;if(Qa=-128<=Qa&&127>=Qa&&Fa+1<ua)Qa=O[Fa+1],Qa=-128<=Qa&&127>=Qa;if(Qa)break;++Fa;++ta}for(ca.push(64|ta-1);ba<Fa;++ba)ta=O[ba],ca.push(ta+65536>>8&255,ta+256&255);return Fa})(f,t,D)}return D};
sb.INDEX=function(f){for(var t=1,D=[t],H=[],O=0;O<f.length;O+=1){var ba=sb.OBJECT(f[O]);Array.prototype.push.apply(H,ba);t+=ba.length;D.push(t)}if(0===H.length)return[0,0];O=[];t=1+Math.floor(Math.log(t)/Math.log(2))/8|0;ba=[void 0,sb.BYTE,sb.USHORT,sb.UINT24,sb.ULONG][t];for(var ca=0;ca<D.length;ca+=1){var ta=ba(D[ca]);Array.prototype.push.apply(O,ta)}return Array.prototype.concat(sb.Card16(f.length),sb.OffSize(t),O,H)};Nb.INDEX=function(f){return sb.INDEX(f).length};sb.DICT=function(f){for(var t=
[],D=Object.keys(f),H=D.length,O=0;O<H;O+=1){var ba=parseInt(D[O],0),ca=f[ba];t=(t=t.concat(sb.OPERAND(ca.value,ca.type))).concat(sb.OPERATOR(ba))}return t};Nb.DICT=function(f){return sb.DICT(f).length};sb.OPERATOR=function(f){return 1200>f?[f]:[12,f-1200]};sb.OPERAND=function(f,t){var D=[];if(Array.isArray(t))for(var H=0;H<t.length;H+=1)Ub.argument(f.length===t.length,"Not enough arguments given for type"+t),D=D.concat(sb.OPERAND(f[H],t[H]));else if("SID"===t)D=D.concat(sb.NUMBER(f));else if("offset"===
t)D=D.concat(sb.NUMBER32(f));else if("number"===t)D=D.concat(sb.NUMBER(f));else{if("real"!==t)throw Error("Unknown operand type "+t);D=D.concat(sb.REAL(f))}return D};sb.OP=sb.BYTE;Nb.OP=Nb.BYTE;var qc="function"==typeof WeakMap&&new WeakMap;sb.CHARSTRING=function(f){if(qc){var t=qc.get(f);if(void 0!==t)return t}t=[];for(var D=f.length,H=0;H<D;H+=1){var O=f[H];t=t.concat(sb[O.type](O.value))}return qc&&qc.set(f,t),t};Nb.CHARSTRING=function(f){return sb.CHARSTRING(f).length};sb.OBJECT=function(f){var t=
sb[f.type];return Ub.argument(void 0!==t,"No encoding function for type "+f.type),t(f.value)};Nb.OBJECT=function(f){var t=Nb[f.type];return Ub.argument(void 0!==t,"No sizeOf function for type "+f.type),t(f.value)};sb.TABLE=function(f){for(var t=[],D=f.fields.length,H=[],O=[],ba=0;ba<D;ba+=1){var ca=f.fields[ba],ta=sb[ca.type],ua=(Ub.argument(void 0!==ta,"No encoding function for field type "+ca.type+" ("+ca.name+")"),f[ca.name]);ta=ta(void 0===ua?ca.value:ua);"TABLE"===ca.type?(O.push(t.length),t=
t.concat([0,0]),H.push(ta)):t=t.concat(ta)}for(D=0;D<H.length;D+=1)ba=O[D],ca=t.length,Ub.argument(65536>ca,"Table "+f.tableName+" too big."),t[ba]=ca>>8,t[ba+1]=255&ca,t=t.concat(H[D]);return t};Nb.TABLE=function(f){for(var t=0,D=f.fields.length,H=0;H<D;H+=1){var O=f.fields[H],ba=Nb[O.type],ca=(Ub.argument(void 0!==ba,"No sizeOf function for field type "+O.type+" ("+O.name+")"),f[O.name]);t+=ba(void 0===ca?O.value:ca);"TABLE"===O.type&&(t+=2)}return t};sb.RECORD=sb.TABLE;Nb.RECORD=Nb.TABLE;sb.LITERAL=
function(f){return f};Nb.LITERAL=function(f){return f.length};A.prototype.encode=function(){return sb.TABLE(this)};A.prototype.sizeOf=function(){return Nb.TABLE(this)};var Kb={Table:A,Record:A,Coverage:(U.prototype=Object.create(A.prototype)).constructor=U,ScriptList:(J.prototype=Object.create(A.prototype)).constructor=J,FeatureList:(I.prototype=Object.create(A.prototype)).constructor=I,LookupList:(T.prototype=Object.create(A.prototype)).constructor=T,ushortList:M,tableList:K,recordList:G},Gc={byte:1,
uShort:2,short:2,uLong:4,fixed:4,longDateTime:8,tag:4};Z.prototype.parseByte=function(){var f=this.data.getUint8(this.offset+this.relativeOffset);return this.relativeOffset+=1,f};Z.prototype.parseChar=function(){var f=this.data.getInt8(this.offset+this.relativeOffset);return this.relativeOffset+=1,f};Z.prototype.parseCard8=Z.prototype.parseByte;Z.prototype.parseCard16=Z.prototype.parseUShort=function(){var f=this.data.getUint16(this.offset+this.relativeOffset);return this.relativeOffset+=2,f};Z.prototype.parseSID=
Z.prototype.parseUShort;Z.prototype.parseOffset16=Z.prototype.parseUShort;Z.prototype.parseShort=function(){var f=this.data.getInt16(this.offset+this.relativeOffset);return this.relativeOffset+=2,f};Z.prototype.parseF2Dot14=function(){var f=this.data.getInt16(this.offset+this.relativeOffset)/16384;return this.relativeOffset+=2,f};Z.prototype.parseOffset32=Z.prototype.parseULong=function(){var f=da(this.data,this.offset+this.relativeOffset);return this.relativeOffset+=4,f};Z.prototype.parseFixed=function(){var f=
X(this.data,this.offset+this.relativeOffset);return this.relativeOffset+=4,f};Z.prototype.parseString=function(f){var t=this.data,D=this.offset+this.relativeOffset,H="";this.relativeOffset+=f;for(var O=0;O<f;O++)H+=String.fromCharCode(t.getUint8(D+O));return H};Z.prototype.parseTag=function(){return this.parseString(4)};Z.prototype.parseLongDateTime=function(){var f=da(this.data,this.offset+this.relativeOffset+4);return f-=2082844800,this.relativeOffset+=8,f};Z.prototype.parseVersion=function(f){var t=
ea(this.data,this.offset+this.relativeOffset),D=ea(this.data,this.offset+this.relativeOffset+2);return this.relativeOffset+=4,t+D/(void 0===f?4096:f)/10};Z.prototype.skip=function(f,t){this.relativeOffset+=Gc[f]*(void 0===t?1:t)};Z.prototype.parseULongList=function(f){void 0===f&&(f=this.parseULong());for(var t=Array(f),D=this.data,H=this.offset+this.relativeOffset,O=0;O<f;O++)t[O]=D.getUint32(H),H+=4;return this.relativeOffset+=4*f,t};Z.prototype.parseOffset16List=Z.prototype.parseUShortList=function(f){void 0===
f&&(f=this.parseUShort());for(var t=Array(f),D=this.data,H=this.offset+this.relativeOffset,O=0;O<f;O++)t[O]=D.getUint16(H),H+=2;return this.relativeOffset+=2*f,t};Z.prototype.parseShortList=function(f){for(var t=Array(f),D=this.data,H=this.offset+this.relativeOffset,O=0;O<f;O++)t[O]=D.getInt16(H),H+=2;return this.relativeOffset+=2*f,t};Z.prototype.parseByteList=function(f){for(var t=Array(f),D=this.data,H=this.offset+this.relativeOffset,O=0;O<f;O++)t[O]=D.getUint8(H++);return this.relativeOffset+=
f,t};Z.prototype.parseList=function(f,t){t||(t=f,f=this.parseUShort());for(var D=Array(f),H=0;H<f;H++)D[H]=t.call(this);return D};Z.prototype.parseList32=function(f,t){t||(t=f,f=this.parseULong());for(var D=Array(f),H=0;H<f;H++)D[H]=t.call(this);return D};Z.prototype.parseRecordList=function(f,t){t||(t=f,f=this.parseUShort());for(var D=Array(f),H=Object.keys(t),O=0;O<f;O++){for(var ba={},ca=0;ca<H.length;ca++){var ta=H[ca];ba[ta]=t[ta].call(this)}D[O]=ba}return D};Z.prototype.parseRecordList32=function(f,
t){t||(t=f,f=this.parseULong());for(var D=Array(f),H=Object.keys(t),O=0;O<f;O++){for(var ba={},ca=0;ca<H.length;ca++){var ta=H[ca];ba[ta]=t[ta].call(this)}D[O]=ba}return D};Z.prototype.parseStruct=function(f){if("function"==typeof f)return f.call(this);for(var t=Object.keys(f),D={},H=0;H<t.length;H++){var O=t[H];D[O]=f[O].call(this)}return D};Z.prototype.parseValueRecord=function(f){var t;if(0!==(f=void 0===f?this.parseUShort():f))return t={},1&f&&(t.xPlacement=this.parseShort()),2&f&&(t.yPlacement=
this.parseShort()),4&f&&(t.xAdvance=this.parseShort()),8&f&&(t.yAdvance=this.parseShort()),16&f&&(t.xPlaDevice=void 0,this.parseShort()),32&f&&(t.yPlaDevice=void 0,this.parseShort()),64&f&&(t.xAdvDevice=void 0,this.parseShort()),128&f&&(t.yAdvDevice=void 0,this.parseShort()),t};Z.prototype.parseValueRecordList=function(){for(var f=this.parseUShort(),t=this.parseUShort(),D=Array(t),H=0;H<t;H++)D[H]=this.parseValueRecord(f);return D};Z.prototype.parsePointer=function(f){var t=this.parseOffset16();if(0<
t)return(new Z(this.data,this.offset+t)).parseStruct(f)};Z.prototype.parsePointer32=function(f){var t=this.parseOffset32();if(0<t)return(new Z(this.data,this.offset+t)).parseStruct(f)};Z.prototype.parseListOfLists=function(f){for(var t=this.parseOffset16List(),D=t.length,H=this.relativeOffset,O=Array(D),ba=0;ba<D;ba++){var ca=t[ba];if(0===ca)O[ba]=void 0;else if(this.relativeOffset=ca,f){for(var ta=this.parseOffset16List(),ua=Array(ta.length),Fa=0;Fa<ta.length;Fa++)this.relativeOffset=ca+ta[Fa],ua[Fa]=
f.call(this);O[ba]=ua}else O[ba]=this.parseUShortList()}return this.relativeOffset=H,O};Z.prototype.parseCoverage=function(){var f=this.offset+this.relativeOffset,t=this.parseUShort(),D=this.parseUShort();if(1===t)return{format:1,glyphs:this.parseUShortList(D)};if(2!==t)throw Error("0x"+f.toString(16)+": Coverage format must be 1 or 2.");f=Array(D);for(t=0;t<D;t++)f[t]={start:this.parseUShort(),end:this.parseUShort(),index:this.parseUShort()};return{format:2,ranges:f}};Z.prototype.parseClassDef=function(){var f=
this.offset+this.relativeOffset,t=this.parseUShort();if(1===t)return{format:1,startGlyph:this.parseUShort(),classes:this.parseUShortList()};if(2===t)return{format:2,ranges:this.parseRecordList({start:Z.uShort,end:Z.uShort,classId:Z.uShort})};throw Error("0x"+f.toString(16)+": ClassDef format must be 1 or 2.");};Z.list=function(f,t){return function(){return this.parseList(f,t)}};Z.list32=function(f,t){return function(){return this.parseList32(f,t)}};Z.recordList=function(f,t){return function(){return this.parseRecordList(f,
t)}};Z.recordList32=function(f,t){return function(){return this.parseRecordList32(f,t)}};Z.pointer=function(f){return function(){return this.parsePointer(f)}};Z.pointer32=function(f){return function(){return this.parsePointer32(f)}};Z.tag=Z.prototype.parseTag;Z.byte=Z.prototype.parseByte;Z.uShort=Z.offset16=Z.prototype.parseUShort;Z.uShortList=Z.prototype.parseUShortList;Z.uLong=Z.offset32=Z.prototype.parseULong;Z.uLongList=Z.prototype.parseULongList;Z.struct=Z.prototype.parseStruct;Z.coverage=Z.prototype.parseCoverage;
Z.classDef=Z.prototype.parseClassDef;var le={reserved:Z.uShort,reqFeatureIndex:Z.uShort,featureIndexes:Z.uShortList},Gb=(Z.prototype.parseScriptList=function(){return this.parsePointer(Z.recordList({tag:Z.tag,script:Z.pointer({defaultLangSys:Z.pointer(le),langSysRecords:Z.recordList({tag:Z.tag,langSys:Z.pointer(le)})})}))||[]},Z.prototype.parseFeatureList=function(){return this.parsePointer(Z.recordList({tag:Z.tag,feature:Z.pointer({featureParams:Z.offset16,lookupListIndexes:Z.uShortList})}))||[]},
Z.prototype.parseLookupList=function(f){return this.parsePointer(Z.list(Z.pointer(function(){var t=this.parseUShort(),D=(Ub.argument(1<=t&&9>=t,"GPOS/GSUB lookup type "+t+" unknown."),this.parseUShort()),H=16&D;return{lookupType:t,lookupFlag:D,subtables:this.parseList(Z.pointer(f[t])),markFilteringSet:H?this.parseUShort():void 0}})))||[]},Z.prototype.parseFeatureVariationsList=function(){return this.parsePointer32(function(){var f=this.parseUShort(),t=this.parseUShort();return Ub.argument(1===f&&
1>t,"GPOS/GSUB feature variations table unknown."),this.parseRecordList32({conditionSetOffset:Z.offset32,featureTableSubstitutionOffset:Z.offset32})})||[]},{getByte:Y,getCard8:Y,getUShort:ea,getCard16:ea,getShort:function(f,t){return f.getInt16(t,!1)},getULong:da,getFixed:X,getTag:function(f,t){for(var D="",H=t;H<t+4;H+=1)D+=String.fromCharCode(f.getInt8(H));return D},getOffset:function(f,t,D){for(var H=0,O=0;O<D;O+=1)H=(H<<=8)+f.getUint8(t+O);return H},getBytes:function(f,t,D){for(var H=[];t<D;t+=
1)H.push(f.getUint8(t));return H},bytesToString:function(f){for(var t="",D=0;D<f.length;D+=1)t+=String.fromCharCode(f[D]);return t},Parser:Z}),jf={parse:function(f,t){for(var D={},H=(D.version=Gb.getUShort(f,t),Ub.argument(0===D.version,"cmap table version should be 0."),D.numTables=Gb.getUShort(f,t+2),-1),O=D.numTables-1;0<=O;--O){var ba=Gb.getUShort(f,t+4+8*O),ca=Gb.getUShort(f,t+4+8*O+2);if(3===ba&&(0===ca||1===ca||10===ca)||0===ba&&(0===ca||1===ca||2===ca||3===ca||4===ca)){H=Gb.getULong(f,t+4+
8*O+4);break}}if(-1===H)throw Error("No valid cmap sub-tables found.");O=new Gb.Parser(f,t+H);if(D.format=O.parseUShort(),12===D.format)for(O.parseUShort(),D.length=O.parseULong(),D.language=O.parseULong(),D.groupCount=f=O.parseULong(),D.glyphIndexMap={},H=0;H<f;H+=1){var ta=O.parseULong();ba=O.parseULong();for(ca=O.parseULong();ta<=ba;ta+=1)D.glyphIndexMap[ta]=ca,ca++}else{if(4!==D.format)throw Error("Only format 4 and 12 cmap tables are supported (found format "+D.format+").");var ua=H;D.length=
O.parseUShort();D.language=O.parseUShort();D.segCount=H=O.parseUShort()>>1;O.skip("uShort",3);D.glyphIndexMap={};O=new Gb.Parser(f,t+ua+14);ba=new Gb.Parser(f,t+ua+16+2*H);ca=new Gb.Parser(f,t+ua+16+4*H);ta=new Gb.Parser(f,t+ua+16+6*H);t=t+ua+16+8*H;for(ua=0;ua<H-1;ua+=1)for(var Fa=void 0,Qa=O.parseUShort(),Ya=ba.parseUShort(),$a=ca.parseShort(),ob=ta.parseUShort(),gb=Ya;gb<=Qa;gb+=1)0!==ob?(t=(t=ta.offset+ta.relativeOffset-2)+ob+2*(gb-Ya),0!==(Fa=Gb.getUShort(f,t))&&(Fa=Fa+$a&65535)):Fa=gb+$a&65535,
D.glyphIndexMap[gb]=Fa}return D},make:function(f){for(var t=!0,D=f.length-1;0<D;--D)if(65535<f.get(D).unicode){console.log("Adding CMAP format 12 (needed!)");t=!1;break}var H=[{name:"version",type:"USHORT",value:0},{name:"numTables",type:"USHORT",value:t?1:2},{name:"platformID",type:"USHORT",value:3},{name:"encodingID",type:"USHORT",value:1},{name:"offset",type:"ULONG",value:t?12:20}],O=(H=(H=t?H:H.concat([{name:"cmap12PlatformID",type:"USHORT",value:3},{name:"cmap12EncodingID",type:"USHORT",value:10},
{name:"cmap12Offset",type:"ULONG",value:0}])).concat([{name:"format",type:"USHORT",value:4},{name:"cmap4Length",type:"USHORT",value:0},{name:"language",type:"USHORT",value:0},{name:"segCountX2",type:"USHORT",value:0},{name:"searchRange",type:"USHORT",value:0},{name:"entrySelector",type:"USHORT",value:0},{name:"rangeShift",type:"USHORT",value:0}]),new Kb.Table("cmap",H));O.segments=[];for(D=0;D<f.length;D+=1){for(var ba=f.get(D),ca=0;ca<ba.unicodes.length;ca+=1){var ta=ba.unicodes[ca];var ua=D;O.segments.push({end:ta,
start:ta,delta:-(ta-ua),offset:0,glyphIndex:ua})}O.segments=O.segments.sort(function(ob,gb){return ob.start-gb.start})}O.segments.push({end:65535,start:65535,delta:1,offset:0});f=O.segments.length;ta=0;ua=[];ba=[];ca=[];var Fa=[],Qa=[],Ya=[];for(D=0;D<f;D+=1){var $a=O.segments[D];65535>=$a.end&&65535>=$a.start?(ua=ua.concat({name:"end_"+D,type:"USHORT",value:$a.end}),ba=ba.concat({name:"start_"+D,type:"USHORT",value:$a.start}),ca=ca.concat({name:"idDelta_"+D,type:"SHORT",value:$a.delta}),Fa=Fa.concat({name:"idRangeOffset_"+
D,type:"USHORT",value:$a.offset}),void 0!==$a.glyphId&&(Qa=Qa.concat({name:"glyph_"+D,type:"USHORT",value:$a.glyphId}))):ta+=1;t||void 0===$a.glyphIndex||(Ya=(Ya=(Ya=Ya.concat({name:"cmap12Start_"+D,type:"ULONG",value:$a.start})).concat({name:"cmap12End_"+D,type:"ULONG",value:$a.end})).concat({name:"cmap12Glyph_"+D,type:"ULONG",value:$a.glyphIndex}))}return O.segCountX2=2*(f-ta),O.searchRange=2*Math.pow(2,Math.floor(Math.log(f-ta)/Math.log(2))),O.entrySelector=Math.log(O.searchRange/2)/Math.log(2),
O.rangeShift=O.segCountX2-O.searchRange,O.fields=O.fields.concat(ua),O.fields.push({name:"reservedPad",type:"USHORT",value:0}),O.fields=O.fields.concat(ba),O.fields=O.fields.concat(ca),O.fields=O.fields.concat(Fa),O.fields=O.fields.concat(Qa),O.cmap4Length=2*ua.length+16+2*ba.length+2*ca.length+2*Fa.length+2*Qa.length,t||(H=16+4*Ya.length,O.cmap12Offset=20+O.cmap4Length,O.fields=O.fields.concat([{name:"cmap12Format",type:"USHORT",value:12},{name:"cmap12Reserved",type:"USHORT",value:0},{name:"cmap12Length",
type:"ULONG",value:H},{name:"cmap12Language",type:"ULONG",value:0},{name:"cmap12nGroups",type:"ULONG",value:Ya.length/3}]),O.fields=O.fields.concat(Ya)),O}},Bd=".notdef;space;exclam;quotedbl;numbersign;dollar;percent;ampersand;quoteright;parenleft;parenright;asterisk;plus;comma;hyphen;period;slash;zero;one;two;three;four;five;six;seven;eight;nine;colon;semicolon;less;equal;greater;question;at;A;B;C;D;E;F;G;H;I;J;K;L;M;N;O;P;Q;R;S;T;U;V;W;X;Y;Z;bracketleft;backslash;bracketright;asciicircum;underscore;quoteleft;a;b;c;d;e;f;g;h;i;j;k;l;m;n;o;p;q;r;s;t;u;v;w;x;y;z;braceleft;bar;braceright;asciitilde;exclamdown;cent;sterling;fraction;yen;florin;section;currency;quotesingle;quotedblleft;guillemotleft;guilsinglleft;guilsinglright;fi;fl;endash;dagger;daggerdbl;periodcentered;paragraph;bullet;quotesinglbase;quotedblbase;quotedblright;guillemotright;ellipsis;perthousand;questiondown;grave;acute;circumflex;tilde;macron;breve;dotaccent;dieresis;ring;cedilla;hungarumlaut;ogonek;caron;emdash;AE;ordfeminine;Lslash;Oslash;OE;ordmasculine;ae;dotlessi;lslash;oslash;oe;germandbls;onesuperior;logicalnot;mu;trademark;Eth;onehalf;plusminus;Thorn;onequarter;divide;brokenbar;degree;thorn;threequarters;twosuperior;registered;minus;eth;multiply;threesuperior;copyright;Aacute;Acircumflex;Adieresis;Agrave;Aring;Atilde;Ccedilla;Eacute;Ecircumflex;Edieresis;Egrave;Iacute;Icircumflex;Idieresis;Igrave;Ntilde;Oacute;Ocircumflex;Odieresis;Ograve;Otilde;Scaron;Uacute;Ucircumflex;Udieresis;Ugrave;Yacute;Ydieresis;Zcaron;aacute;acircumflex;adieresis;agrave;aring;atilde;ccedilla;eacute;ecircumflex;edieresis;egrave;iacute;icircumflex;idieresis;igrave;ntilde;oacute;ocircumflex;odieresis;ograve;otilde;scaron;uacute;ucircumflex;udieresis;ugrave;yacute;ydieresis;zcaron;exclamsmall;Hungarumlautsmall;dollaroldstyle;dollarsuperior;ampersandsmall;Acutesmall;parenleftsuperior;parenrightsuperior;266 ff;onedotenleader;zerooldstyle;oneoldstyle;twooldstyle;threeoldstyle;fouroldstyle;fiveoldstyle;sixoldstyle;sevenoldstyle;eightoldstyle;nineoldstyle;commasuperior;threequartersemdash;periodsuperior;questionsmall;asuperior;bsuperior;centsuperior;dsuperior;esuperior;isuperior;lsuperior;msuperior;nsuperior;osuperior;rsuperior;ssuperior;tsuperior;ff;ffi;ffl;parenleftinferior;parenrightinferior;Circumflexsmall;hyphensuperior;Gravesmall;Asmall;Bsmall;Csmall;Dsmall;Esmall;Fsmall;Gsmall;Hsmall;Ismall;Jsmall;Ksmall;Lsmall;Msmall;Nsmall;Osmall;Psmall;Qsmall;Rsmall;Ssmall;Tsmall;Usmall;Vsmall;Wsmall;Xsmall;Ysmall;Zsmall;colonmonetary;onefitted;rupiah;Tildesmall;exclamdownsmall;centoldstyle;Lslashsmall;Scaronsmall;Zcaronsmall;Dieresissmall;Brevesmall;Caronsmall;Dotaccentsmall;Macronsmall;figuredash;hypheninferior;Ogoneksmall;Ringsmall;Cedillasmall;questiondownsmall;oneeighth;threeeighths;fiveeighths;seveneighths;onethird;twothirds;zerosuperior;foursuperior;fivesuperior;sixsuperior;sevensuperior;eightsuperior;ninesuperior;zeroinferior;oneinferior;twoinferior;threeinferior;fourinferior;fiveinferior;sixinferior;seveninferior;eightinferior;nineinferior;centinferior;dollarinferior;periodinferior;commainferior;Agravesmall;Aacutesmall;Acircumflexsmall;Atildesmall;Adieresissmall;Aringsmall;AEsmall;Ccedillasmall;Egravesmall;Eacutesmall;Ecircumflexsmall;Edieresissmall;Igravesmall;Iacutesmall;Icircumflexsmall;Idieresissmall;Ethsmall;Ntildesmall;Ogravesmall;Oacutesmall;Ocircumflexsmall;Otildesmall;Odieresissmall;OEsmall;Oslashsmall;Ugravesmall;Uacutesmall;Ucircumflexsmall;Udieresissmall;Yacutesmall;Thornsmall;Ydieresissmall;001.000;001.001;001.002;001.003;Black;Bold;Book;Light;Medium;Regular;Roman;Semibold".split(";"),
$f="                                space exclam quotedbl numbersign dollar percent ampersand quoteright parenleft parenright asterisk plus comma hyphen period slash zero one two three four five six seven eight nine colon semicolon less equal greater question at A B C D E F G H I J K L M N O P Q R S T U V W X Y Z bracketleft backslash bracketright asciicircum underscore quoteleft a b c d e f g h i j k l m n o p q r s t u v w x y z braceleft bar braceright asciitilde                                   exclamdown cent sterling fraction yen florin section currency quotesingle quotedblleft guillemotleft guilsinglleft guilsinglright fi fl  endash dagger daggerdbl periodcentered  paragraph bullet quotesinglbase quotedblbase quotedblright guillemotright ellipsis perthousand  questiondown  grave acute circumflex tilde macron breve dotaccent dieresis  ring cedilla  hungarumlaut ogonek caron emdash                 AE  ordfeminine     Lslash Oslash OE ordmasculine      ae    dotlessi   lslash oslash oe germandbls".split(" "),
Je="                                space exclamsmall Hungarumlautsmall  dollaroldstyle dollarsuperior ampersandsmall Acutesmall parenleftsuperior parenrightsuperior twodotenleader onedotenleader comma hyphen period fraction zerooldstyle oneoldstyle twooldstyle threeoldstyle fouroldstyle fiveoldstyle sixoldstyle sevenoldstyle eightoldstyle nineoldstyle colon semicolon commasuperior threequartersemdash periodsuperior questionsmall  asuperior bsuperior centsuperior dsuperior esuperior   isuperior   lsuperior msuperior nsuperior osuperior   rsuperior ssuperior tsuperior  ff fi fl ffi ffl parenleftinferior  parenrightinferior Circumflexsmall hyphensuperior Gravesmall Asmall Bsmall Csmall Dsmall Esmall Fsmall Gsmall Hsmall Ismall Jsmall Ksmall Lsmall Msmall Nsmall Osmall Psmall Qsmall Rsmall Ssmall Tsmall Usmall Vsmall Wsmall Xsmall Ysmall Zsmall colonmonetary onefitted rupiah Tildesmall                                   exclamdownsmall centoldstyle Lslashsmall   Scaronsmall Zcaronsmall Dieresissmall Brevesmall Caronsmall  Dotaccentsmall   Macronsmall   figuredash hypheninferior   Ogoneksmall Ringsmall Cedillasmall    onequarter onehalf threequarters questiondownsmall oneeighth threeeighths fiveeighths seveneighths onethird twothirds   zerosuperior onesuperior twosuperior threesuperior foursuperior fivesuperior sixsuperior sevensuperior eightsuperior ninesuperior zeroinferior oneinferior twoinferior threeinferior fourinferior fiveinferior sixinferior seveninferior eightinferior nineinferior centinferior dollarinferior periodinferior commainferior Agravesmall Aacutesmall Acircumflexsmall Atildesmall Adieresissmall Aringsmall AEsmall Ccedillasmall Egravesmall Eacutesmall Ecircumflexsmall Edieresissmall Igravesmall Iacutesmall Icircumflexsmall Idieresissmall Ethsmall Ntildesmall Ogravesmall Oacutesmall Ocircumflexsmall Otildesmall Odieresissmall OEsmall Oslashsmall Ugravesmall Uacutesmall Ucircumflexsmall Udieresissmall Yacutesmall Thornsmall Ydieresissmall".split(" "),
rd=".notdef .null nonmarkingreturn space exclam quotedbl numbersign dollar percent ampersand quotesingle parenleft parenright asterisk plus comma hyphen period slash zero one two three four five six seven eight nine colon semicolon less equal greater question at A B C D E F G H I J K L M N O P Q R S T U V W X Y Z bracketleft backslash bracketright asciicircum underscore grave a b c d e f g h i j k l m n o p q r s t u v w x y z braceleft bar braceright asciitilde Adieresis Aring Ccedilla Eacute Ntilde Odieresis Udieresis aacute agrave acircumflex adieresis atilde aring ccedilla eacute egrave ecircumflex edieresis iacute igrave icircumflex idieresis ntilde oacute ograve ocircumflex odieresis otilde uacute ugrave ucircumflex udieresis dagger degree cent sterling section bullet paragraph germandbls registered copyright trademark acute dieresis notequal AE Oslash infinity plusminus lessequal greaterequal yen mu partialdiff summation product pi integral ordfeminine ordmasculine Omega ae oslash questiondown exclamdown logicalnot radical florin approxequal Delta guillemotleft guillemotright ellipsis nonbreakingspace Agrave Atilde Otilde OE oe endash emdash quotedblleft quotedblright quoteleft quoteright divide lozenge ydieresis Ydieresis fraction currency guilsinglleft guilsinglright fi fl daggerdbl periodcentered quotesinglbase quotedblbase perthousand Acircumflex Ecircumflex Aacute Edieresis Egrave Iacute Icircumflex Idieresis Igrave Oacute Ocircumflex apple Ograve Uacute Ucircumflex Ugrave dotlessi circumflex tilde macron breve dotaccent ring cedilla hungarumlaut ogonek caron Lslash lslash Scaron scaron Zcaron zcaron brokenbar Eth eth Yacute yacute Thorn thorn minus multiply onesuperior twosuperior threesuperior onehalf onequarter threequarters franc Gbreve gbreve Idotaccent Scedilla scedilla Cacute cacute Ccaron ccaron dcroat".split(" ");
L.prototype.charToGlyphIndex=function(f){f=f.codePointAt(0);var t=this.font.glyphs;if(t)for(var D=0;D<t.length;D+=1)for(var H=t.get(D),O=0;O<H.unicodes.length;O+=1)if(H.unicodes[O]===f)return D;return null};S.prototype.charToGlyphIndex=function(f){return this.cmap.glyphIndexMap[f.codePointAt(0)]||0};E.prototype.charToGlyphIndex=function(f){f=f.codePointAt(0);f=this.encoding[f];return this.charset.indexOf(f)};P.prototype.nameToGlyphIndex=function(f){return this.names.indexOf(f)};P.prototype.glyphIndexToName=
function(f){return this.names[f]};var Ic={line:function(f,t,D,H,O){f.beginPath();f.moveTo(t,D);f.lineTo(H,O);f.stroke()}};aa.prototype.bindConstructorValues=function(f){var t;this.index=f.index||0;this.name=f.name||null;this.unicode=f.unicode||void 0;this.unicodes=f.unicodes||void 0!==f.unicode?[f.unicode]:[];f.xMin&&(this.xMin=f.xMin);f.yMin&&(this.yMin=f.yMin);f.xMax&&(this.xMax=f.xMax);f.yMax&&(this.yMax=f.yMax);f.advanceWidth&&(this.advanceWidth=f.advanceWidth);Object.defineProperty(this,"path",
(f=f.path,t=f||new u,{configurable:!0,get:function(){return t="function"==typeof t?t():t},set:function(D){t=D}}))};aa.prototype.addUnicode=function(f){0===this.unicodes.length&&(this.unicode=f);this.unicodes.push(f)};aa.prototype.getBoundingBox=function(){return this.path.getBoundingBox()};aa.prototype.getPath=function(f,t,D,H,O){f=void 0!==f?f:0;t=void 0!==t?t:0;D=void 0!==D?D:72;var ba,ca,ta=(H=H||{}).xScale,ua=H.yScale,Fa=((ba=H.hinting&&O&&O.hinting?this.path&&O.hinting.exec(this,D):ba)?(ca=O.hinting.getCommands(ba),
f=Math.round(f),t=Math.round(t),ta=ua=1):(ca=this.path.commands,H=1/this.path.unitsPerEm*D,void 0===ta&&(ta=H),void 0===ua&&(ua=H)),new u);for(D=0;D<ca.length;D+=1)H=ca[D],"M"===H.type?Fa.moveTo(f+H.x*ta,t+-H.y*ua):"L"===H.type?Fa.lineTo(f+H.x*ta,t+-H.y*ua):"Q"===H.type?Fa.quadraticCurveTo(f+H.x1*ta,t+-H.y1*ua,f+H.x*ta,t+-H.y*ua):"C"===H.type?Fa.curveTo(f+H.x1*ta,t+-H.y1*ua,f+H.x2*ta,t+-H.y2*ua,f+H.x*ta,t+-H.y*ua):"Z"===H.type&&Fa.closePath();return Fa};aa.prototype.getContours=function(){if(void 0===
this.points)return[];for(var f=[],t=[],D=0;D<this.points.length;D+=1){var H=this.points[D];t.push(H);H.lastPointOfContour&&(f.push(t),t=[])}return Ub.argument(0===t.length,"There are still points left in the current contour."),f};aa.prototype.getMetrics=function(){for(var f=this.path.commands,t=[],D=[],H=0;H<f.length;H+=1){var O=f[H];"Z"!==O.type&&(t.push(O.x),D.push(O.y));"Q"!==O.type&&"C"!==O.type||(t.push(O.x1),D.push(O.y1));"C"===O.type&&(t.push(O.x2),D.push(O.y2))}f={xMin:Math.min.apply(null,
t),yMin:Math.min.apply(null,D),xMax:Math.max.apply(null,t),yMax:Math.max.apply(null,D),leftSideBearing:this.leftSideBearing};return isFinite(f.xMin)||(f.xMin=0),isFinite(f.xMax)||(f.xMax=this.advanceWidth),isFinite(f.yMin)||(f.yMin=0),isFinite(f.yMax)||(f.yMax=0),f.rightSideBearing=this.advanceWidth-f.leftSideBearing-(f.xMax-f.xMin),f};aa.prototype.draw=function(f,t,D,H,O){this.getPath(t,D,H,O).draw(f)};aa.prototype.drawPoints=function(f,t,D,H){function O(Qa,Ya,$a,ob){var gb=2*Math.PI;f.beginPath();
for(var Ea=0;Ea<Qa.length;Ea+=1)f.moveTo(Ya+Qa[Ea].x*ob,$a+Qa[Ea].y*ob),f.arc(Ya+Qa[Ea].x*ob,$a+Qa[Ea].y*ob,2,0,gb,!1);f.closePath();f.fill()}t=void 0!==t?t:0;D=void 0!==D?D:0;H=1/this.path.unitsPerEm*(H=void 0!==H?H:24);for(var ba=[],ca=[],ta=this.path,ua=0;ua<ta.commands.length;ua+=1){var Fa=ta.commands[ua];void 0!==Fa.x&&ba.push({x:Fa.x,y:-Fa.y});void 0!==Fa.x1&&ca.push({x:Fa.x1,y:-Fa.y1});void 0!==Fa.x2&&ca.push({x:Fa.x2,y:-Fa.y2})}f.fillStyle="blue";O(ba,t,D,H);f.fillStyle="red";O(ca,t,D,H)};
aa.prototype.drawMetrics=function(f,t,D,H){t=void 0!==t?t:0;D=void 0!==D?D:0;H=1/this.path.unitsPerEm*(H=void 0!==H?H:24);f.lineWidth=1;f.strokeStyle="black";Ic.line(f,t,-1E4,t,1E4);Ic.line(f,-1E4,D,1E4,D);var O=this.xMin||0,ba=this.yMin||0,ca=this.xMax||0,ta=this.yMax||0,ua=this.advanceWidth||0;f.strokeStyle="blue";Ic.line(f,t+O*H,-1E4,t+O*H,1E4);Ic.line(f,t+ca*H,-1E4,t+ca*H,1E4);Ic.line(f,-1E4,D+-ba*H,1E4,D+-ba*H);Ic.line(f,-1E4,D+-ta*H,1E4,D+-ta*H);f.strokeStyle="green";Ic.line(f,t+ua*H,-1E4,t+
ua*H,1E4)};oa.prototype.get=function(f){return"function"==typeof this.glyphs[f]&&(this.glyphs[f]=this.glyphs[f]()),this.glyphs[f]};oa.prototype.push=function(f,t){this.glyphs[f]=t;this.length++};var Cd={GlyphSet:oa,glyphLoader:function(f,t){return new aa({index:t,font:f})},ttfGlyphLoader:function(f,t,D,H,O,ba){return function(){var ca=new aa({index:t,font:f});return ca.path=function(){D(ca,H,O);var ta=ba(f.glyphs,ca);return ta.unitsPerEm=f.unitsPerEm,ta},ja(ca,"xMin","_xMin"),ja(ca,"xMax","_xMax"),
ja(ca,"yMin","_yMin"),ja(ca,"yMax","_yMax"),ca}},cffGlyphLoader:function(f,t,D,H){return function(){var O=new aa({index:t,font:f});return O.path=function(){var ba=D(f,O,H);return ba.unitsPerEm=f.unitsPerEm,ba},O}}},kf=[{name:"version",op:0,type:"SID"},{name:"notice",op:1,type:"SID"},{name:"copyright",op:1200,type:"SID"},{name:"fullName",op:2,type:"SID"},{name:"familyName",op:3,type:"SID"},{name:"weight",op:4,type:"SID"},{name:"isFixedPitch",op:1201,type:"number",value:0},{name:"italicAngle",op:1202,
type:"number",value:0},{name:"underlinePosition",op:1203,type:"number",value:-100},{name:"underlineThickness",op:1204,type:"number",value:50},{name:"paintType",op:1205,type:"number",value:0},{name:"charstringType",op:1206,type:"number",value:2},{name:"fontMatrix",op:1207,type:"real real real real real real".split(" "),value:[.001,0,0,.001,0,0]},{name:"uniqueId",op:13,type:"number"},{name:"fontBBox",op:5,type:["number","number","number","number"],value:[0,0,0,0]},{name:"strokeWidth",op:1208,type:"number",
value:0},{name:"xuid",op:14,type:[],value:null},{name:"charset",op:15,type:"offset",value:0},{name:"encoding",op:16,type:"offset",value:0},{name:"charStrings",op:17,type:"offset",value:0},{name:"private",op:18,type:["number","offset"],value:[0,0]},{name:"ros",op:1230,type:["SID","SID","number"]},{name:"cidFontVersion",op:1231,type:"number",value:0},{name:"cidFontRevision",op:1232,type:"number",value:0},{name:"cidFontType",op:1233,type:"number",value:0},{name:"cidCount",op:1234,type:"number",value:8720},
{name:"uidBase",op:1235,type:"number"},{name:"fdArray",op:1236,type:"offset"},{name:"fdSelect",op:1237,type:"offset"},{name:"fontName",op:1238,type:"SID"}],bd=[{name:"subrs",op:19,type:"offset",value:0},{name:"defaultWidthX",op:20,type:"number",value:0},{name:"nominalWidthX",op:21,type:"number",value:0}],lf={parse:function(f,t,D){D.tables.cff={};H=f;O=t;(ba={}).formatMajor=Gb.getCard8(H,O);ba.formatMinor=Gb.getCard8(H,O+1);ba.size=Gb.getCard8(H,O+2);ba.offsetSize=Gb.getCard8(H,O+3);ba.startOffset=
O;ba.endOffset=O+4;var H=la(f,ba.endOffset,Gb.bytesToString),O=la(f,H.endOffset),ba=la(f,O.endOffset,Gb.bytesToString);H=la(f,ba.endOffset);if(D.gsubrs=H.objects,D.gsubrsBias=ra(D.gsubrs),1!==(H=Ka(f,t,O.objects,ba.objects)).length)throw Error("CFF table has too many fonts in 'FontSet' - count of fonts NameIndex.length \x3d "+H.length);if(O=H[0],(D.tables.cff.topDict=O)._privateDict&&(D.defaultWidthX=O._privateDict.defaultWidthX,D.nominalWidthX=O._privateDict.nominalWidthX),void 0!==O.ros[0]&&void 0!==
O.ros[1]&&(D.isCIDFont=!0),D.isCIDFont){H=O.fdArray;var ca=O.fdSelect;if(0===H||0===ca)throw Error("Font is marked as a CID font, but FDArray and/or FDSelect information is missing");H=Ka(f,t,la(f,H+=t).objects,ba.objects);O._fdArray=H;O._fdSelect=function(ua,Fa,Qa,Ya){var $a,ob=[];Fa=new Gb.Parser(ua,Fa);if(0===(ua=Fa.parseCard8()))for(var gb=0;gb<Qa;gb++){if(Ya<=($a=Fa.parseCard8()))throw Error("CFF table CID Font FDSelect has bad FD index value "+$a+" (FD count "+Ya+")");ob.push($a)}else{if(3!==
ua)throw Error("CFF Table CID Font FDSelect table has unsupported format "+ua);ua=Fa.parseCard16();var Ea=Fa.parseCard16();if(0!==Ea)throw Error("CFF Table CID Font FDSelect format 3 range has bad initial GID "+Ea);for(var Mb=0;Mb<ua;Mb++){if($a=Fa.parseCard8(),gb=Fa.parseCard16(),Ya<=$a)throw Error("CFF table CID Font FDSelect has bad FD index value "+$a+" (FD count "+Ya+")");if(Qa<gb)throw Error("CFF Table CID Font FDSelect format 3 range has bad GID "+gb);for(;Ea<gb;Ea++)ob.push($a);Ea=gb}if(gb!==
Qa)throw Error("CFF Table CID Font FDSelect format 3 range has bad final GID "+gb);}return ob}(f,ca+=t,D.numGlyphs,H.length)}ca=t+O.private[1];H=Ga(f,ca,O.private[0],ba.objects);var ta=(D.defaultWidthX=H.defaultWidthX,D.nominalWidthX=H.nominalWidthX,0!==H.subrs?(ca=la(f,ca+H.subrs),D.subrs=ca.objects,D.subrsBias=ra(D.subrs)):(D.subrs=[],D.subrsBias=0),la(f,t+O.charStrings));H=(D.nGlyphs=ta.objects.length,function(ua,Fa,Qa,Ya){Fa=new Gb.Parser(ua,Fa);var $a=(--Qa,[".notdef"]);if(0===(ua=Fa.parseCard8()))for(var ob=
0;ob<Qa;ob+=1)ua=Fa.parseSID(),$a.push(qa(Ya,ua));else if(1===ua)for(;$a.length<=Qa;){ua=Fa.parseSID();ob=Fa.parseCard8();for(var gb=0;gb<=ob;gb+=1)$a.push(qa(Ya,ua)),ua+=1}else{if(2!==ua)throw Error("Unknown charset format "+ua);for(;$a.length<=Qa;)for(ua=Fa.parseSID(),ob=Fa.parseCard16(),gb=0;gb<=ob;gb+=1)$a.push(qa(Ya,ua)),ua+=1}return $a}(f,t+O.charset,D.nGlyphs,ba.objects));0===O.encoding?D.cffEncoding=new E($f,H):1===O.encoding?D.cffEncoding=new E(Je,H):D.cffEncoding=function(ua,Fa,Qa){var Ya=
{};Fa=new Gb.Parser(ua,Fa);if(0===(ua=Fa.parseCard8()))for(var $a=Fa.parseCard8(),ob=0;ob<$a;ob+=1)Ya[ua=Fa.parseCard8()]=ob;else{if(1!==ua)throw Error("Unknown encoding format "+ua);$a=Fa.parseCard8();ua=1;for(ob=0;ob<$a;ob+=1)for(var gb=Fa.parseCard8(),Ea=Fa.parseCard8(),Mb=gb;Mb<=gb+Ea;Mb+=1)Ya[Mb]=ua,ua+=1}return new E(Ya,Qa)}(f,t+O.encoding,H);D.encoding=D.encoding||D.cffEncoding;D.glyphs=new Cd.GlyphSet(D);for(f=0;f<D.nGlyphs;f+=1)D.glyphs.push(f,Cd.cffGlyphLoader(D,f,ha,ta.objects[f]))},make:function(f,
t){var D=new Kb.Table("CFF ",[{name:"header",type:"RECORD"},{name:"nameIndex",type:"RECORD"},{name:"topDictIndex",type:"RECORD"},{name:"stringIndex",type:"RECORD"},{name:"globalSubrIndex",type:"RECORD"},{name:"charsets",type:"RECORD"},{name:"charStringsIndex",type:"RECORD"},{name:"privateDict",type:"RECORD"}]),H=1/t.unitsPerEm;H={version:t.version,fullName:t.fullName,familyName:t.familyName,weight:t.weightName,fontBBox:t.fontBBox||[0,0,0,0],fontMatrix:[H,0,0,H,0,0],charset:999,encoding:0,charStrings:999,
private:[0,999]};for(var O=[],ba=1;ba<f.length;ba+=1){var ca=f.get(ba);O.push(ca.name)}var ta;ca=[];t=(D.header=new Kb.Record("Header",[{name:"major",type:"Card8",value:1},{name:"minor",type:"Card8",value:0},{name:"hdrSize",type:"Card8",value:4},{name:"major",type:"Card8",value:1}]),D.nameIndex=function(Fa){var Qa=new Kb.Record("Name INDEX",[{name:"names",type:"INDEX",value:[]}]);Qa.names=[];for(var Ya=0;Ya<Fa.length;Ya+=1)Qa.names.push({name:"name_"+Ya,type:"NAME",value:Fa[Ya]});return Qa}([t.postScriptName]),
Ca(H,ca));var ua=(D.topDictIndex=za(t),D.globalSubrIndex=new Kb.Record("Global Subr INDEX",[{name:"subrs",type:"INDEX",value:[]}]),D.charsets=function(Fa,Qa){for(var Ya=new Kb.Record("Charsets",[{name:"format",type:"Card8",value:0}]),$a=0;$a<Fa.length;$a+=1){var ob=na(Fa[$a],Qa);Ya.fields.push({name:"glyph_"+$a,type:"SID",value:ob})}return Ya}(O,ca),D.charStringsIndex=Na(f),D.privateDict=(ua={},(ta=new Kb.Record("Private DICT",[{name:"dict",type:"DICT",value:{}}])).dict=xa(bd,ua,ca),ta),D.stringIndex=
function(Fa){var Qa=new Kb.Record("String INDEX",[{name:"strings",type:"INDEX",value:[]}]);Qa.strings=[];for(var Ya=0;Ya<Fa.length;Ya+=1)Qa.strings.push({name:"string_"+Ya,type:"STRING",value:Fa[Ya]});return Qa}(ca),D.header.sizeOf()+D.nameIndex.sizeOf()+D.topDictIndex.sizeOf()+D.stringIndex.sizeOf()+D.globalSubrIndex.sizeOf());return H.charset=ua,H.encoding=0,H.charStrings=H.charset+D.charsets.sizeOf(),H.private[1]=H.charStrings+D.charStringsIndex.sizeOf(),t=Ca(H,ca),D.topDictIndex=za(t),D}},ne=
{parse:function(f,t){var D={};f=new Gb.Parser(f,t);return D.version=f.parseVersion(),D.fontRevision=Math.round(1E3*f.parseFixed())/1E3,D.checkSumAdjustment=f.parseULong(),D.magicNumber=f.parseULong(),Ub.argument(1594834165===D.magicNumber,"Font header has wrong magic number."),D.flags=f.parseUShort(),D.unitsPerEm=f.parseUShort(),D.created=f.parseLongDateTime(),D.modified=f.parseLongDateTime(),D.xMin=f.parseShort(),D.yMin=f.parseShort(),D.xMax=f.parseShort(),D.yMax=f.parseShort(),D.macStyle=f.parseUShort(),
D.lowestRecPPEM=f.parseUShort(),D.fontDirectionHint=f.parseShort(),D.indexToLocFormat=f.parseShort(),D.glyphDataFormat=f.parseShort(),D},make:function(f){var t=Math.round((new Date).getTime()/1E3)+2082844800,D=t;return f.createdTimestamp&&(D=f.createdTimestamp+2082844800),new Kb.Table("head",[{name:"version",type:"FIXED",value:65536},{name:"fontRevision",type:"FIXED",value:65536},{name:"checkSumAdjustment",type:"ULONG",value:0},{name:"magicNumber",type:"ULONG",value:1594834165},{name:"flags",type:"USHORT",
value:0},{name:"unitsPerEm",type:"USHORT",value:1E3},{name:"created",type:"LONGDATETIME",value:D},{name:"modified",type:"LONGDATETIME",value:t},{name:"xMin",type:"SHORT",value:0},{name:"yMin",type:"SHORT",value:0},{name:"xMax",type:"SHORT",value:0},{name:"yMax",type:"SHORT",value:0},{name:"macStyle",type:"USHORT",value:0},{name:"lowestRecPPEM",type:"USHORT",value:0},{name:"fontDirectionHint",type:"SHORT",value:2},{name:"indexToLocFormat",type:"SHORT",value:0},{name:"glyphDataFormat",type:"SHORT",
value:0}],f)}},Uc={parse:function(f,t){var D={};f=new Gb.Parser(f,t);return D.version=f.parseVersion(),D.ascender=f.parseShort(),D.descender=f.parseShort(),D.lineGap=f.parseShort(),D.advanceWidthMax=f.parseUShort(),D.minLeftSideBearing=f.parseShort(),D.minRightSideBearing=f.parseShort(),D.xMaxExtent=f.parseShort(),D.caretSlopeRise=f.parseShort(),D.caretSlopeRun=f.parseShort(),D.caretOffset=f.parseShort(),f.relativeOffset+=8,D.metricDataFormat=f.parseShort(),D.numberOfHMetrics=f.parseUShort(),D},make:function(f){return new Kb.Table("hhea",
[{name:"version",type:"FIXED",value:65536},{name:"ascender",type:"FWORD",value:0},{name:"descender",type:"FWORD",value:0},{name:"lineGap",type:"FWORD",value:0},{name:"advanceWidthMax",type:"UFWORD",value:0},{name:"minLeftSideBearing",type:"FWORD",value:0},{name:"minRightSideBearing",type:"FWORD",value:0},{name:"xMaxExtent",type:"FWORD",value:0},{name:"caretSlopeRise",type:"SHORT",value:1},{name:"caretSlopeRun",type:"SHORT",value:0},{name:"caretOffset",type:"SHORT",value:0},{name:"reserved1",type:"SHORT",
value:0},{name:"reserved2",type:"SHORT",value:0},{name:"reserved3",type:"SHORT",value:0},{name:"reserved4",type:"SHORT",value:0},{name:"metricDataFormat",type:"SHORT",value:0},{name:"numberOfHMetrics",type:"USHORT",value:0}],f)}},Ke={parse:function(f,t,D,H,O){var ba,ca;f=new Gb.Parser(f,t);for(t=0;t<H;t+=1){t<D&&(ba=f.parseUShort(),ca=f.parseShort());var ta=O.get(t);ta.advanceWidth=ba;ta.leftSideBearing=ca}},make:function(f){for(var t=new Kb.Table("hmtx",[]),D=0;D<f.length;D+=1){var H=f.get(D),O=
H.advanceWidth||0;H=H.leftSideBearing||0;t.fields.push({name:"advanceWidth_"+D,type:"USHORT",value:O});t.fields.push({name:"leftSideBearing_"+D,type:"SHORT",value:H})}return t}},mf={make:function(f){for(var t=new Kb.Table("ltag",[{name:"version",type:"ULONG",value:1},{name:"flags",type:"ULONG",value:0},{name:"numTags",type:"ULONG",value:f.length}]),D="",H=12+4*f.length,O=0;O<f.length;++O){var ba=D.indexOf(f[O]);0>ba&&(ba=D.length,D+=f[O]);t.fields.push({name:"offset "+O,type:"USHORT",value:H+ba});
t.fields.push({name:"length "+O,type:"USHORT",value:f[O].length})}return t.fields.push({name:"stringPool",type:"CHARARRAY",value:D}),t},parse:function(f,t){var D=new Gb.Parser(f,t),H=D.parseULong();H=(Ub.argument(1===H,"Unsupported ltag table version."),D.skip("uLong",1),D.parseULong());for(var O=[],ba=0;ba<H;ba++){for(var ca="",ta=t+D.parseUShort(),ua=D.parseUShort(),Fa=ta;Fa<ta+ua;++Fa)ca+=String.fromCharCode(f.getInt8(Fa));O.push(ca)}return O}},Ed={parse:function(f,t){var D={};f=new Gb.Parser(f,
t);return D.version=f.parseVersion(),D.numGlyphs=f.parseUShort(),1===D.version&&(D.maxPoints=f.parseUShort(),D.maxContours=f.parseUShort(),D.maxCompositePoints=f.parseUShort(),D.maxCompositeContours=f.parseUShort(),D.maxZones=f.parseUShort(),D.maxTwilightPoints=f.parseUShort(),D.maxStorage=f.parseUShort(),D.maxFunctionDefs=f.parseUShort(),D.maxInstructionDefs=f.parseUShort(),D.maxStackElements=f.parseUShort(),D.maxSizeOfInstructions=f.parseUShort(),D.maxComponentElements=f.parseUShort(),D.maxComponentDepth=
f.parseUShort()),D},make:function(f){return new Kb.Table("maxp",[{name:"version",type:"FIXED",value:20480},{name:"numGlyphs",type:"USHORT",value:f}])}},Rc="copyright fontFamily fontSubfamily uniqueID fullName version postScriptName trademark manufacturer designer description manufacturerURL designerURL license licenseURL reserved preferredFamily preferredSubfamily compatibleFullName sampleText postScriptFindFontName wwsFamily wwsSubfamily".split(" "),Ne={0:"en",1:"fr",2:"de",3:"it",4:"nl",5:"sv",
6:"es",7:"da",8:"pt",9:"no",10:"he",11:"ja",12:"ar",13:"fi",14:"el",15:"is",16:"mt",17:"tr",18:"hr",19:"zh-Hant",20:"ur",21:"hi",22:"th",23:"ko",24:"lt",25:"pl",26:"hu",27:"es",28:"lv",29:"se",30:"fo",31:"fa",32:"ru",33:"zh",34:"nl-BE",35:"ga",36:"sq",37:"ro",38:"cz",39:"sk",40:"si",41:"yi",42:"sr",43:"mk",44:"bg",45:"uk",46:"be",47:"uz",48:"kk",49:"az-Cyrl",50:"az-Arab",51:"hy",52:"ka",53:"mo",54:"ky",55:"tg",56:"tk",57:"mn-CN",58:"mn",59:"ps",60:"ks",61:"ku",62:"sd",63:"bo",64:"ne",65:"sa",66:"mr",
67:"bn",68:"as",69:"gu",70:"pa",71:"or",72:"ml",73:"kn",74:"ta",75:"te",76:"si",77:"my",78:"km",79:"lo",80:"vi",81:"id",82:"tl",83:"ms",84:"ms-Arab",85:"am",86:"ti",87:"om",88:"so",89:"sw",90:"rw",91:"rn",92:"ny",93:"mg",94:"eo",128:"cy",129:"eu",130:"ca",131:"la",132:"qu",133:"gn",134:"ay",135:"tt",136:"ug",137:"dz",138:"jv",139:"su",140:"gl",141:"af",142:"br",143:"iu",144:"gd",145:"gv",146:"ga",147:"to",148:"el-polyton",149:"kl",150:"az",151:"nn"},nf={0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:5,
11:1,12:4,13:0,14:6,15:0,16:0,17:0,18:0,19:2,20:4,21:9,22:21,23:3,24:29,25:29,26:29,27:29,28:29,29:0,30:0,31:4,32:7,33:25,34:0,35:0,36:0,37:0,38:29,39:29,40:0,41:5,42:7,43:7,44:7,45:7,46:7,47:7,48:7,49:7,50:4,51:24,52:23,53:7,54:7,55:7,56:7,57:27,58:7,59:4,60:4,61:4,62:4,63:26,64:9,65:9,66:9,67:13,68:13,69:11,70:10,71:12,72:17,73:16,74:14,75:15,76:18,77:19,78:20,79:22,80:30,81:0,82:0,83:0,84:4,85:28,86:28,87:28,88:0,89:0,90:0,91:0,92:0,93:0,94:0,128:0,129:0,130:0,131:0,132:0,133:0,134:0,135:7,136:4,
137:26,138:0,139:0,140:0,141:0,142:0,143:28,144:0,145:0,146:0,147:0,148:6,149:0,150:0,151:0},kd={1078:"af",1052:"sq",1156:"gsw",1118:"am",5121:"ar-DZ",15361:"ar-BH",3073:"ar",2049:"ar-IQ",11265:"ar-JO",13313:"ar-KW",12289:"ar-LB",4097:"ar-LY",6145:"ary",8193:"ar-OM",16385:"ar-QA",1025:"ar-SA",10241:"ar-SY",7169:"aeb",14337:"ar-AE",9217:"ar-YE",1067:"hy",1101:"as",2092:"az-Cyrl",1068:"az",1133:"ba",1069:"eu",1059:"be",2117:"bn",1093:"bn-IN",8218:"bs-Cyrl",5146:"bs",1150:"br",1026:"bg",1027:"ca",3076:"zh-HK",
5124:"zh-MO",2052:"zh",4100:"zh-SG",1028:"zh-TW",1155:"co",1050:"hr",4122:"hr-BA",1029:"cs",1030:"da",1164:"prs",1125:"dv",2067:"nl-BE",1043:"nl",3081:"en-AU",10249:"en-BZ",4105:"en-CA",9225:"en-029",16393:"en-IN",6153:"en-IE",8201:"en-JM",17417:"en-MY",5129:"en-NZ",13321:"en-PH",18441:"en-SG",7177:"en-ZA",11273:"en-TT",2057:"en-GB",1033:"en",12297:"en-ZW",1061:"et",1080:"fo",1124:"fil",1035:"fi",2060:"fr-BE",3084:"fr-CA",1036:"fr",5132:"fr-LU",6156:"fr-MC",4108:"fr-CH",1122:"fy",1110:"gl",1079:"ka",
3079:"de-AT",1031:"de",5127:"de-LI",4103:"de-LU",2055:"de-CH",1032:"el",1135:"kl",1095:"gu",1128:"ha",1037:"he",1081:"hi",1038:"hu",1039:"is",1136:"ig",1057:"id",1117:"iu",2141:"iu-Latn",2108:"ga",1076:"xh",1077:"zu",1040:"it",2064:"it-CH",1041:"ja",1099:"kn",1087:"kk",1107:"km",1158:"quc",1159:"rw",1089:"sw",1111:"kok",1042:"ko",1088:"ky",1108:"lo",1062:"lv",1063:"lt",2094:"dsb",1134:"lb",1071:"mk",2110:"ms-BN",1086:"ms",1100:"ml",1082:"mt",1153:"mi",1146:"arn",1102:"mr",1148:"moh",1104:"mn",2128:"mn-CN",
1121:"ne",1044:"nb",2068:"nn",1154:"oc",1096:"or",1123:"ps",1045:"pl",1046:"pt",2070:"pt-PT",1094:"pa",1131:"qu-BO",2155:"qu-EC",3179:"qu",1048:"ro",1047:"rm",1049:"ru",9275:"smn",4155:"smj-NO",5179:"smj",3131:"se-FI",1083:"se",2107:"se-SE",8251:"sms",6203:"sma-NO",7227:"sms",1103:"sa",7194:"sr-Cyrl-BA",3098:"sr",6170:"sr-Latn-BA",2074:"sr-Latn",1132:"nso",1074:"tn",1115:"si",1051:"sk",1060:"sl",11274:"es-AR",16394:"es-BO",13322:"es-CL",9226:"es-CO",5130:"es-CR",7178:"es-DO",12298:"es-EC",17418:"es-SV",
4106:"es-GT",18442:"es-HN",2058:"es-MX",19466:"es-NI",6154:"es-PA",15370:"es-PY",10250:"es-PE",20490:"es-PR",3082:"es",1034:"es",21514:"es-US",14346:"es-UY",8202:"es-VE",2077:"sv-FI",1053:"sv",1114:"syr",1064:"tg",2143:"tzm",1097:"ta",1092:"tt",1098:"te",1054:"th",1105:"bo",1055:"tr",1090:"tk",1152:"ug",1058:"uk",1070:"hsb",1056:"ur",2115:"uz-Cyrl",1091:"uz",1066:"vi",1106:"cy",1160:"wo",1157:"sah",1144:"ii",1130:"yo"},td={0:"macintosh",1:"x-mac-japanese",2:"x-mac-chinesetrad",3:"x-mac-korean",6:"x-mac-greek",
7:"x-mac-cyrillic",9:"x-mac-devanagai",10:"x-mac-gurmukhi",11:"x-mac-gujarati",12:"x-mac-oriya",13:"x-mac-bengali",14:"x-mac-tamil",15:"x-mac-telugu",16:"x-mac-kannada",17:"x-mac-malayalam",18:"x-mac-sinhalese",19:"x-mac-burmese",20:"x-mac-khmer",21:"x-mac-thai",22:"x-mac-lao",23:"x-mac-georgian",24:"x-mac-armenian",25:"x-mac-chinesesimp",26:"x-mac-tibetan",27:"x-mac-mongolian",28:"x-mac-ethiopic",29:"x-mac-ce",30:"x-mac-vietnamese",31:"x-mac-extarabic"},dg={15:"x-mac-icelandic",17:"x-mac-turkish",
18:"x-mac-croatian",24:"x-mac-ce",25:"x-mac-ce",26:"x-mac-ce",27:"x-mac-ce",28:"x-mac-ce",30:"x-mac-icelandic",37:"x-mac-romanian",38:"x-mac-ce",39:"x-mac-ce",40:"x-mac-ce",143:"x-mac-inuit",146:"x-mac-gaelic"},Ud={parse:function(f,t,D){var H={},O=new Gb.Parser(f,t);t=O.parseUShort();for(var ba=O.parseUShort(),ca=O.offset+O.parseUShort(),ta=0;ta<ba;ta++){var ua=O.parseUShort(),Fa=O.parseUShort(),Qa=O.parseUShort(),Ya=O.parseUShort();Ya=Rc[Ya]||Ya;var $a=O.parseUShort(),ob=O.parseUShort();a:{switch(ua){case 0:if(65535===
Qa){var gb="und";break a}if(D){gb=D[Qa];break a}break;case 1:gb=Ne[Qa];break a;case 3:gb=kd[Qa];break a}gb=void 0}ua=Oa(ua,Fa,Qa);void 0!==ua&&void 0!==gb&&(Fa="utf-16"===ua?qd.UTF16(f,ca+ob,$a):qd.MACSTRING(f,ca+ob,$a,ua))&&((Qa=void 0===(Qa=H[Ya])?H[Ya]={}:Qa)[gb]=Fa)}return 1===t&&O.parseUShort(),H},make:function(f,t){var D=[],H={},O=bb(Rc);for(ca in f){var ba=O[ca];if(void 0===ba&&(ba=ca),ua=parseInt(ba),isNaN(ua))throw Error('Name table entry "'+ca+'" does not exist, see nameTableNames for complete list.');
H[ua]=f[ca];D.push(ua)}O=bb(Ne);ba=bb(kd);f=[];var ca=[];for(var ta=0;ta<D.length;ta++){var ua,Fa,Qa=H[ua=D[ta]];for(Fa in Qa){var Ya=Qa[Fa],$a=1,ob=O[Fa],gb=nf[ob],Ea=Oa($a,gb,ob);Ea=sb.MACSTRING(Ya,Ea);var Mb=(void 0===Ea&&($a=0,0>(ob=t.indexOf(Fa))&&(ob=t.length,t.push(Fa)),gb=4,Ea=sb.UTF16(Ya)),cb(Ea,ca));$a=(f.push(eb($a,gb,ob,ua,Ea.length,Mb)),ba[Fa]);void 0!==$a&&(ob=cb(gb=sb.UTF16(Ya),ca),f.push(eb(3,1,$a,ua,gb.length,ob)))}}f.sort(function(Vb,nc){return Vb.platformID-nc.platformID||Vb.encodingID-
nc.encodingID||Vb.languageID-nc.languageID||Vb.nameID-nc.nameID});t=new Kb.Table("name",[{name:"format",type:"USHORT",value:0},{name:"count",type:"USHORT",value:f.length},{name:"stringOffset",type:"USHORT",value:6+12*f.length}]);for(D=0;D<f.length;D++)t.fields.push({name:"record_"+D,type:"RECORD",value:f[D]});return t.fields.push({name:"strings",type:"LITERAL",value:ca}),t}},Oe=[{begin:0,end:127},{begin:128,end:255},{begin:256,end:383},{begin:384,end:591},{begin:592,end:687},{begin:688,end:767},{begin:768,
end:879},{begin:880,end:1023},{begin:11392,end:11519},{begin:1024,end:1279},{begin:1328,end:1423},{begin:1424,end:1535},{begin:42240,end:42559},{begin:1536,end:1791},{begin:1984,end:2047},{begin:2304,end:2431},{begin:2432,end:2559},{begin:2560,end:2687},{begin:2688,end:2815},{begin:2816,end:2943},{begin:2944,end:3071},{begin:3072,end:3199},{begin:3200,end:3327},{begin:3328,end:3455},{begin:3584,end:3711},{begin:3712,end:3839},{begin:4256,end:4351},{begin:6912,end:7039},{begin:4352,end:4607},{begin:7680,
end:7935},{begin:7936,end:8191},{begin:8192,end:8303},{begin:8304,end:8351},{begin:8352,end:8399},{begin:8400,end:8447},{begin:8448,end:8527},{begin:8528,end:8591},{begin:8592,end:8703},{begin:8704,end:8959},{begin:8960,end:9215},{begin:9216,end:9279},{begin:9280,end:9311},{begin:9312,end:9471},{begin:9472,end:9599},{begin:9600,end:9631},{begin:9632,end:9727},{begin:9728,end:9983},{begin:9984,end:10175},{begin:12288,end:12351},{begin:12352,end:12447},{begin:12448,end:12543},{begin:12544,end:12591},
{begin:12592,end:12687},{begin:43072,end:43135},{begin:12800,end:13055},{begin:13056,end:13311},{begin:44032,end:55215},{begin:55296,end:57343},{begin:67840,end:67871},{begin:19968,end:40959},{begin:57344,end:63743},{begin:12736,end:12783},{begin:64256,end:64335},{begin:64336,end:65023},{begin:65056,end:65071},{begin:65040,end:65055},{begin:65104,end:65135},{begin:65136,end:65279},{begin:65280,end:65519},{begin:65520,end:65535},{begin:3840,end:4095},{begin:1792,end:1871},{begin:1920,end:1983},{begin:3456,
end:3583},{begin:4096,end:4255},{begin:4608,end:4991},{begin:5024,end:5119},{begin:5120,end:5759},{begin:5760,end:5791},{begin:5792,end:5887},{begin:6016,end:6143},{begin:6144,end:6319},{begin:10240,end:10495},{begin:40960,end:42127},{begin:5888,end:5919},{begin:66304,end:66351},{begin:66352,end:66383},{begin:66560,end:66639},{begin:118784,end:119039},{begin:119808,end:120831},{begin:1044480,end:1048573},{begin:65024,end:65039},{begin:917504,end:917631},{begin:6400,end:6479},{begin:6480,end:6527},
{begin:6528,end:6623},{begin:6656,end:6687},{begin:11264,end:11359},{begin:11568,end:11647},{begin:19904,end:19967},{begin:43008,end:43055},{begin:65536,end:65663},{begin:65856,end:65935},{begin:66432,end:66463},{begin:66464,end:66527},{begin:66640,end:66687},{begin:66688,end:66735},{begin:67584,end:67647},{begin:68096,end:68191},{begin:119552,end:119647},{begin:73728,end:74751},{begin:119648,end:119679},{begin:7040,end:7103},{begin:7168,end:7247},{begin:7248,end:7295},{begin:43136,end:43231},{begin:43264,
end:43311},{begin:43312,end:43359},{begin:43520,end:43615},{begin:65936,end:65999},{begin:66E3,end:66047},{begin:66208,end:66271},{begin:127024,end:127135}],Wd={parse:function(f,t){var D={};f=new Gb.Parser(f,t);D.version=f.parseUShort();D.xAvgCharWidth=f.parseShort();D.usWeightClass=f.parseUShort();D.usWidthClass=f.parseUShort();D.fsType=f.parseUShort();D.ySubscriptXSize=f.parseShort();D.ySubscriptYSize=f.parseShort();D.ySubscriptXOffset=f.parseShort();D.ySubscriptYOffset=f.parseShort();D.ySuperscriptXSize=
f.parseShort();D.ySuperscriptYSize=f.parseShort();D.ySuperscriptXOffset=f.parseShort();D.ySuperscriptYOffset=f.parseShort();D.yStrikeoutSize=f.parseShort();D.yStrikeoutPosition=f.parseShort();D.sFamilyClass=f.parseShort();D.panose=[];for(t=0;10>t;t++)D.panose[t]=f.parseByte();return D.ulUnicodeRange1=f.parseULong(),D.ulUnicodeRange2=f.parseULong(),D.ulUnicodeRange3=f.parseULong(),D.ulUnicodeRange4=f.parseULong(),D.achVendID=String.fromCharCode(f.parseByte(),f.parseByte(),f.parseByte(),f.parseByte()),
D.fsSelection=f.parseUShort(),D.usFirstCharIndex=f.parseUShort(),D.usLastCharIndex=f.parseUShort(),D.sTypoAscender=f.parseShort(),D.sTypoDescender=f.parseShort(),D.sTypoLineGap=f.parseShort(),D.usWinAscent=f.parseUShort(),D.usWinDescent=f.parseUShort(),1<=D.version&&(D.ulCodePageRange1=f.parseULong(),D.ulCodePageRange2=f.parseULong()),2<=D.version&&(D.sxHeight=f.parseShort(),D.sCapHeight=f.parseShort(),D.usDefaultChar=f.parseUShort(),D.usBreakChar=f.parseUShort(),D.usMaxContent=f.parseUShort()),D},
make:function(f){return new Kb.Table("OS/2",[{name:"version",type:"USHORT",value:3},{name:"xAvgCharWidth",type:"SHORT",value:0},{name:"usWeightClass",type:"USHORT",value:0},{name:"usWidthClass",type:"USHORT",value:0},{name:"fsType",type:"USHORT",value:0},{name:"ySubscriptXSize",type:"SHORT",value:650},{name:"ySubscriptYSize",type:"SHORT",value:699},{name:"ySubscriptXOffset",type:"SHORT",value:0},{name:"ySubscriptYOffset",type:"SHORT",value:140},{name:"ySuperscriptXSize",type:"SHORT",value:650},{name:"ySuperscriptYSize",
type:"SHORT",value:699},{name:"ySuperscriptXOffset",type:"SHORT",value:0},{name:"ySuperscriptYOffset",type:"SHORT",value:479},{name:"yStrikeoutSize",type:"SHORT",value:49},{name:"yStrikeoutPosition",type:"SHORT",value:258},{name:"sFamilyClass",type:"SHORT",value:0},{name:"bFamilyType",type:"BYTE",value:0},{name:"bSerifStyle",type:"BYTE",value:0},{name:"bWeight",type:"BYTE",value:0},{name:"bProportion",type:"BYTE",value:0},{name:"bContrast",type:"BYTE",value:0},{name:"bStrokeVariation",type:"BYTE",
value:0},{name:"bArmStyle",type:"BYTE",value:0},{name:"bLetterform",type:"BYTE",value:0},{name:"bMidline",type:"BYTE",value:0},{name:"bXHeight",type:"BYTE",value:0},{name:"ulUnicodeRange1",type:"ULONG",value:0},{name:"ulUnicodeRange2",type:"ULONG",value:0},{name:"ulUnicodeRange3",type:"ULONG",value:0},{name:"ulUnicodeRange4",type:"ULONG",value:0},{name:"achVendID",type:"CHARARRAY",value:"XXXX"},{name:"fsSelection",type:"USHORT",value:0},{name:"usFirstCharIndex",type:"USHORT",value:0},{name:"usLastCharIndex",
type:"USHORT",value:0},{name:"sTypoAscender",type:"SHORT",value:0},{name:"sTypoDescender",type:"SHORT",value:0},{name:"sTypoLineGap",type:"SHORT",value:0},{name:"usWinAscent",type:"USHORT",value:0},{name:"usWinDescent",type:"USHORT",value:0},{name:"ulCodePageRange1",type:"ULONG",value:0},{name:"ulCodePageRange2",type:"ULONG",value:0},{name:"sxHeight",type:"SHORT",value:0},{name:"sCapHeight",type:"SHORT",value:0},{name:"usDefaultChar",type:"USHORT",value:0},{name:"usBreakChar",type:"USHORT",value:0},
{name:"usMaxContext",type:"USHORT",value:0}],f)},unicodeRanges:Oe,getUnicodeRange:function(f){for(var t=0;t<Oe.length;t+=1){var D=Oe[t];if(f>=D.begin&&f<D.end)return t}return-1}},of={parse:function(f,t){var D={};f=new Gb.Parser(f,t);switch(D.version=f.parseVersion(),D.italicAngle=f.parseFixed(),D.underlinePosition=f.parseShort(),D.underlineThickness=f.parseShort(),D.isFixedPitch=f.parseULong(),D.minMemType42=f.parseULong(),D.maxMemType42=f.parseULong(),D.minMemType1=f.parseULong(),D.maxMemType1=f.parseULong(),
D.version){case 1:D.names=rd.slice();break;case 2:D.numberOfGlyphs=f.parseUShort();D.glyphNameIndex=Array(D.numberOfGlyphs);for(t=0;t<D.numberOfGlyphs;t++)D.glyphNameIndex[t]=f.parseUShort();D.names=[];var H;for(t=0;t<D.numberOfGlyphs;t++)D.glyphNameIndex[t]>=rd.length&&(H=f.parseChar(),D.names.push(f.parseString(H)));break;case 2.5:for(D.numberOfGlyphs=f.parseUShort(),D.offset=Array(D.numberOfGlyphs),H=0;H<D.numberOfGlyphs;H++)D.offset[H]=f.parseChar()}return D},make:function(){return new Kb.Table("post",
[{name:"version",type:"FIXED",value:196608},{name:"italicAngle",type:"FIXED",value:0},{name:"underlinePosition",type:"FWORD",value:0},{name:"underlineThickness",type:"FWORD",value:0},{name:"isFixedPitch",type:"ULONG",value:0},{name:"minMemType42",type:"ULONG",value:0},{name:"maxMemType42",type:"ULONG",value:0},{name:"minMemType1",type:"ULONG",value:0},{name:"maxMemType1",type:"ULONG",value:0}])}},Vc=Array(9),Fd=(Vc[1]=function(){var f=this.offset+this.relativeOffset,t=this.parseUShort();return 1===
t?{substFormat:1,coverage:this.parsePointer(Z.coverage),deltaGlyphId:this.parseUShort()}:2===t?{substFormat:2,coverage:this.parsePointer(Z.coverage),substitute:this.parseOffset16List()}:void Ub.assert(!1,"0x"+f.toString(16)+": lookup type 1 format must be 1 or 2.")},Vc[2]=function(){var f=this.parseUShort();return Ub.argument(1===f,"GSUB Multiple Substitution Subtable identifier-format must be 1"),{substFormat:f,coverage:this.parsePointer(Z.coverage),sequences:this.parseListOfLists()}},Vc[3]=function(){var f=
this.parseUShort();return Ub.argument(1===f,"GSUB Alternate Substitution Subtable identifier-format must be 1"),{substFormat:f,coverage:this.parsePointer(Z.coverage),alternateSets:this.parseListOfLists()}},Vc[4]=function(){var f=this.parseUShort();return Ub.argument(1===f,"GSUB ligature table identifier-format must be 1"),{substFormat:f,coverage:this.parsePointer(Z.coverage),ligatureSets:this.parseListOfLists(function(){return{ligGlyph:this.parseUShort(),components:this.parseUShortList(this.parseUShort()-
1)}})}},{sequenceIndex:Z.uShort,lookupListIndex:Z.uShort});Vc[5]=function(){var f,t,D=this.offset+this.relativeOffset,H=this.parseUShort();return 1===H?{substFormat:H,coverage:this.parsePointer(Z.coverage),ruleSets:this.parseListOfLists(function(){var O=this.parseUShort(),ba=this.parseUShort();return{input:this.parseUShortList(O-1),lookupRecords:this.parseRecordList(ba,Fd)}})}:2===H?{substFormat:H,coverage:this.parsePointer(Z.coverage),classDef:this.parsePointer(Z.classDef),classSets:this.parseListOfLists(function(){var O=
this.parseUShort(),ba=this.parseUShort();return{classes:this.parseUShortList(O-1),lookupRecords:this.parseRecordList(ba,Fd)}})}:3===H?(f=this.parseUShort(),t=this.parseUShort(),{substFormat:H,coverages:this.parseList(f,Z.pointer(Z.coverage)),lookupRecords:this.parseRecordList(t,Fd)}):void Ub.assert(!1,"0x"+D.toString(16)+": lookup type 5 format must be 1, 2 or 3.")};Vc[6]=function(){var f=this.offset+this.relativeOffset,t=this.parseUShort();return 1===t?{substFormat:1,coverage:this.parsePointer(Z.coverage),
chainRuleSets:this.parseListOfLists(function(){return{backtrack:this.parseUShortList(),input:this.parseUShortList(this.parseShort()-1),lookahead:this.parseUShortList(),lookupRecords:this.parseRecordList(Fd)}})}:2===t?{substFormat:2,coverage:this.parsePointer(Z.coverage),backtrackClassDef:this.parsePointer(Z.classDef),inputClassDef:this.parsePointer(Z.classDef),lookaheadClassDef:this.parsePointer(Z.classDef),chainClassSet:this.parseListOfLists(function(){return{backtrack:this.parseUShortList(),input:this.parseUShortList(this.parseShort()-
1),lookahead:this.parseUShortList(),lookupRecords:this.parseRecordList(Fd)}})}:3===t?{substFormat:3,backtrackCoverage:this.parseList(Z.pointer(Z.coverage)),inputCoverage:this.parseList(Z.pointer(Z.coverage)),lookaheadCoverage:this.parseList(Z.pointer(Z.coverage)),lookupRecords:this.parseRecordList(Fd)}:void Ub.assert(!1,"0x"+f.toString(16)+": lookup type 6 format must be 1, 2 or 3.")};Vc[7]=function(){var f=this.parseUShort();f=(Ub.argument(1===f,"GSUB Extension Substitution subtable identifier-format must be 1"),
this.parseUShort());var t=new Z(this.data,this.offset+this.parseULong());return{substFormat:1,lookupType:f,extension:Vc[f].call(t)}};Vc[8]=function(){var f=this.parseUShort();return Ub.argument(1===f,"GSUB Reverse Chaining Contextual Single Substitution Subtable identifier-format must be 1"),{substFormat:f,coverage:this.parsePointer(Z.coverage),backtrackCoverage:this.parseList(Z.pointer(Z.coverage)),lookaheadCoverage:this.parseList(Z.pointer(Z.coverage)),substitutes:this.parseUShortList()}};var Xd=
Array(9);Xd[1]=function(f){return 1===f.substFormat?new Kb.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new Kb.Coverage(f.coverage)},{name:"deltaGlyphID",type:"USHORT",value:f.deltaGlyphId}]):new Kb.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:2},{name:"coverage",type:"TABLE",value:new Kb.Coverage(f.coverage)}].concat(Kb.ushortList("substitute",f.substitute)))};Xd[3]=function(f){return Ub.assert(1===f.substFormat,"Lookup type 3 substFormat must be 1."),
new Kb.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new Kb.Coverage(f.coverage)}].concat(Kb.tableList("altSet",f.alternateSets,function(t){return new Kb.Table("alternateSetTable",Kb.ushortList("alternate",t))})))};Xd[4]=function(f){return Ub.assert(1===f.substFormat,"Lookup type 4 substFormat must be 1."),new Kb.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new Kb.Coverage(f.coverage)}].concat(Kb.tableList("ligSet",
f.ligatureSets,function(t){return new Kb.Table("ligatureSetTable",Kb.tableList("ligature",t,function(D){return new Kb.Table("ligatureTable",[{name:"ligGlyph",type:"USHORT",value:D.ligGlyph}].concat(Kb.ushortList("component",D.components,D.components.length+1)))}))})))};var Yd={parse:function(f,t){return t=(f=new Z(f,t=t||0)).parseVersion(1),Ub.argument(1===t||1.1===t,"Unsupported GSUB table version."),1===t?{version:t,scripts:f.parseScriptList(),features:f.parseFeatureList(),lookups:f.parseLookupList(Vc)}:
{version:t,scripts:f.parseScriptList(),features:f.parseFeatureList(),lookups:f.parseLookupList(Vc),variations:f.parseFeatureVariationsList()}},make:function(f){return new Kb.Table("GSUB",[{name:"version",type:"ULONG",value:65536},{name:"scripts",type:"TABLE",value:new Kb.ScriptList(f.scripts)},{name:"features",type:"TABLE",value:new Kb.FeatureList(f.features)},{name:"lookups",type:"TABLE",value:new Kb.LookupList(f.lookups,Xd)}])}},oe={parse:function(f,t){var D=new Gb.Parser(f,t),H=D.parseULong();
H=(Ub.argument(1===H,"Unsupported META table version."),D.parseULong(),D.parseULong(),D.parseULong());for(var O={},ba=0;ba<H;ba++){var ca=D.parseTag(),ta=D.parseULong(),ua=D.parseULong();ta=qd.UTF8(f,t+ta,ua);O[ca]=ta}return O},make:function(f){var t,D=Object.keys(f).length,H="",O=16+12*D;D=new Kb.Table("meta",[{name:"version",type:"ULONG",value:1},{name:"flags",type:"ULONG",value:0},{name:"offset",type:"ULONG",value:O},{name:"numTags",type:"ULONG",value:D}]);for(t in f){var ba=H.length;H+=f[t];D.fields.push({name:"tag "+
t,type:"TAG",value:t});D.fields.push({name:"offset "+t,type:"ULONG",value:O+ba});D.fields.push({name:"length "+t,type:"ULONG",value:f[t].length})}return D.fields.push({name:"stringPool",type:"CHARARRAY",value:H}),D}},gg={make:rb,fontToTable:function(f){for(var t,D=[],H=[],O=[],ba=[],ca=[],ta=[],ua=[],Fa=0,Qa=0,Ya=0,$a=0,ob=0,gb=0;gb<f.glyphs.length;gb+=1){var Ea=f.glyphs.get(gb),Mb=0|Ea.unicode;if(isNaN(Ea.advanceWidth))throw Error("Glyph "+Ea.name+" ("+gb+"): advanceWidth is not a number.");(Mb<
t||void 0===t)&&0<Mb&&(t=Mb);Fa<Mb&&(Fa=Mb);Mb=Wd.getUnicodeRange(Mb);if(32>Mb)Qa|=1<<Mb;else if(64>Mb)Ya|=1<<Mb-32;else if(96>Mb)$a|=1<<Mb-64;else{if(!(123>Mb))throw Error("Unicode ranges bits \x3e 123 are reserved for internal usage");ob|=1<<Mb-96}".notdef"!==Ea.name&&(Mb=Ea.getMetrics(),D.push(Mb.xMin),H.push(Mb.yMin),O.push(Mb.xMax),ba.push(Mb.yMax),ta.push(Mb.leftSideBearing),ua.push(Mb.rightSideBearing),ca.push(Ea.advanceWidth))}D=Math.min.apply(null,D);H=Math.min.apply(null,H);O=Math.max.apply(null,
O);ba=Math.max.apply(null,ba);gb=Math.max.apply(null,ca);for(Mb=Ea=0;Mb<ca.length;Mb+=1)Ea+=ca[Mb];ca={xMin:D,yMin:H,xMax:O,yMax:ba,advanceWidthMax:gb,advanceWidthAvg:Ea/ca.length,minLeftSideBearing:Math.min.apply(null,ta),maxLeftSideBearing:Math.max.apply(null,ta),minRightSideBearing:Math.min.apply(null,ua)};ta=(ca.ascender=f.ascender,ca.descender=f.descender,ne.make({flags:3,unitsPerEm:f.unitsPerEm,xMin:ca.xMin,yMin:ca.yMin,xMax:ca.xMax,yMax:ca.yMax,lowestRecPPEM:3,createdTimestamp:f.createdTimestamp}));
ua=Uc.make({ascender:ca.ascender,descender:ca.descender,advanceWidthMax:ca.advanceWidthMax,minLeftSideBearing:ca.minLeftSideBearing,minRightSideBearing:ca.minRightSideBearing,xMaxExtent:ca.maxLeftSideBearing+(ca.xMax-ca.xMin),numberOfHMetrics:f.glyphs.length});ba=Ed.make(f.glyphs.length);Fa=Wd.make({xAvgCharWidth:Math.round(ca.advanceWidthAvg),usWeightClass:f.tables.os2.usWeightClass,usWidthClass:f.tables.os2.usWidthClass,usFirstCharIndex:t,usLastCharIndex:Fa,ulUnicodeRange1:Qa,ulUnicodeRange2:Ya,
ulUnicodeRange3:$a,ulUnicodeRange4:ob,fsSelection:f.tables.os2.fsSelection,sTypoAscender:ca.ascender,sTypoDescender:ca.descender,sTypoLineGap:0,usWinAscent:ca.yMax,usWinDescent:Math.abs(ca.yMin),ulCodePageRange1:1,sxHeight:ab(f,"xyvw",{yMax:Math.round(ca.ascender/2)}).yMax,sCapHeight:ab(f,"HIKLEFJMNTZBDPRAGOQSUVWXY",ca).yMax,usDefaultChar:f.hasChar(" ")?32:0,usBreakChar:f.hasChar(" ")?32:0});Qa=Ke.make(f.glyphs);Ya=jf.make(f.glyphs);$a=f.getEnglishName("fontFamily");ob=f.getEnglishName("fontSubfamily");
D=$a+" "+ob;t=(t=f.getEnglishName("postScriptName"))||$a.replace(/\s/g,"")+"-"+ob;O={};for(Vb in f.names)O[Vb]=f.names[Vb];O.uniqueID||(O.uniqueID={en:f.getEnglishName("manufacturer")+":"+D});O.postScriptName||(O.postScriptName={en:t});O.preferredFamily||(O.preferredFamily=f.names.fontFamily);O.preferredSubfamily||(O.preferredSubfamily=f.names.fontSubfamily);var Vb=[];O=Ud.make(O,Vb);Vb=0<Vb.length?mf.make(Vb):void 0;H=of.make();D=lf.make(f.glyphs,{version:f.getEnglishName("version"),fullName:D,familyName:$a,
weightName:ob,postScriptName:t,unitsPerEm:f.unitsPerEm,fontBBox:[0,ca.yMin,ca.ascender,ca.advanceWidthMax]});$a=f.metas&&0<Object.keys(f.metas).length?oe.make(f.metas):void 0;ob=[ta,ua,ba,Fa,O,Ya,H,D,Qa];Vb&&ob.push(Vb);f.tables.gsub&&ob.push(Yd.make(f.tables.gsub));$a&&ob.push($a);f=wb((t=rb(ob)).encode());Vb=t.fields;Fa=!1;for(Qa=0;Qa<Vb.length;Qa+=1)if("head table"===Vb[Qa].name){Vb[Qa].value.checkSumAdjustment=2981146554-f;Fa=!0;break}if(Fa)return t;throw Error("Could not find head table with checkSum to adjust.");
},computeCheckSum:wb};(W.prototype=Q.prototype={searchTag:Ab,binSearch:fa,getTable:function(f){var t=this.font.tables[this.tableName];return!t&&f?this.font.tables[this.tableName]=this.createDefaultTable():t},getScriptNames:function(){var f=this.getTable();return f?f.scripts.map(function(t){return t.tag}):[]},getDefaultScriptName:function(){var f=this.getTable();if(f){for(var t=!1,D=0;D<f.scripts.length;D++){var H=f.scripts[D].tag;if("DFLT"===H)return H;"latn"===H&&(t=!0)}return t?"latn":void 0}},
getScriptTable:function(f,t){var D,H=this.getTable(t);if(H)return D=H.scripts,0<=(H=Ab(H.scripts,f=f||"DFLT"))?D[H].script:t?(D.splice(-1-H,0,t={tag:f,script:{defaultLangSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]},langSysRecords:[]}}),t.script):void 0},getLangSysTable:function(f,t,D){var H;if(f=this.getScriptTable(f,D))return t&&"dflt"!==t&&"DFLT"!==t?0<=(H=Ab(f.langSysRecords,t))?f.langSysRecords[H].langSys:D?(f.langSysRecords.splice(-1-H,0,D={tag:t,langSys:{reserved:0,reqFeatureIndex:65535,
featureIndexes:[]}}),D.langSys):void 0:f.defaultLangSys},getFeatureTable:function(f,t,D,H){if(f=this.getLangSysTable(f,t,H)){var O;f=f.featureIndexes;for(var ba=this.font.tables[this.tableName].features,ca=0;ca<f.length;ca++)if((O=ba[f[ca]]).tag===D)return O.feature;if(H)return t=ba.length,Ub.assert(0===t||D>=ba[t-1].tag,"Features must be added in alphabetical order."),ba.push(O={tag:D,feature:{params:0,lookupListIndexes:[]}}),f.push(t),O.feature}},getLookupTables:function(f,t,D,H,O){f=this.getFeatureTable(f,
t,D,O);D=[];if(f){var ba;f=f.lookupListIndexes;for(var ca=this.font.tables[this.tableName].lookups,ta=0;ta<f.length;ta++)(ba=ca[f[ta]]).lookupType===H&&D.push(ba);if(0===D.length&&O)return t=ca.length,ca.push(ba={lookupType:H,lookupFlag:0,subtables:[],markFilteringSet:void 0}),f.push(t),[ba]}return D},getGlyphClass:function(f,t){switch(f.format){case 1:return f.startGlyph<=t&&t<f.startGlyph+f.classes.length?f.classes[t-f.startGlyph]:0;case 2:return(f=ka(f.ranges,t))?f.classId:0}},getCoverageIndex:function(f,
t){switch(f.format){case 1:return f=fa(f.glyphs,t),0<=f?f:-1;case 2:return(f=ka(f.ranges,t))?f.index+t-f.start:-1}},expandCoverage:function(f){if(1===f.format)return f.glyphs;var t=[];f=f.ranges;for(var D=0;D<f.length;D++){var H=f[D],O=H.end;for(H=H.start;H<=O;H++)t.push(H)}return t}}).init=function(){var f=this.getDefaultScriptName();this.defaultKerningTables=this.getKerningTables(f)};W.prototype.getKerningValue=function(f,t,D){for(var H=0;H<f.length;H++)for(var O=f[H].subtables,ba=0;ba<O.length;ba++){var ca=
O[ba],ta=this.getCoverageIndex(ca.coverage,t);if(!(0>ta))switch(ca.posFormat){case 1:ca=ca.pairSets[ta];for(ta=0;ta<ca.length;ta++){var ua=ca[ta];if(ua.secondGlyph===D)return ua.value1&&ua.value1.xAdvance||0}break;case 2:return f=this.getGlyphClass(ca.classDef1,t),D=this.getGlyphClass(ca.classDef2,D),f=ca.classRecords[f][D],f.value1&&f.value1.xAdvance||0}}return 0};W.prototype.getKerningTables=function(f,t){if(this.font.tables.gpos)return this.getLookupTables(f,t,"kern",2)};(ia.prototype=Q.prototype).createDefaultTable=
function(){return{version:1,scripts:[{tag:"DFLT",script:{defaultLangSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]},langSysRecords:[]}}],features:[],lookups:[]}};ia.prototype.getSingle=function(f,t,D){var H=[];f=this.getLookupTables(t,D,f,1);for(t=0;t<f.length;t++){D=f[t].subtables;for(var O=0;O<D.length;O++){var ba=D[O],ca=this.expandCoverage(ba.coverage);if(1===ba.substFormat){var ta=ba.deltaGlyphId;for(ba=0;ba<ca.length;ba++){var ua=ca[ba];H.push({sub:ua,by:ua+ta})}}else for(ta=ba.substitute,
ba=0;ba<ca.length;ba++)H.push({sub:ca[ba],by:ta[ba]})}}return H};ia.prototype.getAlternates=function(f,t,D){var H=[];f=this.getLookupTables(t,D,f,3);for(t=0;t<f.length;t++){D=f[t].subtables;for(var O=0;O<D.length;O++){var ba=D[O],ca=this.expandCoverage(ba.coverage);ba=ba.alternateSets;for(var ta=0;ta<ca.length;ta++)H.push({sub:ca[ta],by:ba[ta]})}}return H};ia.prototype.getLigatures=function(f,t,D){var H=[];f=this.getLookupTables(t,D,f,4);for(t=0;t<f.length;t++){D=f[t].subtables;for(var O=0;O<D.length;O++){var ba=
D[O],ca=this.expandCoverage(ba.coverage);ba=ba.ligatureSets;for(var ta=0;ta<ca.length;ta++)for(var ua=ca[ta],Fa=ba[ta],Qa=0;Qa<Fa.length;Qa++){var Ya=Fa[Qa];H.push({sub:[ua].concat(Ya.components),by:Ya.ligGlyph})}}}return H};ia.prototype.addSingle=function(f,t,D,H){D=va(this.getLookupTables(D,H,f,1,!0)[0],2,{substFormat:2,coverage:{format:1,glyphs:[]},substitute:[]});Ub.assert(1===D.coverage.format,"Ligature: unable to modify coverage table format "+D.coverage.format);H=t.sub;f=this.binSearch(D.coverage.glyphs,
H);0>f&&(D.coverage.glyphs.splice(f=-1-f,0,H),D.substitute.splice(f,0,0));D.substitute[f]=t.by};ia.prototype.addAlternate=function(f,t,D,H){D=va(this.getLookupTables(D,H,f,3,!0)[0],1,{substFormat:1,coverage:{format:1,glyphs:[]},alternateSets:[]});Ub.assert(1===D.coverage.format,"Ligature: unable to modify coverage table format "+D.coverage.format);H=t.sub;f=this.binSearch(D.coverage.glyphs,H);0>f&&(D.coverage.glyphs.splice(f=-1-f,0,H),D.alternateSets.splice(f,0,0));D.alternateSets[f]=t.by};ia.prototype.addLigature=
function(f,t,D,H){D=this.getLookupTables(D,H,f,4,!0)[0];H=D.subtables[0];f=(H||(D.subtables[0]=H={substFormat:1,coverage:{format:1,glyphs:[]},ligatureSets:[]}),Ub.assert(1===H.coverage.format,"Ligature: unable to modify coverage table format "+H.coverage.format),t.sub[0]);var O=t.sub.slice(1);D={ligGlyph:t.by,components:O};t=this.binSearch(H.coverage.glyphs,f);if(0<=t){f=H.ligatureSets[t];for(t=0;t<f.length;t++){a:{H=f[t].components;var ba=H.length;if(ba===O.length){for(var ca=0;ca<ba;ca++)if(H[ca]!==
O[ca]){H=void 0;break a}H=1}else H=void 0}if(H)return}f.push(D)}else H.coverage.glyphs.splice(t=-1-t,0,f),H.ligatureSets.splice(t,0,[D])};ia.prototype.getFeature=function(f,t,D){if(/ss\d\d/.test(f))return this.getSingle(f,t,D);switch(f){case "aalt":case "salt":return this.getSingle(f,t,D).concat(this.getAlternates(f,t,D));case "dlig":case "liga":case "rlig":return this.getLigatures(f,t,D)}};ia.prototype.add=function(f,t,D,H){if(/ss\d\d/.test(f))return this.addSingle(f,t,D,H);switch(f){case "aalt":case "salt":return"number"==
typeof t.by?this.addSingle(f,t,D,H):this.addAlternate(f,t,D,H);case "dlig":case "liga":case "rlig":return this.addLigature(f,t,D,H)}};var ud={getPath:pb,parse:function(f,t,D,H){for(var O=new Cd.GlyphSet(H),ba=0;ba<D.length-1;ba+=1){var ca=D[ba];ca!==D[ba+1]?O.push(ba,Cd.ttfGlyphLoader(H,ba,db,f,t+ca,kb)):O.push(ba,Cd.glyphLoader(H,ba))}return O}},Wc={x:1,y:0,axis:"x",distance:function(f,t,D,H){return(D?f.xo:f.x)-(H?t.xo:t.x)},interpolate:function(f,t,D,H){var O,ba,ca,ta,ua,Fa,Qa;if(!H||H===this)return O=
f.xo-t.xo,ba=f.xo-D.xo,ua=t.x-t.xo,Fa=D.x-D.xo,0===(Qa=(ca=Math.abs(O))+(ta=Math.abs(ba)))?void(f.x=f.xo+(ua+Fa)/2):void(f.x=f.xo+(ua*ta+Fa*ca)/Qa);O=H.distance(f,t,!0,!0);ba=H.distance(f,D,!0,!0);ua=H.distance(t,t,!1,!0);Fa=H.distance(D,D,!1,!0);0===(Qa=(ca=Math.abs(O))+(ta=Math.abs(ba)))?Wc.setRelative(f,f,(ua+Fa)/2,H,!0):Wc.setRelative(f,f,(ua*ta+Fa*ca)/Qa,H,!0)},normalSlope:Number.NEGATIVE_INFINITY,setRelative:function(f,t,D,H,O){var ba,ca;H&&H!==this?(ba=O?t.xo:t.x,ca=O?t.yo:t.y,ba+=D*H.x,ca+=
D*H.y,f.x=ba+(f.y-ca)/H.normalSlope):f.x=(O?t.xo:t.x)+D},slope:0,touch:function(f){f.xTouched=!0},touched:function(f){return f.xTouched},untouch:function(f){f.xTouched=!1}},Jc={x:0,y:1,axis:"y",distance:function(f,t,D,H){return(D?f.yo:f.y)-(H?t.yo:t.y)},interpolate:function(f,t,D,H){var O,ba,ca,ta,ua,Fa,Qa;if(!H||H===this)return O=f.yo-t.yo,ba=f.yo-D.yo,ua=t.y-t.yo,Fa=D.y-D.yo,0===(Qa=(ca=Math.abs(O))+(ta=Math.abs(ba)))?void(f.y=f.yo+(ua+Fa)/2):void(f.y=f.yo+(ua*ta+Fa*ca)/Qa);O=H.distance(f,t,!0,
!0);ba=H.distance(f,D,!0,!0);ua=H.distance(t,t,!1,!0);Fa=H.distance(D,D,!1,!0);0===(Qa=(ca=Math.abs(O))+(ta=Math.abs(ba)))?Jc.setRelative(f,f,(ua+Fa)/2,H,!0):Jc.setRelative(f,f,(ua*ta+Fa*ca)/Qa,H,!0)},normalSlope:0,setRelative:function(f,t,D,H,O){var ba,ca;H&&H!==this?(ba=O?t.xo:t.x,ca=O?t.yo:t.y,ba+=D*H.x,ca+=D*H.y,f.y=ca+H.normalSlope*(f.x-ba)):f.y=(O?t.yo:t.y)+D},slope:Number.POSITIVE_INFINITY,touch:function(f){f.yTouched=!0},touched:function(f){return f.yTouched},untouch:function(f){f.yTouched=
!1}};Object.freeze(Wc);Object.freeze(Jc);Jb.prototype.distance=function(f,t,D,H){return this.x*Wc.distance(f,t,D,H)+this.y*Jc.distance(f,t,D,H)};Jb.prototype.interpolate=function(f,t,D,H){var O=H.distance(f,t,!0,!0),ba=H.distance(f,D,!0,!0);t=H.distance(t,t,!1,!0);D=H.distance(D,D,!1,!0);O=Math.abs(O);ba=Math.abs(ba);var ca=O+ba;0===ca?this.setRelative(f,f,(t+D)/2,H,!0):this.setRelative(f,f,(t*ba+D*O)/ca,H,!0)};Jb.prototype.setRelative=function(f,t,D,H,O){var ba=O?t.xo:t.x;O=O?t.yo:t.y;t=ba+D*(H=
H||this).x;ba=O+D*H.y;O=H.normalSlope;D=this.slope;H=f.x;var ca=f.y;f.x=(D*H-O*t+ba-ca)/(D-O);f.y=D*(f.x-H)+ca};Jb.prototype.touch=function(f){f.xTouched=!0;f.yTouched=!0};bc.prototype.nextTouched=function(f){for(var t=this.nextPointOnContour;!f.touched(t)&&t!==this;)t=t.nextPointOnContour;return t};bc.prototype.prevTouched=function(f){for(var t=this.prevPointOnContour;!f.touched(t)&&t!==this;)t=t.prevPointOnContour;return t};var ae=Object.freeze(new bc(0,0)),sf={cvCutIn:1.0625,deltaBase:9,deltaShift:.125,
loop:1,minDis:1,autoFlip:!0};Va.prototype.exec=function(f,t){if("number"!=typeof t)throw Error("Point size is not a number!");if(!(2<this._errorState)){var D=this.font,H=this._prepState;if(!H||H.ppem!==t){H=this._fpgmState;if(!H){oc.prototype=sf;(H=this._fpgmState=new oc("fpgm",D.tables.fpgm)).funcs=[];H.font=D;w.DEBUG&&(console.log("---EXEC FPGM---"),H.step=-1);try{wd(H)}catch(zb){return console.log("Hinting error in FPGM:"+zb),void(this._errorState=3)}}oc.prototype=H;(H=this._prepState=new oc("prep",
D.tables.prep)).ppem=t;var O=D.tables.cvt;if(O){var ba=H.cvt=Array(O.length);t/=D.unitsPerEm;for(D=0;D<O.length;D++)ba[D]=O[D]*t}else H.cvt=[];w.DEBUG&&(console.log("---EXEC PREP---"),H.step=-1);try{wd(H)}catch(zb){2>this._errorState&&console.log("Hinting error in PREP:"+zb),this._errorState=2}}if(!(1<this._errorState))try{var ca=H.ppem/H.font.unitsPerEm,ta=f.components;if(oc.prototype=H,ta){var ua=H.font,Fa=[];H=[];for(O=0;O<ta.length;O++){var Qa=ta[O],Ya=ua.glyphs.get(Qa.glyphIndex),$a=new oc("glyf",
Ya.instructions);w.DEBUG&&(console.log("---EXEC COMP "+O+"---"),$a.step=-1);qe(Ya,$a,ca,ca);var ob=Math.round(Qa.dx*ca),gb=Math.round(Qa.dy*ca),Ea=$a.gZone,Mb=$a.contours;for(ba=0;ba<Ea.length;ba++){var Vb=Ea[ba];Vb.xTouched=Vb.yTouched=!1;Vb.xo=Vb.x+=ob;Vb.yo=Vb.y+=gb}var nc=Fa.length;Fa.push.apply(Fa,Ea);for(ba=0;ba<Mb.length;ba++)H.push(Mb[ba]+nc)}f.instructions&&!$a.inhibitGridFit&&(($a=new oc("glyf",f.instructions)).gZone=$a.z0=$a.z1=$a.z2=Fa,$a.contours=H,Fa.push(new bc(0,0),new bc(Math.round(f.advanceWidth*
ca),0)),w.DEBUG&&(console.log("---EXEC COMPOSITE---"),$a.step=-1),wd($a),Fa.length-=2)}else $a=new oc("glyf",f.instructions),w.DEBUG&&(console.log("---EXEC GLYPH---"),$a.step=-1),qe(f,$a,ca,ca),Fa=$a.gZone;return Fa}catch(zb){1>this._errorState&&(console.log("Hinting error:"+zb),console.log("Note: further hinting errors are silenced")),this._errorState=1}}};var qe=function(f,t,D,H){for(var O,ba,ca,ta=f.points||[],ua=ta.length,Fa=t.gZone=t.z0=t.z1=t.z2=[],Qa=t.contours=[],Ya=0;Ya<ua;Ya++)O=ta[Ya],
Fa[Ya]=new bc(O.x*D,O.y*H,O.lastPointOfContour,O.onCurve);for(H=0;H<ua;H++)O=Fa[H],ba||(ba=O,Qa.push(H)),O.lastPointOfContour?((O.nextPointOnContour=ba).prevPointOnContour=O,ba=void 0):(ca=Fa[H+1],(O.nextPointOnContour=ca).prevPointOnContour=O);if(!t.inhibitGridFit){if(w.DEBUG)for(console.log("PROCESSING GLYPH",t.stack),O=0;O<ua;O++)console.log(O,Fa[O].x,Fa[O].y);if(Fa.push(new bc(0,0),new bc(Math.round(f.advanceWidth*D),0)),wd(t),Fa.length-=2,w.DEBUG)for(console.log("FINISHED GLYPH",t.stack),f=0;f<
ua;f++)console.log(f,Fa[f].x,Fa[f].y)}},wd=function(f){var t=f.prog;if(t){var D,H=t.length;for(f.ip=0;f.ip<H;f.ip++){if(w.DEBUG&&f.step++,!(D=Sc[t[f.ip]]))throw Error("unknown instruction: 0x"+Number(t[f.ip]).toString(16));D(f)}}},Sc=[Wa.bind(void 0,Jc),Wa.bind(void 0,Wc),lb.bind(void 0,Jc),lb.bind(void 0,Wc),hb.bind(void 0,Jc),hb.bind(void 0,Wc),Ta.bind(void 0,0),Ta.bind(void 0,1),ib.bind(void 0,0),ib.bind(void 0,1),function(f){var t=(D=f.stack).pop(),D=D.pop();w.DEBUG&&console.log(f.step,"SPVFS[]",
t,D);f.pv=f.dpv=Rb(D,t)},function(f){var t=(D=f.stack).pop(),D=D.pop();w.DEBUG&&console.log(f.step,"SPVFS[]",t,D);f.fv=Rb(D,t)},function(f){var t=f.stack,D=f.pv;w.DEBUG&&console.log(f.step,"GPV[]");t.push(16384*D.x);t.push(16384*D.y)},function(f){var t=f.stack,D=f.fv;w.DEBUG&&console.log(f.step,"GFV[]");t.push(16384*D.x);t.push(16384*D.y)},function(f){f.fv=f.pv;w.DEBUG&&console.log(f.step,"SFVTPV[]")},function(f){var t=(ba=f.stack).pop(),D=ba.pop(),H=ba.pop(),O=ba.pop(),ba=ba.pop(),ca=f.z0,ta=f.z1,
ua=ca[t];ca=ca[D];var Fa=ta[H];ta=ta[O];f=f.z2[ba];t=(w.DEBUG&&console.log("ISECT[], ",t,D,H,O,ba),ua.x);D=ua.y;H=ca.x;O=ca.y;ba=Fa.x;ua=Fa.y;ca=ta.x;Fa=ta.y;ta=(t-H)*(ua-Fa)-(D-O)*(ba-ca);var Qa=t*O-D*H,Ya=ba*Fa-ua*ca;f.x=(Qa*(ba-ca)-Ya*(t-H))/ta;f.y=(Qa*(ua-Fa)-Ya*(D-O))/ta},function(f){f.rp0=f.stack.pop();w.DEBUG&&console.log(f.step,"SRP0[]",f.rp0)},function(f){f.rp1=f.stack.pop();w.DEBUG&&console.log(f.step,"SRP1[]",f.rp1)},function(f){f.rp2=f.stack.pop();w.DEBUG&&console.log(f.step,"SRP2[]",
f.rp2)},function(f){var t=f.stack.pop();switch(w.DEBUG&&console.log(f.step,"SZP0[]",t),f.zp0=t){case 0:f.tZone||pc(f);f.z0=f.tZone;break;case 1:f.z0=f.gZone;break;default:throw Error("Invalid zone pointer");}},function(f){var t=f.stack.pop();switch(w.DEBUG&&console.log(f.step,"SZP1[]",t),f.zp1=t){case 0:f.tZone||pc(f);f.z1=f.tZone;break;case 1:f.z1=f.gZone;break;default:throw Error("Invalid zone pointer");}},function(f){var t=f.stack.pop();switch(w.DEBUG&&console.log(f.step,"SZP2[]",t),f.zp2=t){case 0:f.tZone||
pc(f);f.z2=f.tZone;break;case 1:f.z2=f.gZone;break;default:throw Error("Invalid zone pointer");}},function(f){var t=f.stack.pop();switch(w.DEBUG&&console.log(f.step,"SZPS[]",t),f.zp0=f.zp1=f.zp2=t){case 0:f.tZone||pc(f);f.z0=f.z1=f.z2=f.tZone;break;case 1:f.z0=f.z1=f.z2=f.gZone;break;default:throw Error("Invalid zone pointer");}},function(f){f.loop=f.stack.pop();w.DEBUG&&console.log(f.step,"SLOOP[]",f.loop)},function(f){w.DEBUG&&console.log(f.step,"RTG[]");f.round=jb},function(f){w.DEBUG&&console.log(f.step,
"RTHG[]");f.round=Hb},function(f){var t=f.stack.pop();w.DEBUG&&console.log(f.step,"SMD[]",t);f.minDis=t/64},function(f){w.DEBUG&&console.log(f.step,"ELSE[]");wa(f,!1)},function(f){var t=f.stack.pop();w.DEBUG&&console.log(f.step,"JMPR[]",t);f.ip+=t-1},function(f){var t=f.stack.pop();w.DEBUG&&console.log(f.step,"SCVTCI[]",t);f.cvCutIn=t/64},void 0,void 0,function(f){var t=f.stack;w.DEBUG&&console.log(f.step,"DUP[]");t.push(t[t.length-1])},Db,function(f){w.DEBUG&&console.log(f.step,"CLEAR[]");f.stack.length=
0},function(f){var t=f.stack,D=t.pop(),H=t.pop();w.DEBUG&&console.log(f.step,"SWAP[]");t.push(D);t.push(H)},function(f){var t=f.stack;w.DEBUG&&console.log(f.step,"DEPTH[]");t.push(t.length)},function(f){var t=f.stack,D=t.pop();w.DEBUG&&console.log(f.step,"CINDEX[]",D);t.push(t[t.length-D])},function(f){var t=f.stack,D=t.pop();w.DEBUG&&console.log(f.step,"MINDEX[]",D);t.push(t.splice(t.length-D,1)[0])},void 0,void 0,void 0,function(f){var t=(H=f.stack).pop(),D=H.pop(),H=(w.DEBUG&&console.log(f.step,
"LOOPCALL[]",t,D),f.ip),O=f.prog;f.prog=f.funcs[t];for(t=0;t<D;t++)wd(f),w.DEBUG&&console.log(++f.step,t+1<D?"next loopcall":"done loopcall",t);f.ip=H;f.prog=O},function(f){var t=f.stack.pop(),D=(w.DEBUG&&console.log(f.step,"CALL[]",t),f.ip),H=f.prog;f.prog=f.funcs[t];wd(f);f.ip=D;f.prog=H;w.DEBUG&&console.log(++f.step,"returning from",t)},function(f){if("fpgm"!==f.env)throw Error("FDEF not allowed here");var t=f.stack,D=f.prog,H=f.ip;t=t.pop();var O=H;for(w.DEBUG&&console.log(f.step,"FDEF[]",t);45!==
D[++H];);f.ip=H;f.funcs[t]=D.slice(O+1,H)},void 0,Ha.bind(void 0,0),Ha.bind(void 0,1),Fb.bind(void 0,Jc),Fb.bind(void 0,Wc),Lb.bind(void 0,0),Lb.bind(void 0,1),gc.bind(void 0,0),gc.bind(void 0,1),Wb.bind(void 0,0),Wb.bind(void 0,1),function(f){for(var t=f.stack,D=f.loop,H=f.fv,O=t.pop()/64,ba=f.z2;D--;){var ca=t.pop(),ta=ba[ca];w.DEBUG&&console.log(f.step,(1<f.loop?"loop "+(f.loop-D)+": ":"")+"SHPIX[]",ca,O);H.setRelative(ta,ta,O);H.touch(ta)}f.loop=1},function(f){for(var t=f.stack,D=f.rp1,H=f.rp2,
O=f.loop,ba=f.z0[D],ca=f.z1[H],ta=f.fv,ua=f.dpv,Fa=f.z2;O--;){var Qa=t.pop(),Ya=Fa[Qa];w.DEBUG&&console.log(f.step,(1<f.loop?"loop "+(f.loop-O)+": ":"")+"IP[]",Qa,D,"\x3c-\x3e",H);ta.interpolate(Ya,ba,ca,ua);ta.touch(Ya)}f.loop=1},Pa.bind(void 0,0),Pa.bind(void 0,1),function(f){for(var t=f.stack,D=f.z0[f.rp0],H=f.loop,O=f.fv,ba=f.pv,ca=f.z1;H--;){var ta=t.pop(),ua=ca[ta];w.DEBUG&&console.log(f.step,(1<f.loop?"loop "+(f.loop-H)+": ":"")+"ALIGNRP[]",ta);O.setRelative(ua,D,0,ba);O.touch(ua)}f.loop=1},
function(f){w.DEBUG&&console.log(f.step,"RTDG[]");f.round=Ib},ub.bind(void 0,0),ub.bind(void 0,1),function(f){var t=f.prog,D=f.ip,H=f.stack,O=t[++D];w.DEBUG&&console.log(f.step,"NPUSHB[]",O);for(var ba=0;ba<O;ba++)H.push(t[++D]);f.ip=D},function(f){var t=f.ip,D=f.prog,H=f.stack,O=D[++t];w.DEBUG&&console.log(f.step,"NPUSHW[]",O);for(var ba=0;ba<O;ba++){var ca=D[++t]<<8|D[++t];32768&ca&&(ca=-(1+(65535^ca)));H.push(ca)}f.ip=t},function(f){var t=f.stack,D=(D=f.store)||(f.store=[]),H=t.pop();t=t.pop();
w.DEBUG&&console.log(f.step,"WS",H,t);D[t]=H},function(f){var t=f.stack,D=f.store,H=t.pop();f=(w.DEBUG&&console.log(f.step,"RS",H),D&&D[H]||0);t.push(f)},function(f){var t=(D=f.stack).pop(),D=D.pop();w.DEBUG&&console.log(f.step,"WCVTP",t,D);f.cvt[D]=t/64},function(f){var t=f.stack,D=t.pop();w.DEBUG&&console.log(f.step,"RCVT",D);t.push(64*f.cvt[D])},Sb.bind(void 0,0),Sb.bind(void 0,1),void 0,Xb.bind(void 0,0),Xb.bind(void 0,1),function(f){w.DEBUG&&console.log(f.step,"MPPEM[]");f.stack.push(f.ppem)},
void 0,function(f){w.DEBUG&&console.log(f.step,"FLIPON[]");f.autoFlip=!0},void 0,void 0,function(f){var t=f.stack,D=t.pop(),H=t.pop();w.DEBUG&&console.log(f.step,"LT[]",D,H);t.push(H<D?1:0)},function(f){var t=f.stack,D=t.pop(),H=t.pop();w.DEBUG&&console.log(f.step,"LTEQ[]",D,H);t.push(H<=D?1:0)},function(f){var t=f.stack,D=t.pop(),H=t.pop();w.DEBUG&&console.log(f.step,"GT[]",D,H);t.push(D<H?1:0)},function(f){var t=f.stack,D=t.pop(),H=t.pop();w.DEBUG&&console.log(f.step,"GTEQ[]",D,H);t.push(D<=H?1:
0)},function(f){var t=f.stack,D=t.pop(),H=t.pop();w.DEBUG&&console.log(f.step,"EQ[]",D,H);t.push(D===H?1:0)},function(f){var t=f.stack,D=t.pop(),H=t.pop();w.DEBUG&&console.log(f.step,"NEQ[]",D,H);t.push(D!==H?1:0)},function(f){var t=f.stack,D=t.pop();w.DEBUG&&console.log(f.step,"ODD[]",D);t.push(Math.trunc(D)%2?1:0)},function(f){var t=f.stack,D=t.pop();w.DEBUG&&console.log(f.step,"EVEN[]",D);t.push(Math.trunc(D)%2?0:1)},function(f){var t=f.stack.pop();w.DEBUG&&console.log(f.step,"IF[]",t);t||(wa(f,
!0),w.DEBUG&&console.log(f.step,"EIF[]"))},function(f){w.DEBUG&&console.log(f.step,"EIF[]")},function(f){var t=f.stack,D=t.pop(),H=t.pop();w.DEBUG&&console.log(f.step,"AND[]",D,H);t.push(D&&H?1:0)},function(f){var t=f.stack,D=t.pop(),H=t.pop();w.DEBUG&&console.log(f.step,"OR[]",D,H);t.push(D||H?1:0)},function(f){var t=f.stack,D=t.pop();w.DEBUG&&console.log(f.step,"NOT[]",D);t.push(D?0:1)},jc.bind(void 0,1),function(f){var t=f.stack.pop();w.DEBUG&&console.log(f.step,"SDB[]",t);f.deltaBase=t},function(f){var t=
f.stack.pop();w.DEBUG&&console.log(f.step,"SDS[]",t);f.deltaShift=Math.pow(.5,t)},function(f){var t=f.stack,D=t.pop(),H=t.pop();w.DEBUG&&console.log(f.step,"ADD[]",D,H);t.push(H+D)},function(f){var t=f.stack,D=t.pop(),H=t.pop();w.DEBUG&&console.log(f.step,"SUB[]",D,H);t.push(H-D)},function(f){var t=f.stack,D=t.pop(),H=t.pop();w.DEBUG&&console.log(f.step,"DIV[]",D,H);t.push(64*H/D)},function(f){var t=f.stack,D=t.pop(),H=t.pop();w.DEBUG&&console.log(f.step,"MUL[]",D,H);t.push(H*D/64)},function(f){var t=
f.stack,D=t.pop();w.DEBUG&&console.log(f.step,"ABS[]",D);t.push(Math.abs(D))},function(f){var t=f.stack,D=t.pop();w.DEBUG&&console.log(f.step,"NEG[]",D);t.push(-D)},function(f){var t=f.stack,D=t.pop();w.DEBUG&&console.log(f.step,"FLOOR[]",D);t.push(64*Math.floor(D/64))},function(f){var t=f.stack,D=t.pop();w.DEBUG&&console.log(f.step,"CEILING[]",D);t.push(64*Math.ceil(D/64))},$c.bind(void 0,0),$c.bind(void 0,1),$c.bind(void 0,2),$c.bind(void 0,3),void 0,void 0,void 0,void 0,function(f){var t=(D=f.stack).pop(),
D=D.pop();w.DEBUG&&console.log(f.step,"WCVTF[]",t,D);f.cvt[D]=t*f.ppem/f.font.unitsPerEm},jc.bind(void 0,2),jc.bind(void 0,3),ad.bind(void 0,1),ad.bind(void 0,2),ad.bind(void 0,3),function(f){var t=f.stack.pop();switch(w.DEBUG&&console.log(f.step,"SROUND[]",t),f.round=dc,192&t){case 0:var D=.5;break;case 64:D=1;break;case 128:D=2;break;default:throw Error("invalid SROUND value");}switch(f.srPeriod=D,48&t){case 0:f.srPhase=0;break;case 16:f.srPhase=.25*D;break;case 32:f.srPhase=.5*D;break;case 48:f.srPhase=
.75*D;break;default:throw Error("invalid SROUND value");}f.srThreshold=0===(t&=15)?0:(t/8-.5)*D},function(f){var t=f.stack.pop();switch(w.DEBUG&&console.log(f.step,"S45ROUND[]",t),f.round=dc,192&t){case 0:var D=Math.sqrt(2)/2;break;case 64:D=Math.sqrt(2);break;case 128:D=2*Math.sqrt(2);break;default:throw Error("invalid S45ROUND value");}switch(f.srPeriod=D,48&t){case 0:f.srPhase=0;break;case 16:f.srPhase=.25*D;break;case 32:f.srPhase=.5*D;break;case 48:f.srPhase=.75*D;break;default:throw Error("invalid S45ROUND value");
}f.srThreshold=0===(t&=15)?0:(t/8-.5)*D},void 0,void 0,function(f){w.DEBUG&&console.log(f.step,"ROFF[]");f.round=qb},void 0,function(f){w.DEBUG&&console.log(f.step,"RUTG[]");f.round=Pb},function(f){w.DEBUG&&console.log(f.step,"RDTG[]");f.round=Ob},Db,Db,void 0,void 0,void 0,void 0,void 0,function(f){var t=f.stack.pop();w.DEBUG&&console.log(f.step,"SCANCTRL[]",t)},Fc.bind(void 0,0),Fc.bind(void 0,1),function(f){var t=f.stack,D=t.pop(),H=0;w.DEBUG&&console.log(f.step,"GETINFO[]",D);1&D&&(H=35);32&D&&
(H|=4096);t.push(H)},void 0,function(f){var t=f.stack,D=t.pop(),H=t.pop(),O=t.pop();w.DEBUG&&console.log(f.step,"ROLL[]");t.push(H);t.push(D);t.push(O)},function(f){var t=f.stack,D=t.pop(),H=t.pop();w.DEBUG&&console.log(f.step,"MAX[]",D,H);t.push(Math.max(H,D))},function(f){var t=f.stack,D=t.pop(),H=t.pop();w.DEBUG&&console.log(f.step,"MIN[]",D,H);t.push(Math.min(H,D))},function(f){var t=f.stack.pop();w.DEBUG&&console.log(f.step,"SCANTYPE[]",t)},function(f){var t=f.stack.pop(),D=f.stack.pop();switch(w.DEBUG&&
console.log(f.step,"INSTCTRL[]",t,D),t){case 1:return void(f.inhibitGridFit=!!D);case 2:return void(f.ignoreCvt=!!D);default:throw Error("invalid INSTCTRL[] selector");}},void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,Qc.bind(void 0,1),Qc.bind(void 0,2),Qc.bind(void 0,3),Qc.bind(void 0,4),Qc.bind(void 0,5),Qc.bind(void 0,
6),Qc.bind(void 0,7),Qc.bind(void 0,8),yc.bind(void 0,1),yc.bind(void 0,2),yc.bind(void 0,3),yc.bind(void 0,4),yc.bind(void 0,5),yc.bind(void 0,6),yc.bind(void 0,7),yc.bind(void 0,8),xb.bind(void 0,0,0,0,0,0),xb.bind(void 0,0,0,0,0,1),xb.bind(void 0,0,0,0,0,2),xb.bind(void 0,0,0,0,0,3),xb.bind(void 0,0,0,0,1,0),xb.bind(void 0,0,0,0,1,1),xb.bind(void 0,0,0,0,1,2),xb.bind(void 0,0,0,0,1,3),xb.bind(void 0,0,0,1,0,0),xb.bind(void 0,0,0,1,0,1),xb.bind(void 0,0,0,1,0,2),xb.bind(void 0,0,0,1,0,3),xb.bind(void 0,
0,0,1,1,0),xb.bind(void 0,0,0,1,1,1),xb.bind(void 0,0,0,1,1,2),xb.bind(void 0,0,0,1,1,3),xb.bind(void 0,0,1,0,0,0),xb.bind(void 0,0,1,0,0,1),xb.bind(void 0,0,1,0,0,2),xb.bind(void 0,0,1,0,0,3),xb.bind(void 0,0,1,0,1,0),xb.bind(void 0,0,1,0,1,1),xb.bind(void 0,0,1,0,1,2),xb.bind(void 0,0,1,0,1,3),xb.bind(void 0,0,1,1,0,0),xb.bind(void 0,0,1,1,0,1),xb.bind(void 0,0,1,1,0,2),xb.bind(void 0,0,1,1,0,3),xb.bind(void 0,0,1,1,1,0),xb.bind(void 0,0,1,1,1,1),xb.bind(void 0,0,1,1,1,2),xb.bind(void 0,0,1,1,1,
3),xb.bind(void 0,1,0,0,0,0),xb.bind(void 0,1,0,0,0,1),xb.bind(void 0,1,0,0,0,2),xb.bind(void 0,1,0,0,0,3),xb.bind(void 0,1,0,0,1,0),xb.bind(void 0,1,0,0,1,1),xb.bind(void 0,1,0,0,1,2),xb.bind(void 0,1,0,0,1,3),xb.bind(void 0,1,0,1,0,0),xb.bind(void 0,1,0,1,0,1),xb.bind(void 0,1,0,1,0,2),xb.bind(void 0,1,0,1,0,3),xb.bind(void 0,1,0,1,1,0),xb.bind(void 0,1,0,1,1,1),xb.bind(void 0,1,0,1,1,2),xb.bind(void 0,1,0,1,1,3),xb.bind(void 0,1,1,0,0,0),xb.bind(void 0,1,1,0,0,1),xb.bind(void 0,1,1,0,0,2),xb.bind(void 0,
1,1,0,0,3),xb.bind(void 0,1,1,0,1,0),xb.bind(void 0,1,1,0,1,1),xb.bind(void 0,1,1,0,1,2),xb.bind(void 0,1,1,0,1,3),xb.bind(void 0,1,1,1,0,0),xb.bind(void 0,1,1,1,0,1),xb.bind(void 0,1,1,1,0,2),xb.bind(void 0,1,1,1,0,3),xb.bind(void 0,1,1,1,1,0),xb.bind(void 0,1,1,1,1,1),xb.bind(void 0,1,1,1,1,2),xb.bind(void 0,1,1,1,1,3)],tf=Array.from||function(f){return f.match(/[\uD800-\uDBFF][\uDC00-\uDFFF]?|[^\uD800-\uDFFF]|./g)||[]};Yb.prototype.hasChar=function(f){return null!==this.encoding.charToGlyphIndex(f)};
Yb.prototype.charToGlyphIndex=function(f){return this.encoding.charToGlyphIndex(f)};Yb.prototype.charToGlyph=function(f){f=this.charToGlyphIndex(f);return this.glyphs.get(f)||this.glyphs.get(0)};Yb.prototype.stringToGlyphs=function(f,t){t=t||this.defaultRenderOptions;for(var D=tf(f),H=[],O=0;O<D.length;O+=1)H.push(this.charToGlyphIndex(D[O]));D=H.length;if(t.features)for(f=t.script||this.substitution.getDefaultScriptName(),O=[],t.features.liga&&(O=O.concat(this.substitution.getFeature("liga",f,t.language))),
t.features.rlig&&(O=O.concat(this.substitution.getFeature("rlig",f,t.language))),t=0;t<D;t+=1)for(f=0;f<O.length;f++){for(var ba=O[f],ca=ba.sub,ta=ca.length,ua=0;ua<ta&&ca[ua]===H[t+ua];)ua++;ua===ta&&(H.splice(t,ta,ba.by),D=D-ta+1)}O=Array(D);t=this.glyphs.get(0);for(f=0;f<D;f+=1)O[f]=this.glyphs.get(H[f])||t;return O};Yb.prototype.nameToGlyphIndex=function(f){return this.glyphNames.nameToGlyphIndex(f)};Yb.prototype.nameToGlyph=function(f){f=this.nameToGlyphIndex(f);return this.glyphs.get(f)||this.glyphs.get(0)};
Yb.prototype.glyphIndexToName=function(f){return this.glyphNames.glyphIndexToName?this.glyphNames.glyphIndexToName(f):""};Yb.prototype.getKerningValue=function(f,t){f=f.index||f;t=t.index||t;var D=this.position.defaultKerningTables;return D?this.position.getKerningValue(D,f,t):this.kerningPairs[f+","+t]||0};Yb.prototype.defaultRenderOptions={kerning:!0,features:{liga:!0,rlig:!0}};Yb.prototype.forEachGlyph=function(f,t,D,H,O,ba){t=void 0!==t?t:0;D=void 0!==D?D:0;O=O||this.defaultRenderOptions;var ca,
ta=1/this.unitsPerEm*(H=void 0!==H?H:72),ua=this.stringToGlyphs(f,O);O.kerning&&(f=O.script||this.position.getDefaultScriptName(),ca=this.position.getKerningTables(f,O.language));for(f=0;f<ua.length;f+=1){var Fa=ua[f];ba.call(this,Fa,t,D,H,O);Fa.advanceWidth&&(t+=Fa.advanceWidth*ta);O.kerning&&f<ua.length-1&&(t+=(ca?this.position.getKerningValue(ca,Fa.index,ua[f+1].index):this.getKerningValue(Fa,ua[f+1]))*ta);O.letterSpacing?t+=O.letterSpacing*H:O.tracking&&(t+=O.tracking/1E3*H)}return t};Yb.prototype.getPath=
function(f,t,D,H,O){var ba=new u;return this.forEachGlyph(f,t,D,H,O,function(ca,ta,ua,Fa){ca=ca.getPath(ta,ua,Fa,O,this);ba.extend(ca)}),ba};Yb.prototype.getPaths=function(f,t,D,H,O){var ba=[];return this.forEachGlyph(f,t,D,H,O,function(ca,ta,ua,Fa){ca=ca.getPath(ta,ua,Fa,O,this);ba.push(ca)}),ba};Yb.prototype.getAdvanceWidth=function(f,t,D){return this.forEachGlyph(f,0,0,t,D,function(){})};Yb.prototype.draw=function(f,t,D,H,O,ba){this.getPath(t,D,H,O,ba).draw(f)};Yb.prototype.drawPoints=function(f,
t,D,H,O,ba){this.forEachGlyph(t,D,H,O,ba,function(ca,ta,ua,Fa){ca.drawPoints(f,ta,ua,Fa)})};Yb.prototype.drawMetrics=function(f,t,D,H,O,ba){this.forEachGlyph(t,D,H,O,ba,function(ca,ta,ua,Fa){ca.drawMetrics(f,ta,ua,Fa)})};Yb.prototype.getEnglishName=function(f){if(f=this.names[f])return f.en};Yb.prototype.validate=function(){function f(D){(D=t.getEnglishName(D))&&D.trim().length}var t=this;f("fontFamily");f("weightName");f("manufacturer");f("copyright");f("version");this.unitsPerEm};Yb.prototype.toTables=
function(){return gg.fontToTable(this)};Yb.prototype.toBuffer=function(){return console.warn("Font.toBuffer is deprecated. Use Font.toArrayBuffer instead."),this.toArrayBuffer()};Yb.prototype.toArrayBuffer=function(){for(var f=this.toTables().encode(),t=new ArrayBuffer(f.length),D=new Uint8Array(t),H=0;H<f.length;H++)D[H]=f[H];return t};Yb.prototype.download=function(f){var t=this.getEnglishName("fontFamily"),D=this.getEnglishName("fontSubfamily"),H=(f=f||t.replace(/\s/g,"")+"-"+D+".otf",this.toArrayBuffer());
"undefined"!=typeof window?(window.requestFileSystem=window.requestFileSystem||window.webkitRequestFileSystem,window.requestFileSystem(window.TEMPORARY,H.byteLength,function(O){O.root.getFile(f,{create:!0},function(ba){ba.createWriter(function(ca){var ta=new DataView(H);ta=new Blob([ta],{type:"font/opentype"});ca.write(ta);ca.addEventListener("writeend",function(){location.href=ba.toURL()},!1)})})},function(O){throw Error(O.name+": "+O.message);})):(t=a("fs"),D=function(O){var ba=new z(O.byteLength);
O=new Uint8Array(O);for(var ca=0;ca<ba.length;++ca)ba[ca]=O[ca];return ba}(H),t.writeFileSync(f,D))};Yb.prototype.fsSelectionValues={ITALIC:1,UNDERSCORE:2,NEGATIVE:4,OUTLINED:8,STRIKEOUT:16,BOLD:32,REGULAR:64,USER_TYPO_METRICS:128,WWS:256,OBLIQUE:512};Yb.prototype.usWidthClasses={ULTRA_CONDENSED:1,EXTRA_CONDENSED:2,CONDENSED:3,SEMI_CONDENSED:4,MEDIUM:5,SEMI_EXPANDED:6,EXPANDED:7,EXTRA_EXPANDED:8,ULTRA_EXPANDED:9};Yb.prototype.usWeightClasses={THIN:100,EXTRA_LIGHT:200,LIGHT:300,NORMAL:400,MEDIUM:500,
SEMI_BOLD:600,BOLD:700,EXTRA_BOLD:800,BLACK:900};var uf={make:function(f,t){var D=new Kb.Table("fvar",[{name:"version",type:"ULONG",value:65536},{name:"offsetToData",type:"USHORT",value:0},{name:"countSizePairs",type:"USHORT",value:2},{name:"axisCount",type:"USHORT",value:f.axes.length},{name:"axisSize",type:"USHORT",value:20},{name:"instanceCount",type:"USHORT",value:f.instances.length},{name:"instanceSize",type:"USHORT",value:4+4*f.axes.length}]);D.offsetToData=D.sizeOf();for(var H,O,ba,ca=0;ca<
f.axes.length;ca++)D.fields=D.fields.concat((H=ca,O=f.axes[ca],ba=t,ba=Tf(O.name,t),[{name:"tag_"+H,type:"TAG",value:O.tag},{name:"minValue_"+H,type:"FIXED",value:O.minValue<<16},{name:"defaultValue_"+H,type:"FIXED",value:O.defaultValue<<16},{name:"maxValue_"+H,type:"FIXED",value:O.maxValue<<16},{name:"flags_"+H,type:"USHORT",value:0},{name:"nameID_"+H,type:"USHORT",value:ba}]));for(H=0;H<f.instances.length;H++){O=D.fields;ba=O.concat;ca=H;for(var ta=f.instances[H],ua=f.axes,Fa=[{name:"nameID_"+ca,
type:"USHORT",value:Tf(ta.name,t)},{name:"flags_"+ca,type:"USHORT",value:0}],Qa=0;Qa<ua.length;++Qa){var Ya=ua[Qa].tag;Fa.push({name:"axis_"+ca+" "+Ya,type:"FIXED",value:ta.coordinates[Ya]<<16})}D.fields=ba.call(O,Fa)}return D},parse:function(f,t,D){var H,O,ba,ca,ta=new Gb.Parser(f,t),ua=ta.parseULong(),Fa=(Ub.argument(65536===ua,"Unsupported fvar table version."),ta.parseOffset16()),Qa=(ta.skip("uShort",1),ta.parseUShort()),Ya=ta.parseUShort();ua=ta.parseUShort();ta=ta.parseUShort();for(var $a=[],
ob=0;ob<Qa;ob++)$a.push((H=f,O=t+Fa+ob*Ya,ba=D,ca={},H=new Gb.Parser(H,O),ca.tag=H.parseTag(),ca.minValue=H.parseFixed(),ca.defaultValue=H.parseFixed(),ca.maxValue=H.parseFixed(),H.skip("uShort",1),ca.name=ba[H.parseUShort()]||{},ca));H=[];t=t+Fa+Qa*Ya;for(O=0;O<ua;O++){ba=H;ca=ba.push;Fa=$a;ob=D;Qa={};Ya=new Gb.Parser(f,t+O*ta);Qa.name=ob[Ya.parseUShort()]||{};Ya.skip("uShort",1);Qa.coordinates={};for(ob=0;ob<Fa.length;++ob)Qa.coordinates[Fa[ob].tag]=Ya.parseFixed();ca.call(ba,Qa)}return{axes:$a,
instances:H}}},zc=Array(10);zc[1]=function(){var f=this.offset+this.relativeOffset,t=this.parseUShort();return 1===t?{posFormat:1,coverage:this.parsePointer(Z.coverage),value:this.parseValueRecord()}:2===t?{posFormat:2,coverage:this.parsePointer(Z.coverage),values:this.parseValueRecordList()}:void Ub.assert(!1,"0x"+f.toString(16)+": GPOS lookup type 1 format must be 1 or 2.")};zc[2]=function(){var f,t,D,H,O=this.offset+this.relativeOffset,ba=this.parseUShort();O=(Ub.assert(1===ba||2===ba,"0x"+O.toString(16)+
": GPOS lookup type 2 format must be 1 or 2."),this.parsePointer(Z.coverage));var ca=this.parseUShort(),ta=this.parseUShort();return 1===ba?{posFormat:ba,coverage:O,valueFormat1:ca,valueFormat2:ta,pairSets:this.parseList(Z.pointer(Z.list(function(){return{secondGlyph:this.parseUShort(),value1:this.parseValueRecord(ca),value2:this.parseValueRecord(ta)}})))}:2===ba?(f=this.parsePointer(Z.classDef),t=this.parsePointer(Z.classDef),D=this.parseUShort(),H=this.parseUShort(),{posFormat:ba,coverage:O,valueFormat1:ca,
valueFormat2:ta,classDef1:f,classDef2:t,class1Count:D,class2Count:H,classRecords:this.parseList(D,Z.list(H,function(){return{value1:this.parseValueRecord(ca),value2:this.parseValueRecord(ta)}}))}):void 0};zc[3]=function(){return{error:"GPOS Lookup 3 not supported"}};zc[4]=function(){return{error:"GPOS Lookup 4 not supported"}};zc[5]=function(){return{error:"GPOS Lookup 5 not supported"}};zc[6]=function(){return{error:"GPOS Lookup 6 not supported"}};zc[7]=function(){return{error:"GPOS Lookup 7 not supported"}};
zc[8]=function(){return{error:"GPOS Lookup 8 not supported"}};zc[9]=function(){return{error:"GPOS Lookup 9 not supported"}};var ce=Array(10),Gd={parse:function(f,t){return t=(f=new Z(f,t=t||0)).parseVersion(1),Ub.argument(1===t||1.1===t,"Unsupported GPOS table version "+t),1===t?{version:t,scripts:f.parseScriptList(),features:f.parseFeatureList(),lookups:f.parseLookupList(zc)}:{version:t,scripts:f.parseScriptList(),features:f.parseFeatureList(),lookups:f.parseLookupList(zc),variations:f.parseFeatureVariationsList()}},
make:function(f){return new Kb.Table("GPOS",[{name:"version",type:"ULONG",value:65536},{name:"scripts",type:"TABLE",value:new Kb.ScriptList(f.scripts)},{name:"features",type:"TABLE",value:new Kb.FeatureList(f.features)},{name:"lookups",type:"TABLE",value:new Kb.LookupList(f.lookups,ce)}])}},Pe={parse:function(f,t){if(f=new Gb.Parser(f,t),0===(t=f.parseUShort())){t={};var D=(f.skip("uShort"),f.parseUShort());D=(Ub.argument(0===D,"Unsupported kern sub-table version."),f.skip("uShort",2),f.parseUShort());
f.skip("uShort",3);for(var H=0;H<D;H+=1){var O=f.parseUShort(),ba=f.parseUShort(),ca=f.parseShort();t[O+","+ba]=ca}return t}if(1!==t)throw Error("Unsupported kern table version ("+t+").");t={};D=(f.skip("uShort"),1<f.parseULong()&&console.warn("Only the first kern subtable is supported."),f.skip("uLong"),255&f.parseUShort());if(f.skip("uShort"),0==D)for(D=f.parseUShort(),f.skip("uShort",3),H=0;H<D;H+=1)O=f.parseUShort(),ba=f.parseUShort(),ca=f.parseShort(),t[O+","+ba]=ca;return t}},Qe={parse:function(f,
t,D,H){f=new Gb.Parser(f,t);t=H?f.parseUShort:f.parseULong;for(var O=[],ba=0;ba<D+1;ba+=1){var ca=t.call(f);H&&(ca*=2);O.push(ca)}return O}};w.Font=Yb;w.Glyph=aa;w.Path=u;w.BoundingBox=q;w._parse=Gb;w.parse=cf;w.load=function(f,t){("undefined"==typeof window?Sg:Uf)(f,function(D,H){if(D)return t(D);try{var O=cf(H)}catch(ba){return t(ba,null)}return t(null,O)})};w.loadSync=function(f){return cf(ya(a("fs").readFileSync(f)))};Object.defineProperty(w,"__esModule",{value:!0})};"object"==typeof F&&void 0!==
R?y(F):y(this.opentype={})}.call(this,a("buffer").Buffer)},{buffer:4,fs:2}],258:[function(a,R,F){!function(z){function y(l,h){for(var d=0,b=l.length-1;0<=b;b--){var g=l[b];"."===g?l.splice(b,1):".."===g?(l.splice(b,1),d++):d&&(l.splice(b,1),d--)}if(h)for(;d--;)l.unshift("..");return l}function w(l,h){if(l.filter)return l.filter(h);for(var d=[],b=0;b<l.length;b++)h(l[b],b,l)&&d.push(l[b]);return d}F.resolve=function(){for(var l="",h=!1,d=arguments.length-1;-1<=d&&!h;d--){var b=0<=d?arguments[d]:z.cwd();
if("string"!=typeof b)throw new TypeError("Arguments to path.resolve must be strings");b&&(l=b+"/"+l,h="/"===b.charAt(0))}return(h?"/":"")+(l=y(w(l.split("/"),function(g){return!!g}),!h).join("/"))||"."};F.normalize=function(l){var h=F.isAbsolute(l),d="/"===r(l,-1);return(l=(l=y(w(l.split("/"),function(b){return!!b}),!h).join("/"))||h?l:".")&&d&&(l+="/"),(h?"/":"")+l};F.isAbsolute=function(l){return"/"===l.charAt(0)};F.join=function(){var l=Array.prototype.slice.call(arguments,0);return F.normalize(w(l,
function(h,d){if("string"!=typeof h)throw new TypeError("Arguments to path.join must be strings");return h}).join("/"))};F.relative=function(l,h){function d(k){for(var n=0;n<k.length&&""===k[n];n++);for(var q=k.length-1;0<=q&&""===k[q];q--);return q<n?[]:k.slice(n,q-n+1)}l=F.resolve(l).substr(1);h=F.resolve(h).substr(1);l=d(l.split("/"));h=d(h.split("/"));for(var b=Math.min(l.length,h.length),g=b,p=0;p<b;p++)if(l[p]!==h[p]){g=p;break}b=[];for(p=g;p<l.length;p++)b.push("..");return(b=b.concat(h.slice(g))).join("/")};
F.sep="/";F.delimiter=":";F.dirname=function(l){if("string"!=typeof l&&(l+=""),0===l.length)return".";for(var h=47===l.charCodeAt(0),d=-1,b=!0,g=l.length-1;1<=g;--g)if(47===l.charCodeAt(g)){if(!b){d=g;break}}else b=!1;return-1===d?h?"/":".":h&&1===d?"/":l.slice(0,d)};F.basename=function(l,h){"string"!=typeof l&&(l+="");for(var d=0,b=-1,g=!0,p=l.length-1;0<=p;--p)if(47===l.charCodeAt(p)){if(!g){d=p+1;break}}else-1===b&&(g=!1,b=p+1);l=-1===b?"":l.slice(d,b);return h&&l.substr(-1*h.length)===h?l.substr(0,
l.length-h.length):l};F.extname=function(l){"string"!=typeof l&&(l+="");for(var h=-1,d=0,b=-1,g=!0,p=0,k=l.length-1;0<=k;--k){var n=l.charCodeAt(k);if(47===n){if(g)continue;d=k+1;break}-1===b&&(g=!1,b=k+1);46===n?-1===h?h=k:1!==p&&(p=1):-1!==h&&(p=-1)}return-1===h||-1===b||0===p||1===p&&h===b-1&&h===d+1?"":l.slice(h,b)};var r="b"==="ab".substr(-1)?function(l,h,d){return l.substr(h,d)}:function(l,h,d){return 0>h&&(h=l.length+h),l.substr(h,d)}}.call(this,a("_process"))},{_process:259}],259:[function(a,
R,F){function z(){throw Error("setTimeout has not been defined");}function y(){throw Error("clearTimeout has not been defined");}function w(u){if(b===setTimeout)return setTimeout(u,0);if((b===z||!b)&&setTimeout)return(b=setTimeout)(u,0);try{return b(u,0)}catch(v){try{return b.call(null,u,0)}catch(x){return b.call(this,u,0)}}}function r(){n&&p&&(n=!1,p.length?k=p.concat(k):q=-1,k.length&&l())}function l(){if(!n){for(var u=w(r),v=(n=!0,k.length);v;){p=k;for(k=[];++q<v;)p&&p[q].run();q=-1;v=k.length}p=
null;n=!1;!function(x){if(g===clearTimeout)return clearTimeout(x);if((g===y||!g)&&clearTimeout)return(g=clearTimeout)(x);try{g(x)}catch(C){try{return g.call(null,x)}catch(A){return g.call(this,x)}}}(u)}}function h(u,v){this.fun=u;this.array=v}function d(){}R=R.exports={};try{var b="function"==typeof setTimeout?setTimeout:z}catch(u){b=z}try{var g="function"==typeof clearTimeout?clearTimeout:y}catch(u){g=y}var p,k=[],n=!1,q=-1;R.nextTick=function(u){var v=Array(arguments.length-1);if(1<arguments.length)for(var x=
1;x<arguments.length;x++)v[x-1]=arguments[x];k.push(new h(u,v));1!==k.length||n||w(l)};h.prototype.run=function(){this.fun.apply(null,this.array)};R.title="browser";R.browser=!0;R.env={};R.argv=[];R.version="";R.versions={};R.on=d;R.addListener=d;R.once=d;R.off=d;R.removeListener=d;R.removeAllListeners=d;R.emit=d;R.prependListener=d;R.prependOnceListener=d;R.listeners=function(u){return[]};R.binding=function(u){throw Error("process.binding is not supported");};R.cwd=function(){return"/"};R.chdir=
function(u){throw Error("process.chdir is not supported");};R.umask=function(){return 0}},{}],260:[function(a,R,F){R=function(z){function y(da,X,Z,L){var S,E;X=X&&X.prototype instanceof r?X:r;X=Object.create(X.prototype);L=new k(L||[]);return X._invoke=(S=L,E=G,function(P,aa){if(E===J)throw Error("Generator is already running");if(E===I){if("throw"===P)throw aa;return q()}S.method=P;for(S.arg=aa;;){if(P=S.delegate)if(P=function la(oa,ra){var sa=oa.iterator[ra.method];if(sa===u){if(ra.delegate=null,
"throw"===ra.method){if(oa.iterator.return&&(ra.method="return",ra.arg=u,la(oa,ra),"throw"===ra.method))return T;ra.method="throw";ra.arg=new TypeError("The iterator does not provide a 'throw' method")}return T}sa=w(sa,oa.iterator,ra.arg);if("throw"===sa.type)return ra.method="throw",ra.arg=sa.arg,ra.delegate=null,T;sa=sa.arg;if(!sa)return ra.method="throw",ra.arg=new TypeError("iterator result is not an object"),ra.delegate=null,T;if(!sa.done)return sa;ra[oa.resultName]=sa.value;ra.next=oa.nextLoc;
"return"!==ra.method&&(ra.method="next",ra.arg=u);ra.delegate=null;return T}(P,S)){if(P===T)continue;return P}if("next"===S.method)S.sent=S._sent=S.arg;else if("throw"===S.method){if(E===G)throw E=I,S.arg;S.dispatchException(S.arg)}else"return"===S.method&&S.abrupt("return",S.arg);E=J;P=w(da,Z,S);if("normal"===P.type){if(E=S.done?I:U,P.arg!==T)return{value:P.arg,done:S.done}}else"throw"===P.type&&(E=I,S.method="throw",S.arg=P.arg)}}),X}function w(da,X,Z){try{return{type:"normal",arg:da.call(X,Z)}}catch(L){return{type:"throw",
arg:L}}}function r(){}function l(){}function h(){}function d(da){["next","throw","return"].forEach(function(X){da[X]=function(Z){return this._invoke(X,Z)}})}function b(da){var X;this._invoke=function(Z,L){function S(){return new Promise(function(E,P){!function sa(ja,oa,ra,la){var Da;ja=w(da[ja],da,oa);if("throw"!==ja.type)return(oa=(Da=ja.arg).value)&&"object"==typeof oa&&x.call(oa,"__await")?Promise.resolve(oa.__await).then(function(qa){sa("next",qa,ra,la)},function(qa){sa("throw",qa,ra,la)}):Promise.resolve(oa).then(function(qa){Da.value=
qa;ra(Da)},function(qa){return sa("throw",qa,ra,la)});la(ja.arg)}(Z,L,E,P)})}return X=X?X.then(S,S):S()}}function g(da){var X={tryLoc:da[0]};1 in da&&(X.catchLoc=da[1]);2 in da&&(X.finallyLoc=da[2],X.afterLoc=da[3]);this.tryEntries.push(X)}function p(da){var X=da.completion||{};X.type="normal";delete X.arg;da.completion=X}function k(da){this.tryEntries=[{tryLoc:"root"}];da.forEach(g,this);this.reset(!0)}function n(da){if(da){var X,Z=da[A];if(Z)return Z.call(da);if("function"==typeof da.next)return da;
if(!isNaN(da.length))return X=-1,(Z=function S(){for(;++X<da.length;)if(x.call(da,X))return S.value=da[X],S.done=!1,S;return S.value=u,S.done=!0,S}).next=Z}return{next:q}}function q(){return{value:u,done:!0}}var u,v=Object.prototype,x=v.hasOwnProperty,C="function"==typeof Symbol?Symbol:{},A=C.iterator||"@@iterator",M=C.asyncIterator||"@@asyncIterator",K=C.toStringTag||"@@toStringTag";z.wrap=y;var G="suspendedStart",U="suspendedYield",J="executing",I="completed",T={};C={};var Y=(C[A]=function(){return this},
Object.getPrototypeOf);Y=Y&&Y(Y(n([])));var ea=(Y&&Y!==v&&x.call(Y,A)&&(C=Y),h.prototype=r.prototype=Object.create(C));return(l.prototype=ea.constructor=h).constructor=l,h[K]=l.displayName="GeneratorFunction",z.isGeneratorFunction=function(da){da="function"==typeof da&&da.constructor;return!!da&&(da===l||"GeneratorFunction"===(da.displayName||da.name))},z.mark=function(da){return Object.setPrototypeOf?Object.setPrototypeOf(da,h):(da.__proto__=h,K in da||(da[K]="GeneratorFunction")),da.prototype=Object.create(ea),
da},z.awrap=function(da){return{__await:da}},d(b.prototype),b.prototype[M]=function(){return this},z.AsyncIterator=b,z.async=function(da,X,Z,L){var S=new b(y(da,X,Z,L));return z.isGeneratorFunction(X)?S:S.next().then(function(E){return E.done?E.value:S.next()})},d(ea),ea[K]="Generator",ea[A]=function(){return this},ea.toString=function(){return"[object Generator]"},z.keys=function(da){var X,Z=[];for(X in da)Z.push(X);return Z.reverse(),function S(){for(;Z.length;){var E=Z.pop();if(E in da)return S.value=
E,S.done=!1,S}return S.done=!0,S}},z.values=n,k.prototype={constructor:k,reset:function(da){if(this.prev=0,this.next=0,this.sent=this._sent=u,this.done=!1,this.delegate=null,this.method="next",this.arg=u,this.tryEntries.forEach(p),!da)for(var X in this)"t"===X.charAt(0)&&x.call(this,X)&&!isNaN(+X.slice(1))&&(this[X]=u)},stop:function(){this.done=!0;var da=this.tryEntries[0].completion;if("throw"===da.type)throw da.arg;return this.rval},dispatchException:function(da){function X(ja,oa){return E.type=
"throw",E.arg=da,Z.next=ja,oa&&(Z.method="next",Z.arg=u),!!oa}if(this.done)throw da;for(var Z=this,L=this.tryEntries.length-1;0<=L;--L){var S=this.tryEntries[L],E=S.completion;if("root"===S.tryLoc)return X("end");if(S.tryLoc<=this.prev){var P=x.call(S,"catchLoc"),aa=x.call(S,"finallyLoc");if(P&&aa){if(this.prev<S.catchLoc)return X(S.catchLoc,!0);if(this.prev<S.finallyLoc)return X(S.finallyLoc)}else if(P){if(this.prev<S.catchLoc)return X(S.catchLoc,!0)}else{if(!aa)throw Error("try statement without catch or finally");
if(this.prev<S.finallyLoc)return X(S.finallyLoc)}}}},abrupt:function(da,X){for(var Z=this.tryEntries.length-1;0<=Z;--Z){var L=this.tryEntries[Z];if(L.tryLoc<=this.prev&&x.call(L,"finallyLoc")&&this.prev<L.finallyLoc){var S=L;break}}Z=(S=S&&("break"===da||"continue"===da)&&S.tryLoc<=X&&X<=S.finallyLoc?null:S)?S.completion:{};return Z.type=da,Z.arg=X,S?(this.method="next",this.next=S.finallyLoc,T):this.complete(Z)},complete:function(da,X){if("throw"===da.type)throw da.arg;return"break"===da.type||"continue"===
da.type?this.next=da.arg:"return"===da.type?(this.rval=this.arg=da.arg,this.method="return",this.next="end"):"normal"===da.type&&X&&(this.next=X),T},finish:function(da){for(var X=this.tryEntries.length-1;0<=X;--X){var Z=this.tryEntries[X];if(Z.finallyLoc===da)return this.complete(Z.completion,Z.afterLoc),p(Z),T}},catch:function(da){for(var X=this.tryEntries.length-1;0<=X;--X){var Z,L,S=this.tryEntries[X];if(S.tryLoc===da)return"throw"===(Z=S.completion).type&&(L=Z.arg,p(S)),L}throw Error("illegal catch attempt");
},delegateYield:function(da,X,Z){return this.delegate={iterator:n(da),resultName:X,nextLoc:Z},"next"===this.method&&(this.arg=u),T}},z}("object"==typeof R?R.exports:{});try{regeneratorRuntime=R}catch(z){Function("r","regeneratorRuntime \x3d r")(R)}},{}],261:[function(a,R,F){!function(z){function y(I){if("string"!=typeof I&&(I=String(I)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(I))throw new TypeError("Invalid character in header field name");return I.toLowerCase()}function w(I){var T={next:function(){var Y=
I.shift();return{done:void 0===Y,value:Y}}};return A&&(T[Symbol.iterator]=function(){return T}),T}function r(I){this.map={};I instanceof r?I.forEach(function(T,Y){this.append(Y,T)},this):Array.isArray(I)?I.forEach(function(T){this.append(T[0],T[1])},this):I&&Object.getOwnPropertyNames(I).forEach(function(T){this.append(T,I[T])},this)}function l(I){if(I.bodyUsed)return Promise.reject(new TypeError("Already read"));I.bodyUsed=!0}function h(I){return new Promise(function(T,Y){I.onload=function(){T(I.result)};
I.onerror=function(){Y(I.error)}})}function d(I){var T=new FileReader,Y=h(T);return T.readAsArrayBuffer(I),Y}function b(I){var T;return I.slice?I.slice(0):((T=new Uint8Array(I.byteLength)).set(new Uint8Array(I)),T.buffer)}function g(){return this.bodyUsed=!1,this._initBody=function(I){if(this._bodyInit=I)if("string"==typeof I)this._bodyText=I;else if(K&&Blob.prototype.isPrototypeOf(I))this._bodyBlob=I;else if(G&&FormData.prototype.isPrototypeOf(I))this._bodyFormData=I;else if(C&&URLSearchParams.prototype.isPrototypeOf(I))this._bodyText=
I.toString();else if(q&&K&&v(I))this._bodyArrayBuffer=b(I.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!q||!ArrayBuffer.prototype.isPrototypeOf(I)&&!x(I))throw Error("unsupported BodyInit type");this._bodyArrayBuffer=b(I)}else this._bodyText="";this.headers.get("content-type")||("string"==typeof I?this.headers.set("content-type","text/plain;charset\x3dUTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):C&&URLSearchParams.prototype.isPrototypeOf(I)&&
this.headers.set("content-type","application/x-www-form-urlencoded;charset\x3dUTF-8"))},K&&(this.blob=function(){var I=l(this);if(I)return I;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?l(this)||Promise.resolve(this._bodyArrayBuffer):
this.blob().then(d)}),this.text=function(){var I,T,Y=l(this);if(Y)return Y;if(this._bodyBlob)return Y=this._bodyBlob,I=new FileReader,T=h(I),I.readAsText(Y),T;if(this._bodyArrayBuffer){I=Promise;T=I.resolve;Y=new Uint8Array(this._bodyArrayBuffer);for(var ea=Array(Y.length),da=0;da<Y.length;da++)ea[da]=String.fromCharCode(Y[da]);Y=ea.join("");return T.call(I,Y)}if(this._bodyFormData)throw Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},G&&(this.formData=function(){return this.text().then(k)}),
this.json=function(){return this.text().then(JSON.parse)},this}function p(I,T){var Y,ea=(T=T||{}).body;if(I instanceof p){if(I.bodyUsed)throw new TypeError("Already read");this.url=I.url;this.credentials=I.credentials;T.headers||(this.headers=new r(I.headers));this.method=I.method;this.mode=I.mode;ea||null==I._bodyInit||(ea=I._bodyInit,I.bodyUsed=!0)}else this.url=String(I);if(this.credentials=T.credentials||this.credentials||"omit",!T.headers&&this.headers||(this.headers=new r(T.headers)),this.method=
(I=T.method||this.method||"GET",Y=I.toUpperCase(),-1<U.indexOf(Y)?Y:I),this.mode=T.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&ea)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(ea)}function k(I){var T=new FormData;return I.trim().split("\x26").forEach(function(Y){var ea;Y&&(ea=(Y=Y.split("\x3d")).shift().replace(/\+/g," "),Y=Y.join("\x3d").replace(/\+/g," "),T.append(decodeURIComponent(ea),decodeURIComponent(Y)))}),T}function n(I,
T){T=T||{};this.type="default";this.status=void 0===T.status?200:T.status;this.ok=200<=this.status&&300>this.status;this.statusText="statusText"in T?T.statusText:"OK";this.headers=new r(T.headers);this.url=T.url||"";this._initBody(I)}var q,u,v,x;if(!z.fetch){var C="URLSearchParams"in z;var A="Symbol"in z&&"iterator"in Symbol;var M;if(M="FileReader"in z&&"Blob"in z)try{M=(new Blob,!0)}catch(I){M=!1}var K=M;var G="FormData"in z;(q="ArrayBuffer"in z)&&(u="[object Int8Array];[object Uint8Array];[object Uint8ClampedArray];[object Int16Array];[object Uint16Array];[object Int32Array];[object Uint32Array];[object Float32Array];[object Float64Array]".split(";"),
v=function(I){return I&&DataView.prototype.isPrototypeOf(I)},x=ArrayBuffer.isView||function(I){return I&&-1<u.indexOf(Object.prototype.toString.call(I))});r.prototype.append=function(I,T){I=y(I);T="string"!=typeof T?String(T):T;var Y=this.map[I];this.map[I]=Y?Y+","+T:T};r.prototype.delete=function(I){delete this.map[y(I)]};r.prototype.get=function(I){return I=y(I),this.has(I)?this.map[I]:null};r.prototype.has=function(I){return this.map.hasOwnProperty(y(I))};r.prototype.set=function(I,T){this.map[y(I)]=
"string"!=typeof T?String(T):T};r.prototype.forEach=function(I,T){for(var Y in this.map)this.map.hasOwnProperty(Y)&&I.call(T,this.map[Y],Y,this)};r.prototype.keys=function(){var I=[];return this.forEach(function(T,Y){I.push(Y)}),w(I)};r.prototype.values=function(){var I=[];return this.forEach(function(T){I.push(T)}),w(I)};r.prototype.entries=function(){var I=[];return this.forEach(function(T,Y){I.push([Y,T])}),w(I)};A&&(r.prototype[Symbol.iterator]=r.prototype.entries);var U="DELETE GET HEAD OPTIONS POST PUT".split(" ");
p.prototype.clone=function(){return new p(this,{body:this._bodyInit})};g.call(p.prototype);g.call(n.prototype);n.prototype.clone=function(){return new n(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new r(this.headers),url:this.url})};n.error=function(){var I=new n(null,{status:0,statusText:""});return I.type="error",I};var J=[301,302,303,307,308];n.redirect=function(I,T){if(-1===J.indexOf(T))throw new RangeError("Invalid status code");return new n(null,{status:T,headers:{location:I}})};
z.Headers=r;z.Request=p;z.Response=n;z.fetch=function(I,T){return new Promise(function(Y,ea){var da=new p(I,T),X=new XMLHttpRequest;X.onload=function(){var Z,L={status:X.status,statusText:X.statusText,headers:(L=X.getAllResponseHeaders()||"",Z=new r,L.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(E){E=E.split(":");var P=E.shift().trim();P&&(E=E.join(":").trim(),Z.append(P,E))}),Z)},S=(L.url="responseURL"in X?X.responseURL:L.headers.get("X-Request-URL"),"response"in X?X.response:X.responseText);
Y(new n(S,L))};X.onerror=function(){ea(new TypeError("Network request failed"))};X.ontimeout=function(){ea(new TypeError("Network request failed"))};X.open(da.method,da.url,!0);"include"===da.credentials?X.withCredentials=!0:"omit"===da.credentials&&(X.withCredentials=!1);"responseType"in X&&K&&(X.responseType="blob");da.headers.forEach(function(Z,L){X.setRequestHeader(L,Z)});X.send(void 0===da._bodyInit?null:da._bodyInit)})};z.fetch.polyfill=!0}}("undefined"!=typeof self?self:this)},{}],262:[function(a,
R,F){function z(h){return h&&h.__esModule?h:{default:h}}a("core-js/modules/es.function.name");a("core-js/modules/es.object.to-string");a("core-js/modules/es.regexp.exec");a("core-js/modules/es.regexp.to-string");a("core-js/modules/es.string.split");a("core-js/modules/es.function.name");a("core-js/modules/es.object.to-string");a("core-js/modules/es.regexp.exec");a("core-js/modules/es.regexp.to-string");a("core-js/modules/es.string.split");Object.defineProperty(F,"__esModule",{value:!0});F.default=
void 0;var y;R=z(a("../core/main"));var w=z(a("../color/color_conversion")),r=[{h:0,s:0,b:.8275,name:"gray"},{h:0,s:0,b:.8627,name:"gray"},{h:0,s:0,b:.7529,name:"gray"},{h:.0167,s:.1176,b:1,name:"light pink"}],l=[{h:0,s:0,b:0,name:"black"},{h:0,s:0,b:.5,name:"gray"},{h:0,s:0,b:1,name:"white"},{h:0,s:.5,b:.5,name:"dark maroon"},{h:0,s:.5,b:1,name:"salmon pink"},{h:0,s:1,b:0,name:"black"},{h:0,s:1,b:.5,name:"dark red"},{h:0,s:1,b:1,name:"red"},{h:5,s:0,b:1,name:"very light peach"},{h:5,s:.5,b:.5,name:"brown"},
{h:5,s:.5,b:1,name:"peach"},{h:5,s:1,b:.5,name:"brick red"},{h:5,s:1,b:1,name:"crimson"},{h:10,s:0,b:1,name:"light peach"},{h:10,s:.5,b:.5,name:"brown"},{h:10,s:.5,b:1,name:"light orange"},{h:10,s:1,b:.5,name:"brown"},{h:10,s:1,b:1,name:"orange"},{h:15,s:0,b:1,name:"very light yellow"},{h:15,s:.5,b:.5,name:"olive green"},{h:15,s:.5,b:1,name:"light yellow"},{h:15,s:1,b:0,name:"dark olive green"},{h:15,s:1,b:.5,name:"olive green"},{h:15,s:1,b:1,name:"yellow"},{h:20,s:0,b:1,name:"very light yellow"},
{h:20,s:.5,b:.5,name:"olive green"},{h:20,s:.5,b:1,name:"light yellow green"},{h:20,s:1,b:0,name:"dark olive green"},{h:20,s:1,b:.5,name:"dark yellow green"},{h:20,s:1,b:1,name:"yellow green"},{h:25,s:.5,b:.5,name:"dark yellow green"},{h:25,s:.5,b:1,name:"light green"},{h:25,s:1,b:.5,name:"dark green"},{h:25,s:1,b:1,name:"green"},{h:30,s:.5,b:1,name:"light green"},{h:30,s:1,b:.5,name:"dark green"},{h:30,s:1,b:1,name:"green"},{h:35,s:0,b:.5,name:"light green"},{h:35,s:0,b:1,name:"very light green"},
{h:35,s:.5,b:.5,name:"dark green"},{h:35,s:.5,b:1,name:"light green"},{h:35,s:1,b:0,name:"very dark green"},{h:35,s:1,b:.5,name:"dark green"},{h:35,s:1,b:1,name:"green"},{h:40,s:0,b:1,name:"very light green"},{h:40,s:.5,b:.5,name:"dark green"},{h:40,s:.5,b:1,name:"light green"},{h:40,s:1,b:.5,name:"dark green"},{h:40,s:1,b:1,name:"green"},{h:45,s:.5,b:1,name:"light turquoise"},{h:45,s:1,b:.5,name:"dark turquoise"},{h:45,s:1,b:1,name:"turquoise"},{h:50,s:0,b:1,name:"light sky blue"},{h:50,s:.5,b:.5,
name:"dark cyan"},{h:50,s:.5,b:1,name:"light cyan"},{h:50,s:1,b:.5,name:"dark cyan"},{h:50,s:1,b:1,name:"cyan"},{h:55,s:0,b:1,name:"light sky blue"},{h:55,s:.5,b:1,name:"light sky blue"},{h:55,s:1,b:.5,name:"dark blue"},{h:55,s:1,b:1,name:"sky blue"},{h:60,s:0,b:.5,name:"gray"},{h:60,s:0,b:1,name:"very light blue"},{h:60,s:.5,b:.5,name:"blue"},{h:60,s:.5,b:1,name:"light blue"},{h:60,s:1,b:.5,name:"navy blue"},{h:60,s:1,b:1,name:"blue"},{h:65,s:0,b:1,name:"lavender"},{h:65,s:.5,b:.5,name:"navy blue"},
{h:65,s:.5,b:1,name:"light purple"},{h:65,s:1,b:.5,name:"dark navy blue"},{h:65,s:1,b:1,name:"blue"},{h:70,s:0,b:1,name:"lavender"},{h:70,s:.5,b:.5,name:"navy blue"},{h:70,s:.5,b:1,name:"lavender blue"},{h:70,s:1,b:.5,name:"dark navy blue"},{h:70,s:1,b:1,name:"blue"},{h:75,s:.5,b:1,name:"lavender"},{h:75,s:1,b:.5,name:"dark purple"},{h:75,s:1,b:1,name:"purple"},{h:80,s:.5,b:1,name:"pinkish purple"},{h:80,s:1,b:.5,name:"dark purple"},{h:80,s:1,b:1,name:"purple"},{h:85,s:0,b:1,name:"light pink"},{h:85,
s:.5,b:.5,name:"purple"},{h:85,s:.5,b:1,name:"light fuchsia"},{h:85,s:1,b:.5,name:"dark fuchsia"},{h:85,s:1,b:1,name:"fuchsia"},{h:90,s:.5,b:.5,name:"dark fuchsia"},{h:90,s:.5,b:1,name:"hot pink"},{h:90,s:1,b:.5,name:"dark fuchsia"},{h:90,s:1,b:1,name:"fuchsia"},{h:95,s:0,b:1,name:"pink"},{h:95,s:.5,b:1,name:"light pink"},{h:95,s:1,b:.5,name:"dark magenta"},{h:95,s:1,b:1,name:"magenta"}];R.default.prototype._rgbColorName=function(h){var d;h=w.default._rgbaToHSBA(h);var b=[(y=h)[0],h[1],h[2]];0!==
b[0]&&(b[0]=Math.round(100*b[0]),(h=b[0].toString().split(""))[d=h.length-1]=parseInt(h[d]),2.5>h[d]?h[d]=0:2.5<=h[d]&&7.5>h[d]&&(h[d]=5),2===h.length?(h[0]=parseInt(h[0]),7.5<=h[d]&&(h[d]=0,h[0]+=1),b[0]=10*h[0]+h[1]):7.5<=h[d]?b[0]=10:b[0]=h[d]);b[2]/=255;for(h=b.length-1;1<=h;h--).25>=b[h]?b[h]=0:.25<b[h]&&.75>b[h]?b[h]=.5:b[h]=1;if(0===b[0]&&0===b[1]&&1===b[2]){for(b=2;0<=b;b--)y[b]=Math.round(1E4*y[b])/1E4;for(b=0;b<r.length;b++){if(r[b].h===y[0]&&r[b].s===y[1]&&r[b].b===y[2]){var g=r[b].name;
break}g="white"}}else for(h=0;h<l.length;h++)if(l[h].h===b[0]&&l[h].s===b[1]&&l[h].b===b[2]){g=l[h].name;break}return g};a=R.default;F.default=a},{"../color/color_conversion":268,"../core/main":283,"core-js/modules/es.function.name":174,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.split":206}],263:[function(a,R,F){function z(w){if("label"===w||"fallback"===w)throw Error("description should not be LABEL or FALLBACK");
return w.endsWith(".")||w.endsWith(";")||w.endsWith(",")||w.endsWith("?")||w.endsWith("!")||(w+="."),w}a("core-js/modules/es.array.concat");a("core-js/modules/es.regexp.exec");a("core-js/modules/es.string.ends-with");a("core-js/modules/es.string.replace");a("core-js/modules/es.array.concat");a("core-js/modules/es.regexp.exec");a("core-js/modules/es.string.ends-with");a("core-js/modules/es.string.replace");Object.defineProperty(F,"__esModule",{value:!0});F.default=void 0;var y=(a=a("../core/main"))&&
a.__esModule?a:{default:a};y.default.prototype.describe=function(w,r){var l;y.default._validateParameters("describe",arguments);"string"==typeof w&&(l=this.canvas.id,w=z(w),this.dummyDOM||(this.dummyDOM=document.getElementById(l).parentNode),this.descriptions||(this.descriptions={}),this.descriptions.fallback?this.descriptions.fallback.innerHTML!==w&&(this.descriptions.fallback.innerHTML=w):this._describeHTML("fallback",w),r===this.LABEL&&(this.descriptions.label?this.descriptions.label.innerHTML!==
w&&(this.descriptions.label.innerHTML=w):this._describeHTML("label",w)))};y.default.prototype.describeElement=function(w,r,l){y.default._validateParameters("describeElement",arguments);if("string"==typeof r&&"string"==typeof w){var h=this.canvas.id;r=z(r);var d=w;if("label"===d||"fallback"===d)throw Error("element name should not be LABEL or FALLBACK");d.endsWith(".")||d.endsWith(";")||d.endsWith(",")?d=d.replace(/.$/,":"):d.endsWith(":")||(d+=":");w=w.replace(/[^a-zA-Z0-9]/g,"");d='\x3cth scope\x3d"row"\x3e'.concat(d,
"\x3c/th\x3e\x3ctd\x3e").concat(r,"\x3c/td\x3e");this.dummyDOM||(this.dummyDOM=document.getElementById(h).parentNode);this.descriptions?this.descriptions.fallbackElements||(this.descriptions.fallbackElements={}):this.descriptions={fallbackElements:{}};this.descriptions.fallbackElements[w]?this.descriptions.fallbackElements[w].innerHTML!==d&&(this.descriptions.fallbackElements[w].innerHTML=d):this._describeElementHTML("fallback",w,d);l===this.LABEL&&(this.descriptions.labelElements||(this.descriptions.labelElements=
{}),this.descriptions.labelElements[w]?this.descriptions.labelElements[w].innerHTML!==d&&(this.descriptions.labelElements[w].innerHTML=d):this._describeElementHTML("label",w,d))}};y.default.prototype._describeHTML=function(w,r){var l,h=this.canvas.id;"fallback"===w?(this.dummyDOM.querySelector("#".concat(h+"_Description"))?this.dummyDOM.querySelector("#"+h+"_fallbackTable").insertAdjacentHTML("beforebegin",'\x3cp id\x3d"'.concat(h+"_fallbackDesc",'"\x3e\x3c/p\x3e')):(l='\x3cdiv id\x3d"'.concat(h).concat("_Description",
'" role\x3d"region" aria-label\x3d"Canvas Description"\x3e\x3cp id\x3d"').concat(h).concat("_fallbackDesc",'"\x3e\x3c/p\x3e\x3c/div\x3e'),this.dummyDOM.querySelector("#".concat(h,"accessibleOutput"))?this.dummyDOM.querySelector("#".concat(h,"accessibleOutput")).insertAdjacentHTML("beforebegin",l):this.dummyDOM.querySelector("#".concat(h)).innerHTML=l),this.descriptions.fallback=this.dummyDOM.querySelector("#".concat(h).concat("_fallbackDesc")),this.descriptions.fallback.innerHTML=r):"label"===w&&
(this.dummyDOM.querySelector("#".concat(h+"_Label"))?this.dummyDOM.querySelector("#".concat(h+"_labelTable"))&&this.dummyDOM.querySelector("#".concat(h+"_labelTable")).insertAdjacentHTML("beforebegin",'\x3cp id\x3d"'.concat(h).concat("_labelDesc",'"\x3e\x3c/p\x3e')):(l='\x3cdiv id\x3d"'.concat(h).concat("_Label",'" class\x3d"p5Label"\x3e\x3cp id\x3d"').concat(h).concat("_labelDesc",'"\x3e\x3c/p\x3e\x3c/div\x3e'),this.dummyDOM.querySelector("#".concat(h,"accessibleOutputLabel"))?this.dummyDOM.querySelector("#".concat(h,
"accessibleOutputLabel")).insertAdjacentHTML("beforebegin",l):this.dummyDOM.querySelector("#"+h).insertAdjacentHTML("afterend",l)),this.descriptions.label=this.dummyDOM.querySelector("#"+h+"_labelDesc"),this.descriptions.label.innerHTML=r)};y.default.prototype._describeElementHTML=function(w,r,l){var h,d=this.canvas.id;"fallback"===w?(this.dummyDOM.querySelector("#".concat(d+"_Description"))?this.dummyDOM.querySelector("#"+d+"_fallbackTable")||this.dummyDOM.querySelector("#"+d+"_fallbackDesc").insertAdjacentHTML("afterend",
'\x3ctable id\x3d"'.concat(d).concat("_fallbackTable",'"\x3e\x3ccaption\x3eCanvas elements and their descriptions\x3c/caption\x3e\x3c/table\x3e')):(h='\x3cdiv id\x3d"'.concat(d).concat("_Description",'" role\x3d"region" aria-label\x3d"Canvas Description"\x3e\x3ctable id\x3d"').concat(d).concat("_fallbackTable",'"\x3e\x3ccaption\x3eCanvas elements and their descriptions\x3c/caption\x3e\x3c/table\x3e\x3c/div\x3e'),this.dummyDOM.querySelector("#".concat(d,"accessibleOutput"))?this.dummyDOM.querySelector("#".concat(d,
"accessibleOutput")).insertAdjacentHTML("beforebegin",h):this.dummyDOM.querySelector("#"+d).innerHTML=h),(h=document.createElement("tr")).id=d+"_fte_"+r,this.dummyDOM.querySelector("#"+d+"_fallbackTable").appendChild(h),this.descriptions.fallbackElements[r]=this.dummyDOM.querySelector("#".concat(d).concat("_fte_").concat(r)),this.descriptions.fallbackElements[r].innerHTML=l):"label"===w&&(this.dummyDOM.querySelector("#".concat(d+"_Label"))?this.dummyDOM.querySelector("#".concat(d+"_labelTable"))||
this.dummyDOM.querySelector("#"+d+"_labelDesc").insertAdjacentHTML("afterend",'\x3ctable id\x3d"'.concat(d+"_labelTable",'"\x3e\x3c/table\x3e')):(h='\x3cdiv id\x3d"'.concat(d).concat("_Label",'" class\x3d"p5Label"\x3e\x3ctable id\x3d"').concat(d).concat("_labelTable",'"\x3e\x3c/table\x3e\x3c/div\x3e'),this.dummyDOM.querySelector("#".concat(d,"accessibleOutputLabel"))?this.dummyDOM.querySelector("#".concat(d,"accessibleOutputLabel")).insertAdjacentHTML("beforebegin",h):this.dummyDOM.querySelector("#"+
d).insertAdjacentHTML("afterend",h)),(w=document.createElement("tr")).id=d+"_lte_"+r,this.dummyDOM.querySelector("#"+d+"_labelTable").appendChild(w),this.descriptions.labelElements[r]=this.dummyDOM.querySelector("#".concat(d).concat("_lte_").concat(r)),this.descriptions.labelElements[r].innerHTML=l)};a=y.default;F.default=a},{"../core/main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.string.ends-with":198,"core-js/modules/es.string.replace":204}],
264:[function(a,R,F){a("core-js/modules/es.array.concat");a("core-js/modules/es.array.from");a("core-js/modules/es.array.map");a("core-js/modules/es.string.iterator");a("core-js/modules/es.array.concat");a("core-js/modules/es.array.from");a("core-js/modules/es.array.map");a("core-js/modules/es.string.iterator");Object.defineProperty(F,"__esModule",{value:!0});F.default=void 0;a=(a=a("../core/main"))&&a.__esModule?a:{default:a};a.default.prototype._updateGridOutput=function(z){var y,w,r,l;this.dummyDOM.querySelector("#".concat(z,
"_summary"))&&(y=this._accessibleOutputs[z],r=function(h,d,b,g){d="".concat(d," canvas, ").concat(b," by ").concat(g," pixels, contains ").concat(h[0]);return d=(1===h[0]?"".concat(d," shape: "):"".concat(d," shapes: ")).concat(h[1])}((w=function(h,d){var b,g="",p="",k=0;for(b in d){var n,q=0;for(n in d[b]){var u='\x3cli id\x3d"'.concat(h,"shape").concat(k,'"\x3e').concat(d[b][n].color," ").concat(b,",");"line"===b?u+=" location \x3d ".concat(d[b][n].pos,", length \x3d ").concat(d[b][n].length," pixels"):
(u+=" location \x3d ".concat(d[b][n].pos),"point"!==b&&(u+=", area \x3d ".concat(d[b][n].area," %")),u+="\x3c/li\x3e");g+=u;q++;k++}p=1<q?"".concat(p," ").concat(q," ").concat(b,"s"):"".concat(p," ").concat(q," ").concat(b)}return{numShapes:[k,p],details:g}}(z,this.ingredients.shapes)).numShapes,this.ingredients.colors.background,this.width,this.height),l=function(h,d){var b,g,p=0,k="",n=Array.from(Array(10),function(){return Array(10)});for(b in d)for(var q in d[b]){var u=void 0;u="line"!==b?'\x3ca href\x3d"#'.concat(h,
"shape").concat(p,'"\x3e').concat(d[b][q].color," ").concat(b,"\x3c/a\x3e"):'\x3ca href\x3d"#'.concat(h,"shape").concat(p,'"\x3e').concat(d[b][q].color," ").concat(b," midpoint\x3c/a\x3e");d[b][q].loc.locY<n.length&&d[b][q].loc.locX<n[d[b][q].loc.locY].length&&(n[d[b][q].loc.locY][d[b][q].loc.locX]?n[d[b][q].loc.locY][d[b][q].loc.locX]=n[d[b][q].loc.locY][d[b][q].loc.locX]+"  "+u:n[d[b][q].loc.locY][d[b][q].loc.locX]=u,p++)}for(g in n){var v;h="\x3ctr\x3e";for(v in n[g])h+="\x3ctd\x3e",void 0!==n[g][v]&&
(h+=n[g][v]),h+="\x3c/td\x3e";k=k+h+"\x3c/tr\x3e"}return k}(z,this.ingredients.shapes),r!==y.summary.innerHTML&&(y.summary.innerHTML=r),l!==y.map.innerHTML&&(y.map.innerHTML=l),w.details!==y.shapeDetails.innerHTML&&(y.shapeDetails.innerHTML=w.details),this._accessibleOutputs[z]=y)};a=a.default;F.default=a},{"../core/main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.from":162,"core-js/modules/es.array.map":168,"core-js/modules/es.string.iterator":200}],265:[function(a,R,F){function z(r){if(!(r=
function(l){if(Array.isArray(l)){for(var h=0,d=Array(l.length);h<l.length;h++)d[h]=l[h];return d}}(r)||function(l){if(Symbol.iterator in Object(l)||"[object Arguments]"===Object.prototype.toString.call(l))return Array.from(l)}(r)))throw new TypeError("Invalid attempt to spread non-iterable instance");return r}function y(r,l,h){l=Math.floor(r[0]/l*10);r=Math.floor(r[1]/h*10);return 10===l&&--l,10===r&&--r,{locX:l,locY:r}}a("core-js/modules/es.symbol");a("core-js/modules/es.symbol.description");a("core-js/modules/es.symbol.iterator");
a("core-js/modules/es.array.concat");a("core-js/modules/es.array.fill");a("core-js/modules/es.array.from");a("core-js/modules/es.array.iterator");a("core-js/modules/es.array.map");a("core-js/modules/es.number.to-fixed");a("core-js/modules/es.object.to-string");a("core-js/modules/es.regexp.to-string");a("core-js/modules/es.string.iterator");a("core-js/modules/web.dom-collections.iterator");a("core-js/modules/es.array.concat");a("core-js/modules/es.array.fill");a("core-js/modules/es.array.map");a("core-js/modules/es.number.to-fixed");
Object.defineProperty(F,"__esModule",{value:!0});F.default=void 0;var w=(a=a("../core/main"))&&a.__esModule?a:{default:a};w.default.prototype.textOutput=function(r){w.default._validateParameters("textOutput",arguments);this._accessibleOutputs.text||(this._accessibleOutputs.text=!0,this._createOutput("textOutput","Fallback"),r===this.LABEL&&(this._accessibleOutputs.textLabel=!0,this._createOutput("textOutput","Label")))};w.default.prototype.gridOutput=function(r){w.default._validateParameters("gridOutput",
arguments);this._accessibleOutputs.grid||(this._accessibleOutputs.grid=!0,this._createOutput("gridOutput","Fallback"),r===this.LABEL&&(this._accessibleOutputs.gridLabel=!0,this._createOutput("gridOutput","Label")))};w.default.prototype._addAccsOutput=function(){return this._accessibleOutputs||(this._accessibleOutputs={text:!1,grid:!1,textLabel:!1,gridLabel:!1}),this._accessibleOutputs.grid||this._accessibleOutputs.text};w.default.prototype._createOutput=function(r,l){var h,d,b,g=this.canvas.id,p=
(this.ingredients||(this.ingredients={shapes:{},colors:{background:"white",fill:"white",stroke:"black"},pShapes:"",pBackground:""}),this.dummyDOM||(this.dummyDOM=document.getElementById(g).parentNode),"");"Fallback"===l?(h=g+r,this.dummyDOM.querySelector("#".concat(d=g+"accessibleOutput"))||(this.dummyDOM.querySelector("#".concat(g,"_Description"))?this.dummyDOM.querySelector("#".concat(g,"_Description")).insertAdjacentHTML("afterend",'\x3cdiv id\x3d"'.concat(d,'" role\x3d"region" aria-label\x3d"Canvas Outputs"\x3e\x3c/div\x3e')):
this.dummyDOM.querySelector("#".concat(g)).innerHTML='\x3cdiv id\x3d"'.concat(d,'" role\x3d"region" aria-label\x3d"Canvas Outputs"\x3e\x3c/div\x3e'))):"Label"===l&&(h=g+r+(p=l),this.dummyDOM.querySelector("#".concat(d=g+"accessibleOutput"+l))||(this.dummyDOM.querySelector("#".concat(g,"_Label"))?this.dummyDOM.querySelector("#".concat(g,"_Label")):this.dummyDOM.querySelector("#".concat(g))).insertAdjacentHTML("afterend",'\x3cdiv id\x3d"'.concat(d,'"\x3e\x3c/div\x3e')));this._accessibleOutputs[h]={};
"textOutput"===r?(p="#".concat(g,"gridOutput").concat(p),b='\x3cdiv id\x3d"'.concat(h,'"\x3eText Output\x3cdiv id\x3d"').concat(h,'Summary" aria-label\x3d"text output summary"\x3e\x3cp id\x3d"').concat(h,'_summary"\x3e\x3c/p\x3e\x3cul id\x3d"').concat(h,'_list"\x3e\x3c/ul\x3e\x3c/div\x3e\x3ctable id\x3d"').concat(h,'_shapeDetails" summary\x3d"text output shape details"\x3e\x3c/table\x3e\x3c/div\x3e'),this.dummyDOM.querySelector(p)?this.dummyDOM.querySelector(p).insertAdjacentHTML("beforebegin",b):
this.dummyDOM.querySelector("#".concat(d)).innerHTML=b,this._accessibleOutputs[h].list=this.dummyDOM.querySelector("#".concat(h,"_list"))):"gridOutput"===r&&(p="#".concat(g,"textOutput").concat(p),b='\x3cdiv id\x3d"'.concat(h,'"\x3eGrid Output\x3cp id\x3d"').concat(h,'_summary" aria-label\x3d"grid output summary"\x3e\x3ctable id\x3d"').concat(h,'_map" summary\x3d"grid output content"\x3e\x3c/table\x3e\x3cul id\x3d"').concat(h,'_shapeDetails" aria-label\x3d"grid output shape details"\x3e\x3c/ul\x3e\x3c/div\x3e'),
this.dummyDOM.querySelector(p)?this.dummyDOM.querySelector(p).insertAdjacentHTML("afterend",b):this.dummyDOM.querySelector("#".concat(d)).innerHTML=b,this._accessibleOutputs[h].map=this.dummyDOM.querySelector("#".concat(h,"_map")));this._accessibleOutputs[h].shapeDetails=this.dummyDOM.querySelector("#".concat(h,"_shapeDetails"));this._accessibleOutputs[h].summary=this.dummyDOM.querySelector("#".concat(h,"_summary"))};w.default.prototype._updateAccsOutput=function(){var r=this.canvas.id;JSON.stringify(this.ingredients.shapes)===
this.ingredients.pShapes&&this.ingredients.colors.background===this.ingredients.pBackground||(this.ingredients.pShapes=JSON.stringify(this.ingredients.shapes),this._accessibleOutputs.text&&this._updateTextOutput(r+"textOutput"),this._accessibleOutputs.grid&&this._updateGridOutput(r+"gridOutput"),this._accessibleOutputs.textLabel&&this._updateTextOutput(r+"textOutputLabel"),this._accessibleOutputs.gridLabel&&this._updateGridOutput(r+"gridOutputLabel"))};w.default.prototype._accsBackground=function(r){this.ingredients.pShapes=
JSON.stringify(this.ingredients.shapes);this.ingredients.pBackground=this.ingredients.colors.background;this.ingredients.shapes={};this.ingredients.colors.backgroundRGBA!==r&&(this.ingredients.colors.backgroundRGBA=r,this.ingredients.colors.background=this._rgbColorName(r))};w.default.prototype._accsCanvasColors=function(r,l){"fill"===r?this.ingredients.colors.fillRGBA!==l&&(this.ingredients.colors.fillRGBA=l,this.ingredients.colors.fill=this._rgbColorName(l)):"stroke"===r&&this.ingredients.colors.strokeRGBA!==
l&&(this.ingredients.colors.strokeRGBA=l,this.ingredients.colors.stroke=this._rgbColorName(l))};w.default.prototype._accsOutput=function(r,l){"ellipse"===r&&l[2]===l[3]?r="circle":"rectangle"===r&&l[2]===l[3]&&(r="square");var h,d,b={},g=!0;var p=r;var k;p="rectangle"===p||"ellipse"===p||"arc"===p||"circle"===p||"square"===p?(k=Math.round(l[0]+l[2]/2),Math.round(l[1]+l[3]/2)):"triangle"===p?(k=(l[0]+l[2]+l[4])/3,(l[1]+l[3]+l[5])/3):"quadrilateral"===p?(k=(l[0]+l[2]+l[4]+l[6])/4,(l[1]+l[3]+l[5]+l[7])/
4):"line"===p?(k=(l[0]+l[2])/2,(l[1]+l[3])/2):(k=l[0],l[1]);p=[k,p];if("line"===r?(b.color=this.ingredients.colors.stroke,b.length=Math.round(this.dist(l[0],l[1],l[2],l[3])),h=this._getPos(l[0],[1]),d=this._getPos(l[2],[3]),b.loc=y(p,this.width,this.height),b.pos=h===d?"at ".concat(h):"from ".concat(h," to ").concat(d)):("point"===r?b.color=this.ingredients.colors.stroke:(b.color=this.ingredients.colors.fill,b.area=this._getArea(r,l)),b.pos=this._getPos.apply(this,z(p)),b.loc=y(p,this.width,this.height)),
this.ingredients.shapes[r]){if(this.ingredients.shapes[r]!==[b]){for(var n in this.ingredients.shapes[r])JSON.stringify(this.ingredients.shapes[r][n])===JSON.stringify(b)&&(g=!1);!0===g&&this.ingredients.shapes[r].push(b)}}else this.ingredients.shapes[r]=[b]};w.default.prototype._getPos=function(r,l){r=new DOMPointReadOnly(r,l);l=this._renderer.isP3D?new DOMMatrix(this._renderer.uMVMatrix.mat4):this.drawingContext.getTransform();r=r.matrixTransform(l);l=r.x;r=r.y;var h=this.width*this._pixelDensity,
d=this.height*this._pixelDensity;return l<.4*h?r<.4*d?"top left":.6*d<r?"bottom left":"mid left":.6*h<l?r<.4*d?"top right":.6*d<r?"bottom right":"mid right":r<.4*d?"top middle":.6*d<r?"bottom middle":"middle"};w.default.prototype._getArea=function(r,l){var h,d,b=0,g=("arc"===r?(b=(h=((l[5]-l[4])%(2*Math.PI)+2*Math.PI)%(2*Math.PI))*l[2]*l[3]/8,"open"!==l[6]&&"chord"!==l[6]||(d=l[0],q=l[1],g=l[0]+l[2]/2*Math.cos(l[4]).toFixed(2),u=l[1]+l[3]/2*Math.sin(l[4]).toFixed(2),k=l[0]+l[2]/2*Math.cos(l[5]).toFixed(2),
p=l[1]+l[3]/2*Math.sin(l[5]).toFixed(2),d=Math.abs(d*(u-p)+g*(p-q)+k*(q-u))/2,h>Math.PI?b+=d:b-=d)):"ellipse"===r||"circle"===r?b=3.14*l[2]/2*l[3]/2:"line"===r||"point"===r?b=0:"quadrilateral"===r?b=Math.abs((l[6]+l[0])*(l[7]-l[1])+(l[0]+l[2])*(l[1]-l[3])+(l[2]+l[4])*(l[3]-l[5])+(l[4]+l[6])*(l[5]-l[7]))/2:"rectangle"===r||"square"===r?b=l[2]*l[3]:"triangle"===r&&(b=Math.abs(l[0]*(l[3]-l[5])+l[2]*(l[5]-l[1])+l[4]*(l[1]-l[3]))/2),this.width*this._pixelDensity),p=this.height*this._pixelDensity,k=[new DOMPoint(0,
0),new DOMPoint(g,0),new DOMPoint(g,p),new DOMPoint(0,p)],n=(this._renderer.isP3D?new DOMMatrix(this._renderer.uMVMatrix.mat4):this.drawingContext.getTransform()).inverse(),q=k.map(function(v){return v.matrixTransform(n)}),u=Math.abs((q[3].x+q[0].x)*(q[3].y-q[0].y)+(q[0].x+q[1].x)*(q[0].y-q[1].y)+(q[1].x+q[2].x)*(q[1].y-q[2].y)+(q[2].x+q[3].x)*(q[2].y-q[3].y))/2;return Math.round(100*b/u)};a=w.default;F.default=a},{"../core/main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.fill":156,
"core-js/modules/es.array.from":162,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.map":168,"core-js/modules/es.number.to-fixed":182,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.iterator":246}],266:[function(a,R,F){a("core-js/modules/es.array.concat");
a("core-js/modules/es.array.concat");Object.defineProperty(F,"__esModule",{value:!0});F.default=void 0;a=(a=a("../core/main"))&&a.__esModule?a:{default:a};a.default.prototype._updateTextOutput=function(z){var y,w,r,l;this.dummyDOM.querySelector("#".concat(z,"_summary"))&&(y=this._accessibleOutputs[z],r=function(h,d,b,g){b="Your output is a, ".concat(b," by ").concat(g," pixels, ").concat(d," canvas containing the following");return b=1===h?"".concat(b," shape:"):"".concat(b," ").concat(h," shapes:")}((w=
function(h,d){var b,g="",p=0;for(b in d)for(var k in d[b]){var n='\x3cli\x3e\x3ca href\x3d"#'.concat(h,"shape").concat(p,'"\x3e').concat(d[b][k].color," ").concat(b,"\x3c/a\x3e");"line"===b?n+=", ".concat(d[b][k].pos,", ").concat(d[b][k].length," pixels long.\x3c/li\x3e"):(n+=", at ".concat(d[b][k].pos),"point"!==b&&(n+=", covering ".concat(d[b][k].area,"% of the canvas")),n+=".\x3c/li\x3e");g+=n;p++}return{numShapes:p,listShapes:g}}(z,this.ingredients.shapes)).numShapes,this.ingredients.colors.background,
this.width,this.height),l=function(h,d){var b,g="",p=0;for(b in d)for(var k in d[b]){var n='\x3ctr id\x3d"'.concat(h,"shape").concat(p,'"\x3e\x3cth\x3e').concat(d[b][k].color," ").concat(b,"\x3c/th\x3e");"line"===b?n+="\x3ctd\x3elocation \x3d ".concat(d[b][k].pos,"\x3c/td\x3e\x3ctd\x3elength \x3d ").concat(d[b][k].length," pixels\x3c/td\x3e\x3c/tr\x3e"):(n+="\x3ctd\x3elocation \x3d ".concat(d[b][k].pos,"\x3c/td\x3e"),"point"!==b&&(n+="\x3ctd\x3e area \x3d ".concat(d[b][k].area,"%\x3c/td\x3e")),n+=
"\x3c/tr\x3e");g+=n;p++}return g}(z,this.ingredients.shapes),r!==y.summary.innerHTML&&(y.summary.innerHTML=r),w.listShapes!==y.list.innerHTML&&(y.list.innerHTML=w.listShapes),l!==y.shapeDetails.innerHTML&&(y.shapeDetails.innerHTML=l),this._accessibleOutputs[z]=y)};a=a.default;F.default=a},{"../core/main":283,"core-js/modules/es.array.concat":153}],267:[function(a,R,F){var z=(z=a("./core/main"))&&z.__esModule?z:{default:z};a("./core/constants");a("./core/environment");a("./core/friendly_errors/stacktrace");
a("./core/friendly_errors/validate_params");a("./core/friendly_errors/file_errors");a("./core/friendly_errors/fes_core");a("./core/friendly_errors/sketch_reader");a("./core/helpers");a("./core/legacy");a("./core/preload");a("./core/p5.Element");a("./core/p5.Graphics");a("./core/p5.Renderer");a("./core/p5.Renderer2D");a("./core/rendering");a("./core/shim");a("./core/structure");a("./core/transform");a("./core/shape/2d_primitives");a("./core/shape/attributes");a("./core/shape/curves");a("./core/shape/vertex");
a("./accessibility/outputs");a("./accessibility/textOutput");a("./accessibility/gridOutput");a("./accessibility/color_namer");a("./color/color_conversion");a("./color/creating_reading");a("./color/p5.Color");a("./color/setting");a("./data/p5.TypedDict");a("./data/local_storage.js");a("./dom/dom");a("./accessibility/describe");a("./events/acceleration");a("./events/keyboard");a("./events/mouse");a("./events/touch");a("./image/filters");a("./image/image");a("./image/loading_displaying");a("./image/p5.Image");
a("./image/pixels");a("./io/files");a("./io/p5.Table");a("./io/p5.TableRow");a("./io/p5.XML");a("./math/calculation");a("./math/math");a("./math/noise");a("./math/p5.Vector");a("./math/random");a("./math/trigonometry");a("./typography/attributes");a("./typography/loading_displaying");a("./typography/p5.Font");a("./utilities/array_functions");a("./utilities/conversion");a("./utilities/string_functions");a("./utilities/time_date");a("./webgl/3d_primitives");a("./webgl/interaction");a("./webgl/light");
a("./webgl/loading");a("./webgl/material");a("./webgl/p5.Camera");a("./webgl/p5.DataArray");a("./webgl/p5.Geometry");a("./webgl/p5.Matrix");a("./webgl/p5.Quat");a("./webgl/p5.RendererGL.Immediate");a("./webgl/p5.RendererGL");a("./webgl/p5.RendererGL.Retained");a("./webgl/p5.Framebuffer");a("./webgl/p5.Shader");a("./webgl/p5.RenderBuffer");a("./webgl/p5.Texture");a("./webgl/text");a("./core/init");R.exports=z.default},{"./accessibility/color_namer":262,"./accessibility/describe":263,"./accessibility/gridOutput":264,
"./accessibility/outputs":265,"./accessibility/textOutput":266,"./color/color_conversion":268,"./color/creating_reading":269,"./color/p5.Color":270,"./color/setting":271,"./core/constants":272,"./core/environment":273,"./core/friendly_errors/fes_core":274,"./core/friendly_errors/file_errors":275,"./core/friendly_errors/sketch_reader":276,"./core/friendly_errors/stacktrace":277,"./core/friendly_errors/validate_params":278,"./core/helpers":279,"./core/init":280,"./core/legacy":282,"./core/main":283,
"./core/p5.Element":284,"./core/p5.Graphics":285,"./core/p5.Renderer":286,"./core/p5.Renderer2D":287,"./core/preload":288,"./core/rendering":289,"./core/shape/2d_primitives":290,"./core/shape/attributes":291,"./core/shape/curves":292,"./core/shape/vertex":293,"./core/shim":294,"./core/structure":295,"./core/transform":296,"./data/local_storage.js":297,"./data/p5.TypedDict":298,"./dom/dom":299,"./events/acceleration":300,"./events/keyboard":301,"./events/mouse":302,"./events/touch":303,"./image/filters":304,
"./image/image":305,"./image/loading_displaying":306,"./image/p5.Image":307,"./image/pixels":308,"./io/files":309,"./io/p5.Table":310,"./io/p5.TableRow":311,"./io/p5.XML":312,"./math/calculation":313,"./math/math":314,"./math/noise":315,"./math/p5.Vector":316,"./math/random":317,"./math/trigonometry":318,"./typography/attributes":319,"./typography/loading_displaying":320,"./typography/p5.Font":321,"./utilities/array_functions":322,"./utilities/conversion":323,"./utilities/string_functions":324,"./utilities/time_date":325,
"./webgl/3d_primitives":326,"./webgl/interaction":328,"./webgl/light":329,"./webgl/loading":330,"./webgl/material":331,"./webgl/p5.Camera":332,"./webgl/p5.DataArray":333,"./webgl/p5.Framebuffer":334,"./webgl/p5.Geometry":335,"./webgl/p5.Matrix":336,"./webgl/p5.Quat":337,"./webgl/p5.RenderBuffer":338,"./webgl/p5.RendererGL":341,"./webgl/p5.RendererGL.Immediate":339,"./webgl/p5.RendererGL.Retained":340,"./webgl/p5.Shader":342,"./webgl/p5.Texture":343,"./webgl/text":344}],268:[function(a,R,F){Object.defineProperty(F,
"__esModule",{value:!0});F.default=void 0;a=(a=a("../core/main"))&&a.__esModule?a:{default:a};a.default.ColorConversion={_hsbaToHSLA:function(z){var y=z[0],w=z[1],r=z[2],l=(2-w)*r/2;return 0!=l&&(1==l?w=0:.5>l?w/=2-w:w=w*r/(2-2*l)),[y,w,l,z[3]]},_hsbaToRGBA:function(z){var y,w,r,l,h,d=6*z[0],b=z[1],g=z[2];return 0===b?[g,g,g,z[3]]:(w=g*(1-b),r=g*(1-b*(d-(y=Math.floor(d)))),b=g*(1-b*(1+y-d)),d=1===y?(l=r,h=g,w):2===y?(l=w,h=g,b):3===y?(l=w,h=r,g):4===y?(l=b,h=w,g):5===y?(l=g,h=w,r):(l=g,h=b,w),[l,
h,d,z[3]])},_hslaToHSBA:function(z){var y=z[1],w=z[2];y=.5>w?(1+y)*w:w+y-w*y;return[z[0],2*(y-w)/y,y,z[3]]},_hslaToRGBA:function(z){var y,w=6*z[0],r=z[1],l=z[2];return 0===r?[l,l,l,z[3]]:[(y=function(h,d,b){return 0>h?h+=6:6<=h&&(h-=6),1>h?d+(b-d)*h:3>h?b:4>h?d+(b-d)*(4-h):d})(2+w,r=2*l-(l=.5>l?(1+r)*l:l+r-l*r),l),y(w,r,l),y(w-2,r,l),z[3]]},_rgbaToHSBA:function(z){var y,w,r=z[0],l=z[1],h=z[2],d=Math.max(r,l,h),b=d-Math.min(r,l,h);return 0==b?w=y=0:(w=b/d,r===d?y=(l-h)/b:l===d?y=2+(h-r)/b:h===d&&(y=
4+(r-l)/b),0>y?y+=6:6<=y&&(y-=6)),[y/6,w,d,z[3]]},_rgbaToHSLA:function(z){var y,w,r=z[0],l=z[1],h=z[2],d=Math.max(r,l,h),b=Math.min(r,l,h),g=d+b;b=d-b;return 0==b?w=y=0:(w=1>g?b/g:b/(2-g),r===d?y=(l-h)/b:l===d?y=2+(h-r)/b:h===d&&(y=4+(r-l)/b),0>y?y+=6:6<=y&&(y-=6)),[y/6,w,g/2,z[3]]}};a=a.default.ColorConversion;F.default=a},{"../core/main":283}],269:[function(a,R,F){function z(d){return(z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(b){return typeof b}:function(b){return b&&
"function"==typeof Symbol&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":typeof b})(d)}function y(d){return(y="function"==typeof Symbol&&"symbol"===z(Symbol.iterator)?function(b){return z(b)}:function(b){return b&&"function"==typeof Symbol&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":z(b)})(d)}function w(){var d;return"function"!=typeof WeakMap?null:(d=new WeakMap,w=function(){return d},d)}a("core-js/modules/es.symbol");a("core-js/modules/es.symbol.description");a("core-js/modules/es.symbol.iterator");
a("core-js/modules/es.array.iterator");a("core-js/modules/es.array.map");a("core-js/modules/es.object.get-own-property-descriptor");a("core-js/modules/es.object.to-string");a("core-js/modules/es.string.iterator");a("core-js/modules/es.weak-map");a("core-js/modules/web.dom-collections.iterator");a("core-js/modules/es.array.map");Object.defineProperty(F,"__esModule",{value:!0});F.default=void 0;var r=(h=a("../core/main"))&&h.__esModule?h:{default:h},l=function(d){if(d&&d.__esModule)return d;if(null===
d||"object"!==y(d)&&"function"!=typeof d)return{default:d};var b=w();if(b&&b.has(d))return b.get(d);var g,p={},k=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(g in d){var n;Object.prototype.hasOwnProperty.call(d,g)&&((n=k?Object.getOwnPropertyDescriptor(d,g):null)&&(n.get||n.set)?Object.defineProperty(p,g,n):p[g]=d[g])}p.default=d;b&&b.set(d,p);return p}(a("../core/constants"));a("./p5.Color");a("../core/friendly_errors/validate_params");a("../core/friendly_errors/file_errors");a("../core/friendly_errors/fes_core");
r.default.prototype.alpha=function(d){return r.default._validateParameters("alpha",arguments),this.color(d)._getAlpha()};r.default.prototype.blue=function(d){return r.default._validateParameters("blue",arguments),this.color(d)._getBlue()};r.default.prototype.brightness=function(d){return r.default._validateParameters("brightness",arguments),this.color(d)._getBrightness()};r.default.prototype.color=function(){for(var d,b=arguments.length,g=Array(b),p=0;p<b;p++)g[p]=arguments[p];return r.default._validateParameters("color",
g),g[0]instanceof r.default.Color?g[0]:(d=Array.isArray(g[0])?g[0]:g,new r.default.Color(this,d))};r.default.prototype.green=function(d){return r.default._validateParameters("green",arguments),this.color(d)._getGreen()};r.default.prototype.hue=function(d){return r.default._validateParameters("hue",arguments),this.color(d)._getHue()};r.default.prototype.lerpColor=function(d,b,g){r.default._validateParameters("lerpColor",arguments);d instanceof r.default.Color||(d=color(d));b instanceof r.default.Color||
(b=color(b));var p,k=this._colorMode,n=this._colorMaxes;if(k===l.RGB){var q=d.levels.map(function(v){return v/255});var u=b.levels.map(function(v){return v/255})}else if(k===l.HSB)d._getBrightness(),b._getBrightness(),q=d.hsba,u=b.hsba;else{if(k!==l.HSL)throw Error("".concat(k," cannot be used for interpolation."));d._getLightness();b._getLightness();q=d.hsla;u=b.hsla}return g=Math.max(Math.min(g,1),0),void 0===this.lerp&&(this.lerp=function(v,x,C){return C*(x-v)+v}),k===l.RGB?p=this.lerp(q[0],u[0],
g):(.5<Math.abs(q[0]-u[0])&&(q[0]>u[0]?u[0]+=1:q[0]+=1),1<=(p=this.lerp(q[0],u[0],g))&&--p),d=this.lerp(q[1],u[1],g),b=this.lerp(q[2],u[2],g),q=this.lerp(q[3],u[3],g),p*=n[k][0],d*=n[k][1],b*=n[k][2],q*=n[k][3],this.color(p,d,b,q)};r.default.prototype.paletteLerp=function(d,b){var g=d[0];if(b<g[1])return this.color(g[0]);for(g=1;g<d.length;g++){var p,k=d[g];if(b<k[1])return p=d[g-1],this.lerpColor(this.color(p[0]),this.color(k[0]),(b-p[1])/(k[1]-p[1]))}return this.color(d[d.length-1][0])};r.default.prototype.lightness=
function(d){return r.default._validateParameters("lightness",arguments),this.color(d)._getLightness()};r.default.prototype.red=function(d){return r.default._validateParameters("red",arguments),this.color(d)._getRed()};r.default.prototype.saturation=function(d){return r.default._validateParameters("saturation",arguments),this.color(d)._getSaturation()};var h=r.default;F.default=h},{"../core/constants":272,"../core/friendly_errors/fes_core":274,"../core/friendly_errors/file_errors":275,"../core/friendly_errors/validate_params":278,
"../core/main":283,"./p5.Color":270,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.map":168,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],270:[function(a,R,F){function z(I){return(z=
"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(T){return typeof T}:function(T){return T&&"function"==typeof Symbol&&T.constructor===Symbol&&T!==Symbol.prototype?"symbol":typeof T})(I)}function y(I){return(y="function"==typeof Symbol&&"symbol"===z(Symbol.iterator)?function(T){return z(T)}:function(T){return T&&"function"==typeof Symbol&&T.constructor===Symbol&&T!==Symbol.prototype?"symbol":z(T)})(I)}function w(){var I;return"function"!=typeof WeakMap?null:(I=new WeakMap,w=function(){return I},
I)}function r(I){return I&&I.__esModule?I:{default:I}}function l(I,T){for(var Y=0;Y<T.length;Y++){var ea=T[Y];ea.enumerable=ea.enumerable||!1;ea.configurable=!0;"value"in ea&&(ea.writable=!0);Object.defineProperty(I,ea.key,ea)}}a("core-js/modules/es.symbol");a("core-js/modules/es.symbol.description");a("core-js/modules/es.symbol.iterator");a("core-js/modules/es.array.includes");a("core-js/modules/es.array.iterator");a("core-js/modules/es.array.join");a("core-js/modules/es.array.map");a("core-js/modules/es.array.slice");
a("core-js/modules/es.object.get-own-property-descriptor");a("core-js/modules/es.object.to-string");a("core-js/modules/es.regexp.constructor");a("core-js/modules/es.regexp.exec");a("core-js/modules/es.regexp.to-string");a("core-js/modules/es.string.includes");a("core-js/modules/es.string.iterator");a("core-js/modules/es.string.trim");a("core-js/modules/es.weak-map");a("core-js/modules/web.dom-collections.iterator");a("core-js/modules/es.array.includes");a("core-js/modules/es.array.join");a("core-js/modules/es.array.map");
a("core-js/modules/es.array.slice");a("core-js/modules/es.object.to-string");a("core-js/modules/es.regexp.constructor");a("core-js/modules/es.regexp.exec");a("core-js/modules/es.regexp.to-string");a("core-js/modules/es.string.includes");a("core-js/modules/es.string.trim");Object.defineProperty(F,"__esModule",{value:!0});F.default=void 0;R=r(a("../core/main"));var h=function(I){if(I&&I.__esModule)return I;if(null===I||"object"!==y(I)&&"function"!=typeof I)return{default:I};var T=w();if(T&&T.has(I))return T.get(I);
var Y,ea={},da=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(Y in I){var X;Object.prototype.hasOwnProperty.call(I,Y)&&((X=da?Object.getOwnPropertyDescriptor(I,Y):null)&&(X.get||X.set)?Object.defineProperty(ea,Y,X):ea[Y]=I[Y])}ea.default=I;T&&T.set(I,ea);return ea}(a("../core/constants")),d=r(a("./color_conversion")),b={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",
blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",
darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",
ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",
magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",
palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",
steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};a=/\s*/;var g=/(\d{1,3})/,p=/((?:\d+(?:\.\d+)?)|(?:\.\d+))/,k=new RegExp("".concat(p.source,"%")),n=/^#([a-f0-9])([a-f0-9])([a-f0-9])$/i,q=/^#([a-f0-9])([a-f0-9])([a-f0-9])([a-f0-9])$/i,u=/^#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})$/i,v=/^#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})$/i,
x=new RegExp(["^rgb\\(",g.source,",",g.source,",",g.source,"\\)$"].join(a.source),"i"),C=new RegExp(["^rgb\\(",k.source,",",k.source,",",k.source,"\\)$"].join(a.source),"i"),A=new RegExp(["^rgba\\(",g.source,",",g.source,",",g.source,",",p.source,"\\)$"].join(a.source),"i"),M=new RegExp(["^rgba\\(",k.source,",",k.source,",",k.source,",",p.source,"\\)$"].join(a.source),"i"),K=new RegExp(["^hsl\\(",g.source,",",k.source,",",k.source,"\\)$"].join(a.source),"i"),G=new RegExp(["^hsla\\(",g.source,",",
k.source,",",k.source,",",p.source,"\\)$"].join(a.source),"i"),U=new RegExp(["^hsb\\(",g.source,",",k.source,",",k.source,"\\)$"].join(a.source),"i"),J=new RegExp(["^hsba\\(",g.source,",",k.source,",",k.source,",",p.source,"\\)$"].join(a.source),"i");g=(R.default.Color=function(){function I(ea,da){if(!(this instanceof I))throw new TypeError("Cannot call a class as a function");if(this._storeModeAndMaxes(ea._colorMode,ea._colorMaxes),![h.RGB,h.HSL,h.HSB].includes(this.mode))throw Error("".concat(this.mode,
" is an invalid colorMode."));this._array=I._parseInputs.apply(this,da);this._calculateLevels()}var T,Y;return Y=[{key:"_parseInputs",value:function(ea,da,X,Z){var L=arguments.length;var S=this.mode,E=this.maxes[S],P=[];if(3<=L){P[0]=ea/E[0];P[1]=da/E[1];P[2]=X/E[2];P[3]="number"==typeof Z?Z/E[3]:1;for(L=P.length-1;0<=L;--L)E=P[L],0>E?P[L]=0:1<E&&(P[L]=1);return S===h.HSL?d.default._hslaToRGBA(P):S===h.HSB?d.default._hsbaToRGBA(P):P}if(1===L&&"string"==typeof ea){X=ea.trim().toLowerCase();if(b[X])return I._parseInputs.call(this,
b[X]);if(n.test(X))return(P=n.exec(X).slice(1).map(function(aa){return parseInt(aa+aa,16)/255}))[3]=1,P;if(u.test(X))return(P=u.exec(X).slice(1).map(function(aa){return parseInt(aa,16)/255}))[3]=1,P;if(q.test(X))return P=q.exec(X).slice(1).map(function(aa){return parseInt(aa+aa,16)/255});if(v.test(X))return P=v.exec(X).slice(1).map(function(aa){return parseInt(aa,16)/255});if(x.test(X))return(P=x.exec(X).slice(1).map(function(aa){return aa/255}))[3]=1,P;if(C.test(X))return(P=C.exec(X).slice(1).map(function(aa){return parseFloat(aa)/
100}))[3]=1,P;if(A.test(X))return P=A.exec(X).slice(1).map(function(aa,ja){return 3===ja?parseFloat(aa):aa/255});if(M.test(X))return P=M.exec(X).slice(1).map(function(aa,ja){return 3===ja?parseFloat(aa):parseFloat(aa)/100});if(K.test(X)?(P=K.exec(X).slice(1).map(function(aa,ja){return 0===ja?parseInt(aa,10)/360:parseInt(aa,10)/100}))[3]=1:G.test(X)&&(P=G.exec(X).slice(1).map(function(aa,ja){return 0===ja?parseInt(aa,10)/360:3===ja?parseFloat(aa):parseInt(aa,10)/100})),(P=P.map(function(aa){return Math.max(Math.min(aa,
1),0)})).length)return d.default._hslaToRGBA(P);if(U.test(X)?(P=U.exec(X).slice(1).map(function(aa,ja){return 0===ja?parseInt(aa,10)/360:parseInt(aa,10)/100}))[3]=1:J.test(X)&&(P=J.exec(X).slice(1).map(function(aa,ja){return 0===ja?parseInt(aa,10)/360:3===ja?parseFloat(aa):parseInt(aa,10)/100})),P.length){for(L=P.length-1;0<=L;--L)P[L]=Math.max(Math.min(P[L],1),0);return d.default._hsbaToRGBA(P)}P=[1,1,1,1]}else{if(1!==L&&2!==L||"number"!=typeof ea)throw Error("".concat(arguments,"is not a valid color representation."));
P[0]=ea/E[2];P[1]=ea/E[2];P[2]=ea/E[2];P[3]="number"==typeof da?da/E[3]:1;P=P.map(function(aa){return Math.max(Math.min(aa,1),0)})}return P}}],T=[{key:"toString",value:function(ea){var da=this.levels,X=this._array,Z=X[3];switch(ea){case "#rrggbb":return"#".concat(16>da[0]?"0".concat(da[0].toString(16)):da[0].toString(16),16>da[1]?"0".concat(da[1].toString(16)):da[1].toString(16),16>da[2]?"0".concat(da[2].toString(16)):da[2].toString(16));case "#rrggbbaa":return"#".concat(16>da[0]?"0".concat(da[0].toString(16)):
da[0].toString(16),16>da[1]?"0".concat(da[1].toString(16)):da[1].toString(16),16>da[2]?"0".concat(da[2].toString(16)):da[2].toString(16),16>da[3]?"0".concat(da[3].toString(16)):da[3].toString(16));case "#rgb":return"#".concat(Math.round(15*X[0]).toString(16),Math.round(15*X[1]).toString(16),Math.round(15*X[2]).toString(16));case "#rgba":return"#".concat(Math.round(15*X[0]).toString(16),Math.round(15*X[1]).toString(16),Math.round(15*X[2]).toString(16),Math.round(15*X[3]).toString(16));case "rgb":return"rgb(".concat(da[0],
", ",da[1],", ",da[2],")");case "rgb%":return"rgb(".concat((100*X[0]).toPrecision(3),"%, ",(100*X[1]).toPrecision(3),"%, ",(100*X[2]).toPrecision(3),"%)");case "rgba%":return"rgba(".concat((100*X[0]).toPrecision(3),"%, ",(100*X[1]).toPrecision(3),"%, ",(100*X[2]).toPrecision(3),"%, ",(100*X[3]).toPrecision(3),"%)");case "hsb":case "hsv":return this.hsba||(this.hsba=d.default._rgbaToHSBA(this._array)),"hsb(".concat(this.hsba[0]*this.maxes[h.HSB][0],", ",this.hsba[1]*this.maxes[h.HSB][1],", ",this.hsba[2]*
this.maxes[h.HSB][2],")");case "hsb%":case "hsv%":return this.hsba||(this.hsba=d.default._rgbaToHSBA(this._array)),"hsb(".concat((100*this.hsba[0]).toPrecision(3),"%, ",(100*this.hsba[1]).toPrecision(3),"%, ",(100*this.hsba[2]).toPrecision(3),"%)");case "hsba":case "hsva":return this.hsba||(this.hsba=d.default._rgbaToHSBA(this._array)),"hsba(".concat(this.hsba[0]*this.maxes[h.HSB][0],", ",this.hsba[1]*this.maxes[h.HSB][1],", ",this.hsba[2]*this.maxes[h.HSB][2],", ",Z,")");case "hsba%":case "hsva%":return this.hsba||
(this.hsba=d.default._rgbaToHSBA(this._array)),"hsba(".concat((100*this.hsba[0]).toPrecision(3),"%, ",(100*this.hsba[1]).toPrecision(3),"%, ",(100*this.hsba[2]).toPrecision(3),"%, ",(100*Z).toPrecision(3),"%)");case "hsl":return this.hsla||(this.hsla=d.default._rgbaToHSLA(this._array)),"hsl(".concat(this.hsla[0]*this.maxes[h.HSL][0],", ",this.hsla[1]*this.maxes[h.HSL][1],", ",this.hsla[2]*this.maxes[h.HSL][2],")");case "hsl%":return this.hsla||(this.hsla=d.default._rgbaToHSLA(this._array)),"hsl(".concat((100*
this.hsla[0]).toPrecision(3),"%, ",(100*this.hsla[1]).toPrecision(3),"%, ",(100*this.hsla[2]).toPrecision(3),"%)");case "hsla":return this.hsla||(this.hsla=d.default._rgbaToHSLA(this._array)),"hsla(".concat(this.hsla[0]*this.maxes[h.HSL][0],", ",this.hsla[1]*this.maxes[h.HSL][1],", ",this.hsla[2]*this.maxes[h.HSL][2],", ",Z,")");case "hsla%":return this.hsla||(this.hsla=d.default._rgbaToHSLA(this._array)),"hsl(".concat((100*this.hsla[0]).toPrecision(3),"%, ",(100*this.hsla[1]).toPrecision(3),"%, ",
(100*this.hsla[2]).toPrecision(3),"%, ",(100*Z).toPrecision(3),"%)");default:return"rgba(".concat(da[0],",",da[1],",",da[2],",",Z,")")}}},{key:"setRed",value:function(ea){this._array[0]=ea/this.maxes[h.RGB][0];this._calculateLevels()}},{key:"setGreen",value:function(ea){this._array[1]=ea/this.maxes[h.RGB][1];this._calculateLevels()}},{key:"setBlue",value:function(ea){this._array[2]=ea/this.maxes[h.RGB][2];this._calculateLevels()}},{key:"setAlpha",value:function(ea){this._array[3]=ea/this.maxes[this.mode][3];
this._calculateLevels()}},{key:"_calculateLevels",value:function(){for(var ea=this._array,da=this.levels=Array(ea.length),X=ea.length-1;0<=X;--X)da[X]=Math.round(255*ea[X]);this.hsba=this.hsla=null}},{key:"_getAlpha",value:function(){return this._array[3]*this.maxes[this.mode][3]}},{key:"_storeModeAndMaxes",value:function(ea,da){this.mode=ea;this.maxes=da}},{key:"_getMode",value:function(){return this.mode}},{key:"_getMaxes",value:function(){return this.maxes}},{key:"_getBlue",value:function(){return this._array[2]*
this.maxes[h.RGB][2]}},{key:"_getBrightness",value:function(){return this.hsba||(this.hsba=d.default._rgbaToHSBA(this._array)),this.hsba[2]*this.maxes[h.HSB][2]}},{key:"_getGreen",value:function(){return this._array[1]*this.maxes[h.RGB][1]}},{key:"_getHue",value:function(){return this.mode===h.HSB?(this.hsba||(this.hsba=d.default._rgbaToHSBA(this._array)),this.hsba[0]*this.maxes[h.HSB][0]):(this.hsla||(this.hsla=d.default._rgbaToHSLA(this._array)),this.hsla[0]*this.maxes[h.HSL][0])}},{key:"_getLightness",
value:function(){return this.hsla||(this.hsla=d.default._rgbaToHSLA(this._array)),this.hsla[2]*this.maxes[h.HSL][2]}},{key:"_getRed",value:function(){return this._array[0]*this.maxes[h.RGB][0]}},{key:"_getSaturation",value:function(){return this.mode===h.HSB?(this.hsba||(this.hsba=d.default._rgbaToHSBA(this._array)),this.hsba[1]*this.maxes[h.HSB][1]):(this.hsla||(this.hsla=d.default._rgbaToHSLA(this._array)),this.hsla[1]*this.maxes[h.HSL][1])}}],l(I.prototype,T),Y&&l(I,Y),I}(),R.default.Color);F.default=
g},{"../core/constants":272,"../core/main":283,"./color_conversion":268,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.join":166,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.constructor":194,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.includes":199,
"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.trim":209,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],271:[function(a,R,F){function z(d){return(z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(b){return typeof b}:function(b){return b&&"function"==typeof Symbol&&b.constructor===Symbol&&b!==Symbol.prototype?
"symbol":typeof b})(d)}function y(d){return(y="function"==typeof Symbol&&"symbol"===z(Symbol.iterator)?function(b){return z(b)}:function(b){return b&&"function"==typeof Symbol&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":z(b)})(d)}function w(){var d;return"function"!=typeof WeakMap?null:(d=new WeakMap,w=function(){return d},d)}a("core-js/modules/es.symbol");a("core-js/modules/es.symbol.description");a("core-js/modules/es.symbol.iterator");a("core-js/modules/es.array.fill");a("core-js/modules/es.array.iterator");
a("core-js/modules/es.object.get-own-property-descriptor");a("core-js/modules/es.object.to-string");a("core-js/modules/es.string.iterator");a("core-js/modules/es.weak-map");a("core-js/modules/web.dom-collections.iterator");a("core-js/modules/es.array.fill");Object.defineProperty(F,"__esModule",{value:!0});F.default=void 0;var r=(h=a("../core/main"))&&h.__esModule?h:{default:h},l=function(d){if(d&&d.__esModule)return d;if(null===d||"object"!==y(d)&&"function"!=typeof d)return{default:d};var b=w();
if(b&&b.has(d))return b.get(d);var g,p={},k=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(g in d){var n;Object.prototype.hasOwnProperty.call(d,g)&&((n=k?Object.getOwnPropertyDescriptor(d,g):null)&&(n.get||n.set)?Object.defineProperty(p,g,n):p[g]=d[g])}p.default=d;b&&b.set(d,p);return p}(a("../core/constants"));a("./p5.Color");r.default.prototype.beginClip=function(){this._renderer.beginClip(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{})};r.default.prototype.endClip=function(){this._renderer.endClip()};
r.default.prototype.clip=function(d,b){this._renderer.beginClip(b);d();this._renderer.endClip(b)};r.default.prototype.background=function(){var d;return(d=this._renderer).background.apply(d,arguments),this};r.default.prototype.clear=function(){return this._renderer.clear((0>=arguments.length?void 0:arguments[0])||0,(1>=arguments.length?void 0:arguments[1])||0,(2>=arguments.length?void 0:arguments[2])||0,(3>=arguments.length?void 0:arguments[3])||0),this};r.default.prototype.colorMode=function(d,b,
g,p,k){return r.default._validateParameters("colorMode",arguments),d!==l.RGB&&d!==l.HSB&&d!==l.HSL||(this._colorMode=d,d=this._colorMaxes[d],2===arguments.length?(d[0]=b,d[1]=b,d[2]=b,d[3]=b):4===arguments.length?(d[0]=b,d[1]=g,d[2]=p):5===arguments.length&&(d[0]=b,d[1]=g,d[2]=p,d[3]=k)),this};r.default.prototype.fill=function(){var d;return this._renderer._setProperty("_fillSet",!0),this._renderer._setProperty("_doFill",!0),(d=this._renderer).fill.apply(d,arguments),this};r.default.prototype.noFill=
function(){return this._renderer._setProperty("_doFill",!1),this};r.default.prototype.noStroke=function(){return this._renderer._setProperty("_doStroke",!1),this};r.default.prototype.stroke=function(){var d;return this._renderer._setProperty("_strokeSet",!0),this._renderer._setProperty("_doStroke",!0),(d=this._renderer).stroke.apply(d,arguments),this};r.default.prototype.erase=function(){return this._renderer.erase(0<arguments.length&&void 0!==arguments[0]?arguments[0]:255,1<arguments.length&&void 0!==
arguments[1]?arguments[1]:255),this};r.default.prototype.noErase=function(){return this._renderer.noErase(),this};var h=r.default;F.default=h},{"../core/constants":272,"../core/main":283,"./p5.Color":270,"core-js/modules/es.array.fill":156,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,
"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],272:[function(a,R,F){Object.defineProperty(F,"__esModule",{value:!0});F.QUADRATIC=F.LINEAR=F._CTX_MIDDLE=F._DEFAULT_LEADMULT=F._DEFAULT_TEXT_FILL=F.WORD=F.CHAR=F.BOLDITALIC=F.BOLD=F.ITALIC=F.NORMAL=F.BLUR=F.ERODE=F.DILATE=F.POSTERIZE=F.INVERT=F.OPAQUE=F.GRAY=F.THRESHOLD=F.BURN=F.DODGE=F.SOFT_LIGHT=F.HARD_LIGHT=F.OVERLAY=F.REPLACE=F.SCREEN=F.MULTIPLY=F.EXCLUSION=F.SUBTRACT=F.DIFFERENCE=F.LIGHTEST=F.DARKEST=F.ADD=
F.REMOVE=F.BLEND=F.UP_ARROW=F.TAB=F.SHIFT=F.RIGHT_ARROW=F.RETURN=F.OPTION=F.LEFT_ARROW=F.ESCAPE=F.ENTER=F.DOWN_ARROW=F.DELETE=F.CONTROL=F.BACKSPACE=F.ALT=F.AUTO=F.HSL=F.HSB=F.RGB=F.MITER=F.BEVEL=F.ROUND=F.SQUARE=F.PROJECT=F.PIE=F.CHORD=F.OPEN=F.CLOSE=F.TESS=F.QUAD_STRIP=F.QUADS=F.TRIANGLE_STRIP=F.TRIANGLE_FAN=F.TRIANGLES=F.LINE_LOOP=F.LINE_STRIP=F.LINES=F.POINTS=F.BASELINE=F.BOTTOM=F.TOP=F.CENTER=F.LEFT=F.RIGHT=F.RADIUS=F.CORNERS=F.CORNER=F.RAD_TO_DEG=F.DEG_TO_RAD=F.RADIANS=F.DEGREES=F.TWO_PI=F.TAU=
F.QUARTER_PI=F.PI=F.HALF_PI=F.WAIT=F.TEXT=F.MOVE=F.HAND=F.CROSS=F.ARROW=F.WEBGL2=F.WEBGL=F.P2D=F.VERSION=void 0;F.RGBA=F.HALF_FLOAT=F.FLOAT=F.UNSIGNED_INT=F.UNSIGNED_BYTE=F.COVER=F.CONTAIN=F.FALLBACK=F.LABEL=F.AXES=F.GRID=F._DEFAULT_FILL=F._DEFAULT_STROKE=F.PORTRAIT=F.LANDSCAPE=F.SMOOTH=F.FLAT=F.MIRROR=F.CLAMP=F.REPEAT=F.NEAREST=F.IMAGE=F.IMMEDIATE=F.TEXTURE=F.FILL=F.STROKE=F.CURVE=F.BEZIER=void 0;a=Math.PI;R=(F.VERSION="1.11.3",F.P2D="p2d",F.WEBGL="webgl",F.WEBGL2="webgl2",F.ARROW="default",F.CROSS=
"crosshair",F.HAND="pointer",F.MOVE="move",F.TEXT="text",F.WAIT="wait",a/2);R=(F.HALF_PI=R,a);R=(F.PI=R,a/4);R=(F.QUARTER_PI=R,2*a);R=(F.TAU=R,2*a);R=(F.TWO_PI=R,F.DEGREES="degrees",F.RADIANS="radians",a/180);R=(F.DEG_TO_RAD=R,180/a);F.RAD_TO_DEG=R;F.CORNER="corner";F.CORNERS="corners";F.RADIUS="radius";F.RIGHT="right";F.LEFT="left";F.CENTER="center";F.TOP="top";F.BOTTOM="bottom";F.BASELINE="alphabetic";F.POINTS=0;F.LINES=1;F.LINE_STRIP=3;F.LINE_LOOP=2;F.TRIANGLES=4;F.TRIANGLE_FAN=6;F.TRIANGLE_STRIP=
5;F.QUADS="quads";F.QUAD_STRIP="quad_strip";F.TESS="tess";F.CLOSE="close";F.OPEN="open";F.CHORD="chord";F.PIE="pie";F.PROJECT="square";F.SQUARE="butt";F.ROUND="round";F.BEVEL="bevel";F.MITER="miter";F.RGB="rgb";F.HSB="hsb";F.HSL="hsl";F.AUTO="auto";F.ALT=18;F.BACKSPACE=8;F.CONTROL=17;F.DELETE=46;F.DOWN_ARROW=40;F.ENTER=13;F.ESCAPE=27;F.LEFT_ARROW=37;F.OPTION=18;F.RETURN=13;F.RIGHT_ARROW=39;F.SHIFT=16;F.TAB=9;F.UP_ARROW=38;F.BLEND="source-over";F.REMOVE="destination-out";F.ADD="lighter";F.DARKEST=
"darken";F.LIGHTEST="lighten";F.DIFFERENCE="difference";F.SUBTRACT="subtract";F.EXCLUSION="exclusion";F.MULTIPLY="multiply";F.SCREEN="screen";F.REPLACE="copy";F.OVERLAY="overlay";F.HARD_LIGHT="hard-light";F.SOFT_LIGHT="soft-light";F.DODGE="color-dodge";F.BURN="color-burn";F.THRESHOLD="threshold";F.GRAY="gray";F.OPAQUE="opaque";F.INVERT="invert";F.POSTERIZE="posterize";F.DILATE="dilate";F.ERODE="erode";F.BLUR="blur";F.NORMAL="normal";F.ITALIC="italic";F.BOLD="bold";F.BOLDITALIC="bold italic";F.CHAR=
"CHAR";F.WORD="WORD";F._DEFAULT_TEXT_FILL="#000000";F._DEFAULT_LEADMULT=1.25;F._CTX_MIDDLE="middle";F.LINEAR="linear";F.QUADRATIC="quadratic";F.BEZIER="bezier";F.CURVE="curve";F.STROKE="stroke";F.FILL="fill";F.TEXTURE="texture";F.IMMEDIATE="immediate";F.IMAGE="image";F.NEAREST="nearest";F.REPEAT="repeat";F.CLAMP="clamp";F.MIRROR="mirror";F.FLAT="flat";F.SMOOTH="smooth";F.LANDSCAPE="landscape";F.PORTRAIT="portrait";F._DEFAULT_STROKE="#000000";F._DEFAULT_FILL="#FFFFFF";F.GRID="grid";F.AXES="axes";F.LABEL=
"label";F.FALLBACK="fallback";F.CONTAIN="contain";F.COVER="cover";F.UNSIGNED_BYTE="unsigned-byte";F.UNSIGNED_INT="unsigned-int";F.FLOAT="float";F.HALF_FLOAT="half-float";F.RGBA="rgba"},{}],273:[function(a,R,F){function z(k){return(z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(k)}function y(k){return(y="function"==typeof Symbol&&"symbol"===z(Symbol.iterator)?
function(n){return z(n)}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":z(n)})(k)}function w(){var k;return"function"!=typeof WeakMap?null:(k=new WeakMap,w=function(){return k},k)}function r(){return window.innerWidth||document.documentElement&&document.documentElement.clientWidth||document.body&&document.body.clientWidth||0}function l(){return window.innerHeight||document.documentElement&&document.documentElement.clientHeight||document.body&&
document.body.clientHeight||0}a("core-js/modules/es.symbol");a("core-js/modules/es.symbol.description");a("core-js/modules/es.symbol.iterator");a("core-js/modules/es.array.concat");a("core-js/modules/es.array.filter");a("core-js/modules/es.array.includes");a("core-js/modules/es.array.iterator");a("core-js/modules/es.object.get-own-property-descriptor");a("core-js/modules/es.object.to-string");a("core-js/modules/es.regexp.exec");a("core-js/modules/es.string.includes");a("core-js/modules/es.string.iterator");
a("core-js/modules/es.string.search");a("core-js/modules/es.string.split");a("core-js/modules/es.weak-map");a("core-js/modules/web.dom-collections.iterator");a("core-js/modules/es.array.concat");a("core-js/modules/es.array.filter");a("core-js/modules/es.array.includes");a("core-js/modules/es.regexp.exec");a("core-js/modules/es.string.includes");a("core-js/modules/es.string.search");a("core-js/modules/es.string.split");Object.defineProperty(F,"__esModule",{value:!0});F.default=void 0;var h=(d=a("./main"))&&
d.__esModule?d:{default:d},d=function(k){if(k&&k.__esModule)return k;if(null===k||"object"!==y(k)&&"function"!=typeof k)return{default:k};var n=w();if(n&&n.has(k))return n.get(k);var q,u={},v=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(q in k){var x;Object.prototype.hasOwnProperty.call(k,q)&&((x=v?Object.getOwnPropertyDescriptor(k,q):null)&&(x.get||x.set)?Object.defineProperty(u,q,x):u[q]=k[q])}u.default=k;n&&n.set(k,u);return u}(a("./constants")),b=[d.ARROW,d.CROSS,d.HAND,d.MOVE,d.TEXT,
d.WAIT],g=(h.default.prototype._frameRate=0,h.default.prototype._lastFrameTime=window.performance.now(),h.default.prototype._targetFrameRate=60,window.print),p=!1;h.default.prototype.print=function(){var k;arguments.length?(k=console).log.apply(k,arguments):p||(g(),window.confirm("You just tried to print the webpage. Do you want to prevent this from running again?")&&(p=!0))};h.default.prototype.frameCount=0;h.default.prototype.deltaTime=0;h.default.prototype.focused=document.hasFocus();h.default.prototype.cursor=
function(k,n,q){var u,v="auto",x=this._curElement.elt;b.includes(k)?v=k:"string"==typeof k&&(u="",n&&q&&"number"==typeof n&&"number"==typeof q&&(u="".concat(n," ").concat(q)),v="http://"===k.substring(0,7)||"https://"===k.substring(0,8)||/\.(cur|jpg|jpeg|gif|png|CUR|JPG|JPEG|GIF|PNG)$/.test(k)?"url(".concat(k,") ").concat(u,", auto"):k);x.style.cursor=v};h.default.prototype.frameRate=function(k){return h.default._validateParameters("frameRate",arguments),"number"!=typeof k||0>k?this._frameRate:(this._setProperty("_targetFrameRate",
k),0===k&&this._setProperty("_frameRate",k),this)};h.default.prototype.getFrameRate=function(){return this.frameRate()};h.default.prototype.setFrameRate=function(k){return this.frameRate(k)};h.default.prototype.getTargetFrameRate=function(){return this._targetFrameRate};h.default.prototype.noCursor=function(){this._curElement.elt.style.cursor="none"};h.default.prototype.webglVersion=d.P2D;h.default.prototype.displayWidth=screen.width;h.default.prototype.displayHeight=screen.height;h.default.prototype.windowWidth=
0;h.default.prototype.windowHeight=0;h.default.prototype._onresize=function(k){this._setProperty("windowWidth",r());this._setProperty("windowHeight",l());var n=this._isGlobal?window:this;"function"!=typeof n.windowResized||void 0===(n=n.windowResized(k))||n||k.preventDefault()};h.default.prototype._updateWindowSize=function(){this._setProperty("windowWidth",r());this._setProperty("windowHeight",l())};h.default.prototype.width=0;h.default.prototype.height=0;h.default.prototype.fullscreen=function(k){if(h.default._validateParameters("fullscreen",
arguments),void 0===k)return document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement;if(k){k=document.documentElement;if(!(document.fullscreenEnabled||document.webkitFullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled))throw Error("Fullscreen not enabled in this browser.");k.requestFullscreen?k.requestFullscreen():k.mozRequestFullScreen?k.mozRequestFullScreen():k.webkitRequestFullscreen?k.webkitRequestFullscreen():
k.msRequestFullscreen&&k.msRequestFullscreen()}else document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.msExitFullscreen&&document.msExitFullscreen()};h.default.prototype.pixelDensity=function(k){var n;return h.default._validateParameters("pixelDensity",arguments),"number"==typeof k?(k!==this._pixelDensity&&(this._pixelDensity=this._maxAllowedPixelDimensions=k),(n=this).resizeCanvas(this.width,
this.height,!0)):n=this._pixelDensity,n};h.default.prototype.displayDensity=function(){return window.devicePixelRatio};h.default.prototype.getURL=function(){return location.href};h.default.prototype.getURLPath=function(){return location.pathname.split("/").filter(function(k){return""!==k})};h.default.prototype.getURLParams=function(){for(var k,n=/[?&]([^&=]+)(?:[&=])([^&=]+)/gim,q={};null!=(k=n.exec(location.search));)k.index===n.lastIndex&&n.lastIndex++,q[k[1]]=k[2];return q};a=h.default;F.default=
a},{"./constants":272,"./main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.filter":157,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.string.includes":199,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.search":205,"core-js/modules/es.string.split":206,"core-js/modules/es.symbol":212,
"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],274:[function(a,R,F){function z(d,b){b=b||console.log.bind(console);w||r();w.some(function(g){var p;if(d.message&&null!==d.message.match("\\W?".concat(g.name,"\\W")))return p="function"===g.type?"".concat(g.name,"()"):g.name,b("Did you just try to use p5.js's ".concat(p," ").concat(g.type,"? If so, you may want to move it into your sketch's setup() function.\n\nFor more details, see: ").concat(l)),
!0})}a("core-js/modules/es.symbol");a("core-js/modules/es.symbol.description");a("core-js/modules/es.symbol.iterator");a("core-js/modules/es.array.concat");a("core-js/modules/es.array.filter");a("core-js/modules/es.array.for-each");a("core-js/modules/es.array.includes");a("core-js/modules/es.array.iterator");a("core-js/modules/es.array.join");a("core-js/modules/es.array.map");a("core-js/modules/es.array.slice");a("core-js/modules/es.array.some");a("core-js/modules/es.function.name");a("core-js/modules/es.object.assign");
a("core-js/modules/es.object.get-own-property-names");a("core-js/modules/es.object.keys");a("core-js/modules/es.object.to-string");a("core-js/modules/es.regexp.constructor");a("core-js/modules/es.regexp.exec");a("core-js/modules/es.regexp.to-string");a("core-js/modules/es.string.iterator");a("core-js/modules/es.string.match");a("core-js/modules/es.string.replace");a("core-js/modules/es.string.split");a("core-js/modules/es.string.starts-with");a("core-js/modules/web.dom-collections.for-each");a("core-js/modules/web.dom-collections.iterator");
a("core-js/modules/es.symbol");a("core-js/modules/es.symbol.description");a("core-js/modules/es.symbol.iterator");a("core-js/modules/es.array.concat");a("core-js/modules/es.array.filter");a("core-js/modules/es.array.for-each");a("core-js/modules/es.array.includes");a("core-js/modules/es.array.iterator");a("core-js/modules/es.array.join");a("core-js/modules/es.array.map");a("core-js/modules/es.array.slice");a("core-js/modules/es.array.some");a("core-js/modules/es.function.name");a("core-js/modules/es.object.assign");
a("core-js/modules/es.object.get-own-property-names");a("core-js/modules/es.object.keys");a("core-js/modules/es.object.to-string");a("core-js/modules/es.regexp.constructor");a("core-js/modules/es.regexp.exec");a("core-js/modules/es.regexp.to-string");a("core-js/modules/es.string.iterator");a("core-js/modules/es.string.match");a("core-js/modules/es.string.replace");a("core-js/modules/es.string.split");a("core-js/modules/es.string.starts-with");a("core-js/modules/web.dom-collections.for-each");a("core-js/modules/web.dom-collections.iterator");
Object.defineProperty(F,"__esModule",{value:!0});F.default=void 0;var y=(h=a("../main"))&&h.__esModule?h:{default:h};a("../internationalization");var w=null,r=null,l=(y.default._friendlyError=y.default._checkForUserDefinedFunctions=y.default._fesErrorMonitor=function(){},w=null,"https://github.com/processing/p5.js/wiki/p5.js-overview#why-cant-i-assign-variables-using-p5-functions-and-variables-before-setup");r=function(){function d(g){return Object.getOwnPropertyNames(g).filter(function(p){return"_"!==
p[0]&&!(p in b)&&(b[p]=!0)}).map(function(p){var k="function"==typeof g[p]?"function":p===p.toUpperCase()?"constant":"variable";return{name:p,type:k}})}var b={};(w=[].concat(d(y.default.prototype),d(a("../constants")))).sort(function(g,p){return p.name.length-g.name.length})};var h=(y.default.prototype._helpForMisusedAtTopLevelCode=z,"complete"!==document.readyState&&(window.addEventListener("error",z,!1),window.addEventListener("load",function(){window.removeEventListener("error",z,!1)})),y.default);
F.default=h},{"../constants":272,"../internationalization":281,"../main":283,"./browser_errors":void 0,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.filter":157,"core-js/modules/es.array.for-each":161,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.join":166,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.array.some":170,"core-js/modules/es.function.name":174,"core-js/modules/es.object.assign":183,
"core-js/modules/es.object.get-own-property-names":187,"core-js/modules/es.object.keys":189,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.constructor":194,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.match":201,"core-js/modules/es.string.replace":204,"core-js/modules/es.string.split":206,"core-js/modules/es.string.starts-with":207,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,
"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.for-each":245,"core-js/modules/web.dom-collections.iterator":246}],275:[function(a,R,F){Object.defineProperty(F,"__esModule",{value:!0});F.default=void 0;var z=(z=a("../main"))&&z.__esModule?z:{default:z};a("../internationalization");z.default._friendlyFileLoadError=function(){};a=z.default;F.default=a},{"../internationalization":281,"../main":283}],276:[function(a,R,F){function z(r){return(z="function"==typeof Symbol&&
"symbol"==typeof Symbol.iterator?function(l){return typeof l}:function(l){return l&&"function"==typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l})(r)}function y(r){return(y="function"==typeof Symbol&&"symbol"===z(Symbol.iterator)?function(l){return z(l)}:function(l){return l&&"function"==typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":z(l)})(r)}function w(){var r;return"function"!=typeof WeakMap?null:(r=new WeakMap,w=function(){return r},r)}a("core-js/modules/es.symbol");
a("core-js/modules/es.symbol.description");a("core-js/modules/es.symbol.iterator");a("core-js/modules/es.array.filter");a("core-js/modules/es.array.for-each");a("core-js/modules/es.array.from");a("core-js/modules/es.array.includes");a("core-js/modules/es.array.index-of");a("core-js/modules/es.array.iterator");a("core-js/modules/es.array.join");a("core-js/modules/es.array.map");a("core-js/modules/es.array.slice");a("core-js/modules/es.object.get-own-property-descriptor");a("core-js/modules/es.object.keys");
a("core-js/modules/es.object.to-string");a("core-js/modules/es.regexp.constructor");a("core-js/modules/es.regexp.exec");a("core-js/modules/es.regexp.to-string");a("core-js/modules/es.string.includes");a("core-js/modules/es.string.iterator");a("core-js/modules/es.string.match");a("core-js/modules/es.string.split");a("core-js/modules/es.string.trim");a("core-js/modules/es.weak-map");a("core-js/modules/web.dom-collections.for-each");a("core-js/modules/web.dom-collections.iterator");a("core-js/modules/es.array.filter");
a("core-js/modules/es.array.for-each");a("core-js/modules/es.array.includes");a("core-js/modules/es.array.index-of");a("core-js/modules/es.array.join");a("core-js/modules/es.array.map");a("core-js/modules/es.array.slice");a("core-js/modules/es.object.keys");a("core-js/modules/es.regexp.constructor");a("core-js/modules/es.regexp.exec");a("core-js/modules/es.regexp.to-string");a("core-js/modules/es.string.includes");a("core-js/modules/es.string.match");a("core-js/modules/es.string.split");a("core-js/modules/es.string.trim");
a("core-js/modules/web.dom-collections.for-each");Object.defineProperty(F,"__esModule",{value:!0});F.default=void 0;R=function(r){return r&&r.__esModule?r:{default:r}}(a("../main"));a("../internationalization");(function(r){if(r&&r.__esModule)return r;if(null===r||"object"!==y(r)&&"function"!=typeof r)return{default:r};var l=w();if(l&&l.has(r))return l.get(r);var h,d,b={},g=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(h in r)Object.prototype.hasOwnProperty.call(r,h)&&((d=g?Object.getOwnPropertyDescriptor(r,
h):null)&&(d.get||d.set)?Object.defineProperty(b,h,d):b[h]=r[h]);return b.default=r,l&&l.set(r,b),b})(a("../constants"));R.default._fesCodeReader=function(){};F.default=R.default},{"../constants":272,"../internationalization":281,"../main":283,"core-js/modules/es.array.filter":157,"core-js/modules/es.array.for-each":161,"core-js/modules/es.array.from":162,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.join":166,
"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.keys":189,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.constructor":194,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.includes":199,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.match":201,"core-js/modules/es.string.split":206,"core-js/modules/es.string.trim":209,
"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.for-each":245,"core-js/modules/web.dom-collections.iterator":246}],277:[function(a,R,F){function z(){var y=/(^|@)\S+:\d+/,w=/^\s*at .*(\S+:\d+|\(native\))/m,r=/^(eval@)?(\[native code])?$/;return{parse:function(l){return void 0!==l.stacktrace||void 0!==l["opera#sourceloc"]?this.parseOpera(l):l.stack&&l.stack.match(w)?
this.parseV8OrIE(l):l.stack?this.parseFFOrSafari(l):void 0},extractLocation:function(l){return-1===l.indexOf(":")?[l]:[(l=/(.+?)(?::(\d+))?(?::(\d+))?$/.exec(l.replace(/[()]/g,"")))[1],l[2]||void 0,l[3]||void 0]},parseV8OrIE:function(l){return l.stack.split("\n").filter(function(h){return!!h.match(w)},this).map(function(h){var d=(h=-1<h.indexOf("(eval ")?h.replace(/eval code/g,"eval").replace(/(\(eval at [^()]*)|(\),.*$)/g,""):h).replace(/^\s+/,"").replace(/\(eval code/g,"("),b=d.match(/ (\((.+):(\d+):(\d+)\)$)/);
d=(d=b?d.replace(b[0],""):d).split(/\s+/).slice(1);b=this.extractLocation(b?b[1]:d.pop());return{functionName:d.join(" ")||void 0,fileName:-1<["eval","\x3canonymous\x3e"].indexOf(b[0])?void 0:b[0],lineNumber:b[1],columnNumber:b[2],source:h}},this)},parseFFOrSafari:function(l){return l.stack.split("\n").filter(function(h){return!h.match(r)},this).map(function(h){var d,b;return-1===(h=-1<h.indexOf(" \x3e eval")?h.replace(/ line (\d+)(?: > eval line \d+)* > eval:\d+:\d+/g,":$1"):h).indexOf("@")&&-1===
h.indexOf(":")?{functionName:h}:{functionName:(b=h.match(d=/((.*".+"[^@]*)?[^@]*)(?:@)/))&&b[1]?b[1]:void 0,fileName:(b=this.extractLocation(h.replace(d,"")))[0],lineNumber:b[1],columnNumber:b[2],source:h}},this)},parseOpera:function(l){return!l.stacktrace||-1<l.message.indexOf("\n")&&l.message.split("\n").length>l.stacktrace.split("\n").length?this.parseOpera9(l):l.stack?this.parseOpera11(l):this.parseOpera10(l)},parseOpera9:function(l){var h=/Line (\d+).*script (?:in )?(\S+)/i;l=l.message.split("\n");
for(var d=[],b=2,g=l.length;b<g;b+=2){var p=h.exec(l[b]);p&&d.push({fileName:p[2],lineNumber:p[1],source:l[b]})}return d},parseOpera10:function(l){var h=/Line (\d+).*script (?:in )?(\S+)(?:: In function (\S+))?$/i;l=l.stacktrace.split("\n");for(var d=[],b=0,g=l.length;b<g;b+=2){var p=h.exec(l[b]);p&&d.push({functionName:p[3]||void 0,fileName:p[2],lineNumber:p[1],source:l[b]})}return d},parseOpera11:function(l){return l.stack.split("\n").filter(function(h){return!!h.match(y)&&!h.match(/^Error created at/)},
this).map(function(h){var d,b=h.split("@"),g=this.extractLocation(b.pop());b=b.shift()||"";return{functionName:b.replace(/<anonymous function(: (\w+))?>/,"$2").replace(/\([^)]*\)/g,"")||void 0,args:void 0===(d=b.match(/\(([^)]*)\)/)?b.replace(/^[^(]+\(([^)]*)\)$/,"$1"):d)||"[arguments not available]"===d?void 0:d.split(","),fileName:g[0],lineNumber:g[1],columnNumber:g[2],source:h}},this)}}}a("core-js/modules/es.array.filter");a("core-js/modules/es.array.index-of");a("core-js/modules/es.array.join");
a("core-js/modules/es.array.map");a("core-js/modules/es.array.slice");a("core-js/modules/es.regexp.exec");a("core-js/modules/es.string.match");a("core-js/modules/es.string.replace");a("core-js/modules/es.string.split");a("core-js/modules/es.array.filter");a("core-js/modules/es.array.index-of");a("core-js/modules/es.array.join");a("core-js/modules/es.array.map");a("core-js/modules/es.array.slice");a("core-js/modules/es.regexp.exec");a("core-js/modules/es.string.match");a("core-js/modules/es.string.replace");
a("core-js/modules/es.string.split");Object.defineProperty(F,"__esModule",{value:!0});F.default=void 0;a=(a=a("../main"))&&a.__esModule?a:{default:a};a.default._getErrorStackParser=function(){return new z};a=a.default;F.default=a},{"../main":283,"core-js/modules/es.array.filter":157,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.join":166,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.string.match":201,
"core-js/modules/es.string.replace":204,"core-js/modules/es.string.split":206}],278:[function(a,R,F){function z(l){return(z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(h){return typeof h}:function(h){return h&&"function"==typeof Symbol&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(l)}function y(){var l;return"function"!=typeof WeakMap?null:(l=new WeakMap,y=function(){return l},l)}function w(l){return(w="function"==typeof Symbol&&"symbol"===z(Symbol.iterator)?
function(h){return z(h)}:function(h){return h&&"function"==typeof Symbol&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":z(h)})(l)}a("core-js/modules/es.symbol");a("core-js/modules/es.symbol.description");a("core-js/modules/es.symbol.iterator");a("core-js/modules/es.array.concat");a("core-js/modules/es.array.for-each");a("core-js/modules/es.array.includes");a("core-js/modules/es.array.index-of");a("core-js/modules/es.array.iterator");a("core-js/modules/es.array.join");a("core-js/modules/es.array.last-index-of");
a("core-js/modules/es.array.map");a("core-js/modules/es.array.slice");a("core-js/modules/es.function.name");a("core-js/modules/es.map");a("core-js/modules/es.number.constructor");a("core-js/modules/es.object.get-own-property-descriptor");a("core-js/modules/es.object.get-prototype-of");a("core-js/modules/es.object.keys");a("core-js/modules/es.object.to-string");a("core-js/modules/es.reflect.construct");a("core-js/modules/es.regexp.exec");a("core-js/modules/es.regexp.to-string");a("core-js/modules/es.set");
a("core-js/modules/es.string.includes");a("core-js/modules/es.string.iterator");a("core-js/modules/es.string.split");a("core-js/modules/es.weak-map");a("core-js/modules/web.dom-collections.for-each");a("core-js/modules/web.dom-collections.iterator");a("core-js/modules/es.symbol");a("core-js/modules/es.symbol.description");a("core-js/modules/es.symbol.iterator");a("core-js/modules/es.array.concat");a("core-js/modules/es.array.for-each");a("core-js/modules/es.array.includes");a("core-js/modules/es.array.iterator");
a("core-js/modules/es.array.join");a("core-js/modules/es.array.last-index-of");a("core-js/modules/es.array.map");a("core-js/modules/es.array.slice");a("core-js/modules/es.function.name");a("core-js/modules/es.number.constructor");a("core-js/modules/es.object.keys");a("core-js/modules/es.object.to-string");a("core-js/modules/es.regexp.exec");a("core-js/modules/es.regexp.to-string");a("core-js/modules/es.set");a("core-js/modules/es.string.includes");a("core-js/modules/es.string.iterator");a("core-js/modules/es.string.split");
a("core-js/modules/web.dom-collections.for-each");a("core-js/modules/web.dom-collections.iterator");Object.defineProperty(F,"__esModule",{value:!0});F.default=void 0;var r=(r=a("../main"))&&r.__esModule?r:{default:r};(function(l){if(!(l&&l.__esModule||null===l||"object"!==w(l)&&"function"!=typeof l)){var h=y();if(h&&h.has(l))return h.get(l);var d,b={},g=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(d in l){var p;Object.prototype.hasOwnProperty.call(l,d)&&((p=g?Object.getOwnPropertyDescriptor(l,
d):null)&&(p.get||p.set)?Object.defineProperty(b,d,p):b[d]=l[d])}b.default=l;h&&h.set(l,b)}})(a("../constants"));a("../internationalization");r.default._validateParameters=r.default._clearValidateParamsCache=function(){};a=r.default;F.default=a},{"../../../docs/parameterData.json":void 0,"../constants":272,"../internationalization":281,"../main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.for-each":161,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.index-of":164,
"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.join":166,"core-js/modules/es.array.last-index-of":167,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.function.name":174,"core-js/modules/es.map":175,"core-js/modules/es.number.constructor":179,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.get-prototype-of":188,"core-js/modules/es.object.keys":189,"core-js/modules/es.object.to-string":190,"core-js/modules/es.reflect.construct":192,
"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.set":197,"core-js/modules/es.string.includes":199,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.split":206,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.for-each":245,"core-js/modules/web.dom-collections.iterator":246}],279:[function(a,R,
F){function z(l){return(z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(h){return typeof h}:function(h){return h&&"function"==typeof Symbol&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(l)}function y(l){return(y="function"==typeof Symbol&&"symbol"===z(Symbol.iterator)?function(h){return z(h)}:function(h){return h&&"function"==typeof Symbol&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":z(h)})(l)}function w(){var l;return"function"!=typeof WeakMap?
null:(l=new WeakMap,w=function(){return l},l)}a("core-js/modules/es.symbol");a("core-js/modules/es.symbol.description");a("core-js/modules/es.symbol.iterator");a("core-js/modules/es.array.iterator");a("core-js/modules/es.object.get-own-property-descriptor");a("core-js/modules/es.object.to-string");a("core-js/modules/es.string.iterator");a("core-js/modules/es.weak-map");a("core-js/modules/web.dom-collections.iterator");Object.defineProperty(F,"__esModule",{value:!0});F.default=void 0;var r=function(l){if(l&&
l.__esModule)return l;if(null===l||"object"!==y(l)&&"function"!=typeof l)return{default:l};var h=w();if(h&&h.has(l))return h.get(l);var d,b={},g=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(d in l){var p;Object.prototype.hasOwnProperty.call(l,d)&&((p=g?Object.getOwnPropertyDescriptor(l,d):null)&&(p.get||p.set)?Object.defineProperty(b,d,p):b[d]=l[d])}b.default=l;h&&h.set(l,b);return b}(a("./constants"));F.default={modeAdjust:function(l,h,d,b,g){var p;return g===r.CORNER?p={x:l,y:h,w:Math.abs(d),
h:Math.abs(b)}:g===r.CORNERS?p={x:Math.min(l,d),y:Math.min(h,b),w:Math.abs(d-l),h:Math.abs(b-h)}:g===r.RADIUS?p={x:l-(d=Math.abs(d)),y:h-(b=Math.abs(b)),w:2*d,h:2*b}:g===r.CENTER&&(p={x:l-.5*(d=Math.abs(d)),y:h-.5*(b=Math.abs(b)),w:d,h:b}),p}}},{"./constants":272,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,
"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],280:[function(a,R,F){a("core-js/modules/es.array.iterator");a("core-js/modules/es.object.to-string");a("core-js/modules/es.promise");a("core-js/modules/es.string.iterator");a("core-js/modules/web.dom-collections.iterator");a("core-js/modules/es.array.iterator");a("core-js/modules/es.object.to-string");a("core-js/modules/es.promise");a("core-js/modules/es.string.iterator");
a("core-js/modules/web.dom-collections.iterator");var z=(y=a("../core/main"))&&y.__esModule?y:{default:y};a("./internationalization");var y=Promise.resolve();Promise.all([new Promise(function(w,r){"complete"===document.readyState?w():window.addEventListener("load",w,!1)}),y]).then(function(){var w;void 0!==window._setupDone?console.warn("p5.js seems to have been imported multiple times. Please remove the duplicate import"):window.mocha||(w=new Event("p5Ready"),window.dispatchEvent(w),(window.setup&&
"function"==typeof window.setup||window.draw&&"function"==typeof window.draw)&&!z.default.instance&&new z.default)})},{"../core/main":283,"./internationalization":281,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.to-string":190,"core-js/modules/es.promise":191,"core-js/modules/es.string.iterator":200,"core-js/modules/web.dom-collections.iterator":246}],281:[function(a,R,F){function z(h){return h&&h.__esModule?h:{default:h}}function y(h,d){for(var b=0;b<d.length;b++){var g=d[b];
g.enumerable=g.enumerable||!1;g.configurable=!0;"value"in g&&(g.writable=!0);Object.defineProperty(h,g.key,g)}}a("core-js/modules/es.array.includes");a("core-js/modules/es.array.iterator");a("core-js/modules/es.array.join");a("core-js/modules/es.array.slice");a("core-js/modules/es.object.keys");a("core-js/modules/es.object.to-string");a("core-js/modules/es.promise");a("core-js/modules/es.regexp.exec");a("core-js/modules/es.string.includes");a("core-js/modules/es.string.iterator");a("core-js/modules/es.string.split");
a("core-js/modules/web.dom-collections.iterator");a("core-js/modules/es.array.includes");a("core-js/modules/es.array.iterator");a("core-js/modules/es.array.join");a("core-js/modules/es.array.slice");a("core-js/modules/es.object.keys");a("core-js/modules/es.object.to-string");a("core-js/modules/es.promise");a("core-js/modules/es.regexp.exec");a("core-js/modules/es.string.includes");a("core-js/modules/es.string.iterator");a("core-js/modules/es.string.split");a("core-js/modules/web.dom-collections.iterator");
Object.defineProperty(F,"__esModule",{value:!0});F.setTranslatorLanguage=F.currentTranslatorLanguage=F.availableTranslatorLanguages=F.initialize=F.translator=void 0;var w=z(a("i18next")),r=z(a("i18next-browser-languagedetector")),l=function(){function h(b,g){if(!(this instanceof h))throw new TypeError("Cannot call a class as a function");this.init(b,g)}var d;return d=[{key:"fetchWithTimeout",value:function(b,g){var p=2<arguments.length&&void 0!==arguments[2]?arguments[2]:2E3;return Promise.race([fetch(b,
g),new Promise(function(k,n){return setTimeout(function(){return n(Error("timeout"))},p)})])}},{key:"init",value:function(b){var g=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};this.services=b;this.options=g}},{key:"read",value:function(b,g,p){var k=this.options.loadPath;b===this.options.fallback?p(null,(void 0)[b][g]):(void 0).includes(b)?(k=this.services.interpolator.interpolate(k,{lng:b,ns:g}),this.loadUrl(k,p)):p("Not found",!1)}},{key:"loadUrl",value:function(b,g){this.fetchWithTimeout(b).then(function(p){if(p.ok)return p.json();
throw Error("failed loading ".concat(b));},function(){throw Error("failed loading ".concat(b));}).then(function(p){return g(null,p)}).catch(g)}}],y(h.prototype,d),h}();l.type="backend";F.translator=function(h,d){console.debug("p5.js translator called before translations were loaded");w.default.t(h,d)};F.initialize=function(){return w.default.use(r.default).use(l).init({fallbackLng:"en",nestingPrefix:"$tr(",nestingSuffix:")",defaultNS:"translation",returnEmptyString:!1,interpolation:{escapeValue:!1},
detection:{checkWhitelist:!1,order:["querystring","navigator","htmlTag","path","subdomain"],caches:[]},backend:{fallback:"en",loadPath:"https://cdn.jsdelivr.net/npm/p5/translations/{{lng}}/{{ns}}.json"},partialBundledLanguages:!0,resources:void 0}).then(function(h){F.translator=h},function(h){return console.debug("Translations failed to load (".concat(h,")"))})};F.availableTranslatorLanguages=function(){return w.default.languages};F.currentTranslatorLanguage=function(h){return w.default.language};
F.setTranslatorLanguage=function(h){return w.default.changeLanguage(h||void 0,function(d){return console.debug("Translations failed to load (".concat(d,")"))})}},{"../../translations":void 0,"../../translations/dev":void 0,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.join":166,"core-js/modules/es.array.slice":169,"core-js/modules/es.object.keys":189,"core-js/modules/es.object.to-string":190,"core-js/modules/es.promise":191,"core-js/modules/es.regexp.exec":195,
"core-js/modules/es.string.includes":199,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.split":206,"core-js/modules/web.dom-collections.iterator":246,i18next:3,"i18next-browser-languagedetector":3}],282:[function(a,R,F){Object.defineProperty(F,"__esModule",{value:!0});F.default=void 0;a=(a=a("./main"))&&a.__esModule?a:{default:a};a.default.prototype.pushStyle=function(){throw Error("pushStyle() not used, see push()");};a.default.prototype.popStyle=function(){throw Error("popStyle() not used, see pop()");
};a.default.prototype.popMatrix=function(){throw Error("popMatrix() not used, see pop()");};a.default.prototype.pushMatrix=function(){throw Error("pushMatrix() not used, see push()");};a=a.default;F.default=a},{"./main":283}],283:[function(a,R,F){function z(d){return(z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(b){return typeof b}:function(b){return b&&"function"==typeof Symbol&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":typeof b})(d)}function y(d){return(y="function"==
typeof Symbol&&"symbol"===z(Symbol.iterator)?function(b){return z(b)}:function(b){return b&&"function"==typeof Symbol&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":z(b)})(d)}function w(){var d;return"function"!=typeof WeakMap?null:(d=new WeakMap,w=function(){return d},d)}function r(d,b){for(var g=0;g<b.length;g++){var p=b[g];p.enumerable=p.enumerable||!1;p.configurable=!0;"value"in p&&(p.writable=!0);Object.defineProperty(d,p.key,p)}}a("core-js/modules/es.symbol");a("core-js/modules/es.symbol.description");
a("core-js/modules/es.symbol.iterator");a("core-js/modules/es.array.for-each");a("core-js/modules/es.array.iterator");a("core-js/modules/es.array.slice");a("core-js/modules/es.array.splice");a("core-js/modules/es.object.get-own-property-descriptor");a("core-js/modules/es.object.get-own-property-names");a("core-js/modules/es.object.to-string");a("core-js/modules/es.string.iterator");a("core-js/modules/es.weak-map");a("core-js/modules/web.dom-collections.for-each");a("core-js/modules/web.dom-collections.iterator");
a("core-js/modules/es.symbol");a("core-js/modules/es.symbol.description");a("core-js/modules/es.symbol.iterator");a("core-js/modules/es.array.for-each");a("core-js/modules/es.array.iterator");a("core-js/modules/es.array.slice");a("core-js/modules/es.array.splice");a("core-js/modules/es.object.get-own-property-names");a("core-js/modules/es.object.to-string");a("core-js/modules/es.string.iterator");a("core-js/modules/web.dom-collections.for-each");a("core-js/modules/web.dom-collections.iterator");Object.defineProperty(F,
"__esModule",{value:!0});F.default=void 0;a("./shim");var l=function(d){if(d&&d.__esModule)return d;if(null===d||"object"!==y(d)&&"function"!=typeof d)return{default:d};var b=w();if(b&&b.has(d))return b.get(d);var g,p={},k=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(g in d){var n;Object.prototype.hasOwnProperty.call(d,g)&&((n=k?Object.getOwnPropertyDescriptor(d,g):null)&&(n.get||n.set)?Object.defineProperty(p,g,n):p[g]=d[g])}p.default=d;b&&b.set(d,p);return p}(a("./constants")),h;a=
function(){function d(g,p){function k(){q._setProperty("focused",!0)}function n(){q._setProperty("focused",!1)}var q=this;if(!(this instanceof d))throw new TypeError("Cannot call a class as a function");this._preloadDone=this._setupDone=!1;this._pixelDensity=Math.ceil(window.devicePixelRatio)||1;this._maxAllowedPixelDimensions=0;this._userNode=p;this._curElement=null;this._elements=[];this._glAttributes=null;this._preloadCount=this._requestAnimId=0;this._isGlobal=!1;this._loop=!0;this._startListener=
null;this._initializeInstanceVariables();this._defaultCanvasSize={width:100,height:100};this._events={mousemove:null,mousedown:null,mouseup:null,dragend:null,dragover:null,click:null,dblclick:null,mouseover:null,mouseout:null,keydown:null,keyup:null,keypress:null,touchstart:null,touchmove:null,touchend:null,resize:null,blur:null};this._millisStart=-1;this.touchend=this.touchstart=this._recording=!1;this._lcg_random_state=null;this._gaussian_previous=!1;this._events.wheel=null;this._loadingScreenId=
"p5_loading";this._registeredMethods={};p=Object.getOwnPropertyNames(d.prototype._registeredMethods);var u=!0,v=!1,x=void 0;try{for(var C,A=p[Symbol.iterator]();!(u=(C=A.next()).done);u=!0){var M=C.value;this._registeredMethods[M]=d.prototype._registeredMethods[M].slice()}}catch(I){v=!0,x=I}finally{try{u||null==A.return||A.return()}finally{if(v)throw x;}}window.DeviceOrientationEvent&&(this._events.deviceorientation=null);window.DeviceMotionEvent&&!window._isNodeWebkit&&(this._events.devicemotion=
null);d.prototype.callRegisteredHooksFor=function(I){var T=this||d.prototype,Y=this._isGlobal?window:this;if(T._registeredMethods.hasOwnProperty(I)){T=T._registeredMethods[I];var ea=!0;I=!1;var da=void 0;try{for(var X,Z=T[Symbol.iterator]();!(ea=(X=Z.next()).done);ea=!0){var L=X.value;"function"==typeof L&&L.call(Y)}}catch(S){I=!0,da=S}finally{try{ea||null==Z.return||Z.return()}finally{if(I)throw da;}}}};this._start=function(){q._userNode&&"string"==typeof q._userNode&&(q._userNode=document.getElementById(q._userNode));
var I=q._isGlobal?window:q;if(I.preload){q.callRegisteredHooksFor("beforePreload");var T,Y=document.getElementById(q._loadingScreenId),ea=(Y||((Y=document.createElement("div")).innerHTML="Loading...",Y.style.position="absolute",Y.id=q._loadingScreenId,(q._userNode||document.body).appendChild(Y)),q._preloadMethods);for(T in ea)ea[T]=ea[T]||d,Y=ea[T],Y!==d.prototype&&Y!==d||(q._isGlobal&&(window[T]=q._wrapPreload(q,T)),Y=q),q._registeredPreloadMethods[T]=Y[T],Y[T]=q._wrapPreload(Y,T);I.preload();q._runIfPreloadsAreDone()}else q._setup(),
q._recording||q._draw()};this._runIfPreloadsAreDone=function(){var I,T=this._isGlobal?window:this;0===T._preloadCount&&((I=document.getElementById(T._loadingScreenId))&&I.parentNode.removeChild(I),this.callRegisteredHooksFor("afterPreload"),this._setupDone||(this._lastTargetFrameTime=window.performance.now(),this._lastRealFrameTime=window.performance.now(),T._setup(),this._recording||T._draw()))};this._decrementPreload=function(){var I=this._isGlobal?window:this;I._preloadDone||"function"!=typeof I.preload||
(I._setProperty("_preloadCount",I._preloadCount-1),I._runIfPreloadsAreDone())};this._wrapPreload=function(I,T){var Y=this;return function(){Y._incrementPreload();for(var ea=arguments.length,da=Array(ea),X=0;X<ea;X++)da[X]=arguments[X];return Y._registeredPreloadMethods[T].apply(I,da)}};this._incrementPreload=function(){var I=this._isGlobal?window:this;I._preloadDone||I._setProperty("_preloadCount",I._preloadCount+1)};this._setup=function(){q.callRegisteredHooksFor("beforeSetup");q.createCanvas(q._defaultCanvasSize.width,
q._defaultCanvasSize.height,"p2d");var I=q._isGlobal?window:q;if("function"==typeof I.preload)for(var T in q._preloadMethods)I[T]=q._preloadMethods[T][T],I[T]&&q&&(I[T]=I[T].bind(q));q._millisStart=window.performance.now();I._preloadDone=!0;"function"==typeof I.setup&&I.setup();I=document.getElementsByTagName("canvas");T=!0;var Y=!1,ea=void 0;try{for(var da,X=I[Symbol.iterator]();!(T=(da=X.next()).done);T=!0){var Z=da.value;"true"===Z.dataset.hidden&&(Z.style.visibility="",delete Z.dataset.hidden)}}catch(L){Y=
!0,ea=L}finally{try{T||null==X.return||X.return()}finally{if(Y)throw ea;}}q._lastTargetFrameTime=window.performance.now();q._lastRealFrameTime=window.performance.now();q._setupDone=!0;(q._accessibleOutputs.grid||q._accessibleOutputs.text)&&q._updateAccsOutput();q.callRegisteredHooksFor("afterSetup")};this._draw=function(I){I=I||window.performance.now();var T=I-q._lastTargetFrameTime,Y=1E3/q._targetFrameRate;(!q._loop||Y-5<=T)&&(q.deltaTime=I-q._lastRealFrameTime,q._setProperty("deltaTime",q.deltaTime),
q._frameRate=1E3/q.deltaTime,q.redraw(),q._lastTargetFrameTime=Math.max(q._lastTargetFrameTime+Y,I),q._lastRealFrameTime=I,void 0!==q._updateMouseCoords&&(q._updateMouseCoords(),q._setProperty("movedX",0),q._setProperty("movedY",0)));q._loop&&(q._requestAnimId=window.requestAnimationFrame(q._draw))};this._setProperty=function(I,T){q[I]=T;q._isGlobal&&(window[I]=T)};this.remove=function(){q._startListener&&window.removeEventListener("load",q._startListener,!1);var I=document.getElementById(q._loadingScreenId);
if(I&&(I.parentNode.removeChild(I),q._incrementPreload()),q._curElement){for(var T in q._loop=!1,q._requestAnimId&&window.cancelAnimationFrame(q._requestAnimId),q._events)window.removeEventListener(T,q._events[T]);T=!0;I=!1;var Y=void 0;try{for(var ea,da=q._elements[Symbol.iterator]();!(T=(ea=da.next()).done);T=!0){var X,Z=ea.value;for(X in Z.elt&&Z.elt.parentNode&&Z.elt.parentNode.removeChild(Z.elt),Z._events)Z.elt.removeEventListener(X,Z._events[X])}}catch(P){I=!0,Y=P}finally{try{T||null==da.return||
da.return()}finally{if(I)throw Y;}}var L=q;q._registeredMethods.remove.forEach(function(P){void 0!==P&&P.call(L)})}if(q._isGlobal){for(var S in d.prototype)try{delete window[S]}catch(P){window[S]=void 0}for(var E in q)if(q.hasOwnProperty(E))try{delete window[E]}catch(P){window[E]=void 0}d.instance=null}};this._updateWindowSize();this._registeredMethods.init.forEach(function(I){void 0!==I&&I.call(this)},this);this._setupPromisePreloads();var K,G;p=this._createFriendlyGlobalFunctionBinder();if(g)g(this),
d._checkForUserDefinedFunctions(this);else{for(var U in this._isGlobal=!0,d.instance=this,d.prototype)"function"==typeof d.prototype[U]?(K=U.substring(2),this._events.hasOwnProperty(K)||(Math.hasOwnProperty(U)&&Math[U]===d.prototype[U]?p(U,d.prototype[U]):p(U,d.prototype[U].bind(this)))):p(U,d.prototype[U]);for(var J in this)this.hasOwnProperty(J)&&p(J,this[J])}for(G in this._events)(g=this["_on".concat(G)])&&(g=g.bind(this),window.addEventListener(G,g,{passive:!1}),this._events[G]=g);window.addEventListener("focus",
k);window.addEventListener("blur",n);this.registerMethod("remove",function(){window.removeEventListener("focus",k);window.removeEventListener("blur",n)});"complete"===document.readyState?this._start():(this._startListener=this._start.bind(this),window.addEventListener("load",this._startListener,!1))}var b;return b=[{key:"_initializeInstanceVariables",value:function(){this._accessibleOutputs={text:!1,grid:!1,textLabel:!1,gridLabel:!1};this._styles=[];this._curveDetail=this._bezierDetail=20;this._colorMode=
l.RGB;this._colorMaxes={rgb:[255,255,255,255],hsb:[360,100,100,1],hsl:[360,100,100,1]};this._downKeys={}}},{key:"registerPreloadMethod",value:function(g,p){d.prototype._preloadMethods.hasOwnProperty(g)||(d.prototype._preloadMethods[g]=p)}},{key:"registerMethod",value:function(g,p){var k=this||d.prototype;k._registeredMethods.hasOwnProperty(g)||(k._registeredMethods[g]=[]);k._registeredMethods[g].push(p)}},{key:"unregisterMethod",value:function(g,p){var k=this||d.prototype;if(k._registeredMethods.hasOwnProperty(g)){g=
k._registeredMethods[g];k=[];for(var n=0;n<g.length;n++)g[n]===p&&k.push(n);for(p=k.length-1;0<=p;p--)g.splice(k[p],1)}}},{key:"_createFriendlyGlobalFunctionBinder",value:function(){var g=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},p=g.globalObject||window;g.log||console.log.bind(console);return function(k,n){d.disableFriendlyErrors;p[k]=n}}}],r(d.prototype,b),d}();for(h in a.instance=null,a.disableFriendlyErrors=!1,l)a.prototype[h]=l[h];a.VERSION=l.VERSION;a.prototype._preloadMethods=
{loadJSON:a.prototype,loadImage:a.prototype,loadStrings:a.prototype,loadXML:a.prototype,loadBytes:a.prototype,loadTable:a.prototype,loadFont:a.prototype,loadModel:a.prototype,loadShader:a.prototype};a.prototype._registeredMethods={init:[],pre:[],post:[],remove:[]};a.prototype._registeredPreloadMethods={};F.default=a},{"./constants":272,"./shim":294,"core-js/modules/es.array.for-each":161,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.slice":169,"core-js/modules/es.array.splice":171,
"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.get-own-property-names":187,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.for-each":245,"core-js/modules/web.dom-collections.iterator":246}],284:[function(a,R,F){function z(w,r){for(var l=0;l<
r.length;l++){var h=r[l];h.enumerable=h.enumerable||!1;h.configurable=!0;"value"in h&&(h.writable=!0);Object.defineProperty(w,h.key,h)}}Object.defineProperty(F,"__esModule",{value:!0});F.default=void 0;var y=(a=a("./main"))&&a.__esModule?a:{default:a};y.default.Element=function(){function w(h,d){if(!(this instanceof w))throw new TypeError("Cannot call a class as a function");this.elt=h;this._pInst=this._pixelsState=d;this._events={};this.width=this.elt.offsetWidth;this.height=this.elt.offsetHeight}
var r,l;return l=[{key:"_adjustListener",value:function(h,d,b){return!1===d?y.default.Element._detachListener(h,b):y.default.Element._attachListener(h,d,b),this}},{key:"_attachListener",value:function(h,d,b){b._events[h]&&y.default.Element._detachListener(h,b);d=d.bind(b);b.elt.addEventListener(h,d,!1);b._events[h]=d}},{key:"_detachListener",value:function(h,d){d.elt.removeEventListener(h,d._events[h],!1);d._events[h]=null}}],r=[{key:"parent",value:function(h){return void 0===h?this.elt.parentNode:
("string"==typeof h?("#"===h[0]&&(h=h.substring(1)),h=document.getElementById(h)):h instanceof y.default.Element&&(h=h.elt),h.appendChild(this.elt),this)}},{key:"id",value:function(h){return void 0===h?this.elt.id:(this.elt.id=h,this.width=this.elt.offsetWidth,this.height=this.elt.offsetHeight,this)}},{key:"class",value:function(h){return void 0===h?this.elt.className:(this.elt.className=h,this)}},{key:"mousePressed",value:function(h){return y.default.Element._adjustListener("mousedown",function(d){return this._pInst._setProperty("mouseIsPressed",
!0),this._pInst._setMouseButton(d),h.call(this,d)},this),this}},{key:"doubleClicked",value:function(h){return y.default.Element._adjustListener("dblclick",h,this),this}},{key:"mouseWheel",value:function(h){return y.default.Element._adjustListener("wheel",h,this),this}},{key:"mouseReleased",value:function(h){return y.default.Element._adjustListener("mouseup",h,this),this}},{key:"mouseClicked",value:function(h){return y.default.Element._adjustListener("click",h,this),this}},{key:"mouseMoved",value:function(h){return y.default.Element._adjustListener("mousemove",
h,this),this}},{key:"mouseOver",value:function(h){return y.default.Element._adjustListener("mouseover",h,this),this}},{key:"mouseOut",value:function(h){return y.default.Element._adjustListener("mouseout",h,this),this}},{key:"touchStarted",value:function(h){return y.default.Element._adjustListener("touchstart",h,this),this}},{key:"touchMoved",value:function(h){return y.default.Element._adjustListener("touchmove",h,this),this}},{key:"touchEnded",value:function(h){return y.default.Element._adjustListener("touchend",
h,this),this}},{key:"dragOver",value:function(h){return y.default.Element._adjustListener("dragover",h,this),this}},{key:"dragLeave",value:function(h){return y.default.Element._adjustListener("dragleave",h,this),this}},{key:"_setProperty",value:function(h,d){this[h]=d}}],z(w.prototype,r),l&&z(w,l),w}();a=y.default.Element;F.default=a},{"./main":283}],285:[function(a,R,F){function z(q){return(z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(u){return typeof u}:function(u){return u&&
"function"==typeof Symbol&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u})(q)}function y(q){return(y="function"==typeof Symbol&&"symbol"===z(Symbol.iterator)?function(u){return z(u)}:function(u){return u&&"function"==typeof Symbol&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":z(u)})(q)}function w(){var q;return"function"!=typeof WeakMap?null:(q=new WeakMap,w=function(){return q},q)}function r(q,u){for(var v=0;v<u.length;v++){var x=u[v];x.enumerable=x.enumerable||!1;x.configurable=
!0;"value"in x&&(x.writable=!0);Object.defineProperty(q,x.key,x)}}function l(q,u){return(l=Object.setPrototypeOf||function(v,x){return v.__proto__=x,v})(q,u)}function h(q){return function(){var u,v=g(q);return d(this,function(){if("undefined"!=typeof Reflect&&Reflect.construct&&!Reflect.construct.sham){if("function"==typeof Proxy)return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch(x){}}}()?(u=g(this).constructor,Reflect.construct(v,arguments,u)):v.apply(this,
arguments))}}function d(q,u){return!u||"object"!==y(u)&&"function"!=typeof u?b(q):u}function b(q){if(void 0===q)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return q}function g(q){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(u){return u.__proto__||Object.getPrototypeOf(u)})(q)}a("core-js/modules/es.symbol");a("core-js/modules/es.symbol.description");a("core-js/modules/es.symbol.iterator");a("core-js/modules/es.array.index-of");a("core-js/modules/es.array.iterator");
a("core-js/modules/es.array.splice");a("core-js/modules/es.object.get-own-property-descriptor");a("core-js/modules/es.object.get-prototype-of");a("core-js/modules/es.object.to-string");a("core-js/modules/es.reflect.construct");a("core-js/modules/es.regexp.to-string");a("core-js/modules/es.string.iterator");a("core-js/modules/es.weak-map");a("core-js/modules/web.dom-collections.iterator");a("core-js/modules/es.array.index-of");a("core-js/modules/es.array.splice");a("core-js/modules/es.object.get-prototype-of");
Object.defineProperty(F,"__esModule",{value:!0});F.default=void 0;var p=(n=a("./main"))&&n.__esModule?n:{default:n},k=function(q){if(q&&q.__esModule)return q;if(null===q||"object"!==y(q)&&"function"!=typeof q)return{default:q};var u=w();if(u&&u.has(q))return u.get(q);var v,x={},C=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(v in q){var A;Object.prototype.hasOwnProperty.call(q,v)&&((A=C?Object.getOwnPropertyDescriptor(q,v):null)&&(A.get||A.set)?Object.defineProperty(x,v,A):x[v]=q[v])}x.default=
q;u&&u.set(q,x);return x}(a("./constants"));p.default.Graphics=function(q){function u(C,A,M,K,G){var U;if(!(this instanceof u))throw new TypeError("Cannot call a class as a function");I=G||document.createElement("canvas");(U=x.call(this,I,K)).canvas=I;var J,I=M||k.P2D;M=K._userNode||document.body;for(J in G||M.appendChild(U.canvas),p.default.prototype)U[J]||("function"==typeof p.default.prototype[J]?U[J]=p.default.prototype[J].bind(b(U)):U[J]=p.default.prototype[J]);return p.default.prototype._initializeInstanceVariables.apply(b(U)),
U.width=C,U.height=A,U._pixelDensity=K._pixelDensity,I===k.WEBGL?(U._renderer=new p.default.RendererGL(U.canvas,b(U),!1),C=(G=U._renderer._adjustDimensions(C,A)).adjustedWidth,A=G.adjustedHeight):U._renderer=new p.default.Renderer2D(U.canvas,b(U),!1),K._elements.push(b(U)),Object.defineProperty(b(U),"deltaTime",{get:function(){return this._pInst.deltaTime}}),U._renderer.resize(C,A),U._renderer._applyDefaults(),d(U,b(U))}var v=u;if("function"!=typeof q&&null!==q)throw new TypeError("Super expression must either be null or a function");
v.prototype=Object.create(q&&q.prototype,{constructor:{value:v,writable:!0,configurable:!0}});q&&l(v,q);var x=h(u);return v=u,q=[{key:"reset",value:function(){this._renderer.resetMatrix();this._renderer.isP3D&&this._renderer._update()}},{key:"remove",value:function(){this.elt.parentNode&&this.elt.parentNode.removeChild(this.elt);var C,A=this._pInst._elements.indexOf(this);for(C in-1!==A&&this._pInst._elements.splice(A,1),this._events)this.elt.removeEventListener(C,this._events[C]);this.elt=this.canvas=
this._renderer=void 0}},{key:"createFramebuffer",value:function(C){return new p.default.Framebuffer(this,C)}}],r(v.prototype,q),u}(p.default.Element);var n=p.default.Graphics;F.default=n},{"./constants":272,"./main":283,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.splice":171,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.get-prototype-of":188,"core-js/modules/es.object.to-string":190,"core-js/modules/es.reflect.construct":192,
"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],286:[function(a,R,F){function z(q){return(z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(u){return typeof u}:function(u){return u&&"function"==typeof Symbol&&u.constructor===Symbol&&u!==Symbol.prototype?
"symbol":typeof u})(q)}function y(){var q;return"function"!=typeof WeakMap?null:(q=new WeakMap,y=function(){return q},q)}function w(q){return(w="function"==typeof Symbol&&"symbol"===z(Symbol.iterator)?function(u){return z(u)}:function(u){return u&&"function"==typeof Symbol&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":z(u)})(q)}function r(q,u){for(var v=0;v<u.length;v++){var x=u[v];x.enumerable=x.enumerable||!1;x.configurable=!0;"value"in x&&(x.writable=!0);Object.defineProperty(q,x.key,
x)}}function l(q,u){return(l=Object.setPrototypeOf||function(v,x){return v.__proto__=x,v})(q,u)}function h(q){return function(){var u,v,x=b(q);return u=function(){if("undefined"!=typeof Reflect&&Reflect.construct&&!Reflect.construct.sham){if("function"==typeof Proxy)return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch(C){}}}()?(u=b(this).constructor,Reflect.construct(x,arguments,u)):x.apply(this,arguments),x=this,!(v=u)||"object"!==w(v)&&"function"!=typeof v?
d(x):v}}function d(q){if(void 0===q)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return q}function b(q){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(u){return u.__proto__||Object.getPrototypeOf(u)})(q)}function g(q){var u=0,v=0;if(q.offsetParent)for(;u+=q.offsetLeft,v+=q.offsetTop,q=q.offsetParent;);else u+=q.offsetLeft,v+=q.offsetTop;return[u,v]}a("core-js/modules/es.symbol");a("core-js/modules/es.symbol.description");a("core-js/modules/es.symbol.iterator");
a("core-js/modules/es.array.iterator");a("core-js/modules/es.number.constructor");a("core-js/modules/es.object.assign");a("core-js/modules/es.object.get-own-property-descriptor");a("core-js/modules/es.object.get-prototype-of");a("core-js/modules/es.object.to-string");a("core-js/modules/es.reflect.construct");a("core-js/modules/es.regexp.exec");a("core-js/modules/es.regexp.to-string");a("core-js/modules/es.string.iterator");a("core-js/modules/es.string.replace");a("core-js/modules/es.string.split");
a("core-js/modules/es.string.trim");a("core-js/modules/es.weak-map");a("core-js/modules/web.dom-collections.iterator");a("core-js/modules/es.number.constructor");a("core-js/modules/es.object.assign");a("core-js/modules/es.object.get-prototype-of");a("core-js/modules/es.object.to-string");a("core-js/modules/es.regexp.exec");a("core-js/modules/es.regexp.to-string");a("core-js/modules/es.string.replace");a("core-js/modules/es.string.split");a("core-js/modules/es.string.trim");Object.defineProperty(F,
"__esModule",{value:!0});F.default=void 0;var p=(n=a("./main"))&&n.__esModule?n:{default:n},k=function(q){if(q&&q.__esModule)return q;if(null===q||"object"!==w(q)&&"function"!=typeof q)return{default:q};var u=y();if(u&&u.has(q))return u.get(q);var v,x={},C=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(v in q){var A;Object.prototype.hasOwnProperty.call(q,v)&&((A=C?Object.getOwnPropertyDescriptor(q,v):null)&&(A.get||A.set)?Object.defineProperty(x,v,A):x[v]=q[v])}x.default=q;u&&u.set(q,
x);return x}(a("../core/constants")),n=function(q){function u(C,A,M){var K;if(this instanceof u)return(K=x.call(this,C,A)).canvas=C,K._pixelsState=A,M?(K._isMainCanvas=!0,K._pInst._setProperty("_curElement",d(K)),K._pInst._setProperty("canvas",K.canvas),K._pInst._setProperty("width",K.width),K._pInst._setProperty("height",K.height)):(K.canvas.style.display="none",K._styles=[]),K._clipping=!1,K._clipInvert=!1,K._textSize=12,K._textLeading=15,K._textFont="sans-serif",K._textStyle=k.NORMAL,K._textAscent=
null,K._textDescent=null,K._textAlign=k.LEFT,K._textBaseline=k.BASELINE,K._textWrap=k.WORD,K._rectMode=k.CORNER,K._ellipseMode=k.CENTER,K._curveTightness=0,K._imageMode=k.CORNER,K._tint=null,K._doStroke=!0,K._doFill=!0,K._strokeSet=!1,K._fillSet=!1,K._leadingSet=!1,K._pushPopDepth=0,K;throw new TypeError("Cannot call a class as a function");}var v=u;if("function"!=typeof q&&null!==q)throw new TypeError("Super expression must either be null or a function");v.prototype=Object.create(q&&q.prototype,
{constructor:{value:v,writable:!0,configurable:!0}});q&&l(v,q);var x=h(u);return v=u,q=[{key:"push",value:function(){return this._pushPopDepth++,{properties:{_doStroke:this._doStroke,_strokeSet:this._strokeSet,_doFill:this._doFill,_fillSet:this._fillSet,_tint:this._tint,_imageMode:this._imageMode,_rectMode:this._rectMode,_ellipseMode:this._ellipseMode,_textFont:this._textFont,_textLeading:this._textLeading,_leadingSet:this._leadingSet,_textSize:this._textSize,_textAlign:this._textAlign,_textBaseline:this._textBaseline,
_textStyle:this._textStyle,_textWrap:this._textWrap}}}},{key:"pop",value:function(C){this._pushPopDepth--;C.properties&&Object.assign(this,C.properties)}},{key:"beginClip",value:function(){var C=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};if(this._clipping)throw Error("It looks like you're trying to clip while already in the middle of clipping. Did you forget to endClip()?");this._clipping=!0;this._clipInvert=C.invert}},{key:"endClip",value:function(){if(!this._clipping)throw Error("It looks like you've called endClip() without beginClip(). Did you forget to call beginClip() first?");
this._clipping=!1}},{key:"resize",value:function(C,A){this.width=C;this.height=A;this.elt.width=C*this._pInst._pixelDensity;this.elt.height=A*this._pInst._pixelDensity;this.elt.style.width="".concat(C,"px");this.elt.style.height="".concat(A,"px");this._isMainCanvas&&(this._pInst._setProperty("width",this.width),this._pInst._setProperty("height",this.height))}},{key:"get",value:function(C,A,M,K){var G=this._pixelsState,U=G._pixelDensity,J=this.canvas;if(void 0===C&&void 0===A)C=A=0,M=G.width,K=G.height;
else if(C*=U,A*=U,void 0===M&&void 0===K)return 0>C||0>A||C>=J.width||A>=J.height?[0,0,0,0]:this._getPixel(C,A);G=new p.default.Image(M*U,K*U);return G.pixelDensity(U),G.canvas.getContext("2d").drawImage(J,C,A,M*U,K*U,0,0,M*U,K*U),G}},{key:"textLeading",value:function(C){return"number"==typeof C?(this._setProperty("_leadingSet",!0),this._setProperty("_textLeading",C),this._pInst):this._textLeading}},{key:"textStyle",value:function(C){return C?(C!==k.NORMAL&&C!==k.ITALIC&&C!==k.BOLD&&C!==k.BOLDITALIC||
this._setProperty("_textStyle",C),this._applyTextProperties()):this._textStyle}},{key:"textAscent",value:function(){return null===this._textAscent&&this._updateTextMetrics(),this._textAscent}},{key:"textDescent",value:function(){return null===this._textDescent&&this._updateTextMetrics(),this._textDescent}},{key:"textAlign",value:function(C,A){return void 0!==C?(this._setProperty("_textAlign",C),void 0!==A&&this._setProperty("_textBaseline",A),this._applyTextProperties()):{horizontal:this._textAlign,
vertical:this._textBaseline}}},{key:"textWrap",value:function(C){return this._setProperty("_textWrap",C),this._textWrap}},{key:"text",value:function(C,A,M,K,G){var U,J=this._pInst,I=this._textWrap,T=Number.MAX_VALUE,Y=M;if((this._doFill||this._doStroke)&&void 0!==C){if(U=(C=(C="string"!=typeof C?C.toString():C).replace(/(\t)/g,"  ")).split("\n"),void 0!==K){switch(this._rectMode===k.CENTER&&(A-=K/2),this._textAlign){case k.CENTER:A+=K/2;break;case k.RIGHT:A+=K}if(void 0!==G){this._rectMode===k.CENTER&&
(M-=G/2,Y-=G/2);C=M;var ea=J.textAscent();switch(this._textBaseline){case k.BOTTOM:M=Math.max(M+G,M);Y+=ea;break;case k.CENTER:M=Math.max(M+G/2,M),Y+=ea/2}T=M+G-ea;this._textBaseline===k.CENTER&&(T=C+G-ea/2)}else this._textBaseline!==k.BOTTOM&&this._textBaseline!==k.CENTER||(Y=M-(C=J.textSize()*this._textLeading)/2,T=M+C/2);if(I===k.WORD){G=[];for(I=0;I<U.length;I++){var da="";var X=U[I].split(" ");for(ea=0;ea<X.length;ea++)C="".concat(da+X[ea])+" ",da=K<this.textWidth(C)&&0<da.length?(G.push(da),
"".concat(X[ea])+" "):C;G.push(da)}I=0;this._textBaseline===k.CENTER?I=(G.length-1)*J.textLeading()/2:this._textBaseline===k.BOTTOM&&(I=(G.length-1)*J.textLeading());for(G=0;G<U.length;G++){da="";X=U[G].split(" ");for(ea=0;ea<X.length;ea++)C="".concat(da+X[ea])+" ",K<this.textWidth(C)&&0<da.length?(this._renderText(J,da.trim(),A,M-I,T,Y),da="".concat(X[ea])+" ",M+=J.textLeading()):da=C;this._renderText(J,da.trim(),A,M-I,T,Y);M+=J.textLeading()}}else{I=[];for(ea=0;ea<U.length;ea++){G=U[ea].split(da=
"");for(var Z=0;Z<G.length;Z++)C="".concat(da+G[Z]),(X=this.textWidth(C))<=K?da+=G[Z]:K<X&&0<da.length&&(I.push(da),da="".concat(G[Z]))}I.push(da);ea=0;this._textBaseline===k.CENTER?ea=(I.length-1)*J.textLeading()/2:this._textBaseline===k.BOTTOM&&(ea=(I.length-1)*J.textLeading());for(I=0;I<U.length;I++)for(G=U[I].split(da=""),Z=0;Z<G.length;Z++)C="".concat(da+G[Z]),(X=this.textWidth(C))<=K?da+=G[Z]:K<X&&0<da.length&&(this._renderText(J,da.trim(),A,M-ea,T,Y),M+=J.textLeading(),da="".concat(G[Z]));
this._renderText(J,da.trim(),A,M-ea,T,Y);J.textLeading()}}else for(K=0,this._textBaseline===k.CENTER?K=(U.length-1)*J.textLeading()/2:this._textBaseline===k.BOTTOM&&(K=(U.length-1)*J.textLeading()),da=0;da<U.length;da++)this._renderText(J,U[da],A,M-K,T,Y-K),M+=J.textLeading();return J}}},{key:"_applyDefaults",value:function(){return this}},{key:"_isOpenType",value:function(){var C=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this._textFont;return"object"===w(C)&&C.font&&C.font.supported}},
{key:"_updateTextMetrics",value:function(){var C,A,M,K,G,U;return this._isOpenType()?(this._setProperty("_textAscent",this._textFont._textAscent()),this._setProperty("_textDescent",this._textFont._textDescent())):((C=document.createElement("span")).style.fontFamily=this._textFont,C.style.fontSize="".concat(this._textSize,"px"),C.innerHTML="ABCjgq|",(U=document.createElement("div")).style.display="inline-block",U.style.width="1px",U.style.height="0px",K=((A=document.createElement("div")).appendChild(C),
A.appendChild(U),A.style.height="0px",A.style.overflow="hidden",document.body.appendChild(A),U.style.verticalAlign="baseline",g(U)),G=g(C),M=K[1]-G[1],K=(U.style.verticalAlign="bottom",g(U)),G=g(C),U=K[1]-G[1]-M,document.body.removeChild(A),this._setProperty("_textAscent",M),this._setProperty("_textDescent",U)),this}}],r(v.prototype,q),u}(p.default.Element);n.prototype.textSize=function(q){return"number"==typeof q?(this._setProperty("_textSize",q),this._leadingSet||this._setProperty("_textLeading",
q*k._DEFAULT_LEADMULT),this._applyTextProperties()):this._textSize};p.default.Renderer=n;a=p.default.Renderer;F.default=a},{"../core/constants":272,"./main":283,"core-js/modules/es.array.iterator":165,"core-js/modules/es.number.constructor":179,"core-js/modules/es.object.assign":183,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.get-prototype-of":188,"core-js/modules/es.object.to-string":190,"core-js/modules/es.reflect.construct":192,"core-js/modules/es.regexp.exec":195,
"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.replace":204,"core-js/modules/es.string.split":206,"core-js/modules/es.string.trim":209,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],287:[function(a,R,F){function z(n){return(z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?
function(q){return typeof q}:function(q){return q&&"function"==typeof Symbol&&q.constructor===Symbol&&q!==Symbol.prototype?"symbol":typeof q})(n)}function y(n){return(y="function"==typeof Symbol&&"symbol"===z(Symbol.iterator)?function(q){return z(q)}:function(q){return q&&"function"==typeof Symbol&&q.constructor===Symbol&&q!==Symbol.prototype?"symbol":z(q)})(n)}function w(){var n;return"function"!=typeof WeakMap?null:(n=new WeakMap,w=function(){return n},n)}function r(n,q){for(var u=0;u<q.length;u++){var v=
q[u];v.enumerable=v.enumerable||!1;v.configurable=!0;"value"in v&&(v.writable=!0);Object.defineProperty(n,v.key,v)}}function l(n,q,u){return(l="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(v,x,C){for(;!Object.prototype.hasOwnProperty.call(v,x)&&null!==(v=b(v)););if(v)return(v=Object.getOwnPropertyDescriptor(v,x)).get?v.get.call(C):v.value})(n,q,u||n)}function h(n,q){return(h=Object.setPrototypeOf||function(u,v){return u.__proto__=v,u})(n,q)}function d(n){return function(){var q,u=
b(n);u=(q=function(){if("undefined"!=typeof Reflect&&Reflect.construct&&!Reflect.construct.sham){if("function"==typeof Proxy)return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch(v){}}}()?(q=b(this).constructor,Reflect.construct(u,arguments,q)):u.apply(this,arguments),this);if(!q||"object"!==y(q)&&"function"!=typeof q){if(void 0!==u)return u;throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return q}}function b(n){return(b=
Object.setPrototypeOf?Object.getPrototypeOf:function(q){return q.__proto__||Object.getPrototypeOf(q)})(n)}a("core-js/modules/es.symbol");a("core-js/modules/es.symbol.description");a("core-js/modules/es.symbol.iterator");a("core-js/modules/es.array.concat");a("core-js/modules/es.array.fill");a("core-js/modules/es.array.iterator");a("core-js/modules/es.array.join");a("core-js/modules/es.array.slice");a("core-js/modules/es.function.name");a("core-js/modules/es.object.get-own-property-descriptor");a("core-js/modules/es.object.get-prototype-of");
a("core-js/modules/es.object.to-string");a("core-js/modules/es.reflect.construct");a("core-js/modules/es.reflect.get");a("core-js/modules/es.regexp.exec");a("core-js/modules/es.regexp.to-string");a("core-js/modules/es.string.iterator");a("core-js/modules/es.weak-map");a("core-js/modules/web.dom-collections.iterator");a("core-js/modules/es.array.concat");a("core-js/modules/es.array.fill");a("core-js/modules/es.array.join");a("core-js/modules/es.array.slice");a("core-js/modules/es.function.name");a("core-js/modules/es.object.get-prototype-of");
a("core-js/modules/es.object.to-string");a("core-js/modules/es.regexp.exec");a("core-js/modules/es.regexp.to-string");Object.defineProperty(F,"__esModule",{value:!0});F.default=void 0;var g=(k=a("./main"))&&k.__esModule?k:{default:k},p=function(n){if(n&&n.__esModule)return n;if(null===n||"object"!==y(n)&&"function"!=typeof n)return{default:n};var q=w();if(q&&q.has(n))return q.get(n);var u,v={},x=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(u in n){var C;Object.prototype.hasOwnProperty.call(n,
u)&&((C=x?Object.getOwnPropertyDescriptor(n,u):null)&&(C.get||C.set)?Object.defineProperty(v,u,C):v[u]=n[u])}v.default=n;q&&q.set(n,v);return v}(a("./constants"));a("./p5.Renderer");var k=function(n){function q(x,C,A){if(this instanceof q)return(x=v.call(this,x,C,A)).drawingContext=x.canvas.getContext("2d"),x._pInst._setProperty("drawingContext",x.drawingContext),x;throw new TypeError("Cannot call a class as a function");}var u=q;if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");
u.prototype=Object.create(n&&n.prototype,{constructor:{value:u,writable:!0,configurable:!0}});n&&h(u,n);var v=d(q);return u=q,n=[{key:"getFilterGraphicsLayer",value:function(){var x;return this.filterGraphicsLayer||(x=(this._pInst instanceof g.default.Graphics?this._pInst:this)._pInst,this.filterGraphicsLayer=new g.default.Graphics(this.width,this.height,p.WEBGL,x)),this.filterGraphicsLayer.width===this.width&&this.filterGraphicsLayer.height===this.height||this.filterGraphicsLayer.resizeCanvas(this.width,
this.height),this.filterGraphicsLayer.pixelDensity()!==this._pInst.pixelDensity()&&this.filterGraphicsLayer.pixelDensity(this._pInst.pixelDensity()),this.filterGraphicsLayer}},{key:"_applyDefaults",value:function(){this._cachedFillStyle=this._cachedStrokeStyle=void 0;this._cachedBlendMode=p.BLEND;this._setFill(p._DEFAULT_FILL);this._setStroke(p._DEFAULT_STROKE);this.drawingContext.lineCap=p.ROUND;this.drawingContext.font="normal 12px sans-serif"}},{key:"resize",value:function(x,C){l(b(q.prototype),
"resize",this).call(this,x,C);this.drawingContext.scale(this._pInst._pixelDensity,this._pInst._pixelDensity)}},{key:"background",value:function(){var x,C;this.drawingContext.save();this.resetMatrix();(0>=arguments.length?void 0:arguments[0])instanceof g.default.Image?0<=(1>=arguments.length?void 0:arguments[1])?(x=0>=arguments.length?void 0:arguments[0],this.drawingContext.globalAlpha=(1>=arguments.length?NaN:arguments[1])/255,this._pInst.image(x,0,0,this.width,this.height)):this._pInst.image(0>=
arguments.length?void 0:arguments[0],0,0,this.width,this.height):(x=this._getFill(),C=(C=this._pInst).color.apply(C,arguments),this._pInst._addAccsOutput()&&this._pInst._accsBackground(C.levels),C=C.toString(),this._setFill(C),this._isErasing&&this.blendMode(this._cachedBlendMode),this.drawingContext.fillRect(0,0,this.width,this.height),this._setFill(x),this._isErasing&&this._pInst.erase());this.drawingContext.restore()}},{key:"clear",value:function(){this.drawingContext.save();this.resetMatrix();
this.drawingContext.clearRect(0,0,this.width,this.height);this.drawingContext.restore()}},{key:"fill",value:function(){var x=(x=this._pInst).color.apply(x,arguments);this._setFill(x.toString());this._pInst._addAccsOutput()&&this._pInst._accsCanvasColors("fill",x.levels)}},{key:"stroke",value:function(){var x=(x=this._pInst).color.apply(x,arguments);this._setStroke(x.toString());this._pInst._addAccsOutput()&&this._pInst._accsCanvasColors("stroke",x.levels)}},{key:"erase",value:function(x,C){this._isErasing||
(this._cachedFillStyle=this.drawingContext.fillStyle,x=this._pInst.color(255,x).toString(),this.drawingContext.fillStyle=x,this._cachedStrokeStyle=this.drawingContext.strokeStyle,x=this._pInst.color(255,C).toString(),this.drawingContext.strokeStyle=x,C=this._cachedBlendMode,this.blendMode(p.REMOVE),this._cachedBlendMode=C,this._isErasing=!0)}},{key:"noErase",value:function(){this._isErasing&&(this.drawingContext.fillStyle=this._cachedFillStyle,this.drawingContext.strokeStyle=this._cachedStrokeStyle,
this.blendMode(this._cachedBlendMode),this._isErasing=!1)}},{key:"beginClip",value:function(){var x=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};x=(l(b(q.prototype),"beginClip",this).call(this,x),this._cachedFillStyle=this.drawingContext.fillStyle,this._pInst.color(255,0).toString());x=(this.drawingContext.fillStyle=x,this._cachedStrokeStyle=this.drawingContext.strokeStyle,this._pInst.color(255,0).toString());x=(this.drawingContext.strokeStyle=x,this._cachedBlendMode);this.blendMode(p.BLEND);
this._cachedBlendMode=x;this.drawingContext.beginPath();this._clipInvert&&(this.drawingContext.moveTo(-2*this.width,-2*this.height),this.drawingContext.lineTo(-2*this.width,2*this.height),this.drawingContext.lineTo(2*this.width,2*this.height),this.drawingContext.lineTo(2*this.width,-2*this.height),this.drawingContext.closePath())}},{key:"endClip",value:function(){this._doFillStrokeClose();this.drawingContext.clip();l(b(q.prototype),"endClip",this).call(this);this.drawingContext.fillStyle=this._cachedFillStyle;
this.drawingContext.strokeStyle=this._cachedStrokeStyle;this.blendMode(this._cachedBlendMode)}},{key:"image",value:function(x,C,A,M,K,G,U,J,I){x.gifProperties&&x._animateGif(this._pInst);try{g.default.MediaElement&&x instanceof g.default.MediaElement&&x._ensureCanvas();var T=(T=this._tint&&x.canvas?this._getTintedImageCanvas(x):T)||x.canvas||x.elt,Y=1;x.width&&0<x.width&&(Y=T.width/x.width);this._isErasing&&this.blendMode(this._cachedBlendMode);this.drawingContext.drawImage(T,Y*C,Y*A,Y*M,Y*K,G,U,
J,I);this._isErasing&&this._pInst.erase()}catch(ea){if("NS_ERROR_NOT_AVAILABLE"!==ea.name)throw ea;}}},{key:"_getTintedImageCanvas",value:function(x){if(!x.canvas)return x;x.tintCanvas||(x.tintCanvas=document.createElement("canvas"));x.tintCanvas.width!==x.canvas.width&&(x.tintCanvas.width=x.canvas.width);x.tintCanvas.height!==x.canvas.height&&(x.tintCanvas.height=x.canvas.height);var C=x.tintCanvas.getContext("2d");return C.save(),C.clearRect(0,0,x.canvas.width,x.canvas.height),(255>this._tint[0]||
255>this._tint[1]||255>this._tint[2])&&(C.drawImage(x.canvas,0,0),C.globalCompositeOperation="luminosity",C.drawImage(x.canvas,0,0),C.globalCompositeOperation="color",C.drawImage(x.canvas,0,0),C.globalCompositeOperation="multiply",C.fillStyle="rgb(".concat(this._tint.slice(0,3).join(", "),")"),C.fillRect(0,0,x.canvas.width,x.canvas.height),C.globalCompositeOperation="destination-in"),C.globalAlpha=this._tint[3]/255,C.drawImage(x.canvas,0,0),C.restore(),x.tintCanvas}},{key:"blendMode",value:function(x){if(x===
p.SUBTRACT)console.warn("blendMode(SUBTRACT) only works in WEBGL mode.");else{if(x!==p.BLEND&&x!==p.REMOVE&&x!==p.DARKEST&&x!==p.LIGHTEST&&x!==p.DIFFERENCE&&x!==p.MULTIPLY&&x!==p.EXCLUSION&&x!==p.SCREEN&&x!==p.REPLACE&&x!==p.OVERLAY&&x!==p.HARD_LIGHT&&x!==p.SOFT_LIGHT&&x!==p.DODGE&&x!==p.BURN&&x!==p.ADD)throw Error("Mode ".concat(x," not recognized."));this._cachedBlendMode=x;this.drawingContext.globalCompositeOperation=x}}},{key:"blend",value:function(){for(var x=this.drawingContext.globalCompositeOperation,
C=arguments.length,A=Array(C),M=0;M<C;M++)A[M]=arguments[M];C=A[A.length-1];A=Array.prototype.slice.call(A,0,A.length-1);this.drawingContext.globalCompositeOperation=C;g.default.prototype.copy.apply(this,A);this.drawingContext.globalCompositeOperation=x}},{key:"_getPixel",value:function(x,C){x=this.drawingContext.getImageData(x,C,1,1).data;return[x[0],x[1],x[2],x[3]]}},{key:"loadPixels",value:function(){var x=this._pixelsState,C=x._pixelDensity,A=this.width*C;C*=this.height;A=this.drawingContext.getImageData(0,
0,A,C);x._setProperty("imageData",A);x._setProperty("pixels",A.data)}},{key:"set",value:function(x,C,A){x=Math.floor(x);C=Math.floor(C);var M=this._pixelsState;if(A instanceof g.default.Image)this.drawingContext.save(),this.drawingContext.setTransform(1,0,0,1,0,0),this.drawingContext.scale(M._pixelDensity,M._pixelDensity),this.drawingContext.clearRect(x,C,A.width,A.height),this.drawingContext.drawImage(A.canvas,x,C),this.drawingContext.restore();else{var K=0,G=0,U=0,J=0,I=4*(C*M._pixelDensity*this.width*
M._pixelDensity+x*M._pixelDensity);if(M.imageData||M.loadPixels(),"number"==typeof A)I<M.pixels.length&&(U=G=K=A,J=255);else if(Array.isArray(A)){if(4>A.length)throw Error("pixel array must be of the form [R, G, B, A]");I<M.pixels.length&&(K=A[0],G=A[1],U=A[2],J=A[3])}else A instanceof g.default.Color&&I<M.pixels.length&&(K=A.levels[0],G=A.levels[1],U=A.levels[2],J=A.levels[3]);for(A=0;A<M._pixelDensity;A++)for(var T=0;T<M._pixelDensity;T++)I=4*((C*M._pixelDensity+T)*this.width*M._pixelDensity+(x*
M._pixelDensity+A)),M.pixels[I]=K,M.pixels[I+1]=G,M.pixels[I+2]=U,M.pixels[I+3]=J}}},{key:"updatePixels",value:function(x,C,A,M){var K=this._pixelsState,G=K._pixelDensity;void 0===x&&void 0===C&&void 0===A&&void 0===M&&(C=x=0,A=this.width,M=this.height);x*=G;C*=G;A*=G;M*=G;this.gifProperties&&(this.gifProperties.frames[this.gifProperties.displayIndex].image=K.imageData);this.drawingContext.putImageData(K.imageData,0,0,x,C,A,M)}},{key:"arc",value:function(x,C,A,M,K,G,U){var J=this.drawingContext;x+=
A/2;C+=M/2;A/=2;M/=2;var I=!(U===p.CHORD||U===p.OPEN||0==(G-K)%p.TWO_PI);return this._doFill&&(this._clipping||J.beginPath(),J.ellipse(x,C,A,M,0,K,G),I&&J.lineTo(x,C),J.closePath(),this._clipping||J.fill()),this._doStroke&&(this._clipping||J.beginPath(),J.ellipse(x,C,A,M,0,K,G),U===p.PIE&&I&&J.lineTo(x,C),U!==p.PIE&&U!==p.CHORD||J.closePath(),this._clipping||J.stroke()),this}},{key:"ellipse",value:function(x){var C=this.drawingContext,A=this._doFill,M=this._doStroke,K=parseFloat(x[0]),G=parseFloat(x[1]),
U=parseFloat(x[2]);x=parseFloat(x[3]);if(A&&!M){if("rgba(0,0,0,0)"===this._getFill())return this}else if(!A&&M&&"rgba(0,0,0,0)"===this._getStroke())return this;K+=U/2;G+=x/2;U/=2;x/=2;this._clipping||C.beginPath();C.ellipse(K,G,U,x,0,0,2*Math.PI);C.closePath();!this._clipping&&A&&C.fill();!this._clipping&&M&&C.stroke()}},{key:"line",value:function(x,C,A,M){var K=this.drawingContext;return this._doStroke&&"rgba(0,0,0,0)"!==this._getStroke()&&(this._clipping||K.beginPath(),K.moveTo(x,C),K.lineTo(A,
M),K.stroke()),this}},{key:"point",value:function(x,C){var A,M,K=this.drawingContext;return this._doStroke&&"rgba(0,0,0,0)"!==this._getStroke()?(A=this._getStroke(),M=this._getFill(),this._clipping||this._setFill(A),this._clipping||K.beginPath(),K.arc(x,C,K.lineWidth/2,0,p.TWO_PI,!1),void(this._clipping||(K.fill(),this._setFill(M)))):this}},{key:"quad",value:function(x,C,A,M,K,G,U,J){var I=this.drawingContext,T=this._doFill,Y=this._doStroke;if(T&&!Y){if("rgba(0,0,0,0)"===this._getFill())return this}else if(!T&&
Y&&"rgba(0,0,0,0)"===this._getStroke())return this;return this._clipping||I.beginPath(),I.moveTo(x,C),I.lineTo(A,M),I.lineTo(K,G),I.lineTo(U,J),I.closePath(),!this._clipping&&T&&I.fill(),!this._clipping&&Y&&I.stroke(),this}},{key:"rect",value:function(x){var C,A,M=x[0],K=x[1],G=x[2],U=x[3],J=x[4],I=x[5],T=x[6];x=x[7];var Y=this.drawingContext,ea=this._doFill,da=this._doStroke;if(ea&&!da){if("rgba(0,0,0,0)"===this._getFill())return this}else if(!ea&&da&&"rgba(0,0,0,0)"===this._getStroke())return this;
return this._clipping||Y.beginPath(),void 0===J?Y.rect(M,K,G,U):(void 0===I&&(I=J),void 0===T&&(T=I),void 0===x&&(x=T),da=(ea=Math.abs(G))/2,A=(C=Math.abs(U))/2,Y.roundRect(M,K,G,U,[C<2*(J=ea<2*J?da:J)?A:J,C<2*(I=ea<2*I?da:I)?A:I,C<2*(T=ea<2*T?da:T)?A:T,C<2*(x=ea<2*x?da:x)?A:x])),!this._clipping&&this._doFill&&Y.fill(),!this._clipping&&this._doStroke&&Y.stroke(),this}},{key:"triangle",value:function(x){var C=this.drawingContext,A=this._doFill,M=this._doStroke,K=x[0],G=x[1],U=x[2],J=x[3],I=x[4];x=
x[5];if(A&&!M){if("rgba(0,0,0,0)"===this._getFill())return this}else if(!A&&M&&"rgba(0,0,0,0)"===this._getStroke())return this;this._clipping||C.beginPath();C.moveTo(K,G);C.lineTo(U,J);C.lineTo(I,x);C.closePath();!this._clipping&&A&&C.fill();!this._clipping&&M&&C.stroke()}},{key:"endShape",value:function(x,C,A,M,K,G,U){if(0!==C.length&&(this._doStroke||this._doFill)){x=x===p.CLOSE;G=(x&&!G&&C.push(C[0]),C.length);if(A&&null===U){if(3<G){M=[];K=1-this._curveTightness;this._clipping||this.drawingContext.beginPath();
this.drawingContext.moveTo(C[1][0],C[1][1]);for(A=1;A+2<G;A++){var J=C[A];M[0]=[J[0],J[1]];M[1]=[J[0]+(K*C[A+1][0]-K*C[A-1][0])/6,J[1]+(K*C[A+1][1]-K*C[A-1][1])/6];M[2]=[C[A+1][0]+(K*C[A][0]-K*C[A+2][0])/6,C[A+1][1]+(K*C[A][1]-K*C[A+2][1])/6];M[3]=[C[A+1][0],C[A+1][1]];this.drawingContext.bezierCurveTo(M[1][0],M[1][1],M[2][0],M[2][1],M[3][0],M[3][1])}x&&this.drawingContext.lineTo(C[A+1][0],C[A+1][1]);this._doFillStrokeClose(x)}}else if(M&&null===U){this._clipping||this.drawingContext.beginPath();
for(A=0;A<G;A++)C[A].isVert?C[A].moveTo?this.drawingContext.moveTo(C[A][0],C[A][1]):this.drawingContext.lineTo(C[A][0],C[A][1]):this.drawingContext.bezierCurveTo(C[A][0],C[A][1],C[A][2],C[A][3],C[A][4],C[A][5]);this._doFillStrokeClose(x)}else if(K&&null===U){this._clipping||this.drawingContext.beginPath();for(A=0;A<G;A++)C[A].isVert?C[A].moveTo?this.drawingContext.moveTo(C[A][0],C[A][1]):this.drawingContext.lineTo(C[A][0],C[A][1]):this.drawingContext.quadraticCurveTo(C[A][0],C[A][1],C[A][2],C[A][3]);
this._doFillStrokeClose(x)}else if(U===p.POINTS)for(A=0;A<G;A++)J=C[A],this._doStroke&&this._pInst.stroke(J[6]),this._pInst.point(J[0],J[1]);else if(U===p.LINES)for(A=0;A+1<G;A+=2)J=C[A],this._doStroke&&this._pInst.stroke(C[A+1][6]),this._pInst.line(J[0],J[1],C[A+1][0],C[A+1][1]);else if(U===p.TRIANGLES)for(A=0;A+2<G;A+=3)J=C[A],this._clipping||this.drawingContext.beginPath(),this.drawingContext.moveTo(J[0],J[1]),this.drawingContext.lineTo(C[A+1][0],C[A+1][1]),this.drawingContext.lineTo(C[A+2][0],
C[A+2][1]),this.drawingContext.closePath(),!this._clipping&&this._doFill&&(this._pInst.fill(C[A+2][5]),this.drawingContext.fill()),!this._clipping&&this._doStroke&&(this._pInst.stroke(C[A+2][6]),this.drawingContext.stroke());else if(U===p.TRIANGLE_STRIP)for(A=0;A+1<G;A++)J=C[A],this._clipping||this.drawingContext.beginPath(),this.drawingContext.moveTo(C[A+1][0],C[A+1][1]),this.drawingContext.lineTo(J[0],J[1]),!this._clipping&&this._doStroke&&this._pInst.stroke(C[A+1][6]),!this._clipping&&this._doFill&&
this._pInst.fill(C[A+1][5]),A+2<G&&(this.drawingContext.lineTo(C[A+2][0],C[A+2][1]),!this._clipping&&this._doStroke&&this._pInst.stroke(C[A+2][6]),!this._clipping&&this._doFill&&this._pInst.fill(C[A+2][5])),this._doFillStrokeClose(x);else if(U===p.TRIANGLE_FAN){if(2<G){this._clipping||this.drawingContext.beginPath();for(A=2;A<G;A++)J=C[A],this.drawingContext.moveTo(C[0][0],C[0][1]),this.drawingContext.lineTo(C[A-1][0],C[A-1][1]),this.drawingContext.lineTo(J[0],J[1]),this.drawingContext.lineTo(C[0][0],
C[0][1]),A<G-1&&(this._doFill&&J[5]!==C[A+1][5]||this._doStroke&&J[6]!==C[A+1][6])&&(!this._clipping&&this._doFill&&(this._pInst.fill(J[5]),this.drawingContext.fill(),this._pInst.fill(C[A+1][5])),!this._clipping&&this._doStroke&&(this._pInst.stroke(J[6]),this.drawingContext.stroke(),this._pInst.stroke(C[A+1][6])),this.drawingContext.closePath(),this._clipping||this.drawingContext.beginPath());this._doFillStrokeClose(x)}}else if(U===p.QUADS)for(A=0;A+3<G;A+=4){J=C[A];this._clipping||this.drawingContext.beginPath();
this.drawingContext.moveTo(J[0],J[1]);for(M=1;4>M;M++)this.drawingContext.lineTo(C[A+M][0],C[A+M][1]);this.drawingContext.lineTo(J[0],J[1]);!this._clipping&&this._doFill&&this._pInst.fill(C[A+3][5]);!this._clipping&&this._doStroke&&this._pInst.stroke(C[A+3][6]);this._doFillStrokeClose(x)}else if(U===p.QUAD_STRIP){if(3<G)for(A=0;A+1<G;A+=2)J=C[A],this._clipping||this.drawingContext.beginPath(),A+3<G?(this.drawingContext.moveTo(C[A+2][0],C[A+2][1]),this.drawingContext.lineTo(J[0],J[1]),this.drawingContext.lineTo(C[A+
1][0],C[A+1][1]),this.drawingContext.lineTo(C[A+3][0],C[A+3][1]),!this._clipping&&this._doFill&&this._pInst.fill(C[A+3][5]),!this._clipping&&this._doStroke&&this._pInst.stroke(C[A+3][6])):(this.drawingContext.moveTo(J[0],J[1]),this.drawingContext.lineTo(C[A+1][0],C[A+1][1])),this._doFillStrokeClose(x)}else{this._clipping||this.drawingContext.beginPath();this.drawingContext.moveTo(C[0][0],C[0][1]);for(A=1;A<G;A++)(J=C[A]).isVert&&(J.moveTo?(x&&this.drawingContext.closePath(),this.drawingContext.moveTo(J[0],
J[1])):this.drawingContext.lineTo(J[0],J[1]));this._doFillStrokeClose(x)}x&&C.pop()}return this}},{key:"strokeCap",value:function(x){return x!==p.ROUND&&x!==p.SQUARE&&x!==p.PROJECT||(this.drawingContext.lineCap=x),this}},{key:"strokeJoin",value:function(x){return x!==p.ROUND&&x!==p.BEVEL&&x!==p.MITER||(this.drawingContext.lineJoin=x),this}},{key:"strokeWeight",value:function(x){return this.drawingContext.lineWidth=void 0===x||0===x?1E-4:x,this}},{key:"_getFill",value:function(){return this._cachedFillStyle||
(this._cachedFillStyle=this.drawingContext.fillStyle),this._cachedFillStyle}},{key:"_setFill",value:function(x){x!==this._cachedFillStyle&&(this.drawingContext.fillStyle=x,this._cachedFillStyle=x)}},{key:"_getStroke",value:function(){return this._cachedStrokeStyle||(this._cachedStrokeStyle=this.drawingContext.strokeStyle),this._cachedStrokeStyle}},{key:"_setStroke",value:function(x){x!==this._cachedStrokeStyle&&(this.drawingContext.strokeStyle=x,this._cachedStrokeStyle=x)}},{key:"bezier",value:function(x,
C,A,M,K,G,U,J){return this._pInst.beginShape(),this._pInst.vertex(x,C),this._pInst.bezierVertex(A,M,K,G,U,J),this._pInst.endShape(),this}},{key:"curve",value:function(x,C,A,M,K,G,U,J){return this._pInst.beginShape(),this._pInst.curveVertex(x,C),this._pInst.curveVertex(A,M),this._pInst.curveVertex(K,G),this._pInst.curveVertex(U,J),this._pInst.endShape(),this}},{key:"_doFillStrokeClose",value:function(x){x&&this.drawingContext.closePath();!this._clipping&&this._doFill&&this.drawingContext.fill();!this._clipping&&
this._doStroke&&this.drawingContext.stroke()}},{key:"applyMatrix",value:function(x,C,A,M,K,G){this.drawingContext.transform(x,C,A,M,K,G)}},{key:"resetMatrix",value:function(){return this.drawingContext.setTransform(1,0,0,1,0,0),this.drawingContext.scale(this._pInst._pixelDensity,this._pInst._pixelDensity),this}},{key:"rotate",value:function(x){this.drawingContext.rotate(x)}},{key:"scale",value:function(x,C){return this.drawingContext.scale(x,C),this}},{key:"translate",value:function(x,C){return x instanceof
g.default.Vector&&(C=x.y,x=x.x),this.drawingContext.translate(x,C),this}},{key:"_renderText",value:function(x,C,A,M,K,G){if(!(M<G||K<=M))return x.push(),this._isOpenType()?this._textFont._renderPath(C,A,M,{renderer:this}):(this._doStroke&&this._strokeSet&&this.drawingContext.strokeText(C,A,M),!this._clipping&&this._doFill&&(this._fillSet||this._setFill(p._DEFAULT_TEXT_FILL),this.drawingContext.fillText(C,A,M))),x.pop(),x}},{key:"textWidth",value:function(x){return this._isOpenType()?this._textFont._textWidth(x,
this._textSize):this.drawingContext.measureText(x).width}},{key:"_applyTextProperties",value:function(){var x=this._pInst,C=(this._setProperty("_textAscent",null),this._setProperty("_textDescent",null),C=this._textFont,this._isOpenType()&&(C=this._textFont.font.familyName,this._setProperty("_textStyle",this._textFont.font.styleName)),C||"sans-serif");return/\s/.exec(C)&&(C='"'.concat(C,'"')),this.drawingContext.font="".concat(this._textStyle||"normal"," ").concat(this._textSize||12,"px ").concat(C),
this.drawingContext.textAlign=this._textAlign,this._textBaseline===p.CENTER?this.drawingContext.textBaseline=p._CTX_MIDDLE:this.drawingContext.textBaseline=this._textBaseline,x}},{key:"push",value:function(){return this.drawingContext.save(),l(b(q.prototype),"push",this).call(this)}},{key:"pop",value:function(x){this.drawingContext.restore();this._cachedFillStyle=this.drawingContext.fillStyle;this._cachedStrokeStyle=this.drawingContext.strokeStyle;l(b(q.prototype),"pop",this).call(this,x)}}],r(u.prototype,
n),q}(g.default.Renderer);a=(k.prototype.text=function(n,q,u,v,x){void 0!==v&&this.drawingContext.textBaseline===p.BASELINE&&(C=!0,this.drawingContext.textBaseline=p.TOP);var C;v=g.default.Renderer.prototype.text.apply(this,arguments);return C&&(this.drawingContext.textBaseline=p.BASELINE),v},g.default.Renderer2D=k,g.default.Renderer2D);F.default=a},{"./constants":272,"./main":283,"./p5.Renderer":286,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.fill":156,"core-js/modules/es.array.iterator":165,
"core-js/modules/es.array.join":166,"core-js/modules/es.array.slice":169,"core-js/modules/es.function.name":174,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.get-prototype-of":188,"core-js/modules/es.object.to-string":190,"core-js/modules/es.reflect.construct":192,"core-js/modules/es.reflect.get":193,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,
"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],288:[function(a,R,F){function z(){return{}}a("core-js/modules/es.symbol");a("core-js/modules/es.symbol.description");a("core-js/modules/es.symbol.iterator");a("core-js/modules/es.array.iterator");a("core-js/modules/es.object.assign");a("core-js/modules/es.object.to-string");a("core-js/modules/es.promise");a("core-js/modules/es.string.iterator");a("core-js/modules/web.dom-collections.iterator");
a("core-js/modules/es.symbol");a("core-js/modules/es.symbol.description");a("core-js/modules/es.symbol.iterator");a("core-js/modules/es.array.iterator");a("core-js/modules/es.object.assign");a("core-js/modules/es.object.to-string");a("core-js/modules/es.promise");a("core-js/modules/es.string.iterator");a("core-js/modules/web.dom-collections.iterator");var y=(a=a("./main"))&&a.__esModule?a:{default:a};y.default.prototype._promisePreloads=[];var w=!(y.default.prototype.registerPromisePreload=function(r){y.default.prototype._promisePreloads.push(r)});
y.default.prototype._setupPromisePreloads=function(){var r=!0,l=!1,h=void 0;try{for(var d,b=this._promisePreloads[Symbol.iterator]();!(r=(d=b.next()).done);r=!0){var g=d.value,p=this,k=g.method,n=g.addCallbacks,q=g.legacyPreloadSetup,u=g.target||this,v=u[k].bind(u);if(u===y.default.prototype){if(w)continue;p=null;v=u[k]}u[k]=this._wrapPromisePreload(p,v,n);q&&(u[q.method]=this._legacyPreloadGenerator(p,q,u[k]))}}catch(x){l=!0,h=x}finally{try{r||null==b.return||b.return()}finally{if(l)throw h;}}w=
!0};y.default.prototype._wrapPromisePreload=function(r,l,h){var d=function(){for(var b=this,g=(this._incrementPreload(),null),p=null,k=arguments.length,n=Array(k),q=0;q<k;q++)n[q]=arguments[q];if(h)for(k=n.length-1;0<=k&&!p&&"function"==typeof n[k];k--)p=g,g=n.pop();n=Promise.resolve(l.apply(this,n));return g&&n.then(g),p&&n.catch(p),n.then(function(){return b._decrementPreload()}),n};return d=r?d.bind(r):d};y.default.prototype._legacyPreloadGenerator=function(r,l,h){var d=l.createBaseObject||z;l=
function(){var b=this;this._incrementPreload();for(var g=arguments.length,p=Array(g),k=0;k<g;k++)p[k]=arguments[k];var n=d.apply(this,p);return h.apply(this,p).then(function(q){Object.assign(n,q);b._decrementPreload()}),n};return l=r?l.bind(r):l}},{"./main":283,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.assign":183,"core-js/modules/es.object.to-string":190,"core-js/modules/es.promise":191,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,
"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.iterator":246}],289:[function(a,R,F){function z(b){return(z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(g){return typeof g}:function(g){return g&&"function"==typeof Symbol&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g})(b)}function y(){var b;return"function"!=typeof WeakMap?null:(b=new WeakMap,y=function(){return b},b)}function w(b){return(w="function"==typeof Symbol&&"symbol"===
z(Symbol.iterator)?function(g){return z(g)}:function(g){return g&&"function"==typeof Symbol&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":z(g)})(b)}a("core-js/modules/es.symbol");a("core-js/modules/es.symbol.description");a("core-js/modules/es.symbol.iterator");a("core-js/modules/es.array.filter");a("core-js/modules/es.array.iterator");a("core-js/modules/es.object.get-own-property-descriptor");a("core-js/modules/es.object.to-string");a("core-js/modules/es.string.iterator");a("core-js/modules/es.weak-map");
a("core-js/modules/web.dom-collections.iterator");a("core-js/modules/es.symbol");a("core-js/modules/es.symbol.description");a("core-js/modules/es.symbol.iterator");a("core-js/modules/es.array.filter");a("core-js/modules/es.array.iterator");a("core-js/modules/es.object.to-string");a("core-js/modules/es.string.iterator");a("core-js/modules/web.dom-collections.iterator");Object.defineProperty(F,"__esModule",{value:!0});F.default=void 0;var r=(d=a("./main"))&&d.__esModule?d:{default:d},l=function(b){if(b&&
b.__esModule)return b;if(null===b||"object"!==w(b)&&"function"!=typeof b)return{default:b};var g=y();if(g&&g.has(b))return g.get(b);var p,k={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(p in b){var q;Object.prototype.hasOwnProperty.call(b,p)&&((q=n?Object.getOwnPropertyDescriptor(b,p):null)&&(q.get||q.set)?Object.defineProperty(k,p,q):k[p]=b[p])}k.default=b;g&&g.set(b,k);return k}(a("./constants"));a("./p5.Graphics");a("./p5.Renderer2D");a("../webgl/p5.RendererGL");var h="defaultCanvas0",
d=(r.default.prototype.createCanvas=function(b,g,p,k){var n,q,u;if(r.default._validateParameters("createCanvas",arguments),arguments[2]instanceof HTMLCanvasElement?(p=l.P2D,k=arguments[2]):n=p||l.P2D,k)(u=document.getElementById(h))&&u.parentNode.removeChild(u),u=k,this._defaultGraphicsCreated=!1;else{if(n===l.WEBGL)(u=document.getElementById(h))&&(u.parentNode.removeChild(u),q=this._renderer,this._elements=this._elements.filter(function(x){return x!==q})),(u=document.createElement("canvas")).id=
h,u.classList.add("p5Canvas");else if(this._defaultGraphicsCreated)u=this.canvas;else{u=k||document.createElement("canvas");for(var v=0;document.getElementById("defaultCanvas".concat(v));)v++;h="defaultCanvas".concat(v);u.id=h;u.classList.add("p5Canvas")}this._setupDone||(u.dataset.hidden=!0,u.style.visibility="hidden");(this._userNode||(0===document.getElementsByTagName("main").length&&(p=document.createElement("main"),document.body.appendChild(p)),document.getElementsByTagName("main")[0])).appendChild(u)}return n===
l.WEBGL?(this._setProperty("_renderer",new r.default.RendererGL(u,this,!0)),this._elements.push(this._renderer),b=(k=this._renderer._adjustDimensions(b,g)).adjustedWidth,g=k.adjustedHeight):this._defaultGraphicsCreated||(this._setProperty("_renderer",new r.default.Renderer2D(u,this,!0)),this._defaultGraphicsCreated=!0,this._elements.push(this._renderer)),this._renderer.resize(b,g),this._renderer._applyDefaults(),this._renderer},r.default.prototype.resizeCanvas=function(b,g,p){if(r.default._validateParameters("resizeCanvas",
arguments),this._renderer){var k,n,q,u={};for(k in this.drawingContext){var v=this.drawingContext[k];"object"!==w(v)&&"function"!=typeof v&&(u[k]=v)}for(q in this._renderer instanceof r.default.RendererGL&&(b=(n=this._renderer._adjustDimensions(b,g)).adjustedWidth,g=n.adjustedHeight),this.width=b,this.height=g,this._renderer.resize(b,g),u)try{this.drawingContext[q]=u[q]}catch(x){}p||this.redraw()}this._addAccsOutput()&&this._updateAccsOutput()},r.default.prototype.noCanvas=function(){this.canvas&&
this.canvas.parentNode.removeChild(this.canvas)},r.default.prototype.createGraphics=function(b,g){for(var p=arguments.length,k=Array(2<p?p-2:0),n=2;n<p;n++)k[n-2]=arguments[n];return k[0]instanceof HTMLCanvasElement&&(k[1]=k[0],k[0]=l.P2D),r.default._validateParameters("createGraphics",arguments),new r.default.Graphics(b,g,k[0],this,k[1])},r.default.prototype.createFramebuffer=function(b){return new r.default.Framebuffer(this,b)},r.default.prototype.clearDepth=function(b){this._assert3d("clearDepth");
this._renderer.clearDepth(b)},r.default.prototype.blendMode=function(b){r.default._validateParameters("blendMode",arguments);b===l.NORMAL&&(console.warn("NORMAL has been deprecated for use in blendMode. defaulting to BLEND instead."),b=l.BLEND);this._renderer.blendMode(b)},r.default);F.default=d},{"../webgl/p5.RendererGL":341,"./constants":272,"./main":283,"./p5.Graphics":285,"./p5.Renderer2D":287,"core-js/modules/es.array.filter":157,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-own-property-descriptor":186,
"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],290:[function(a,R,F){function z(g){return(z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(p){return typeof p}:function(p){return p&&"function"==typeof Symbol&&p.constructor===Symbol&&p!==Symbol.prototype?
"symbol":typeof p})(g)}function y(g){return(y="function"==typeof Symbol&&"symbol"===z(Symbol.iterator)?function(p){return z(p)}:function(p){return p&&"function"==typeof Symbol&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":z(p)})(g)}function w(){var g;return"function"!=typeof WeakMap?null:(g=new WeakMap,w=function(){return g},g)}function r(g){return g&&g.__esModule?g:{default:g}}function l(g){if(!(g=function(p){if(Array.isArray(p)){for(var k=0,n=Array(p.length);k<p.length;k++)n[k]=p[k];return n}}(g)||
function(p){if(Symbol.iterator in Object(p)||"[object Arguments]"===Object.prototype.toString.call(p))return Array.from(p)}(g)))throw new TypeError("Invalid attempt to spread non-iterable instance");return g}a("core-js/modules/es.symbol");a("core-js/modules/es.symbol.description");a("core-js/modules/es.symbol.iterator");a("core-js/modules/es.array.from");a("core-js/modules/es.array.iterator");a("core-js/modules/es.array.slice");a("core-js/modules/es.object.get-own-property-descriptor");a("core-js/modules/es.object.to-string");
a("core-js/modules/es.regexp.to-string");a("core-js/modules/es.string.iterator");a("core-js/modules/es.weak-map");a("core-js/modules/web.dom-collections.iterator");a("core-js/modules/es.array.slice");Object.defineProperty(F,"__esModule",{value:!0});F.default=void 0;var h=r(a("../main")),d=function(g){if(g&&g.__esModule)return g;if(null===g||"object"!==y(g)&&"function"!=typeof g)return{default:g};var p=w();if(p&&p.has(g))return p.get(g);var k,n={},q=Object.defineProperty&&Object.getOwnPropertyDescriptor;
for(k in g){var u;Object.prototype.hasOwnProperty.call(g,k)&&((u=q?Object.getOwnPropertyDescriptor(g,k):null)&&(u.get||u.set)?Object.defineProperty(n,k,u):n[k]=g[k])}n.default=g;p&&p.set(g,n);return n}(a("../constants")),b=r(a("../helpers"));a("../friendly_errors/fes_core");a("../friendly_errors/file_errors");a("../friendly_errors/validate_params");h.default.prototype._normalizeArcAngles=function(g,p,k,n,q){var u;return g-=d.TWO_PI*Math.floor(g/d.TWO_PI),p-=d.TWO_PI*Math.floor(p/d.TWO_PI),u=Math.min(Math.abs(g-
p),d.TWO_PI-Math.abs(g-p)),q&&(g=g<=d.HALF_PI?Math.atan(k/n*Math.tan(g)):g>d.HALF_PI&&g<=3*d.HALF_PI?Math.atan(k/n*Math.tan(g))+d.PI:Math.atan(k/n*Math.tan(g))+d.TWO_PI,p=p<=d.HALF_PI?Math.atan(k/n*Math.tan(p)):p>d.HALF_PI&&p<=3*d.HALF_PI?Math.atan(k/n*Math.tan(p))+d.PI:Math.atan(k/n*Math.tan(p))+d.TWO_PI),p<g&&(p+=d.TWO_PI),{start:g,stop:p,correspondToSamePoint:1E-5>u}};h.default.prototype.arc=function(g,p,k,n,q,u,v,x){return h.default._validateParameters("arc",arguments),(this._renderer._doStroke||
this._renderer._doFill)&&q!==u&&(q=this._toRadians(q),u=this._toRadians(u),g=b.default.modeAdjust(g,p,k,n,this._renderer._ellipseMode),(p=this._normalizeArcAngles(q,u,g.w,g.h,!0)).correspondToSamePoint?this._renderer.ellipse([g.x,g.y,g.w,g.h,x]):(this._renderer.arc(g.x,g.y,g.w,g.h,p.start,p.stop,v,x),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("arc",[g.x,g.y,g.w,g.h,p.start,p.stop,v]))),this};h.default.prototype.ellipse=function(g,p,k,n,q){return h.default._validateParameters("ellipse",
arguments),this._renderEllipse.apply(this,arguments)};h.default.prototype.circle=function(){for(var g=arguments.length,p=Array(g),k=0;k<g;k++)p[k]=arguments[k];h.default._validateParameters("circle",p);g=p.slice(0,2);return g.push(p[2],p[2]),this._renderEllipse.apply(this,l(g))};h.default.prototype._renderEllipse=function(g,p,k,n,q){return(this._renderer._doStroke||this._renderer._doFill)&&(g=b.default.modeAdjust(g,p,k,void 0===n?k:n,this._renderer._ellipseMode),this._renderer.ellipse([g.x,g.y,g.w,
g.h,q]),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("ellipse",[g.x,g.y,g.w,g.h])),this};h.default.prototype.line=function(){for(var g,p=arguments.length,k=Array(p),n=0;n<p;n++)k[n]=arguments[n];return h.default._validateParameters("line",k),this._renderer._doStroke&&(g=this._renderer).line.apply(g,k),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("line",k),this};h.default.prototype.point=function(){for(var g,p=arguments.length,k=Array(p),
n=0;n<p;n++)k[n]=arguments[n];return h.default._validateParameters("point",k),this._renderer._doStroke&&(1===k.length&&k[0]instanceof h.default.Vector?this._renderer.point.call(this._renderer,k[0].x,k[0].y,k[0].z):((g=this._renderer).point.apply(g,k),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("point",k))),this};h.default.prototype.quad=function(){for(var g,p=arguments.length,k=Array(p),n=0;n<p;n++)k[n]=arguments[n];return h.default._validateParameters("quad",k),
(this._renderer._doStroke||this._renderer._doFill)&&(this._renderer.isP3D&&12>k.length?this._renderer.quad.call(this._renderer,k[0],k[1],0,k[2],k[3],0,k[4],k[5],0,k[6],k[7],0,k[8],k[9]):((g=this._renderer).quad.apply(g,k),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("quadrilateral",k))),this};h.default.prototype.rect=function(){for(var g=arguments.length,p=Array(g),k=0;k<g;k++)p[k]=arguments[k];return h.default._validateParameters("rect",p),this._renderRect.apply(this,
p)};h.default.prototype.square=function(g,p,k,n,q,u,v){return h.default._validateParameters("square",arguments),this._renderRect.call(this,g,p,k,k,n,q,u,v)};h.default.prototype._renderRect=function(){if(this._renderer._doStroke||this._renderer._doFill){3===arguments.length&&(arguments[3]=arguments[2]);for(var g=b.default.modeAdjust(arguments[0],arguments[1],arguments[2],arguments[3],this._renderer._rectMode),p=(this._renderer._rectMode===d.CORNER&&(g.w=arguments[2],g.h=arguments[3]),[g.x,g.y,g.w,
g.h]),k=4;k<arguments.length;k++)p[k]=arguments[k];this._renderer.rect(p);(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("rectangle",[g.x,g.y,g.w,g.h])}return this};h.default.prototype.triangle=function(){for(var g=arguments.length,p=Array(g),k=0;k<g;k++)p[k]=arguments[k];return h.default._validateParameters("triangle",p),(this._renderer._doStroke||this._renderer._doFill)&&this._renderer.triangle(p),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("triangle",
p),this};a=h.default;F.default=a},{"../constants":272,"../friendly_errors/fes_core":274,"../friendly_errors/file_errors":275,"../friendly_errors/validate_params":278,"../helpers":279,"../main":283,"core-js/modules/es.array.from":162,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.slice":169,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,
"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],291:[function(a,R,F){function z(d){return(z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(b){return typeof b}:function(b){return b&&"function"==typeof Symbol&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":typeof b})(d)}function y(d){return(y="function"==typeof Symbol&&"symbol"===z(Symbol.iterator)?
function(b){return z(b)}:function(b){return b&&"function"==typeof Symbol&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":z(b)})(d)}function w(){var d;return"function"!=typeof WeakMap?null:(d=new WeakMap,w=function(){return d},d)}a("core-js/modules/es.symbol");a("core-js/modules/es.symbol.description");a("core-js/modules/es.symbol.iterator");a("core-js/modules/es.array.iterator");a("core-js/modules/es.object.get-own-property-descriptor");a("core-js/modules/es.object.to-string");a("core-js/modules/es.string.iterator");
a("core-js/modules/es.weak-map");a("core-js/modules/web.dom-collections.iterator");Object.defineProperty(F,"__esModule",{value:!0});F.default=void 0;var r=(h=a("../main"))&&h.__esModule?h:{default:h},l=function(d){if(d&&d.__esModule)return d;if(null===d||"object"!==y(d)&&"function"!=typeof d)return{default:d};var b=w();if(b&&b.has(d))return b.get(d);var g,p={},k=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(g in d){var n;Object.prototype.hasOwnProperty.call(d,g)&&((n=k?Object.getOwnPropertyDescriptor(d,
g):null)&&(n.get||n.set)?Object.defineProperty(p,g,n):p[g]=d[g])}p.default=d;b&&b.set(d,p);return p}(a("../constants"));r.default.prototype.ellipseMode=function(d){return r.default._validateParameters("ellipseMode",arguments),d!==l.CORNER&&d!==l.CORNERS&&d!==l.RADIUS&&d!==l.CENTER||(this._renderer._ellipseMode=d),this};r.default.prototype.noSmooth=function(){return this._renderer.isP3D?this.setAttributes("antialias",!1):"imageSmoothingEnabled"in this.drawingContext&&(this.drawingContext.imageSmoothingEnabled=
!1),this};r.default.prototype.rectMode=function(d){return r.default._validateParameters("rectMode",arguments),d!==l.CORNER&&d!==l.CORNERS&&d!==l.RADIUS&&d!==l.CENTER||(this._renderer._rectMode=d),this};r.default.prototype.smooth=function(){return this._renderer.isP3D?this.setAttributes("antialias",!0):"imageSmoothingEnabled"in this.drawingContext&&(this.drawingContext.imageSmoothingEnabled=!0),this};r.default.prototype.strokeCap=function(d){return r.default._validateParameters("strokeCap",arguments),
d!==l.ROUND&&d!==l.SQUARE&&d!==l.PROJECT||this._renderer.strokeCap(d),this};r.default.prototype.strokeJoin=function(d){return r.default._validateParameters("strokeJoin",arguments),d!==l.ROUND&&d!==l.BEVEL&&d!==l.MITER||this._renderer.strokeJoin(d),this};r.default.prototype.strokeWeight=function(d){return r.default._validateParameters("strokeWeight",arguments),this._renderer.strokeWeight(d),this};var h=r.default;F.default=h},{"../constants":272,"../main":283,"core-js/modules/es.array.iterator":165,
"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],292:[function(a,R,F){Object.defineProperty(F,"__esModule",{value:!0});F.default=void 0;var z=(y=a("../main"))&&y.__esModule?y:{default:y};a("../friendly_errors/fes_core");
a("../friendly_errors/file_errors");a("../friendly_errors/validate_params");z.default.prototype.bezier=function(){for(var w,r=arguments.length,l=Array(r),h=0;h<r;h++)l[h]=arguments[h];return z.default._validateParameters("bezier",l),(this._renderer._doStroke||this._renderer._doFill)&&(w=this._renderer).bezier.apply(w,l),this};z.default.prototype.bezierDetail=function(w){return z.default._validateParameters("bezierDetail",arguments),this._bezierDetail=w,this};z.default.prototype.bezierPoint=function(w,
r,l,h,d){z.default._validateParameters("bezierPoint",arguments);var b=1-d;return Math.pow(b,3)*w+3*Math.pow(b,2)*d*r+3*b*Math.pow(d,2)*l+Math.pow(d,3)*h};z.default.prototype.bezierTangent=function(w,r,l,h,d){z.default._validateParameters("bezierTangent",arguments);var b=1-d;return 3*h*Math.pow(d,2)-3*l*Math.pow(d,2)+6*l*b*d-6*r*b*d+3*r*Math.pow(b,2)-3*w*Math.pow(b,2)};z.default.prototype.curve=function(){for(var w,r=arguments.length,l=Array(r),h=0;h<r;h++)l[h]=arguments[h];return z.default._validateParameters("curve",
l),this._renderer._doStroke&&(w=this._renderer).curve.apply(w,l),this};z.default.prototype.curveDetail=function(w){return z.default._validateParameters("curveDetail",arguments),this._curveDetail=3>w?3:w,this};z.default.prototype.curveTightness=function(w){return z.default._validateParameters("curveTightness",arguments),this._renderer._curveTightness=w,this};z.default.prototype.curvePoint=function(w,r,l,h,d){z.default._validateParameters("curvePoint",arguments);var b=this._renderer._curveTightness,
g=d*d*d,p=d*d;return w*((b-1)/2*g+(1-b)*p+(b-1)/2*d)+r*((b+3)/2*g+(-5-b)/2*p+1)+l*((-3-b)/2*g+(b+2)*p+(1-b)/2*d)+h*((1-b)/2*g+(b-1)/2*p)};z.default.prototype.curveTangent=function(w,r,l,h,d){z.default._validateParameters("curveTangent",arguments);var b=this._renderer._curveTightness,g=d*d*3;d*=2;return w*((b-1)/2*g+(1-b)*d+(b-1)/2)+r*((b+3)/2*g+(-5-b)/2*d)+l*((-3-b)/2*g+(b+2)*d+(1-b)/2)+h*((1-b)/2*g+(b-1)/2*d)};var y=z.default;F.default=y},{"../friendly_errors/fes_core":274,"../friendly_errors/file_errors":275,
"../friendly_errors/validate_params":278,"../main":283}],293:[function(a,R,F){function z(v){return(z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(x){return typeof x}:function(x){return x&&"function"==typeof Symbol&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":typeof x})(v)}function y(v){return(y="function"==typeof Symbol&&"symbol"===z(Symbol.iterator)?function(x){return z(x)}:function(x){return x&&"function"==typeof Symbol&&x.constructor===Symbol&&x!==Symbol.prototype?
"symbol":z(x)})(v)}function w(){var v;return"function"!=typeof WeakMap?null:(v=new WeakMap,w=function(){return v},v)}a("core-js/modules/es.symbol");a("core-js/modules/es.symbol.description");a("core-js/modules/es.symbol.iterator");a("core-js/modules/es.array.iterator");a("core-js/modules/es.array.slice");a("core-js/modules/es.object.get-own-property-descriptor");a("core-js/modules/es.object.to-string");a("core-js/modules/es.string.iterator");a("core-js/modules/es.weak-map");a("core-js/modules/web.dom-collections.iterator");
a("core-js/modules/es.array.slice");Object.defineProperty(F,"__esModule",{value:!0});F.default=void 0;var r=(u=a("../main"))&&u.__esModule?u:{default:u},l=function(v){if(v&&v.__esModule)return v;if(null===v||"object"!==y(v)&&"function"!=typeof v)return{default:v};var x=w();if(x&&x.has(v))return x.get(v);var C,A={},M=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(C in v){var K;Object.prototype.hasOwnProperty.call(v,C)&&((K=M?Object.getOwnPropertyDescriptor(v,C):null)&&(K.get||K.set)?Object.defineProperty(A,
C,K):A[C]=v[C])}A.default=v;x&&x.set(v,A);return A}(a("../constants")),h=null,d=[],b=[],g=!1,p=!1,k=!1,n=!1,q=!0,u=(r.default.prototype.beginContour=function(){return this._renderer.isP3D?this._renderer.beginContour():(b=[],n=!0),this},r.default.prototype.beginShape=function(v){var x;return r.default._validateParameters("beginShape",arguments),this._renderer.isP3D?(x=this._renderer).beginShape.apply(x,arguments):(h=v===l.POINTS||v===l.LINES||v===l.TRIANGLES||v===l.TRIANGLE_FAN||v===l.TRIANGLE_STRIP||
v===l.QUADS||v===l.QUAD_STRIP?v:null,d=[],b=[]),this},r.default.prototype.bezierVertex=function(){for(var v,x=arguments.length,C=Array(x),A=0;A<x;A++)C[A]=arguments[A];if(r.default._validateParameters("bezierVertex",C),this._renderer.isP3D)(v=this._renderer).bezierVertex.apply(v,C);else if(0===d.length)r.default._friendlyError("vertex() must be used once before calling bezierVertex()","bezierVertex");else{g=!0;v=[];for(x=0;x<C.length;x++)v[x]=C[x];v.isVert=!1;(n?b:d).push(v)}return this},r.default.prototype.curveVertex=
function(){for(var v,x=arguments.length,C=Array(x),A=0;A<x;A++)C[A]=arguments[A];return r.default._validateParameters("curveVertex",C),this._renderer.isP3D?(v=this._renderer).curveVertex.apply(v,C):(p=!0,this.vertex(C[0],C[1])),this},r.default.prototype.endContour=function(){if(!this._renderer.isP3D){var v=b[0].slice();v.isVert=b[0].isVert;v.moveTo=!1;b.push(v);q&&(d.push(d[0]),q=!1);for(v=0;v<b.length;v++)d.push(b[v])}return this},r.default.prototype.endShape=function(v){var x=1<arguments.length&&
void 0!==arguments[1]?arguments[1]:1;if(r.default._validateParameters("endShape",arguments),1>x&&(console.log("\ud83c\udf38 p5.js says: You can not have less than one instance"),x=1),this._renderer.isP3D)this._renderer.endShape(v,p,g,k,n,h,x);else{if((1!==x&&console.log("\ud83c\udf38 p5.js says: Instancing is only supported in WebGL2 mode"),0===d.length)||!this._renderer._doStroke&&!this._renderer._doFill)return this;(x=v===l.CLOSE)&&!n&&d.push(d[0]);this._renderer.endShape(v,d,p,g,k,n,h);q=!(n=k=
g=p=!1);x&&d.pop()}return this},r.default.prototype.quadraticVertex=function(){for(var v,x=arguments.length,C=Array(x),A=0;A<x;A++)C[A]=arguments[A];if(r.default._validateParameters("quadraticVertex",C),this._renderer.isP3D)(v=this._renderer).quadraticVertex.apply(v,C);else{if(this._contourInited)return(v={}).x=C[0],v.y=C[1],v.x3=C[2],v.y3=C[3],v.type=l.QUADRATIC,this._contourVertices.push(v),this;if(0<d.length){k=!0;v=[];for(x=0;x<C.length;x++)v[x]=C[x];v.isVert=!1;(n?b:d).push(v)}else r.default._friendlyError("vertex() must be used once before calling quadraticVertex()",
"quadraticVertex")}return this},r.default.prototype.vertex=function(v,x,C,A,M){var K;return this._renderer.isP3D?(K=this._renderer).vertex.apply(K,arguments):((K=[]).isVert=!0,K[0]=v,K[1]=x,K[2]=0,K[3]=0,K[4]=0,K[5]=this._renderer._getFill(),K[6]=this._renderer._getStroke(),C&&(K.moveTo=C),(n?(0===b.length&&(K.moveTo=!0),b):d).push(K)),this},r.default.prototype.normal=function(v,x,C){var A;return this._assert3d("normal"),r.default._validateParameters("normal",arguments),(A=this._renderer).normal.apply(A,
arguments),this},r.default);F.default=u},{"../constants":272,"../main":283,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.slice":169,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],294:[function(a,
R,F){},{}],295:[function(a,R,F){a("core-js/modules/es.object.assign");a("core-js/modules/es.object.assign");Object.defineProperty(F,"__esModule",{value:!0});F.default=void 0;a=(a=a("./main"))&&a.__esModule?a:{default:a};a.default.prototype.noLoop=function(){this._loop=!1};a.default.prototype.loop=function(){this._loop||(this._loop=!0,this._setupDone&&this._draw())};a.default.prototype.isLooping=function(){return this._loop};a.default.prototype.push=function(){this._styles.push({props:{_colorMode:this._colorMode},
renderer:this._renderer.push()})};a.default.prototype.pop=function(){var z=this._styles.pop();z?(this._renderer.pop(z.renderer),Object.assign(this,z.props)):console.warn("pop() was called without matching push()")};a.default.prototype.redraw=function(z){if(!this._inUserDraw&&this._setupDone){z=parseInt(z);var y=((isNaN(z)||1>z)&&(z=1),this._isGlobal?window:this);if("function"==typeof y.draw){void 0===y.setup&&y.scale(y._pixelDensity,y._pixelDensity);for(var w=0;w<z;w++){y.resetMatrix();(this._accessibleOutputs.grid||
this._accessibleOutputs.text)&&this._updateAccsOutput();y._renderer.isP3D&&y._renderer._update();y._setProperty("frameCount",y.frameCount+1);this.callRegisteredHooksFor("pre");this._inUserDraw=!0;try{y.draw()}finally{this._inUserDraw=!1}this.callRegisteredHooksFor("post")}}}};a=a.default;F.default=a},{"./main":283,"core-js/modules/es.object.assign":183}],296:[function(a,R,F){function z(w){if(!(w=function(r){if(Array.isArray(r)){for(var l=0,h=Array(r.length);l<r.length;l++)h[l]=r[l];return h}}(w)||
function(r){if(Symbol.iterator in Object(r)||"[object Arguments]"===Object.prototype.toString.call(r))return Array.from(r)}(w)))throw new TypeError("Invalid attempt to spread non-iterable instance");return w}a("core-js/modules/es.symbol");a("core-js/modules/es.symbol.description");a("core-js/modules/es.symbol.iterator");a("core-js/modules/es.array.from");a("core-js/modules/es.array.iterator");a("core-js/modules/es.object.get-prototype-of");a("core-js/modules/es.object.to-string");a("core-js/modules/es.regexp.to-string");
a("core-js/modules/es.string.iterator");a("core-js/modules/es.typed-array.uint8-array");a("core-js/modules/es.typed-array.copy-within");a("core-js/modules/es.typed-array.every");a("core-js/modules/es.typed-array.fill");a("core-js/modules/es.typed-array.filter");a("core-js/modules/es.typed-array.find");a("core-js/modules/es.typed-array.find-index");a("core-js/modules/es.typed-array.for-each");a("core-js/modules/es.typed-array.includes");a("core-js/modules/es.typed-array.index-of");a("core-js/modules/es.typed-array.iterator");
a("core-js/modules/es.typed-array.join");a("core-js/modules/es.typed-array.last-index-of");a("core-js/modules/es.typed-array.map");a("core-js/modules/es.typed-array.reduce");a("core-js/modules/es.typed-array.reduce-right");a("core-js/modules/es.typed-array.reverse");a("core-js/modules/es.typed-array.set");a("core-js/modules/es.typed-array.slice");a("core-js/modules/es.typed-array.some");a("core-js/modules/es.typed-array.sort");a("core-js/modules/es.typed-array.subarray");a("core-js/modules/es.typed-array.to-locale-string");
a("core-js/modules/es.typed-array.to-string");a("core-js/modules/web.dom-collections.iterator");a("core-js/modules/es.array.iterator");a("core-js/modules/es.object.get-prototype-of");a("core-js/modules/es.object.to-string");a("core-js/modules/es.typed-array.uint8-array");a("core-js/modules/es.typed-array.copy-within");a("core-js/modules/es.typed-array.every");a("core-js/modules/es.typed-array.fill");a("core-js/modules/es.typed-array.filter");a("core-js/modules/es.typed-array.find");a("core-js/modules/es.typed-array.find-index");
a("core-js/modules/es.typed-array.for-each");a("core-js/modules/es.typed-array.includes");a("core-js/modules/es.typed-array.index-of");a("core-js/modules/es.typed-array.iterator");a("core-js/modules/es.typed-array.join");a("core-js/modules/es.typed-array.last-index-of");a("core-js/modules/es.typed-array.map");a("core-js/modules/es.typed-array.reduce");a("core-js/modules/es.typed-array.reduce-right");a("core-js/modules/es.typed-array.reverse");a("core-js/modules/es.typed-array.set");a("core-js/modules/es.typed-array.slice");
a("core-js/modules/es.typed-array.some");a("core-js/modules/es.typed-array.sort");a("core-js/modules/es.typed-array.subarray");a("core-js/modules/es.typed-array.to-locale-string");a("core-js/modules/es.typed-array.to-string");Object.defineProperty(F,"__esModule",{value:!0});F.default=void 0;var y=(a=a("./main"))&&a.__esModule?a:{default:a};y.default.prototype.applyMatrix=function(){var w=(0>=arguments.length?void 0:arguments[0])instanceof Object.getPrototypeOf(Uint8Array);return Array.isArray(0>=
arguments.length?void 0:arguments[0])||w?(w=this._renderer).applyMatrix.apply(w,z(0>=arguments.length?void 0:arguments[0])):(w=this._renderer).applyMatrix.apply(w,arguments),this};y.default.prototype.resetMatrix=function(){return this._renderer.resetMatrix(),this};y.default.prototype.rotate=function(w,r){return y.default._validateParameters("rotate",arguments),this._renderer.rotate(this._toRadians(w),r),this};y.default.prototype.rotateX=function(w){return this._assert3d("rotateX"),y.default._validateParameters("rotateX",
arguments),this._renderer.rotateX(this._toRadians(w)),this};y.default.prototype.rotateY=function(w){return this._assert3d("rotateY"),y.default._validateParameters("rotateY",arguments),this._renderer.rotateY(this._toRadians(w)),this};y.default.prototype.rotateZ=function(w){return this._assert3d("rotateZ"),y.default._validateParameters("rotateZ",arguments),this._renderer.rotateZ(this._toRadians(w)),this};y.default.prototype.scale=function(w,r,l){var h;return y.default._validateParameters("scale",arguments),
w instanceof y.default.Vector?(w=(h=w).x,r=h.y,l=h.z):Array.isArray(w)&&(w=(h=w)[0],r=h[1],l=h[2]||1),isNaN(r)?r=l=w:isNaN(l)&&(l=1),this._renderer.scale(w,r,l),this};y.default.prototype.shearX=function(w){y.default._validateParameters("shearX",arguments);w=this._toRadians(w);return this._renderer.applyMatrix(1,0,Math.tan(w),1,0,0),this};y.default.prototype.shearY=function(w){y.default._validateParameters("shearY",arguments);w=this._toRadians(w);return this._renderer.applyMatrix(1,Math.tan(w),0,1,
0,0),this};y.default.prototype.translate=function(w,r,l){return y.default._validateParameters("translate",arguments),this._renderer.isP3D?this._renderer.translate(w,r,l):this._renderer.translate(w,r),this};a=y.default;F.default=a},{"./main":283,"core-js/modules/es.array.from":162,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-prototype-of":188,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,
"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.typed-array.copy-within":213,"core-js/modules/es.typed-array.every":214,"core-js/modules/es.typed-array.fill":215,"core-js/modules/es.typed-array.filter":216,"core-js/modules/es.typed-array.find":218,"core-js/modules/es.typed-array.find-index":217,"core-js/modules/es.typed-array.for-each":221,"core-js/modules/es.typed-array.includes":222,"core-js/modules/es.typed-array.index-of":223,"core-js/modules/es.typed-array.iterator":226,
"core-js/modules/es.typed-array.join":227,"core-js/modules/es.typed-array.last-index-of":228,"core-js/modules/es.typed-array.map":229,"core-js/modules/es.typed-array.reduce":231,"core-js/modules/es.typed-array.reduce-right":230,"core-js/modules/es.typed-array.reverse":232,"core-js/modules/es.typed-array.set":233,"core-js/modules/es.typed-array.slice":234,"core-js/modules/es.typed-array.some":235,"core-js/modules/es.typed-array.sort":236,"core-js/modules/es.typed-array.subarray":237,"core-js/modules/es.typed-array.to-locale-string":238,
"core-js/modules/es.typed-array.to-string":239,"core-js/modules/es.typed-array.uint8-array":242,"core-js/modules/web.dom-collections.iterator":246}],297:[function(a,R,F){function z(l){return(z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(h){return typeof h}:function(h){return h&&"function"==typeof Symbol&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(l)}function y(l){if(!(l=function(h){if(Array.isArray(h)){for(var d=0,b=Array(h.length);d<h.length;d++)b[d]=
h[d];return b}}(l)||function(h){if(Symbol.iterator in Object(h)||"[object Arguments]"===Object.prototype.toString.call(h))return Array.from(h)}(l)))throw new TypeError("Invalid attempt to spread non-iterable instance");return l}function w(l){return(w="function"==typeof Symbol&&"symbol"===z(Symbol.iterator)?function(h){return z(h)}:function(h){return h&&"function"==typeof Symbol&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":z(h)})(l)}a("core-js/modules/es.symbol");a("core-js/modules/es.symbol.description");
a("core-js/modules/es.symbol.iterator");a("core-js/modules/es.array.for-each");a("core-js/modules/es.array.from");a("core-js/modules/es.array.iterator");a("core-js/modules/es.object.keys");a("core-js/modules/es.object.to-string");a("core-js/modules/es.regexp.exec");a("core-js/modules/es.regexp.to-string");a("core-js/modules/es.string.ends-with");a("core-js/modules/es.string.iterator");a("core-js/modules/es.string.replace");a("core-js/modules/web.dom-collections.for-each");a("core-js/modules/web.dom-collections.iterator");
a("core-js/modules/es.symbol");a("core-js/modules/es.symbol.description");a("core-js/modules/es.symbol.iterator");a("core-js/modules/es.array.for-each");a("core-js/modules/es.array.iterator");a("core-js/modules/es.object.keys");a("core-js/modules/es.object.to-string");a("core-js/modules/es.regexp.exec");a("core-js/modules/es.regexp.to-string");a("core-js/modules/es.string.ends-with");a("core-js/modules/es.string.iterator");a("core-js/modules/es.string.replace");a("core-js/modules/web.dom-collections.for-each");
a("core-js/modules/web.dom-collections.iterator");var r=(a=a("../core/main"))&&a.__esModule?a:{default:a};r.default.prototype.storeItem=function(l,h){"string"!=typeof l&&console.log("The argument that you passed to storeItem() - ".concat(l," is not a string."));l.endsWith("p5TypeID")&&console.log("The argument that you passed to storeItem() - ".concat(l," must not end with 'p5TypeID'."));void 0===h&&console.log("You cannot store undefined variables using storeItem().");var d=w(h);switch(d){case "number":case "boolean":h=
h.toString();break;case "object":h instanceof r.default.Color?d="p5.Color":h instanceof r.default.Vector&&(d="p5.Vector",h=[h.x,h.y,h.z]),h=JSON.stringify(h)}localStorage.setItem(l,h);l="".concat(l,"p5TypeID");localStorage.setItem(l,d)};r.default.prototype.getItem=function(l){var h=localStorage.getItem(l),d=localStorage.getItem("".concat(l,"p5TypeID"));if(void 0===d)console.log("Unable to determine type of item stored under ".concat(l,"in local storage. Did you save the item with something other than setItem()?"));
else if(null!==h)switch(d){case "number":h=parseFloat(h);break;case "boolean":h="true"===h;break;case "object":h=JSON.parse(h);break;case "p5.Color":h=JSON.parse(h);h=this.color.apply(this,y(h.levels));break;case "p5.Vector":h=JSON.parse(h),h=this.createVector.apply(this,y(h))}return h};r.default.prototype.clearStorage=function(){var l=this;Object.keys(localStorage).forEach(function(h){h.endsWith("p5TypeID")&&l.removeItem(h.replace("p5TypeID",""))})};r.default.prototype.removeItem=function(l){"string"!=
typeof l&&console.log("The argument that you passed to removeItem() - ".concat(l," is not a string."));localStorage.removeItem(l);localStorage.removeItem("".concat(l,"p5TypeID"))}},{"../core/main":283,"core-js/modules/es.array.for-each":161,"core-js/modules/es.array.from":162,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.keys":189,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.ends-with":198,
"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.replace":204,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.for-each":245,"core-js/modules/web.dom-collections.iterator":246}],298:[function(a,R,F){function z(k){return(z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&
n!==Symbol.prototype?"symbol":typeof n})(k)}function y(k){return(y="function"==typeof Symbol&&"symbol"===z(Symbol.iterator)?function(n){return z(n)}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":z(n)})(k)}function w(k,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");k.prototype=Object.create(n&&n.prototype,{constructor:{value:k,writable:!0,configurable:!0}});n&&r(k,n)}function r(k,
n){return(r=Object.setPrototypeOf||function(q,u){return q.__proto__=u,q})(k,n)}function l(k){return function(){var n,q=h(k);q=(n=function(){if("undefined"!=typeof Reflect&&Reflect.construct&&!Reflect.construct.sham){if("function"==typeof Proxy)return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch(u){}}}()?(n=h(this).constructor,Reflect.construct(q,arguments,n)):q.apply(this,arguments),this);if(!n||"object"!==y(n)&&"function"!=typeof n){if(void 0!==q)return q;
throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return n}}function h(k){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)})(k)}function d(k,n){if(!(k instanceof n))throw new TypeError("Cannot call a class as a function");}function b(k,n){for(var q=0;q<n.length;q++){var u=n[q];u.enumerable=u.enumerable||!1;u.configurable=!0;"value"in u&&(u.writable=!0);Object.defineProperty(k,u.key,u)}}function g(k,n,
q){n&&b(k.prototype,n);q&&b(k,q)}a("core-js/modules/es.symbol");a("core-js/modules/es.symbol.description");a("core-js/modules/es.symbol.iterator");a("core-js/modules/es.array.concat");a("core-js/modules/es.array.iterator");a("core-js/modules/es.object.get-prototype-of");a("core-js/modules/es.object.keys");a("core-js/modules/es.object.to-string");a("core-js/modules/es.reflect.construct");a("core-js/modules/es.regexp.to-string");a("core-js/modules/es.string.iterator");a("core-js/modules/web.dom-collections.iterator");
a("core-js/modules/es.array.concat");a("core-js/modules/es.object.keys");Object.defineProperty(F,"__esModule",{value:!0});F.default=void 0;var p=(a=a("../core/main"))&&a.__esModule?a:{default:a};p.default.prototype.createStringDict=function(k,n){return p.default._validateParameters("createStringDict",arguments),new p.default.StringDict(k,n)};p.default.prototype.createNumberDict=function(k,n){return p.default._validateParameters("createNumberDict",arguments),new p.default.NumberDict(k,n)};p.default.TypedDict=
function(){function k(n,q){return d(this,k),n instanceof Object?this.data=n:(this.data={},this.data[n]=q),this}return g(k,[{key:"size",value:function(){return Object.keys(this.data).length}},{key:"hasKey",value:function(n){return this.data.hasOwnProperty(n)}},{key:"get",value:function(n){if(this.data.hasOwnProperty(n))return this.data[n];console.log("".concat(n," does not exist in this Dictionary"))}},{key:"set",value:function(n,q){this._validate(q)?this.data[n]=q:console.log("Those values dont work for this dictionary type.")}},
{key:"_addObj",value:function(n){for(var q in n)this.set(q,n[q])}},{key:"create",value:function(n,q){n instanceof Object&&void 0===q?this._addObj(n):void 0!==n?this.set(n,q):console.log("In order to create a new Dictionary entry you must pass an object or a key, value pair")}},{key:"clear",value:function(){this.data={}}},{key:"remove",value:function(n){if(!this.data.hasOwnProperty(n))throw Error("".concat(n," does not exist in this Dictionary"));delete this.data[n]}},{key:"print",value:function(){for(var n in this.data)console.log("key:".concat(n,
" value:").concat(this.data[n]))}},{key:"saveTable",value:function(n){var q="";for(u in this.data)q+="".concat(u,",").concat(this.data[u],"\n");var u=new Blob([q],{type:"text/csv"});p.default.prototype.downloadFile(u,n||"mycsv","csv")}},{key:"saveJSON",value:function(n,q){p.default.prototype.saveJSON(this.data,n,q)}},{key:"_validate",value:function(n){return!0}}]),k}();p.default.StringDict=function(){function k(){d(this,k);for(var q=arguments.length,u=Array(q),v=0;v<q;v++)u[v]=arguments[v];return n.call.apply(n,
[this].concat(u))}w(k,p.default.TypedDict);var n=l(k);return g(k,[{key:"_validate",value:function(q){return"string"==typeof q}}]),k}();p.default.NumberDict=function(){function k(){d(this,k);for(var q=arguments.length,u=Array(q),v=0;v<q;v++)u[v]=arguments[v];return n.call.apply(n,[this].concat(u))}w(k,p.default.TypedDict);var n=l(k);return g(k,[{key:"_validate",value:function(q){return"number"==typeof q}},{key:"add",value:function(q,u){this.data.hasOwnProperty(q)?this.data[q]+=u:console.log("The key - ".concat(q,
" does not exist in this dictionary."))}},{key:"sub",value:function(q,u){this.add(q,-u)}},{key:"mult",value:function(q,u){this.data.hasOwnProperty(q)?this.data[q]*=u:console.log("The key - ".concat(q," does not exist in this dictionary."))}},{key:"div",value:function(q,u){this.data.hasOwnProperty(q)?this.data[q]/=u:console.log("The key - ".concat(q," does not exist in this dictionary."))}},{key:"_valueTest",value:function(q){if(0===Object.keys(this.data).length)throw Error("Unable to search for a minimum or maximum value on an empty NumberDict");
if(1===Object.keys(this.data).length)return this.data[Object.keys(this.data)[0]];var u,v=this.data[Object.keys(this.data)[0]];for(u in this.data)this.data[u]*q<v*q&&(v=this.data[u]);return v}},{key:"minValue",value:function(){return this._valueTest(1)}},{key:"maxValue",value:function(){return this._valueTest(-1)}},{key:"_keyTest",value:function(q){if(0===Object.keys(this.data).length)throw Error("Unable to use minValue on an empty NumberDict");if(1===Object.keys(this.data).length)return Object.keys(this.data)[0];
for(var u=Object.keys(this.data)[0],v=1;v<Object.keys(this.data).length;v++)Object.keys(this.data)[v]*q<u*q&&(u=Object.keys(this.data)[v]);return u}},{key:"minKey",value:function(){return this._keyTest(1)}},{key:"maxKey",value:function(){return this._keyTest(-1)}}]),k}();a=p.default.TypedDict;F.default=a},{"../core/main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-prototype-of":188,"core-js/modules/es.object.keys":189,"core-js/modules/es.object.to-string":190,
"core-js/modules/es.reflect.construct":192,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.iterator":246}],299:[function(a,R,F){function z(v){return(z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(x){return typeof x}:function(x){return x&&"function"==typeof Symbol&&x.constructor===Symbol&&
x!==Symbol.prototype?"symbol":typeof x})(v)}function y(v,x){for(var C=0;C<x.length;C++){var A=x[C];A.enumerable=A.enumerable||!1;A.configurable=!0;"value"in A&&(A.writable=!0);Object.defineProperty(v,A.key,A)}}function w(v,x,C){x&&y(v.prototype,x);C&&y(v,C)}function r(v,x){return(r=Object.setPrototypeOf||function(C,A){return C.__proto__=A,C})(v,x)}function l(v){return function(){var x,C,A=d(v);return x=function(){if("undefined"!=typeof Reflect&&Reflect.construct&&!Reflect.construct.sham){if("function"==
typeof Proxy)return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch(M){}}}()?(x=d(this).constructor,Reflect.construct(A,arguments,x)):A.apply(this,arguments),A=this,!(C=x)||"object"!==g(C)&&"function"!=typeof C?h(A):C}}function h(v){if(void 0===v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v}function d(v){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(x){return x.__proto__||Object.getPrototypeOf(x)})(v)}
function b(v,x){if(!(v instanceof x))throw new TypeError("Cannot call a class as a function");}function g(v){return(g="function"==typeof Symbol&&"symbol"===z(Symbol.iterator)?function(x){return z(x)}:function(x){return x&&"function"==typeof Symbol&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":z(x)})(v)}function p(v,x,C){(x._userNode||document.body).appendChild(v);C=new (C?q.default.MediaElement:q.default.Element)(v,x);return x._elements.push(C),C}function k(v,x,C,A){var M=document.createElement(x),
K=("string"==typeof(C=C||"")&&(C=[C]),!0);x=!1;var G=void 0;try{for(var U,J=C[Symbol.iterator]();!(K=(U=J.next()).done);K=!0){var I=U.value,T=document.createElement("source");T.setAttribute("src",I);M.appendChild(T)}}catch(ea){x=!0,G=ea}finally{try{K||null==J.return||J.return()}finally{if(x)throw G;}}"function"==typeof A&&M.addEventListener("canplaythrough",function da(){A();M.removeEventListener("canplaythrough",da)});var Y=p(M,v,!0);return Y.loadedmetadata=!1,M.addEventListener("loadedmetadata",
function(){Y.width=M.videoWidth;Y.height=M.videoHeight;0===Y.elt.width&&(Y.elt.width=M.videoWidth);0===Y.elt.height&&(Y.elt.height=M.videoHeight);Y.presetPlaybackRate&&(Y.elt.playbackRate=Y.presetPlaybackRate,delete Y.presetPlaybackRate);Y.loadedmetadata=!0}),Y}function n(v,x,C,A){b(this,n);this.callback=v;this.time=x;this.id=C;this.val=A}a("core-js/modules/es.symbol");a("core-js/modules/es.symbol.description");a("core-js/modules/es.symbol.iterator");a("core-js/modules/es.array.every");a("core-js/modules/es.array.filter");
a("core-js/modules/es.array.for-each");a("core-js/modules/es.array.from");a("core-js/modules/es.array.index-of");a("core-js/modules/es.array.iterator");a("core-js/modules/es.array.map");a("core-js/modules/es.array.slice");a("core-js/modules/es.array.splice");a("core-js/modules/es.function.name");a("core-js/modules/es.object.assign");a("core-js/modules/es.object.get-prototype-of");a("core-js/modules/es.object.to-string");a("core-js/modules/es.promise");a("core-js/modules/es.reflect.construct");a("core-js/modules/es.regexp.exec");
a("core-js/modules/es.regexp.to-string");a("core-js/modules/es.string.iterator");a("core-js/modules/es.string.replace");a("core-js/modules/es.string.split");a("core-js/modules/es.string.trim");a("core-js/modules/web.dom-collections.for-each");a("core-js/modules/web.dom-collections.iterator");a("core-js/modules/web.url");a("core-js/modules/es.symbol");a("core-js/modules/es.symbol.description");a("core-js/modules/es.symbol.iterator");a("core-js/modules/es.array.every");a("core-js/modules/es.array.filter");
a("core-js/modules/es.array.for-each");a("core-js/modules/es.array.from");a("core-js/modules/es.array.index-of");a("core-js/modules/es.array.iterator");a("core-js/modules/es.array.map");a("core-js/modules/es.array.slice");a("core-js/modules/es.array.splice");a("core-js/modules/es.function.name");a("core-js/modules/es.object.assign");a("core-js/modules/es.object.to-string");a("core-js/modules/es.promise");a("core-js/modules/es.regexp.exec");a("core-js/modules/es.regexp.to-string");a("core-js/modules/es.string.iterator");
a("core-js/modules/es.string.replace");a("core-js/modules/es.string.split");a("core-js/modules/es.string.trim");a("core-js/modules/web.dom-collections.for-each");a("core-js/modules/web.dom-collections.iterator");a("core-js/modules/web.url");Object.defineProperty(F,"__esModule",{value:!0});F.default=void 0;var q=(a=a("../core/main"))&&a.__esModule?a:{default:a};q.default.prototype.select=function(v,x){q.default._validateParameters("select",arguments);return(x=this._getContainer(x).querySelector(v))?
this._wrapElement(x):null};q.default.prototype.selectAll=function(v,x){q.default._validateParameters("selectAll",arguments);var C=[],A=this._getContainer(x).querySelectorAll(v);if(A)for(var M=0;M<A.length;M++){var K=this._wrapElement(A[M]);C.push(K)}return C};q.default.prototype._getContainer=function(v){var x=document;return"string"==typeof v?x=document.querySelector(v)||document:v instanceof q.default.Element?x=v.elt:v instanceof HTMLElement&&(x=v),x};q.default.prototype._wrapElement=function(v){var x,
C=Array.prototype.slice.call(v.children);return"INPUT"===v.tagName&&"checkbox"===v.type?((x=new q.default.Element(v,this)).checked=function(){return 0===arguments.length?this.elt.checked:(this.elt.checked=!(0>=arguments.length||!arguments[0]),this)},x):"VIDEO"===v.tagName||"AUDIO"===v.tagName?new q.default.MediaElement(v,this):"SELECT"===v.tagName?this.createSelect(new q.default.Element(v,this)):0<C.length&&C.every(function(A){return"INPUT"===A.tagName||"LABEL"===A.tagName})&&("DIV"===v.tagName||
"SPAN"===v.tagName)?this.createRadio(new q.default.Element(v,this)):new q.default.Element(v,this)};q.default.prototype.removeElements=function(v){q.default._validateParameters("removeElements",arguments);this._elements.filter(function(x){return!(x.elt instanceof HTMLCanvasElement)}).map(function(x){return x.remove()})};q.default.Element.prototype.changed=function(v){return q.default.Element._adjustListener("change",v,this),this};q.default.Element.prototype.input=function(v){return q.default.Element._adjustListener("input",
v,this),this};q.default.prototype.createDiv=function(){var v=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",x=document.createElement("div");return x.innerHTML=v,p(x,this)};q.default.prototype.createP=function(){var v=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",x=document.createElement("p");return x.innerHTML=v,p(x,this)};q.default.prototype.createSpan=function(){var v=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",x=document.createElement("span");return x.innerHTML=
v,p(x,this)};q.default.prototype.createImg=function(){q.default._validateParameters("createImg",arguments);var v,x=document.createElement("img"),C=arguments;return 1<C.length&&"string"==typeof C[1]&&(x.alt=C[1]),2<C.length&&"string"==typeof C[2]&&(x.crossOrigin=C[2]),x.src=C[0],v=p(x,this),x.addEventListener("load",function(){v.width=x.offsetWidth||x.width;v.height=x.offsetHeight||x.height;var A=C[C.length-1];"function"==typeof A&&A(v)}),v};q.default.prototype.createA=function(v,x,C){q.default._validateParameters("createA",
arguments);var A=document.createElement("a");return A.href=v,A.innerHTML=x,C&&(A.target=C),p(A,this)};q.default.prototype.createSlider=function(v,x,C,A){q.default._validateParameters("createSlider",arguments);var M=document.createElement("input");return M.type="range",M.min=v,M.max=x,0===A?M.step=1E-18:A&&(M.step=A),"number"==typeof C&&(M.value=C),p(M,this)};q.default.prototype.createButton=function(v,x){q.default._validateParameters("createButton",arguments);var C=document.createElement("button");
return C.innerHTML=v,x&&(C.value=x),p(C,this)};q.default.prototype.createCheckbox=function(){for(var v=arguments.length,x=Array(v),C=0;C<v;C++)x[C]=arguments[C];q.default._validateParameters("createCheckbox",x);v=document.createElement("div");C=document.createElement("input");var A=(C.type="checkbox",document.createElement("label")),M=(A.appendChild(C),v.appendChild(A),p(v,this));return M.checked=function(){var K=M.elt.firstElementChild.getElementsByTagName("input")[0];if(K){if(0===arguments.length)return K.checked;
K.checked=!(0>=arguments.length||!arguments[0])}return M},this.value=function(K){return M.value=K,this},x[0]&&(M.value(x[0]),(v=document.createElement("span")).innerHTML=x[0],A.appendChild(v)),x[1]&&(C.checked=!0),M};q.default.prototype.createSelect=function(){for(var v,x=arguments.length,C=Array(x),A=0;A<x;A++)C[A]=arguments[A];q.default._validateParameters("createSelect",C);var M;x=C[0];return x instanceof q.default.Element&&x.elt instanceof HTMLSelectElement?this.elt=(v=x).elt:x instanceof HTMLSelectElement?
(v=p(x,this),this.elt=x):(M=document.createElement("select"),x&&"boolean"==typeof x&&M.setAttribute("multiple","true"),v=p(M,this),this.elt=M),v.option=function(K,G){if(void 0!==K){for(var U,J=0;J<this.elt.length;J+=1)if(this.elt[J].textContent===K){var I=J;break}void 0!==I?!1===G?this.elt.remove(I):this.elt[I].value=G:((U=document.createElement("option")).textContent=K,U.value=void 0===G?K:G,this.elt.appendChild(U),this._pInst._elements.push(U))}},v.selected=function(K){if(void 0!==K){for(var G=
0;G<this.elt.length;G+=1)this.elt[G].value.toString()===K.toString()&&(this.elt.selectedIndex=G);return this}if(this.elt.getAttribute("multiple")){K=[];var U=!0,J=!1,I=void 0;try{for(var T=this.elt.selectedOptions[Symbol.iterator]();!(U=(G=T.next()).done);U=!0)K.push(G.value.value)}catch(Y){J=!0,I=Y}finally{try{U||null==T.return||T.return()}finally{if(J)throw I;}}return K}return this.elt.value},v.disable=function(K){if("string"==typeof K)for(var G=0;G<this.elt.length;G++)this.elt[G].value.toString()===
K&&(this.elt[G].disabled=!0,this.elt[G].selected=!1);else this.elt.disabled=!0;return this},v.enable=function(K){if("string"==typeof K)for(var G=0;G<this.elt.length;G++)this.elt[G].value.toString()===K&&(this.elt[G].disabled=!1,this.elt[G].selected=!1);else for(this.elt.disabled=!1,K=0;K<this.elt.length;K++)this.elt[K].disabled=!1,this.elt[K].selected=!1;return this},v};var u=0;q.default.prototype.createRadio=function(){function v(K){return K instanceof HTMLInputElement&&"radio"===K.type}var x,C,
A,M=0>=arguments.length?void 0:arguments[0];M instanceof q.default.Element&&(M.elt instanceof HTMLDivElement||M.elt instanceof HTMLSpanElement)?(x=M,this.elt=M.elt):M instanceof HTMLDivElement||M instanceof HTMLSpanElement?(x=p(M,this),C=this.elt=M,"string"==typeof(1>=arguments.length?void 0:arguments[1])&&(A=1>=arguments.length?void 0:arguments[1])):("string"==typeof M&&(A=M),C=document.createElement("div"),x=p(C,this),this.elt=C);x._name=A||"radioOption_".concat(u++);return x._getOptionsArray=function(){return Array.from(this.elt.children).filter(function(K){return v(K)||
K instanceof HTMLLabelElement&&v(K.firstElementChild)}).map(function(K){return v(K)?K:K.firstElementChild})},x.option=function(K,G){var U,J,I=!0,T=!1,Y=void 0;try{for(var ea,da=x._getOptionsArray()[Symbol.iterator]();!(I=(ea=da.next()).done);I=!0){var X=ea.value;if(X.value===K){var Z=X;break}}}catch(L){T=!0,Y=L}finally{try{I||null==da.return||da.return()}finally{if(T)throw Y;}}return void 0===Z&&((Z=document.createElement("input")).setAttribute("type","radio"),Z.setAttribute("value",K)),Z.setAttribute("name",
x._name),Z.parentElement instanceof HTMLLabelElement?U=Z.parentElement:(U=document.createElement("label")).insertAdjacentElement("afterbegin",Z),U.lastElementChild instanceof HTMLSpanElement?J=U.lastElementChild:(J=document.createElement("span"),Z.insertAdjacentElement("afterend",J)),J.innerHTML=void 0===G?K:G,this.elt.appendChild(U),Z},x.remove=function(K){var G=!0,U=!1,J=void 0;try{for(var I,T=x._getOptionsArray()[Symbol.iterator]();!(G=(I=T.next()).done);G=!0){var Y=I.value;if(Y.value===K)return void(Y.parentElement instanceof
HTMLLabelElement?Y.parentElement:Y).remove()}}catch(ea){U=!0,J=ea}finally{try{G||null==T.return||T.return()}finally{if(U)throw J;}}},x.value=function(){var K="",G=!0,U=!1,J=void 0;try{for(var I,T=x._getOptionsArray()[Symbol.iterator]();!(G=(I=T.next()).done);G=!0){var Y=I.value;if(Y.checked){K=Y.value;break}}}catch(ea){U=!0,J=ea}finally{try{G||null==T.return||T.return()}finally{if(U)throw J;}}return K},x.selected=function(K){var G=null;if(void 0===K){K=!0;var U=!1,J=void 0;try{for(var I,T=x._getOptionsArray()[Symbol.iterator]();!(K=
(I=T.next()).done);K=!0){var Y=I.value;if(Y.checked){G=Y;break}}}catch(Z){U=!0,J=Z}finally{try{K||null==T.return||T.return()}finally{if(U)throw J;}}}else{x._getOptionsArray().forEach(function(Z){Z.checked=!1;Z.removeAttribute("checked")});I=!0;U=!1;J=void 0;try{for(var ea,da=x._getOptionsArray()[Symbol.iterator]();!(I=(ea=da.next()).done);I=!0){var X=ea.value;X.value===K&&(X.setAttribute("checked",!0),X.checked=!0,G=X)}}catch(Z){U=!0,J=Z}finally{try{I||null==da.return||da.return()}finally{if(U)throw J;
}}}return G},x.disable=function(){var K=!(0<arguments.length&&void 0!==arguments[0])||arguments[0],G=!0,U=!1,J=void 0;try{for(var I,T=x._getOptionsArray()[Symbol.iterator]();!(G=(I=T.next()).done);G=!0)I.value.setAttribute("disabled",K)}catch(Y){U=!0,J=Y}finally{try{G||null==T.return||T.return()}finally{if(U)throw J;}}},x};q.default.prototype.createColorPicker=function(v){q.default._validateParameters("createColorPicker",arguments);var x=document.createElement("input");return x.type="color",v?v instanceof
q.default.Color?x.value=v.toString("#rrggbb"):(q.default.prototype._colorMode="rgb",q.default.prototype._colorMaxes={rgb:[255,255,255,255],hsb:[360,100,100,1],hsl:[360,100,100,1]},x.value=q.default.prototype.color(v).toString("#rrggbb")):x.value="#000000",(x=p(x,this)).color=function(){return v&&(v.mode&&(q.default.prototype._colorMode=v.mode),v.maxes&&(q.default.prototype._colorMaxes=v.maxes)),q.default.prototype.color(this.elt.value)},x};q.default.prototype.createInput=function(){var v=0<arguments.length&&
void 0!==arguments[0]?arguments[0]:"",x=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"text",C=(q.default._validateParameters("createInput",arguments),document.createElement("input"));return C.setAttribute("value",v),C.setAttribute("type",x),p(C,this)};q.default.prototype.createFileInput=function(v){var x,C=1<arguments.length&&void 0!==arguments[1]&&arguments[1];q.default._validateParameters("createFileInput",arguments);if(window.File&&window.FileReader&&window.FileList&&window.Blob)return(x=
document.createElement("input")).setAttribute("type","file"),C&&x.setAttribute("multiple",!0),x.addEventListener("change",function(A){var M=!0,K=!1,G=void 0;try{for(var U,J=A.target.files[Symbol.iterator]();!(M=(U=J.next()).done);M=!0)q.default.File._load(U.value,v)}catch(I){K=!0,G=I}finally{try{M||null==J.return||J.return()}finally{if(K)throw G;}}},!1),p(x,this);console.log("The File APIs are not fully supported in this browser. Cannot create element.")};q.default.prototype.createVideo=function(v,
x){return q.default._validateParameters("createVideo",arguments),k(this,"video",v,x)};q.default.prototype.createAudio=function(v,x){return q.default._validateParameters("createAudio",arguments),k(this,"audio",v,x)};q.default.prototype.VIDEO="video";q.default.prototype.AUDIO="audio";void 0===navigator.mediaDevices&&(navigator.mediaDevices={});void 0===navigator.mediaDevices.getUserMedia&&(navigator.mediaDevices.getUserMedia=function(v){var x=navigator.webkitGetUserMedia||navigator.mozGetUserMedia;
return x?new Promise(function(C,A){x.call(navigator,v,C,A)}):Promise.reject(Error("getUserMedia is not implemented in this browser"))});q.default.prototype.createCapture=function(){for(var v=arguments.length,x=Array(v),C=0;C<v;C++)x[C]=arguments[C];if(q.default._validateParameters("createCapture",x),!navigator.mediaDevices||!navigator.mediaDevices.getUserMedia)throw new DOMException("getUserMedia not supported in this browser");var A;C=v=!0;for(var M=!1,K=0;K<x.length;K++){var G=x[K];G===q.default.prototype.VIDEO?
C=!1:G===q.default.prototype.AUDIO?v=!1:"object"===g(G)?(void 0!==G.flipped&&(M=G.flipped,delete G.flipped),U=Object.assign({},U,G)):"function"==typeof G&&(A=G)}var U=Object.assign({},{video:v,audio:C},U),J=document.createElement("video"),I=(J.setAttribute("playsinline",""),navigator.mediaDevices.getUserMedia(U).then(function(T){try{"srcObject"in J?J.srcObject=T:J.src=window.URL.createObjectURL(T)}catch(Y){J.src=T}}).catch(function(T){"NotFoundError"===T.name&&q.default._friendlyError("No webcam found on this device",
"createCapture");"NotAllowedError"===T.name&&q.default._friendlyError("Access to the camera was denied","createCapture");console.error(T)}),p(J,this,!0));return I.loadedmetadata=!1,J.addEventListener("loadedmetadata",function(){J.play();J.width?(I.width=J.width,I.height=J.height,M&&(I.elt.style.transform="scaleX(-1)")):(I.width=I.elt.width=J.videoWidth,I.height=I.elt.height=J.videoHeight);I.loadedmetadata=!0;A&&A(J.srcObject)}),I.flipped=M,I};q.default.prototype.createElement=function(v,x){q.default._validateParameters("createElement",
arguments);v=document.createElement(v);return void 0!==x&&(v.innerHTML=x),p(v,this)};q.default.Element.prototype.addClass=function(v){return this.elt.className?this.hasClass(v)||(this.elt.className=this.elt.className+" "+v):this.elt.className=v,this};q.default.Element.prototype.removeClass=function(v){return this.elt.classList.remove(v),this};q.default.Element.prototype.hasClass=function(v){return this.elt.classList.contains(v)};q.default.Element.prototype.toggleClass=function(v){return this.elt.classList.contains(v)?
this.elt.classList.remove(v):this.elt.classList.add(v),this};q.default.Element.prototype.child=function(v){return void 0===v?this.elt.childNodes:("string"==typeof v?("#"===v[0]&&(v=v.substring(1)),v=document.getElementById(v)):v instanceof q.default.Element&&(v=v.elt),v instanceof HTMLElement&&this.elt.appendChild(v),this)};q.default.Element.prototype.center=function(v){var x=this.elt.style.display,C="none"===this.elt.style.display,A="none"===this.parent().style.display,M=this.elt.offsetLeft,K=this.elt.offsetTop,
G=(C&&this.show(),A&&this.parent().show(),this.elt.style.display="block",this.position(0,0),Math.abs(this.parent().offsetWidth-this.elt.offsetWidth)),U=Math.abs(this.parent().offsetHeight-this.elt.offsetHeight);return"both"===v||void 0===v?this.position(G/2+this.parent().offsetLeft,U/2+this.parent().offsetTop):"horizontal"===v?this.position(G/2+this.parent().offsetLeft,K):"vertical"===v&&this.position(M,U/2+this.parent().offsetTop),this.style("display",x),C&&this.hide(),A&&this.parent().hide(),this};
q.default.Element.prototype.html=function(){return 0===arguments.length?this.elt.innerHTML:(1>=arguments.length||!arguments[1]?this.elt.innerHTML=0>=arguments.length?void 0:arguments[0]:this.elt.insertAdjacentHTML("beforeend",0>=arguments.length?void 0:arguments[0]),this)};q.default.Element.prototype.position=function(){return 0===arguments.length?{x:this.elt.offsetLeft,y:this.elt.offsetTop}:(this.elt.style.position="static"!==(2>=arguments.length?void 0:arguments[2])&&"fixed"!==(2>=arguments.length?
void 0:arguments[2])&&"relative"!==(2>=arguments.length?void 0:arguments[2])&&"sticky"!==(2>=arguments.length?void 0:arguments[2])&&"initial"!==(2>=arguments.length?void 0:arguments[2])&&"inherit"!==(2>=arguments.length?void 0:arguments[2])?"absolute":2>=arguments.length?void 0:arguments[2],this.elt.style.left=(0>=arguments.length?void 0:arguments[0])+"px",this.elt.style.top=(1>=arguments.length?void 0:arguments[1])+"px",this.x=0>=arguments.length?void 0:arguments[0],this.y=1>=arguments.length?void 0:
arguments[1],this)};q.default.Element.prototype._translate=function(){this.elt.style.position="absolute";var v="";return this.elt.style.transform&&(v=(v=this.elt.style.transform.replace(/translate3d\(.*\)/g,"")).replace(/translate[X-Z]?\(.*\)/g,"")),2===arguments.length?this.elt.style.transform="translate("+(0>=arguments.length?void 0:arguments[0])+"px, "+(1>=arguments.length?void 0:arguments[1])+"px)":2<arguments.length&&(this.elt.style.transform="translate3d("+(0>=arguments.length?void 0:arguments[0])+
"px,"+(1>=arguments.length?void 0:arguments[1])+"px,"+(2>=arguments.length?void 0:arguments[2])+"px)",this.elt.parentElement.style.perspective=3===arguments.length?"1000px":(3>=arguments.length?void 0:arguments[3])+"px"),this.elt.style.transform+=v,this};q.default.Element.prototype._rotate=function(){var v="";return this.elt.style.transform&&(v=(v=this.elt.style.transform.replace(/rotate3d\(.*\)/g,"")).replace(/rotate[X-Z]?\(.*\)/g,"")),1===arguments.length?this.elt.style.transform="rotate("+(0>=
arguments.length?void 0:arguments[0])+"deg)":2===arguments.length?this.elt.style.transform="rotate("+(0>=arguments.length?void 0:arguments[0])+"deg, "+(1>=arguments.length?void 0:arguments[1])+"deg)":3===arguments.length&&(this.elt.style.transform="rotateX("+(0>=arguments.length?void 0:arguments[0])+"deg)",this.elt.style.transform+="rotateY("+(1>=arguments.length?void 0:arguments[1])+"deg)",this.elt.style.transform+="rotateZ("+(2>=arguments.length?void 0:arguments[2])+"deg)"),this.elt.style.transform+=
v,this};q.default.Element.prototype.style=function(v,x){if(void 0===(x=x instanceof q.default.Color?"rgba("+x.levels[0]+","+x.levels[1]+","+x.levels[2]+","+x.levels[3]/255+")":x)){if(-1===v.indexOf(":"))return window.getComputedStyle(this.elt).getPropertyValue(v);v=v.split(";");for(x=0;x<v.length;x++){var C=v[x].split(":");C[0]&&C[1]&&(this.elt.style[C[0].trim()]=C[1].trim())}}else this.elt.style[v]=x,"width"!==v&&"height"!==v&&"left"!==v&&"top"!==v||(x=window.getComputedStyle(this.elt).getPropertyValue(v).replace(/[^\d.]/g,
""),this[v]=Math.round(parseFloat(x,10)));return this};q.default.Element.prototype.attribute=function(v,x){if(null==this.elt.firstChild||"checkbox"!==this.elt.firstChild.type&&"radio"!==this.elt.firstChild.type)return void 0===x?this.elt.getAttribute(v):(this.elt.setAttribute(v,x),this);if(void 0===x)return this.elt.firstChild.getAttribute(v);for(var C=0;C<this.elt.childNodes.length;C++)this.elt.childNodes[C].setAttribute(v,x)};q.default.Element.prototype.removeAttribute=function(v){if(null!=this.elt.firstChild&&
("checkbox"===this.elt.firstChild.type||"radio"===this.elt.firstChild.type))for(var x=0;x<this.elt.childNodes.length;x++)this.elt.childNodes[x].removeAttribute(v);return this.elt.removeAttribute(v),this};q.default.Element.prototype.value=function(){return 0<arguments.length?(this.elt.value=0>=arguments.length?void 0:arguments[0],this):"range"===this.elt.type?parseFloat(this.elt.value):this.elt.value};q.default.Element.prototype.show=function(){return this.elt.style.display="block",this};q.default.Element.prototype.hide=
function(){return this.elt.style.display="none",this};q.default.Element.prototype.size=function(v,x){if(0===arguments.length)return{width:this.elt.offsetWidth,height:this.elt.offsetHeight};var C=v,A=x,M=q.default.prototype.AUTO;if(C!==M||A!==M){if(C===M?C=x*this.width/this.height:A===M&&(A=v*this.height/this.width),this.elt instanceof HTMLCanvasElement){var K;M={};var G=this.elt.getContext("2d");for(K in G)M[K]=G[K];for(K in this.elt.setAttribute("width",C*this._pInst._pixelDensity),this.elt.setAttribute("height",
A*this._pInst._pixelDensity),this.elt.style.width=C+"px",this.elt.style.height=A+"px",this._pInst.scale(this._pInst._pixelDensity,this._pInst._pixelDensity),M)this.elt.getContext("2d")[K]=M[K]}else this.elt.style.width=C+"px",this.elt.style.height=A+"px",this.elt.width=C,this.elt.height=A;this.width=C;this.height=A;this._pInst&&this._pInst._curElement&&this._pInst._curElement.elt===this.elt&&(this._pInst._setProperty("width",C),this._pInst._setProperty("height",A))}return this};q.default.Element.prototype.remove=
function(){this instanceof q.default.MediaElement&&(this.stop(),null!==(x=this.elt.srcObject)&&x.getTracks().forEach(function(C){C.stop()}));var v,x=this._pInst._elements.indexOf(this);for(v in-1!==x&&this._pInst._elements.splice(x,1),this._events)this.elt.removeEventListener(v,this._events[v]);this.elt&&this.elt.parentNode&&this.elt.parentNode.removeChild(this.elt)};q.default.Element.prototype.drop=function(v,x){var C;return window.File&&window.FileReader&&window.FileList&&window.Blob?(this._dragDisabled||
(this._dragDisabled=!0,this.elt.addEventListener("dragover",C=function(A){A.preventDefault()}),this.elt.addEventListener("dragleave",C)),q.default.Element._attachListener("drop",function(A){A.preventDefault();"function"==typeof x&&x.call(this,A);A=A.dataTransfer.files;var M=!0,K=!1,G=void 0;try{for(var U,J=A[Symbol.iterator]();!(M=(U=J.next()).done);M=!0)q.default.File._load(U.value,v)}catch(I){K=!0,G=I}finally{try{M||null==J.return||J.return()}finally{if(K)throw G;}}},this)):console.log("The File APIs are not fully supported in this browser."),
this};q.default.Element.prototype.draggable=function(v){function x(Y){var ea;Y=Y||window.event;J=M?(ea=Y.changedTouches,K=U-parseInt(ea[0].clientX),G=J-parseInt(ea[0].clientY),U=parseInt(ea[0].clientX),parseInt(ea[0].clientY)):(K=U-parseInt(Y.clientX),G=J-parseInt(Y.clientY),U=parseInt(Y.clientX),parseInt(Y.clientY));v.style.left=v.offsetLeft-K+"px";v.style.top=v.offsetTop-G+"px"}function C(){document.removeEventListener(I,C,!1);document.removeEventListener(T,x,!1)}var A,M="ontouchstart"in window,
K=0,G=0,U=0,J=0,I=M?"touchend":"mouseup",T=M?"touchmove":"mousemove";return void 0===v?A=v=this.elt:v!==this.elt&&v.elt!==this.elt&&(v=v.elt,A=this.elt),A.addEventListener(M?"touchstart":"mousedown",function(Y){var ea;Y=Y||window.event;J=M?(ea=Y.changedTouches,U=parseInt(ea[0].clientX),parseInt(ea[0].clientY)):(U=parseInt(Y.clientX),parseInt(Y.clientY));return document.addEventListener(I,C,!1),document.addEventListener(T,x,!1),!1},!1),A.style.cursor="move",this};a=function(v){function x(A,M){b(this,
x);var K=h(M=C.call(this,A,M));return M.elt.crossOrigin="anonymous",M._prevTime=0,M._cueIDCounter=0,M._cues=[],M.pixels=[],M._pixelsState=h(M),M._pixelDensity=1,M._modified=!1,M._frameOnCanvas=-1,Object.defineProperty(K,"src",{get:function(){var G=K.elt.children[0].src,U=K.elt.src===window.location.href?"":K.elt.src;return G===window.location.href?U:G},set:function(G){for(var U=0;U<K.elt.children.length;U++)K.elt.removeChild(K.elt.children[U]);U=document.createElement("source");U.src=G;A.appendChild(U);
K.elt.src=G;K.modified=!0}}),K._onended=function(){},K.elt.onended=function(){K._onended(K)},M}if("function"!=typeof v&&null!==v)throw new TypeError("Super expression must either be null or a function");x.prototype=Object.create(v&&v.prototype,{constructor:{value:x,writable:!0,configurable:!0}});v&&r(x,v);var C=l(x);return w(x,[{key:"play",value:function(){var A;return this.elt.currentTime===this.elt.duration&&(this.elt.currentTime=0),1<this.elt.readyState||this.elt.load(),(A=this.elt.play())&&A.catch&&
A.catch(function(M){"NotAllowedError"===M.name?console.error(M):console.error("Media play method encountered an unexpected error",M)}),this}},{key:"stop",value:function(){return this.elt.pause(),this.elt.currentTime=0,this}},{key:"pause",value:function(){return this.elt.pause(),this}},{key:"loop",value:function(){return this.elt.setAttribute("loop",!0),this.play(),this}},{key:"noLoop",value:function(){return this.elt.removeAttribute("loop"),this}},{key:"_setupAutoplayFailDetection",value:function(){var A=
setTimeout(function(){console.error(e)},500);this.elt.addEventListener("play",function(){return clearTimeout(A)},{passive:!0,once:!0})}},{key:"autoplay",value:function(A){var M=this,K=this.elt.getAttribute("autoplay");return this.elt.setAttribute("autoplay",A),A&&!K&&(A=function(){return M._setupAutoplayFailDetection()},4===this.elt.readyState?A():this.elt.addEventListener("canplay",A,{passive:!0,once:!0})),this}},{key:"volume",value:function(A){if(void 0===A)return this.elt.volume;this.elt.volume=
A}},{key:"speed",value:function(A){if(void 0===A)return this.presetPlaybackRate||this.elt.playbackRate;this.loadedmetadata?this.elt.playbackRate=A:this.presetPlaybackRate=A}},{key:"time",value:function(A){return void 0===A?this.elt.currentTime:(this.elt.currentTime=A,this)}},{key:"duration",value:function(){return this.elt.duration}},{key:"_ensureCanvas",value:function(){this.canvas||(this.canvas=document.createElement("canvas"),this.drawingContext=this.canvas.getContext("2d"),this.setModified(!0));
var A=this._frameOnCanvas!==this._pInst.frameCount;this.loadedmetadata&&A&&(this.canvas.width!==this.elt.width&&(this.canvas.width=this.elt.width,this.canvas.height=this.elt.height,this.width=this.canvas.width,this.height=this.canvas.height),this.drawingContext.clearRect(0,0,this.canvas.width,this.canvas.height),!0===this.flipped&&(this.drawingContext.save(),this.drawingContext.scale(-1,1),this.drawingContext.translate(-this.canvas.width,0)),this.drawingContext.drawImage(this.elt,0,0,this.canvas.width,
this.canvas.height),!0===this.flipped&&this.drawingContext.restore(),this.setModified(!0),this._frameOnCanvas=this._pInst.frameCount)}},{key:"loadPixels",value:function(){this._ensureCanvas();for(var A=arguments.length,M=Array(A),K=0;K<A;K++)M[K]=arguments[K];return q.default.Renderer2D.prototype.loadPixels.apply(this,M)}},{key:"updatePixels",value:function(A,M,K,G){return this.loadedmetadata&&(this._ensureCanvas(),q.default.Renderer2D.prototype.updatePixels.call(this,A,M,K,G)),this.setModified(!0),
this}},{key:"get",value:function(){this._ensureCanvas();for(var A=arguments.length,M=Array(A),K=0;K<A;K++)M[K]=arguments[K];return q.default.Renderer2D.prototype.get.apply(this,M)}},{key:"_getPixel",value:function(){this.loadPixels();for(var A=arguments.length,M=Array(A),K=0;K<A;K++)M[K]=arguments[K];return q.default.Renderer2D.prototype._getPixel.apply(this,M)}},{key:"set",value:function(A,M,K){this.loadedmetadata&&(this._ensureCanvas(),q.default.Renderer2D.prototype.set.call(this,A,M,K),this.setModified(!0))}},
{key:"copy",value:function(){this._ensureCanvas();for(var A=arguments.length,M=Array(A),K=0;K<A;K++)M[K]=arguments[K];q.default.prototype.copy.apply(this,M)}},{key:"mask",value:function(){this.loadPixels();this.setModified(!0);for(var A=arguments.length,M=Array(A),K=0;K<A;K++)M[K]=arguments[K];q.default.Image.prototype.mask.apply(this,M)}},{key:"isModified",value:function(){return this._modified}},{key:"setModified",value:function(A){this._modified=A}},{key:"onended",value:function(A){return this._onended=
A,this}},{key:"connect",value:function(A){if("function"==typeof q.default.prototype.getAudioContext){var M=q.default.prototype.getAudioContext();var K=q.default.soundOut.input}else try{K=(M=A.context).destination}catch(G){throw"connect() is meant to be used with Web Audio API or p5.sound.js";}this.audioSourceNode||(this.audioSourceNode=M.createMediaElementSource(this.elt),this.audioSourceNode.connect(K));A?A.input?this.audioSourceNode.connect(A.input):this.audioSourceNode.connect(A):this.audioSourceNode.connect(K)}},
{key:"disconnect",value:function(){if(!this.audioSourceNode)throw"nothing to disconnect";this.audioSourceNode.disconnect()}},{key:"showControls",value:function(){this.elt.style["text-align"]="inherit";this.elt.controls=!0}},{key:"hideControls",value:function(){this.elt.controls=!1}},{key:"addCue",value:function(A,M,K){var G=this._cueIDCounter++;M=new n(M,A,G,K);return this._cues.push(M),this.elt.ontimeupdate||(this.elt.ontimeupdate=this._onTimeUpdate.bind(this)),G}},{key:"removeCue",value:function(A){for(var M=
0;M<this._cues.length;M++)this._cues[M].id===A&&(console.log(A),this._cues.splice(M,1));0===this._cues.length&&(this.elt.ontimeupdate=null)}},{key:"clearCues",value:function(){this._cues=[];this.elt.ontimeupdate=null}},{key:"_onTimeUpdate",value:function(){for(var A=this.time(),M=0;M<this._cues.length;M++){var K=this._cues[M].time,G=this._cues[M].val;this._prevTime<K&&K<=A&&this._cues[M].callback(G)}this._prevTime=A}}]),x}(q.default.Element);q.default.MediaElement=a;a=function(){function v(x,C){b(this,
v);this.file=x;this._pInst=C;C=x.type.split("/");this.type=C[0];this.subtype=C[1];this.name=x.name;this.size=x.size;this.data=void 0}return w(v,null,[{key:"_createLoader",value:function(x,C){var A=new FileReader;return A.onload=function(M){var K,G=new q.default.File(x);"application/json"===G.file.type?G.data=JSON.parse(M.target.result):"text/xml"===G.file.type?(K=(new DOMParser).parseFromString(M.target.result,"text/xml"),G.data=new q.default.XML(K.documentElement)):G.data=M.target.result;C(G)},A}},
{key:"_load",value:function(x,C){var A;/^text\//.test(x.type)||"application/json"===x.type?q.default.File._createLoader(x,C).readAsText(x):/^(video|audio)\//.test(x.type)?((A=new q.default.File(x)).data=URL.createObjectURL(x),C(A)):q.default.File._createLoader(x,C).readAsDataURL(x)}}]),v}();q.default.File=a;a=q.default;F.default=a},{"../core/main":283,"core-js/modules/es.array.every":155,"core-js/modules/es.array.filter":157,"core-js/modules/es.array.for-each":161,"core-js/modules/es.array.from":162,
"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.array.splice":171,"core-js/modules/es.function.name":174,"core-js/modules/es.object.assign":183,"core-js/modules/es.object.get-prototype-of":188,"core-js/modules/es.object.to-string":190,"core-js/modules/es.promise":191,"core-js/modules/es.reflect.construct":192,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,
"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.replace":204,"core-js/modules/es.string.split":206,"core-js/modules/es.string.trim":209,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.for-each":245,"core-js/modules/web.dom-collections.iterator":246,"core-js/modules/web.url":248}],300:[function(a,R,F){Object.defineProperty(F,"__esModule",{value:!0});F.default=void 0;var z=(a=
a("../core/main"))&&a.__esModule?a:{default:a};z.default.prototype.deviceOrientation=1<window.innerWidth/window.innerHeight?"landscape":"portrait";z.default.prototype.accelerationX=0;z.default.prototype.accelerationY=0;z.default.prototype.accelerationZ=0;z.default.prototype.pAccelerationX=0;z.default.prototype.pAccelerationY=0;z.default.prototype.pAccelerationZ=0;z.default.prototype._updatePAccelerations=function(){this._setProperty("pAccelerationX",this.accelerationX);this._setProperty("pAccelerationY",
this.accelerationY);this._setProperty("pAccelerationZ",this.accelerationZ)};z.default.prototype.rotationX=0;z.default.prototype.rotationY=0;z.default.prototype.rotationZ=0;z.default.prototype.pRotationX=0;z.default.prototype.pRotationY=0;var y=z.default.prototype.pRotationZ=0,w=0,r=0,l="clockwise",h="clockwise",d="clockwise",b=(z.default.prototype.pRotateDirectionX=void 0,z.default.prototype.pRotateDirectionY=void 0,z.default.prototype.pRotateDirectionZ=void 0,z.default.prototype._updatePRotations=
function(){this._setProperty("pRotationX",this.rotationX);this._setProperty("pRotationY",this.rotationY);this._setProperty("pRotationZ",this.rotationZ)},z.default.prototype.turnAxis=void 0,.5),g=30;a=(z.default.prototype.setMoveThreshold=function(p){z.default._validateParameters("setMoveThreshold",arguments);b=p},z.default.prototype.setShakeThreshold=function(p){z.default._validateParameters("setShakeThreshold",arguments);g=p},z.default.prototype._ondeviceorientation=function(p){this._updatePRotations();
this._setProperty("rotationX",this._fromDegrees(p.beta));this._setProperty("rotationY",this._fromDegrees(p.gamma));this._setProperty("rotationZ",this._fromDegrees(p.alpha));this._handleMotion()},z.default.prototype._ondevicemotion=function(p){this._updatePAccelerations();this._setProperty("accelerationX",2*p.acceleration.x);this._setProperty("accelerationY",2*p.acceleration.y);this._setProperty("accelerationZ",2*p.acceleration.z);this._handleMotion()},z.default.prototype._handleMotion=function(){90===
window.orientation||-90===window.orientation?this._setProperty("deviceOrientation","landscape"):0===window.orientation?this._setProperty("deviceOrientation","portrait"):void 0===window.orientation&&this._setProperty("deviceOrientation","undefined");var p,k,n,q,u,v=this._isGlobal?window:this;"function"==typeof v.deviceMoved&&(Math.abs(this.accelerationX-this.pAccelerationX)>b||Math.abs(this.accelerationY-this.pAccelerationY)>b||Math.abs(this.accelerationZ-this.pAccelerationZ)>b)&&v.deviceMoved();"function"==
typeof v.deviceTurned&&(k=this._toDegrees(this.rotationX)+180,n=this._toDegrees(this.pRotationX)+180,p=y+180,0<k-n&&270>k-n||-270>k-n?l="clockwise":(0>k-n||270<k-n)&&(l="counter-clockwise"),l!==this.pRotateDirectionX&&(p=k),90<Math.abs(k-p)&&270>Math.abs(k-p)&&(p=k,this._setProperty("turnAxis","X"),v.deviceTurned()),this.pRotateDirectionX=l,y=p-180,n=this._toDegrees(this.rotationY)+180,k=this._toDegrees(this.pRotationY)+180,p=w+180,0<n-k&&270>n-k||-270>n-k?h="clockwise":(0>n-k||270<n-this.pRotationY)&&
(h="counter-clockwise"),h!==this.pRotateDirectionY&&(p=n),90<Math.abs(n-p)&&270>Math.abs(n-p)&&(p=n,this._setProperty("turnAxis","Y"),v.deviceTurned()),this.pRotateDirectionY=h,w=p-180,0<(k=this._toDegrees(this.rotationZ))-(n=this._toDegrees(this.pRotationZ))&&270>k-n||-270>k-n?d="clockwise":(0>k-n||270<k-n)&&(d="counter-clockwise"),d!==this.pRotateDirectionZ&&(r=k),90<Math.abs(k-r)&&270>Math.abs(k-r)&&(r=k,this._setProperty("turnAxis","Z"),v.deviceTurned()),this.pRotateDirectionZ=d,this._setProperty("turnAxis",
void 0));"function"==typeof v.deviceShaken&&(null!==this.pAccelerationX&&(q=Math.abs(this.accelerationX-this.pAccelerationX),u=Math.abs(this.accelerationY-this.pAccelerationY)),g<q+u&&v.deviceShaken())},z.default);F.default=a},{"../core/main":283}],301:[function(a,R,F){a("core-js/modules/es.array.for-each");a("core-js/modules/es.string.repeat");a("core-js/modules/web.dom-collections.for-each");a("core-js/modules/es.array.for-each");a("core-js/modules/es.string.repeat");a("core-js/modules/web.dom-collections.for-each");
Object.defineProperty(F,"__esModule",{value:!0});F.default=void 0;var z=(a=a("../core/main"))&&a.__esModule?a:{default:a};z.default.prototype.isKeyPressed=!1;z.default.prototype.keyIsPressed=!1;z.default.prototype.key="";z.default.prototype.keyCode=0;z.default.prototype._onkeydown=function(y){var w;y.repeat||(this._setProperty("isKeyPressed",!0),this._setProperty("keyIsPressed",!0),this._setProperty("keyCode",y.which),this._downKeys[y.which]=!0,this._setProperty("key",y.key||String.fromCharCode(y.which)||
y.which),y.metaKey&&(this._metaKeys||(this._metaKeys=[]),this._metaKeys.push(y.which)),"function"!=typeof(w=this._isGlobal?window:this).keyPressed||y.charCode||!1===w.keyPressed(y)&&y.preventDefault())};z.default.prototype._onkeyup=function(y){var w=this,r=(this._setProperty("isKeyPressed",!1),this._setProperty("keyIsPressed",!1),this._setProperty("_lastKeyCodePressed",this._keyCode),this._downKeys[y.which]=!1,"Meta"===y.key&&this._metaKeys&&(this._metaKeys.forEach(function(l){w._downKeys[l]=!1}),
this._metaKeys=[]),this._isGlobal?window:this);"function"==typeof r.keyReleased&&!1===r.keyReleased(y)&&y.preventDefault()};z.default.prototype._onkeypress=function(y){var w;y.which!==this._lastKeyCodeTyped&&(this._setProperty("_lastKeyCodeTyped",y.which),this._setProperty("key",y.key||String.fromCharCode(y.which)||y.which),"function"==typeof(w=this._isGlobal?window:this).keyTyped&&!1===w.keyTyped(y)&&y.preventDefault())};z.default.prototype._onblur=function(y){this._downKeys={}};z.default.prototype.keyIsDown=
function(y){return z.default._validateParameters("keyIsDown",arguments),this._downKeys[y]||!1};z.default.prototype._areDownKeys=function(){for(var y in this._downKeys)if(this._downKeys.hasOwnProperty(y)&&!0===this._downKeys[y])return!0;return!1};a=z.default;F.default=a},{"../core/main":283,"core-js/modules/es.array.for-each":161,"core-js/modules/es.string.repeat":203,"core-js/modules/web.dom-collections.for-each":245}],302:[function(a,R,F){function z(h){return(z="function"==typeof Symbol&&"symbol"==
typeof Symbol.iterator?function(d){return typeof d}:function(d){return d&&"function"==typeof Symbol&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d})(h)}function y(h){return(y="function"==typeof Symbol&&"symbol"===z(Symbol.iterator)?function(d){return z(d)}:function(d){return d&&"function"==typeof Symbol&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":z(d)})(h)}function w(){var h;return"function"!=typeof WeakMap?null:(h=new WeakMap,w=function(){return h},h)}a("core-js/modules/es.symbol");
a("core-js/modules/es.symbol.description");a("core-js/modules/es.symbol.iterator");a("core-js/modules/es.array.iterator");a("core-js/modules/es.object.get-own-property-descriptor");a("core-js/modules/es.object.to-string");a("core-js/modules/es.string.iterator");a("core-js/modules/es.weak-map");a("core-js/modules/web.dom-collections.iterator");Object.defineProperty(F,"__esModule",{value:!0});F.default=void 0;var r=(r=a("../core/main"))&&r.__esModule?r:{default:r},l=function(h){if(h&&h.__esModule)return h;
if(null===h||"object"!==y(h)&&"function"!=typeof h)return{default:h};var d=w();if(d&&d.has(h))return d.get(h);var b,g={},p=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(b in h){var k;Object.prototype.hasOwnProperty.call(h,b)&&((k=p?Object.getOwnPropertyDescriptor(h,b):null)&&(k.get||k.set)?Object.defineProperty(g,b,k):g[b]=h[b])}g.default=h;d&&d.set(h,g);return g}(a("../core/constants"));r.default.prototype.movedX=0;r.default.prototype.movedY=0;r.default.prototype._hasMouseInteracted=
!1;r.default.prototype.mouseX=0;r.default.prototype.mouseY=0;r.default.prototype.pmouseX=0;r.default.prototype.pmouseY=0;r.default.prototype.winMouseX=0;r.default.prototype.winMouseY=0;r.default.prototype.pwinMouseX=0;r.default.prototype.pwinMouseY=0;r.default.prototype.mouseButton=0;r.default.prototype.mouseIsPressed=!1;r.default.prototype._updateNextMouseCoords=function(h){var d,b,g,p,k;null!==this._curElement&&(!h.touches||0<h.touches.length)&&(d=this._curElement.elt,b=this.width,g=this.height,
(p=h)&&!p.clientX&&(p.touches?p=p.touches[0]:p.changedTouches&&(p=p.changedTouches[0])),k=d.getBoundingClientRect(),b=d.scrollWidth/b||1,d=d.scrollHeight/g||1,g={x:(p.clientX-k.left)/b,y:(p.clientY-k.top)/d,winX:p.clientX,winY:p.clientY,id:p.identifier},this._setProperty("movedX",h.movementX),this._setProperty("movedY",h.movementY),this._setProperty("mouseX",g.x),this._setProperty("mouseY",g.y),this._setProperty("winMouseX",g.winX),this._setProperty("winMouseY",g.winY));this._hasMouseInteracted||
(this._updateMouseCoords(),this._setProperty("_hasMouseInteracted",!0))};r.default.prototype._updateMouseCoords=function(){this._setProperty("pmouseX",this.mouseX);this._setProperty("pmouseY",this.mouseY);this._setProperty("pwinMouseX",this.winMouseX);this._setProperty("pwinMouseY",this.winMouseY);this._setProperty("_pmouseWheelDeltaY",this._mouseWheelDeltaY)};r.default.prototype._setMouseButton=function(h){1===h.button?this._setProperty("mouseButton",l.CENTER):2===h.button?this._setProperty("mouseButton",
l.RIGHT):this._setProperty("mouseButton",l.LEFT)};r.default.prototype._onmousemove=function(h){var d=this._isGlobal?window:this;this._updateNextMouseCoords(h);this.mouseIsPressed?"function"==typeof d.mouseDragged?!1===d.mouseDragged(h)&&h.preventDefault():"function"==typeof d.touchMoved&&!1===d.touchMoved(h)&&h.preventDefault():"function"==typeof d.mouseMoved&&!1===d.mouseMoved(h)&&h.preventDefault()};r.default.prototype._onmousedown=function(h){var d=this._isGlobal?window:this;this._setProperty("mouseIsPressed",
!0);this._setMouseButton(h);this._updateNextMouseCoords(h);this.touchstart||("function"==typeof d.mousePressed?!1===d.mousePressed(h)&&h.preventDefault():"function"==typeof d.touchStarted&&!1===d.touchStarted(h)&&h.preventDefault(),this.touchstart=!1)};r.default.prototype._onmouseup=function(h){var d=this._isGlobal?window:this;this._setProperty("mouseIsPressed",!1);this.touchend||("function"==typeof d.mouseReleased?!1===d.mouseReleased(h)&&h.preventDefault():"function"==typeof d.touchEnded&&!1===
d.touchEnded(h)&&h.preventDefault(),this.touchend=!1)};r.default.prototype._ondragend=r.default.prototype._onmouseup;r.default.prototype._ondragover=r.default.prototype._onmousemove;r.default.prototype._onclick=function(h){var d=this._isGlobal?window:this;"function"==typeof d.mouseClicked&&!1===d.mouseClicked(h)&&h.preventDefault()};r.default.prototype._ondblclick=function(h){var d=this._isGlobal?window:this;"function"==typeof d.doubleClicked&&!1===d.doubleClicked(h)&&h.preventDefault()};r.default.prototype._mouseWheelDeltaY=
0;r.default.prototype._pmouseWheelDeltaY=0;r.default.prototype._onwheel=function(h){var d=this._isGlobal?window:this;this._setProperty("_mouseWheelDeltaY",h.deltaY);"function"==typeof d.mouseWheel&&(h.delta=h.deltaY,!1===d.mouseWheel(h)&&h.preventDefault())};r.default.prototype.requestPointerLock=function(){var h=this._curElement.elt;return h.requestPointerLock=h.requestPointerLock||h.mozRequestPointerLock,h.requestPointerLock?(h.requestPointerLock(),!0):(console.log("requestPointerLock is not implemented in this browser"),
!1)};r.default.prototype.exitPointerLock=function(){document.exitPointerLock()};a=r.default;F.default=a},{"../core/constants":272,"../core/main":283,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],
303:[function(a,R,F){Object.defineProperty(F,"__esModule",{value:!0});F.default=void 0;a=(a=a("../core/main"))&&a.__esModule?a:{default:a};a.default.prototype.touches=[];a.default.prototype._updateTouchCoords=function(z){if(null!==this._curElement){for(var y=[],w=0;w<z.touches.length;w++)y[w]=function(r,l,h,d){var b=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,g=r.getBoundingClientRect();l=r.scrollWidth/l||1;r=r.scrollHeight/h||1;h=d.touches[b]||d.changedTouches[b];return{x:(h.clientX-
g.left)/l,y:(h.clientY-g.top)/r,winX:h.clientX,winY:h.clientY,id:h.identifier}}(this._curElement.elt,this.width,this.height,z,w);this._setProperty("touches",y)}};a.default.prototype._ontouchstart=function(z){var y=this._isGlobal?window:this;this._setProperty("mouseIsPressed",!0);this._updateTouchCoords(z);this._updateNextMouseCoords(z);this._updateMouseCoords();"function"==typeof y.touchStarted&&(!1===y.touchStarted(z)&&z.preventDefault(),this.touchstart=!0)};a.default.prototype._ontouchmove=function(z){var y=
this._isGlobal?window:this;this._updateTouchCoords(z);this._updateNextMouseCoords(z);"function"==typeof y.touchMoved?!1===y.touchMoved(z)&&z.preventDefault():"function"==typeof y.mouseDragged&&!1===y.mouseDragged(z)&&z.preventDefault()};a.default.prototype._ontouchend=function(z){this._setProperty("mouseIsPressed",!1);this._updateTouchCoords(z);this._updateNextMouseCoords(z);var y=this._isGlobal?window:this;"function"==typeof y.touchEnded&&(!1===y.touchEnded(z)&&z.preventDefault(),this.touchend=!0)};
a=a.default;F.default=a},{"../core/main":283}],304:[function(a,R,F){a("core-js/modules/es.array.iterator");a("core-js/modules/es.object.to-string");a("core-js/modules/es.typed-array.int32-array");a("core-js/modules/es.typed-array.uint8-array");a("core-js/modules/es.typed-array.copy-within");a("core-js/modules/es.typed-array.every");a("core-js/modules/es.typed-array.fill");a("core-js/modules/es.typed-array.filter");a("core-js/modules/es.typed-array.find");a("core-js/modules/es.typed-array.find-index");
a("core-js/modules/es.typed-array.for-each");a("core-js/modules/es.typed-array.includes");a("core-js/modules/es.typed-array.index-of");a("core-js/modules/es.typed-array.iterator");a("core-js/modules/es.typed-array.join");a("core-js/modules/es.typed-array.last-index-of");a("core-js/modules/es.typed-array.map");a("core-js/modules/es.typed-array.reduce");a("core-js/modules/es.typed-array.reduce-right");a("core-js/modules/es.typed-array.reverse");a("core-js/modules/es.typed-array.set");a("core-js/modules/es.typed-array.slice");
a("core-js/modules/es.typed-array.some");a("core-js/modules/es.typed-array.sort");a("core-js/modules/es.typed-array.subarray");a("core-js/modules/es.typed-array.to-locale-string");a("core-js/modules/es.typed-array.to-string");a("core-js/modules/es.array.iterator");a("core-js/modules/es.object.to-string");a("core-js/modules/es.typed-array.int32-array");a("core-js/modules/es.typed-array.uint8-array");a("core-js/modules/es.typed-array.copy-within");a("core-js/modules/es.typed-array.every");a("core-js/modules/es.typed-array.fill");
a("core-js/modules/es.typed-array.filter");a("core-js/modules/es.typed-array.find");a("core-js/modules/es.typed-array.find-index");a("core-js/modules/es.typed-array.for-each");a("core-js/modules/es.typed-array.includes");a("core-js/modules/es.typed-array.index-of");a("core-js/modules/es.typed-array.iterator");a("core-js/modules/es.typed-array.join");a("core-js/modules/es.typed-array.last-index-of");a("core-js/modules/es.typed-array.map");a("core-js/modules/es.typed-array.reduce");a("core-js/modules/es.typed-array.reduce-right");
a("core-js/modules/es.typed-array.reverse");a("core-js/modules/es.typed-array.set");a("core-js/modules/es.typed-array.slice");a("core-js/modules/es.typed-array.some");a("core-js/modules/es.typed-array.sort");a("core-js/modules/es.typed-array.subarray");a("core-js/modules/es.typed-array.to-locale-string");a("core-js/modules/es.typed-array.to-string");Object.defineProperty(F,"__esModule",{value:!0});F.default=void 0;var z,y,w,r,l={_toPixels:function(h){var d,b;return h instanceof ImageData?h.data:h.getContext("2d")?
h.getContext("2d").getImageData(0,0,h.width,h.height).data:h.getContext("webgl")?(b=(d=h.getContext("webgl")).drawingBufferWidth*d.drawingBufferHeight*4,b=new Uint8Array(b),d.readPixels(0,0,h.width,h.height,d.RGBA,d.UNSIGNED_BYTE,b),b):void 0},_getARGB:function(h,d){d*=4;return h[3+d]<<24&4278190080|h[d]<<16&16711680|h[1+d]<<8&65280|255&h[2+d]},_setPixels:function(h,d){for(var b,g=0,p=h.length;g<p;g++)h[b=4*g]=(16711680&d[g])>>>16,h[1+b]=(65280&d[g])>>>8,h[2+b]=255&d[g],h[3+b]=(4278190080&d[g])>>>
24},_toImageData:function(h){return h instanceof ImageData?h:h.getContext("2d").getImageData(0,0,h.width,h.height)},_createImageData:function(h,d){return l._tmpCanvas=document.createElement("canvas"),l._tmpCtx=l._tmpCanvas.getContext("2d"),this._tmpCtx.createImageData(h,d)},apply:function(h,d,b){var g=h.getContext("2d"),p=g.getImageData(0,0,h.width,h.height);d=d(p,b);d instanceof ImageData?g.putImageData(d,0,0,0,0,h.width,h.height):g.putImageData(p,0,0,0,0,h.width,h.height)},threshold:function(h){var d=
1<arguments.length&&void 0!==arguments[1]?arguments[1]:.5,b=l._toPixels(h);d=Math.floor(255*d);for(var g=0;g<b.length;g+=4)b[g]=b[g+1]=b[g+2]=d<=.2126*b[g]+.7152*b[g+1]+.0722*b[g+2]?255:0},gray:function(h){h=l._toPixels(h);for(var d=0;d<h.length;d+=4)h[d]=h[d+1]=h[d+2]=.2126*h[d]+.7152*h[d+1]+.0722*h[d+2]},opaque:function(h){h=l._toPixels(h);for(var d=0;d<h.length;d+=4)h[d+3]=255;return h},invert:function(h){h=l._toPixels(h);for(var d=0;d<h.length;d+=4)h[d]=255-h[d],h[d+1]=255-h[d+1],h[d+2]=255-h[d+
2]},posterize:function(h){var d=1<arguments.length&&void 0!==arguments[1]?arguments[1]:4,b=l._toPixels(h);if(2>d||255<d)throw Error("Level must be greater than 2 and less than 255 for posterize");for(var g=d-1,p=0;p<b.length;p+=4){var k=b[p+1],n=b[p+2];b[p]=255*(b[p]*d>>8)/g;b[p+1]=255*(k*d>>8)/g;b[p+2]=255*(n*d>>8)/g}},dilate:function(h){for(var d,b,g,p,k,n,q,u,v,x=l._toPixels(h),C=0,A=x.length?x.length/4:0,M=new Int32Array(A);C<A;)for(b=(d=C)+h.width;C<b;)p=g=l._getARGB(x,C),(v=C-1)<d&&(v=C),b<=
(u=C+1)&&(u=C),0>(k=C-h.width)&&(k=0),A<=(n=C+h.width)&&(n=C),k=l._getARGB(x,k),v=l._getARGB(x,v),n=l._getARGB(x,n),(p=77*(p>>16&255)+151*(p>>8&255)+28*(255&p))<(q=77*(v>>16&255)+151*(v>>8&255)+28*(255&v))&&(g=v,p=q),p<(q=77*((v=l._getARGB(x,u))>>16&255)+151*(v>>8&255)+28*(255&v))&&(g=v,p=q),p<(u=77*(k>>16&255)+151*(k>>8&255)+28*(255&k))&&(g=k,p=u),p<77*(n>>16&255)+151*(n>>8&255)+28*(255&n)&&(g=n),M[C++]=g;l._setPixels(x,M)},erode:function(h){for(var d,b,g,p,k,n,q,u,v,x=l._toPixels(h),C=0,A=x.length?
x.length/4:0,M=new Int32Array(A);C<A;)for(b=(d=C)+h.width;C<b;)p=g=l._getARGB(x,C),(v=C-1)<d&&(v=C),b<=(u=C+1)&&(u=C),0>(k=C-h.width)&&(k=0),A<=(n=C+h.width)&&(n=C),k=l._getARGB(x,k),v=l._getARGB(x,v),n=l._getARGB(x,n),(q=77*(v>>16&255)+151*(v>>8&255)+28*(255&v))<(p=77*(p>>16&255)+151*(p>>8&255)+28*(255&p))&&(g=v,p=q),(q=77*((v=l._getARGB(x,u))>>16&255)+151*(v>>8&255)+28*(255&v))<p&&(g=v,p=q),(u=77*(k>>16&255)+151*(k>>8&255)+28*(255&k))<p&&(g=k,p=u),77*(n>>16&255)+151*(n>>8&255)+28*(255&n)<p&&(g=
n),M[C++]=g;l._setPixels(x,M)},blur:function(h,d){var b,g,p,k=l._toPixels(h),n=h.width;h=h.height;for(var q=n*h,u=new Int32Array(q),v=0;v<q;v++)u[v]=l._getARGB(k,v);var x,C;v=new Int32Array(q);var A=new Int32Array(q),M=new Int32Array(q);q=new Int32Array(q);var K=0;var G=3.5*d|0;if(z!==(G=1>G?1:248>G?G:248)){y=1+(z=G)<<1;w=new Int32Array(y);r=Array(y);for(d=0;d<y;d++)r[d]=new Int32Array(256);var U=1;for(g=G-1;U<G;U++){w[G+U]=w[g]=b=g*g;d=r[G+U];var J=r[g--];for(x=0;256>x;x++)d[x]=J[x]=b*x}b=w[G]=G*
G;d=r[G];for(G=0;256>G;G++)d[G]=b*G}for(C=0;C<h;C++){for(x=0;x<n;x++){if(J=b=G=U=d=0,0>(g=x-z)){var I=-g;g=0}else{if(n<=g)break;I=0}for(;I<y&&!(n<=g);I++){var T=u[g+K];var Y=r[I];U+=Y[(-16777216&T)>>>24];G+=Y[(16711680&T)>>16];b+=Y[(65280&T)>>8];J+=Y[255&T];d+=w[I];g++}v[T=K+x]=U/d;A[T]=G/d;M[T]=b/d;q[T]=J/d}K+=n}var ea=(p=-z)*n;for(C=K=0;C<h;C++){for(x=0;x<n;x++){if(J=b=G=U=d=0,0>p)I=T=-p,g=x;else{if(h<=p)break;I=0;T=p;g=x+ea}for(;I<y&&!(h<=T);I++)Y=r[I],U+=Y[v[g]],G+=Y[A[g]],b+=Y[M[g]],J+=Y[q[g]],
d+=w[I],T++,g+=n;u[x+K]=U/d<<24|G/d<<16|b/d<<8|J/d}K+=n;ea+=n;p++}l._setPixels(k,u)}};F.default=l},{"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.to-string":190,"core-js/modules/es.typed-array.copy-within":213,"core-js/modules/es.typed-array.every":214,"core-js/modules/es.typed-array.fill":215,"core-js/modules/es.typed-array.filter":216,"core-js/modules/es.typed-array.find":218,"core-js/modules/es.typed-array.find-index":217,"core-js/modules/es.typed-array.for-each":221,"core-js/modules/es.typed-array.includes":222,
"core-js/modules/es.typed-array.index-of":223,"core-js/modules/es.typed-array.int32-array":225,"core-js/modules/es.typed-array.iterator":226,"core-js/modules/es.typed-array.join":227,"core-js/modules/es.typed-array.last-index-of":228,"core-js/modules/es.typed-array.map":229,"core-js/modules/es.typed-array.reduce":231,"core-js/modules/es.typed-array.reduce-right":230,"core-js/modules/es.typed-array.reverse":232,"core-js/modules/es.typed-array.set":233,"core-js/modules/es.typed-array.slice":234,"core-js/modules/es.typed-array.some":235,
"core-js/modules/es.typed-array.sort":236,"core-js/modules/es.typed-array.subarray":237,"core-js/modules/es.typed-array.to-locale-string":238,"core-js/modules/es.typed-array.to-string":239,"core-js/modules/es.typed-array.uint8-array":242}],305:[function(a,R,F){function z(l){return l&&l.__esModule?l:{default:l}}function y(l){if(!(l=function(h){if(Array.isArray(h)){for(var d=0,b=Array(h.length);d<h.length;d++)b[d]=h[d];return b}}(l)||function(h){if(Symbol.iterator in Object(h)||"[object Arguments]"===
Object.prototype.toString.call(h))return Array.from(h)}(l)))throw new TypeError("Invalid attempt to spread non-iterable instance");return l}a("core-js/modules/es.symbol");a("core-js/modules/es.symbol.description");a("core-js/modules/es.symbol.iterator");a("core-js/modules/es.array.concat");a("core-js/modules/es.array.filter");a("core-js/modules/es.array.for-each");a("core-js/modules/es.array.from");a("core-js/modules/es.array.iterator");a("core-js/modules/es.array.map");a("core-js/modules/es.array.slice");
a("core-js/modules/es.object.keys");a("core-js/modules/es.object.to-string");a("core-js/modules/es.regexp.exec");a("core-js/modules/es.regexp.to-string");a("core-js/modules/es.set");a("core-js/modules/es.string.iterator");a("core-js/modules/es.string.replace");a("core-js/modules/es.string.split");a("core-js/modules/es.typed-array.uint8-array");a("core-js/modules/es.typed-array.uint32-array");a("core-js/modules/es.typed-array.copy-within");a("core-js/modules/es.typed-array.every");a("core-js/modules/es.typed-array.fill");
a("core-js/modules/es.typed-array.filter");a("core-js/modules/es.typed-array.find");a("core-js/modules/es.typed-array.find-index");a("core-js/modules/es.typed-array.for-each");a("core-js/modules/es.typed-array.includes");a("core-js/modules/es.typed-array.index-of");a("core-js/modules/es.typed-array.iterator");a("core-js/modules/es.typed-array.join");a("core-js/modules/es.typed-array.last-index-of");a("core-js/modules/es.typed-array.map");a("core-js/modules/es.typed-array.reduce");a("core-js/modules/es.typed-array.reduce-right");
a("core-js/modules/es.typed-array.reverse");a("core-js/modules/es.typed-array.set");a("core-js/modules/es.typed-array.slice");a("core-js/modules/es.typed-array.some");a("core-js/modules/es.typed-array.sort");a("core-js/modules/es.typed-array.subarray");a("core-js/modules/es.typed-array.to-locale-string");a("core-js/modules/es.typed-array.to-string");a("core-js/modules/web.dom-collections.for-each");a("core-js/modules/web.dom-collections.iterator");a("core-js/modules/es.array.concat");a("core-js/modules/es.array.filter");
a("core-js/modules/es.array.for-each");a("core-js/modules/es.array.iterator");a("core-js/modules/es.array.map");a("core-js/modules/es.array.slice");a("core-js/modules/es.object.keys");a("core-js/modules/es.object.to-string");a("core-js/modules/es.regexp.exec");a("core-js/modules/es.regexp.to-string");a("core-js/modules/es.set");a("core-js/modules/es.string.iterator");a("core-js/modules/es.string.replace");a("core-js/modules/es.string.split");a("core-js/modules/es.typed-array.uint8-array");a("core-js/modules/es.typed-array.uint32-array");
a("core-js/modules/es.typed-array.copy-within");a("core-js/modules/es.typed-array.every");a("core-js/modules/es.typed-array.fill");a("core-js/modules/es.typed-array.filter");a("core-js/modules/es.typed-array.find");a("core-js/modules/es.typed-array.find-index");a("core-js/modules/es.typed-array.for-each");a("core-js/modules/es.typed-array.includes");a("core-js/modules/es.typed-array.index-of");a("core-js/modules/es.typed-array.iterator");a("core-js/modules/es.typed-array.join");a("core-js/modules/es.typed-array.last-index-of");
a("core-js/modules/es.typed-array.map");a("core-js/modules/es.typed-array.reduce");a("core-js/modules/es.typed-array.reduce-right");a("core-js/modules/es.typed-array.reverse");a("core-js/modules/es.typed-array.set");a("core-js/modules/es.typed-array.slice");a("core-js/modules/es.typed-array.some");a("core-js/modules/es.typed-array.sort");a("core-js/modules/es.typed-array.subarray");a("core-js/modules/es.typed-array.to-locale-string");a("core-js/modules/es.typed-array.to-string");a("core-js/modules/web.dom-collections.for-each");
a("core-js/modules/web.dom-collections.iterator");Object.defineProperty(F,"__esModule",{value:!0});F.default=void 0;var w=z(a("../core/main")),r=z(a("omggif"));w.default.prototype.createImage=function(l,h){return w.default._validateParameters("createImage",arguments),new w.default.Image(l,h)};w.default.prototype.saveCanvas=function(){for(var l,h,d,b,g,p=arguments.length,k=Array(p),n=0;n<p;n++)k[n]=arguments[n];switch(w.default._validateParameters("saveCanvas",k),k[0]instanceof HTMLCanvasElement?(l=
k[0],k.shift()):k[0]instanceof w.default.Element?(l=k[0].elt,k.shift()):k[0]instanceof w.default.Framebuffer?(b=k[0],(g=this.createGraphics(b.width,b.height)).pixelDensity(pixelDensity()),b.loadPixels(),g.loadPixels(),g.pixels.set(b.pixels),g.updatePixels(),l=g.elt,k.shift()):l=this._curElement&&this._curElement.elt,1<=k.length&&(h=k[0]),d=(d=2<=k.length?k[1]:d)||w.default.prototype._checkFileExtension(h,d)[1]||"png"){default:b="image/png";break;case "webp":b="image/webp";break;case "jpeg":case "jpg":b=
"image/jpeg"}l.toBlob(function(q){w.default.prototype.downloadFile(q,h,d);g&&g.remove()},b)};w.default.prototype.encodeAndDownloadGif=function(l,h){for(var d=l.gifProperties,b=d.loopLimit,g=(1===b?b=null:null===b&&(b=0),new Uint8Array(l.width*l.height*d.numFrames)),p=[],k={},n=0;n<d.numFrames;n++){for(var q=new Set,u=d.frames[n].image.data,v=u.length,x=new Uint32Array(l.width*l.height),C=0,A=0;C<v;C+=4,A++){var M=u[C+0]<<16|u[C+1]<<8|u[C+2]<<0;q.add(M);x[A]=M}q=y(q).sort().toString();void 0===k[q]?
k[q]={freq:1,frames:[n]}:(k[q].freq+=1,k[q].frames.push(n));p.push(x)}var K=[];n=Object.keys(k).sort(function(Y,ea){return k[ea].freq-k[Y].freq});var G=n[0].split(",").map(function(Y){return parseInt(Y)});K=K.concat(k[G].frames);var U=new Set(G);for(x=1;x<n.length;x++)if(q=n[x].split(",").map(function(Y){return parseInt(Y)}).filter(function(Y){return!U.has(Y)}),256>=G.length+q.length){for(u=0;u<q.length;u++)G.push(q[u]),U.add(q[u]);K=K.concat(k[n[x]].frames)}K=new Set(K);var J={};for(n=0;n<G.length;n++)J[G[n]]||
(J[G[n]]=n);for(n=1;n<G.length;)n<<=1;G.length=n;b={loop:b,palette:new Uint32Array(G)};var I=new r.default.GifWriter(g,l.width,l.height,b),T={};for(b=0;b<d.numFrames;b++)!function(Y){var ea=!K.has(Y),da=ea?[]:G,X=new Uint8Array(l.width*l.height),Z={},L=new Set,S=(p[Y].forEach(function(aa,ja){ea?(void 0===Z[aa]&&(Z[aa]=da.length,da.push(aa)),X[ja]=Z[aa]):X[ja]=J[aa];0<Y&&p[Y-1][ja]!==aa&&L.add(aa)}),{}),E=da.filter(function(aa){return!L.has(aa)});if(0<E.length&&(E=E[0],E=(ea?Z:J)[E],0<Y)){for(var P=
0;P<p[Y].length;P++)p[Y-1][P]===p[Y][P]&&(X[P]=E);S.transparent=E;T.frameOpts.disposal=1}if(S.delay=d.frames[Y].delay/10,ea){for(E=1;E<da.length;)E<<=1;da.length=E;S.palette=new Uint32Array(da)}0<Y&&I.addFrame(0,0,l.width,l.height,T.pixelPaletteIndex,T.frameOpts);T={pixelPaletteIndex:X,frameOpts:S}}(b);T.frameOpts.disposal=1;I.addFrame(0,0,l.width,l.height,T.pixelPaletteIndex,T.frameOpts);b=new Blob([g.slice(0,I.end())],{type:"image/gif"});w.default.prototype.downloadFile(b,h,"gif")};w.default.prototype.saveFrames=
function(l,h,d,b,g){w.default._validateParameters("saveFrames",arguments);d=w.default.prototype.constrain(d=d||3,0,15);d*=1E3;b=w.default.prototype.constrain(b||15,0,22);var p=0,k=w.default.prototype._makeFrame,n=this._curElement.elt,q=[],u=setInterval(function(){q.push(k(l+p,h,n));p++},1E3/b);setTimeout(function(){if(clearInterval(u),g)g(q);else for(var v=0,x=q;v<x.length;v++){var C=x[v];w.default.prototype.downloadFile(C.imageData,C.filename,C.ext)}q=[]},.01+d)};w.default.prototype._makeFrame=function(l,
h,d){d=this?this._curElement.elt:d;if(h)switch(h.toLowerCase()){case "png":var b="image/png";break;case "jpeg":case "jpg":b="image/jpeg";break;default:b="image/png"}else h="png",b="image/png";d=(d=d.toDataURL(b)).replace(b,"image/octet-stream");b={};return b.imageData=d,b.filename=l,b.ext=h,b};a=w.default;F.default=a},{"../core/main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.filter":157,"core-js/modules/es.array.for-each":161,"core-js/modules/es.array.from":162,"core-js/modules/es.array.iterator":165,
"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.object.keys":189,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.set":197,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.replace":204,"core-js/modules/es.string.split":206,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.typed-array.copy-within":213,
"core-js/modules/es.typed-array.every":214,"core-js/modules/es.typed-array.fill":215,"core-js/modules/es.typed-array.filter":216,"core-js/modules/es.typed-array.find":218,"core-js/modules/es.typed-array.find-index":217,"core-js/modules/es.typed-array.for-each":221,"core-js/modules/es.typed-array.includes":222,"core-js/modules/es.typed-array.index-of":223,"core-js/modules/es.typed-array.iterator":226,"core-js/modules/es.typed-array.join":227,"core-js/modules/es.typed-array.last-index-of":228,"core-js/modules/es.typed-array.map":229,
"core-js/modules/es.typed-array.reduce":231,"core-js/modules/es.typed-array.reduce-right":230,"core-js/modules/es.typed-array.reverse":232,"core-js/modules/es.typed-array.set":233,"core-js/modules/es.typed-array.slice":234,"core-js/modules/es.typed-array.some":235,"core-js/modules/es.typed-array.sort":236,"core-js/modules/es.typed-array.subarray":237,"core-js/modules/es.typed-array.to-locale-string":238,"core-js/modules/es.typed-array.to-string":239,"core-js/modules/es.typed-array.uint32-array":241,
"core-js/modules/es.typed-array.uint8-array":242,"core-js/modules/web.dom-collections.for-each":245,"core-js/modules/web.dom-collections.iterator":246,omggif:256}],306:[function(a,R,F){function z(k){return(z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(k)}function y(k){return(y="function"==typeof Symbol&&"symbol"===z(Symbol.iterator)?function(n){return z(n)}:
function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":z(n)})(k)}function w(){var k;return"function"!=typeof WeakMap?null:(k=new WeakMap,w=function(){return k},k)}function r(k){return k&&k.__esModule?k:{default:k}}function l(k,n,q,u,v,x,C){try{var A=k[x](C),M=A.value}catch(K){return void q(K)}A.done?n(M):Promise.resolve(M).then(u,v)}a("core-js/modules/es.symbol");a("core-js/modules/es.symbol.description");a("core-js/modules/es.symbol.iterator");a("core-js/modules/es.array.copy-within");
a("core-js/modules/es.array.includes");a("core-js/modules/es.array.index-of");a("core-js/modules/es.array.iterator");a("core-js/modules/es.array.slice");a("core-js/modules/es.object.get-own-property-descriptor");a("core-js/modules/es.object.to-string");a("core-js/modules/es.promise");a("core-js/modules/es.regexp.to-string");a("core-js/modules/es.string.includes");a("core-js/modules/es.string.iterator");a("core-js/modules/es.typed-array.uint8-array");a("core-js/modules/es.typed-array.uint8-clamped-array");
a("core-js/modules/es.typed-array.copy-within");a("core-js/modules/es.typed-array.every");a("core-js/modules/es.typed-array.fill");a("core-js/modules/es.typed-array.filter");a("core-js/modules/es.typed-array.find");a("core-js/modules/es.typed-array.find-index");a("core-js/modules/es.typed-array.for-each");a("core-js/modules/es.typed-array.includes");a("core-js/modules/es.typed-array.index-of");a("core-js/modules/es.typed-array.iterator");a("core-js/modules/es.typed-array.join");a("core-js/modules/es.typed-array.last-index-of");
a("core-js/modules/es.typed-array.map");a("core-js/modules/es.typed-array.reduce");a("core-js/modules/es.typed-array.reduce-right");a("core-js/modules/es.typed-array.reverse");a("core-js/modules/es.typed-array.set");a("core-js/modules/es.typed-array.slice");a("core-js/modules/es.typed-array.some");a("core-js/modules/es.typed-array.sort");a("core-js/modules/es.typed-array.subarray");a("core-js/modules/es.typed-array.to-locale-string");a("core-js/modules/es.typed-array.to-string");a("core-js/modules/es.weak-map");
a("core-js/modules/web.dom-collections.iterator");a("core-js/modules/es.array.copy-within");a("core-js/modules/es.array.includes");a("core-js/modules/es.array.index-of");a("core-js/modules/es.array.iterator");a("core-js/modules/es.array.slice");a("core-js/modules/es.object.to-string");a("core-js/modules/es.promise");a("core-js/modules/es.regexp.to-string");a("core-js/modules/es.string.includes");a("core-js/modules/es.typed-array.uint8-array");a("core-js/modules/es.typed-array.uint8-clamped-array");
a("core-js/modules/es.typed-array.copy-within");a("core-js/modules/es.typed-array.every");a("core-js/modules/es.typed-array.fill");a("core-js/modules/es.typed-array.filter");a("core-js/modules/es.typed-array.find");a("core-js/modules/es.typed-array.find-index");a("core-js/modules/es.typed-array.for-each");a("core-js/modules/es.typed-array.includes");a("core-js/modules/es.typed-array.index-of");a("core-js/modules/es.typed-array.iterator");a("core-js/modules/es.typed-array.join");a("core-js/modules/es.typed-array.last-index-of");
a("core-js/modules/es.typed-array.map");a("core-js/modules/es.typed-array.reduce");a("core-js/modules/es.typed-array.reduce-right");a("core-js/modules/es.typed-array.reverse");a("core-js/modules/es.typed-array.set");a("core-js/modules/es.typed-array.slice");a("core-js/modules/es.typed-array.some");a("core-js/modules/es.typed-array.sort");a("core-js/modules/es.typed-array.subarray");a("core-js/modules/es.typed-array.to-locale-string");a("core-js/modules/es.typed-array.to-string");Object.defineProperty(F,
"__esModule",{value:!0});F.default=void 0;a("regenerator-runtime/runtime");var h=r(a("../core/main")),d=r(a("../core/helpers")),b=function(k){if(k&&k.__esModule)return k;if(null===k||"object"!==y(k)&&"function"!=typeof k)return{default:k};var n=w();if(n&&n.has(k))return n.get(k);var q,u={},v=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(q in k){var x;Object.prototype.hasOwnProperty.call(k,q)&&((x=v?Object.getOwnPropertyDescriptor(k,q):null)&&(x.get||x.set)?Object.defineProperty(u,q,x):
u[q]=k[q])}u.default=k;n&&n.set(k,u);return u}(a("../core/constants")),g=r(a("omggif")),p=a("gifenc");a("../core/friendly_errors/validate_params");a("../core/friendly_errors/file_errors");a("../core/friendly_errors/fes_core");h.default.prototype.loadImage=function(k,n,q){h.default._validateParameters("loadImage",arguments);var u=new h.default.Image(1,1,this),v=this,x=new Request(k,{method:"GET",mode:"cors"});return fetch(k,x).then(function(C){var A,M=C.headers.get("content-type");null===M&&console.warn("The image you loaded does not have a Content-Type header. If you are using the online editor consider reuploading the asset.");
M&&M.includes("image/gif")?C.arrayBuffer().then(function(K){if(K){K=new Uint8Array(K);for(var G=n,U=q,J=function(L){v._decrementPreload()}.bind(v),I=new g.default.GifReader(K),T=(u.width=u.canvas.width=I.width,u.height=u.canvas.height=I.height,[]),Y=I.numFrames(),ea=new Uint8ClampedArray(u.width*u.height*4),da=0;da<Y;da++){var X=I.frameInfo(da),Z=u.drawingContext.getImageData(0,0,u.width,u.height);ea=Z.data.slice();try{I.decodeAndBlitFrameRGBA(da,ea)}catch(L){h.default._friendlyFileLoadError(8,u.src),
"function"==typeof U?U(L):console.error(L)}ea=(!0,new ImageData(ea,u.width,u.height));ea=(u.drawingContext.putImageData(ea,0,0),X.delay);0===ea&&(ea=10);T.push({image:u.drawingContext.getImageData(0,0,u.width,u.height),delay:10*ea});2===X.disposal?u.drawingContext.clearRect(X.x,X.y,X.width,X.height):3===X.disposal&&u.drawingContext.putImageData(Z,0,0,X.x,X.y,X.width,X.height)}null===(K=I.loopCount())?K=1:0===K&&(K=null);u.drawingContext.putImageData(T[0].image,0,0);1<T.length&&(u.gifProperties={displayIndex:0,
loopLimit:K,loopCount:0,frames:T,numFrames:Y,playing:!0,timeDisplayed:0,lastChangeTime:0});"function"==typeof G&&G(u);J()}},function(K){"function"==typeof q?(q(K),v._decrementPreload()):console.error(K)}):((A=new Image).onload=function(){u.width=u.canvas.width=A.width;u.height=u.canvas.height=A.height;u.drawingContext.drawImage(A,0,0);u.modified=!0;"function"==typeof n&&n(u);v._decrementPreload()},A.onerror=function(K){h.default._friendlyFileLoadError(0,A.src);"function"==typeof q?(q(K),v._decrementPreload()):
console.error(K)},0!==k.indexOf("data:image/")&&(A.crossOrigin="Anonymous"),A.src=k);u.modified=!0}).catch(function(C){h.default._friendlyFileLoadError(0,k);"function"==typeof q?(q(C),v._decrementPreload()):console.error(C)}),u};h.default.prototype.saveGif=function(){var k=regeneratorRuntime.mark(function x(u,v){var C,A,M,K,G,U,J,I,T,Y,ea,da,X,Z,L,S,E,P,aa,ja,oa,ra,la,sa,Da,qa,Aa=arguments;return regeneratorRuntime.wrap(function(Ga){for(;;)switch(Ga.prev=Ga.next){case 0:if(C=2<Aa.length&&void 0!==
Aa[2]?Aa[2]:{delay:0,units:"seconds",silent:!1,notificationDuration:0,notificationID:"progressBar"},"string"!=typeof u)throw TypeError("fileName parameter must be a string");Ga.next=3;break;case 3:if("number"!=typeof v)throw TypeError("Duration parameter must be a number");Ga.next=5;break;case 5:if(A=C&&C.delay||0,M=C&&C.units||"seconds",K=C&&C.silent||!1,G=C&&C.notificationDuration||0,U=C&&C.notificationID||"progressBar","number"!=typeof A)throw TypeError("Delay parameter must be a number");Ga.next=
12;break;case 12:if("seconds"!==M&&"frames"!==M)throw TypeError('Units parameter must be either "frames" or "seconds"');Ga.next=14;break;case 14:if("boolean"!=typeof K)throw TypeError("Silent parameter must be a boolean");Ga.next=16;break;case 16:if("number"!=typeof G)throw TypeError("Notification duration parameter must be a number");Ga.next=18;break;case 18:if("string"!=typeof U)throw TypeError("Notification ID parameter must be a string");Ga.next=20;break;case 20:return this._recording=!0,Y=this._targetFrameRate,
J=20>(J=1/(Y=Y!==1/0&&void 0!==Y&&0!==Y?Y:60)*1E3)?20:J,T=(I="seconds"===M?v*Y:v)+(Y="seconds"===M?A*Y:A),this.frameCount=Y,ea=this._pixelDensity,this.pixelDensity(1),da=[],null!==document.getElementById(U)&&document.getElementById(U).remove(),K||((X=this.createP("")).id(U),X.style("font-size","16px"),X.style("font-family","Montserrat"),X.style("background-color","#ffffffa0"),X.style("padding","8px"),X.style("border-radius","10px"),X.position(0,0)),this._renderer instanceof h.default.RendererGL&&
(L=this.drawingContext,Z=new Uint8Array(L.drawingBufferWidth*L.drawingBufferHeight*4)),this.noLoop(),Ga.next=39,Promise.resolve();case 39:if(Y<T)return this.redraw(),sa=void 0,sa=this._renderer instanceof h.default.RendererGL?(Z=new Uint8Array(L.drawingBufferWidth*L.drawingBufferHeight*4),L.readPixels(0,0,L.drawingBufferWidth,L.drawingBufferHeight,L.RGBA,L.UNSIGNED_BYTE,Z),function(Ka,ha,na){var xa=parseInt(na/2),Ca=4*ha;ha=new Uint8Array(4*ha);for(var za=0;za<xa;++za){var Na=za*Ca,Oa=(na-za-1)*Ca;
ha.set(Ka.subarray(Na,Na+Ca));Ka.copyWithin(Na,Oa,Oa+Ca);Ka.set(ha,Oa)}return Ka}(Z,this.width,this.height)):this.drawingContext.getImageData(0,0,this.width,this.height).data,da.push(sa),Y++,K||X.html("Saved frame \x3cb\x3e"+da.length.toString()+"\x3c/b\x3e out of "+I.toString()),Ga.next=48,new Promise(function(Ka){return setTimeout(Ka,0)});Ga.next=50;break;case 48:Ga.next=39;break;case 50:K||X.html("Frames processed, generating color palette..."),this.loop(),this.pixelDensity(ea),S=(0,p.GIFEncoder)(),
E=function(Ka){for(var ha=new Uint8Array(Ka.length*Ka[0].length),na=0;na<Ka.length;na++)ha.set(Ka[na],na*Ka[0].length);Ka=(0,p.quantize)(ha,256,{format:"rgba4444",oneBitAlpha:!0});256===Ka.length?Ka[Ka.length-1]=[255*Math.random(),255*Math.random(),255*Math.random(),0]:Ka.push([255*Math.random(),255*Math.random(),255*Math.random(),0]);return Ka}(da),P={},aa=function(Ka){for(var ha=Ka.length/4,na=new Uint8Array(ha),xa=0;xa<ha;xa++){var Ca=Ka[4*xa]<<24|Ka[4*xa+1]<<16|Ka[4*xa+2]<<8|Ka[4*xa+3];void 0===
P[Ca]&&(P[Ca]=(0,p.nearestColorIndex)(E,Ka.slice(4*xa,4*(xa+1))));na[xa]=P[Ca]}return na},ja=E.length-1,oa=[],ra=0;case 60:if(!(ra<da.length)){Ga.next=71;break}if(la=aa(da[ra]),sa=la.slice(),0===ra)S.writeFrame(la,this.width,this.height,{palette:E,delay:J,dispose:1});else{for(Da=0;Da<la.length;Da++)la[Da]===oa[Da]&&(la[Da]=ja);S.writeFrame(la,this.width,this.height,{delay:J,transparent:!0,transparentIndex:ja,dispose:1})}return oa=sa,K||X.html("Rendered frame \x3cb\x3e"+ra.toString()+"\x3c/b\x3e out of "+
I.toString()),Ga.next=68,new Promise(function(Ka){return setTimeout(Ka,0)});case 68:ra++;Ga.next=60;break;case 71:S.finish(),qa=S.bytesView(),qa=new Blob([qa],{type:"image/gif"}),da=[],this._recording=!1,this.loop(),K||(X.html("Done. Downloading your gif!\ud83c\udf38"),0<G&&setTimeout(function(){return X.remove()},1E3*G)),h.default.prototype.downloadFile(qa,u,"gif");case 80:case "end":return Ga.stop()}},x,this)});var n=function(){var u=this,v=arguments;return new Promise(function(x,C){function A(G){l(K,
x,C,A,M,"next",G)}function M(G){l(K,x,C,A,M,"throw",G)}var K=k.apply(u,v);A(void 0)})};return function(u,v){return n.apply(this,arguments)}}();h.default.prototype.image=function(k,n,q,u,v,x,C,A,M,K,G,U){h.default._validateParameters("image",arguments);var J=k.width,I=k.height,T=(U=U||b.CENTER,G=G||b.CENTER,k.elt&&(J=void 0!==J?J:k.elt.width,I=void 0!==I?I:k.elt.height),k.elt&&k.elt.videoWidth&&!k.canvas&&(J=void 0!==J?J:k.elt.videoWidth,I=void 0!==I?I:k.elt.videoHeight),u||J);v=v||I;x=x||0;C=C||0;
var Y=void 0!==A?A:J;A=0<Y&&Y<J?Y:J;J=void 0!==M?M:I;J=0<J&&J<I?J:I;M=1;k.elt&&!k.canvas&&k.elt.style.width&&(M=k.elt.videoWidth&&!u?k.elt.videoWidth:k.elt.width,M/=parseInt(k.elt.style.width,10));x*=M;C*=M;J*=M;A*=M;Y=K;var ea=G,da=U;T=(I=d.default.modeAdjust(n,q,T,v,this._renderer._imageMode)).x;var X=I.y,Z=I.w,L=I.h,S=x,E=C,P=A,aa,ja,oa,ra,la,sa,Da,qa,Aa;I=(Y===b.COVER&&(aa=ea,oa=da,Da=Z,qa=L,sa=S,Aa=E,ja=P,ra=J,la=Math.max(Da/ja,qa/ra),Da/=la,qa/=la,la=sa,sa=Aa,aa===b.CENTER?la+=(ja-Da)/2:aa===
b.RIGHT&&(la+=ja-Da),oa===b.CENTER?sa+=(ra-qa)/2:oa===b.BOTTOM&&(sa+=ra-qa),S=(Aa={x:la,y:sa,w:Da,h:qa}).x,E=Aa.y,P=Aa.w,J=Aa.h),Y===b.CONTAIN&&(aa=ea,ja=da,oa=T,ra=X,la=Z,sa=L,Da=P,qa=J,Aa=Math.max(Da/la,qa/sa),Da/=Aa,qa/=Aa,Aa=oa,oa=ra,aa===b.CENTER?Aa+=(la-Da)/2:aa===b.RIGHT&&(Aa+=la-Da),ja===b.CENTER?oa+=(sa-qa)/2:ja===b.BOTTOM&&(oa+=sa-qa),T=(Y={x:Aa,y:oa,w:Da,h:qa}).x,X=Y.y,Z=Y.w,L=Y.h),{sx:S,sy:E,sw:P,sh:J,dx:T,dy:X,dw:Z,dh:L});this._renderer.image(k,I.sx,I.sy,I.sw,I.sh,I.dx,I.dy,I.dw,I.dh)};
h.default.prototype.tint=function(){for(var k=arguments.length,n=Array(k),q=0;q<k;q++)n[q]=arguments[q];h.default._validateParameters("tint",n);k=this.color.apply(this,n);this._renderer._tint=k.levels};h.default.prototype.noTint=function(){this._renderer._tint=null};h.default.prototype._getTintedImageCanvas=h.default.Renderer2D.prototype._getTintedImageCanvas;h.default.prototype.imageMode=function(k){h.default._validateParameters("imageMode",arguments);k!==b.CORNER&&k!==b.CORNERS&&k!==b.CENTER||(this._renderer._imageMode=
k)};a=h.default;F.default=a},{"../core/constants":272,"../core/friendly_errors/fes_core":274,"../core/friendly_errors/file_errors":275,"../core/friendly_errors/validate_params":278,"../core/helpers":279,"../core/main":283,"core-js/modules/es.array.copy-within":154,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.slice":169,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,
"core-js/modules/es.promise":191,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.includes":199,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.typed-array.copy-within":213,"core-js/modules/es.typed-array.every":214,"core-js/modules/es.typed-array.fill":215,"core-js/modules/es.typed-array.filter":216,"core-js/modules/es.typed-array.find":218,"core-js/modules/es.typed-array.find-index":217,
"core-js/modules/es.typed-array.for-each":221,"core-js/modules/es.typed-array.includes":222,"core-js/modules/es.typed-array.index-of":223,"core-js/modules/es.typed-array.iterator":226,"core-js/modules/es.typed-array.join":227,"core-js/modules/es.typed-array.last-index-of":228,"core-js/modules/es.typed-array.map":229,"core-js/modules/es.typed-array.reduce":231,"core-js/modules/es.typed-array.reduce-right":230,"core-js/modules/es.typed-array.reverse":232,"core-js/modules/es.typed-array.set":233,"core-js/modules/es.typed-array.slice":234,
"core-js/modules/es.typed-array.some":235,"core-js/modules/es.typed-array.sort":236,"core-js/modules/es.typed-array.subarray":237,"core-js/modules/es.typed-array.to-locale-string":238,"core-js/modules/es.typed-array.to-string":239,"core-js/modules/es.typed-array.uint8-array":242,"core-js/modules/es.typed-array.uint8-clamped-array":243,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246,gifenc:253,omggif:256,"regenerator-runtime/runtime":260}],307:[function(a,R,F){function z(l){return l&&
l.__esModule?l:{default:l}}function y(l,h){for(var d=0;d<h.length;d++){var b=h[d];b.enumerable=b.enumerable||!1;b.configurable=!0;"value"in b&&(b.writable=!0);Object.defineProperty(l,b.key,b)}}a("core-js/modules/es.symbol");a("core-js/modules/es.symbol.description");a("core-js/modules/es.symbol.iterator");a("core-js/modules/es.array.iterator");a("core-js/modules/es.object.to-string");a("core-js/modules/es.string.iterator");a("core-js/modules/web.dom-collections.iterator");a("core-js/modules/es.symbol");
a("core-js/modules/es.symbol.description");a("core-js/modules/es.symbol.iterator");a("core-js/modules/es.array.iterator");a("core-js/modules/es.object.to-string");a("core-js/modules/es.string.iterator");a("core-js/modules/web.dom-collections.iterator");Object.defineProperty(F,"__esModule",{value:!0});F.default=void 0;var w=z(a("../core/main")),r=z(a("./filters"));w.default.Image=function(){function l(d,b){if(!(this instanceof l))throw new TypeError("Cannot call a class as a function");this.width=
d;this.height=b;this.canvas=document.createElement("canvas");this.canvas.width=this.width;this.canvas.height=this.height;this.drawingContext=this.canvas.getContext("2d");(this._pixelsState=this)._pixelDensity=1;this.gifProperties=null;this._modified=!1;this.pixels=[]}var h;return h=[{key:"pixelDensity",value:function(d){return void 0!==d?(0>=d&&(w.default._friendlyParamError({type:"INVALID_VALUE",format:{types:["Number"]},position:1},"pixelDensity"),d=1),this._pixelDensity=d,this.width/=d,this.height/=
d,this):this._pixelDensity}},{key:"_animateGif",value:function(d){var b,g=this.gifProperties;d=d._lastRealFrameTime||window.performance.now();0===g.lastChangeTime&&(g.lastChangeTime=d);g.playing&&(g.timeDisplayed=d-g.lastChangeTime,b=g.frames[g.displayIndex].delay,g.timeDisplayed>=b&&(b=Math.floor(g.timeDisplayed/b),g.timeDisplayed=0,g.lastChangeTime=d,g.displayIndex+=b,g.loopCount=Math.floor(g.displayIndex/g.numFrames),null!==g.loopLimit&&g.loopCount>=g.loopLimit?g.playing=!1:(d=g.displayIndex%g.numFrames,
this.drawingContext.putImageData(g.frames[d].image,0,0),g.displayIndex=d,this.setModified(!0))))}},{key:"_setProperty",value:function(d,b){this[d]=b;this.setModified(!0)}},{key:"loadPixels",value:function(){w.default.Renderer2D.prototype.loadPixels.call(this);this.setModified(!0)}},{key:"updatePixels",value:function(d,b,g,p){w.default.Renderer2D.prototype.updatePixels.call(this,d,b,g,p);this.setModified(!0)}},{key:"get",value:function(d,b,g,p){return w.default._validateParameters("p5.Image.get",arguments),
w.default.Renderer2D.prototype.get.apply(this,arguments)}},{key:"_getPixel",value:function(){for(var d=arguments.length,b=Array(d),g=0;g<d;g++)b[g]=arguments[g];return w.default.Renderer2D.prototype._getPixel.apply(this,b)}},{key:"set",value:function(d,b,g){w.default.Renderer2D.prototype.set.call(this,d,b,g);this.setModified(!0)}},{key:"resize",value:function(d,b){0===d&&0===b?(d=this.canvas.width,b=this.canvas.height):0===d?d=this.canvas.width*b/this.canvas.height:0===b&&(b=this.canvas.height*d/
this.canvas.width);d=Math.floor(d);b=Math.floor(b);var g=document.createElement("canvas");if(g.width=d,g.height=b,this.gifProperties)for(var p=this.gifProperties,k=0;k<p.numFrames;k++){for(var n=this.drawingContext.createImageData(d,b),q=p.frames[k].image,u=n,v=0,x=0;x<u.height;x++)for(var C=0;C<u.width;C++){var A=Math.floor(C*q.width/u.width);A=4*(Math.floor(x*q.height/u.height)*q.width+A);u.data[v++]=q.data[A++];u.data[v++]=q.data[A++];u.data[v++]=q.data[A++];u.data[v++]=q.data[+A]}p.frames[k].image=
n}g.getContext("2d").drawImage(this.canvas,0,0,this.canvas.width,this.canvas.height,0,0,g.width,g.height);this.canvas.width=this.width=d;this.canvas.height=this.height=b;this.drawingContext.drawImage(g,0,0,d,b,0,0,d,b);0<this.pixels.length&&this.loadPixels();this.setModified(!0)}},{key:"copy",value:function(){for(var d=arguments.length,b=Array(d),g=0;g<d;g++)b[g]=arguments[g];w.default.prototype.copy.apply(this,b)}},{key:"mask",value:function(d){var b=this.drawingContext.globalCompositeOperation,
g=this._pixelDensity,p=1,k=[d=void 0===d?this:d,0,0,(p=d instanceof w.default.Renderer?d._pInst._pixelDensity:p)*d.width,p*d.height,0,0,g*this.width,g*this.height];if(this.drawingContext.globalCompositeOperation="destination-in",this.gifProperties){for(d=0;d<this.gifProperties.frames.length;d++)this.drawingContext.putImageData(this.gifProperties.frames[d].image,0,0),this.copy.apply(this,k),this.gifProperties.frames[d].image=this.drawingContext.getImageData(0,0,g*this.width,g*this.height);this.drawingContext.putImageData(this.gifProperties.frames[this.gifProperties.displayIndex].image,
0,0)}else this.copy.apply(this,k);this.drawingContext.globalCompositeOperation=b;this.setModified(!0)}},{key:"filter",value:function(d,b){r.default.apply(this.canvas,r.default[d],b);this.setModified(!0)}},{key:"blend",value:function(){for(var d=arguments.length,b=Array(d),g=0;g<d;g++)b[g]=arguments[g];w.default._validateParameters("p5.Image.blend",arguments);w.default.prototype.blend.apply(this,b);this.setModified(!0)}},{key:"setModified",value:function(d){this._modified=d}},{key:"isModified",value:function(){return this._modified}},
{key:"save",value:function(d,b){this.gifProperties?w.default.prototype.encodeAndDownloadGif(this,d):w.default.prototype.saveCanvas(this.canvas,d,b)}},{key:"reset",value:function(){var d;this.gifProperties&&((d=this.gifProperties).playing=!0,d.timeSinceStart=0,d.timeDisplayed=0,d.lastChangeTime=0,d.loopCount=0,d.displayIndex=0,this.drawingContext.putImageData(d.frames[0].image,0,0))}},{key:"getCurrentFrame",value:function(){var d;if(this.gifProperties)return(d=this.gifProperties).displayIndex%d.numFrames}},
{key:"setFrame",value:function(d){var b;this.gifProperties&&(d<(b=this.gifProperties).numFrames&&0<=d?(b.timeDisplayed=0,b.lastChangeTime=0,b.displayIndex=d,this.drawingContext.putImageData(b.frames[d].image,0,0)):console.log("Cannot set GIF to a frame number that is higher than total number of frames or below zero."))}},{key:"numFrames",value:function(){if(this.gifProperties)return this.gifProperties.numFrames}},{key:"play",value:function(){this.gifProperties&&(this.gifProperties.playing=!0)}},{key:"pause",
value:function(){this.gifProperties&&(this.gifProperties.playing=!1)}},{key:"delay",value:function(d,b){if(this.gifProperties){var g=this.gifProperties;if(b<g.numFrames&&0<=b)g.frames[b].delay=d;else{var p=!0;b=!1;var k=void 0;try{for(var n,q=g.frames[Symbol.iterator]();!(p=(n=q.next()).done);p=!0)n.value.delay=d}catch(u){b=!0,k=u}finally{try{p||null==q.return||q.return()}finally{if(b)throw k;}}}}}}],y(l.prototype,h),l}();a=w.default.Image;F.default=a},{"../core/main":283,"./filters":304,"core-js/modules/es.array.iterator":165,
"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.iterator":246}],308:[function(a,R,F){function z(r){return r&&r.__esModule?r:{default:r}}a("core-js/modules/es.array.filter");a("core-js/modules/es.array.filter");Object.defineProperty(F,"__esModule",{value:!0});F.default=void 0;var y=z(a("../core/main")),w=z(a("./filters"));
a("../color/p5.Color");y.default.prototype.pixels=[];y.default.prototype.blend=function(){for(var r,l=arguments.length,h=Array(l),d=0;d<l;d++)h[d]=arguments[d];y.default._validateParameters("blend",h);this._renderer?(r=this._renderer).blend.apply(r,h):y.default.Renderer2D.prototype.blend.apply(this,h)};y.default.prototype.copy=function(){var r;var l=arguments.length;var h=Array(l);for(r=0;r<l;r++)h[r]=arguments[r];if(y.default._validateParameters("copy",h),9===h.length){l=h[0];r=h[1];var d=h[2];var b=
h[3];var g=h[4];var p=h[5];var k=h[6];var n=h[7];h=h[8]}else{if(8!==h.length)throw Error("Signature not supported");l=this;r=h[0];d=h[1];b=h[2];g=h[3];p=h[4];k=h[5];n=h[6];h=h[7]}y.default.prototype._copyHelper(this,l,r,d,b,g,p,k,n,h)};y.default.prototype._copyHelper=function(r,l,h,d,b,g,p,k,n,q){var u=l.canvas.width/l.width,v=0,x=0;l._renderer&&l._renderer.isP3D&&(v=l.width/2,x=l.height/2);r._renderer&&r._renderer.isP3D?(r.push(),r.resetMatrix(),r.noLights(),r.blendMode(r.BLEND),r.imageMode(r.CORNER),
y.default.RendererGL.prototype.image.call(r._renderer,l,h+v,d+x,b,g,p,k,n,q),r.pop()):r.drawingContext.drawImage(l.canvas,u*(h+v),u*(d+x),u*b,u*g,p,k,n,q)};y.default.prototype.getFilterGraphicsLayer=function(){return this._renderer.getFilterGraphicsLayer()};y.default.prototype.filter=function(){for(var r=arguments.length,l=Array(r),h=0;h<r;h++)l[h]=arguments[h];y.default._validateParameters("filter",l);r=function(){var g,p={shader:void 0,operation:void 0,value:void 0,useWebGL:!0};return(0>=arguments.length?
void 0:arguments[0])instanceof y.default.Shader?p.shader=0>=arguments.length?void 0:arguments[0]:(p.operation=0>=arguments.length?void 0:arguments[0],1<arguments.length&&"number"==typeof(1>=arguments.length?void 0:arguments[1])&&(p.value=1>=arguments.length?void 0:arguments[1]),!1===(0>(g=arguments.length-1)||arguments.length<=g?void 0:arguments[g])&&(p.useWebGL=!1)),p}.apply(void 0,l);h=r.shader;var d=r.operation,b=r.value;r=r.useWebGL;this._renderer.isP3D&&h?y.default.RendererGL.prototype.filter.call(this._renderer,
h):r||this._renderer.isP3D?(!r&&this._renderer.isP3D&&console.warn("filter() with useWebGL\x3dfalse is not supported in WEBGL"),this._renderer.isP3D?y.default.RendererGL.prototype.filter.call(this._renderer,d,b):((h=this.getFilterGraphicsLayer()).copy(this._renderer,0,0,this.width,this.height,-this.width/2,-this.height/2,this.width,this.height),this._renderer.clear(),this._renderer.resetMatrix(),h.filter.apply(h,l),this.copy(h._renderer,0,0,this.width,this.height,0,0,this.width,this.height),h.clear())):
void 0!==this.canvas?w.default.apply(this.canvas,w.default[d],b):w.default.apply(this.elt,w.default[d],b)};y.default.prototype.get=function(r,l,h,d){var b;return y.default._validateParameters("get",arguments),(b=this._renderer).get.apply(b,arguments)};y.default.prototype.loadPixels=function(){for(var r=arguments.length,l=Array(r),h=0;h<r;h++)l[h]=arguments[h];y.default._validateParameters("loadPixels",l);this._renderer.loadPixels()};y.default.prototype.set=function(r,l,h){this._renderer.set(r,l,h)};
y.default.prototype.updatePixels=function(r,l,h,d){y.default._validateParameters("updatePixels",arguments);0!==this.pixels.length&&this._renderer.updatePixels(r,l,h,d)};a=y.default;F.default=a},{"../color/p5.Color":270,"../core/main":283,"./filters":304,"core-js/modules/es.array.filter":157}],309:[function(a,R,F){function z(g){return(z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(p){return typeof p}:function(p){return p&&"function"==typeof Symbol&&p.constructor===Symbol&&p!==
Symbol.prototype?"symbol":typeof p})(g)}function y(g){return g&&g.__esModule?g:{default:g}}function w(g){return(w="function"==typeof Symbol&&"symbol"===z(Symbol.iterator)?function(p){return z(p)}:function(p){return p&&"function"==typeof Symbol&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":z(p)})(g)}function r(g){return g.replace(/&/g,"\x26amp;").replace(/</g,"\x26lt;").replace(/>/g,"\x26gt;").replace(/"/g,"\x26quot;").replace(/'/g,"\x26#039;")}function l(g,p){p&&!0!==p&&"true"!==p||(p="");
var k="";return(g=g||"untitled",g.includes("."))&&(k=g.split(".").pop()),p&&k!==p&&(k=p,g="".concat(g,".").concat(k)),[g,k]}a("core-js/modules/es.symbol");a("core-js/modules/es.symbol.description");a("core-js/modules/es.symbol.iterator");a("core-js/modules/es.array.concat");a("core-js/modules/es.array.includes");a("core-js/modules/es.array.iterator");a("core-js/modules/es.array.last-index-of");a("core-js/modules/es.array.map");a("core-js/modules/es.array.slice");a("core-js/modules/es.array.splice");
a("core-js/modules/es.function.name");a("core-js/modules/es.object.from-entries");a("core-js/modules/es.object.to-string");a("core-js/modules/es.promise");a("core-js/modules/es.regexp.exec");a("core-js/modules/es.regexp.to-string");a("core-js/modules/es.string.includes");a("core-js/modules/es.string.iterator");a("core-js/modules/es.string.replace");a("core-js/modules/es.string.split");a("core-js/modules/es.typed-array.uint8-array");a("core-js/modules/es.typed-array.copy-within");a("core-js/modules/es.typed-array.every");
a("core-js/modules/es.typed-array.fill");a("core-js/modules/es.typed-array.filter");a("core-js/modules/es.typed-array.find");a("core-js/modules/es.typed-array.find-index");a("core-js/modules/es.typed-array.for-each");a("core-js/modules/es.typed-array.includes");a("core-js/modules/es.typed-array.index-of");a("core-js/modules/es.typed-array.iterator");a("core-js/modules/es.typed-array.join");a("core-js/modules/es.typed-array.last-index-of");a("core-js/modules/es.typed-array.map");a("core-js/modules/es.typed-array.reduce");
a("core-js/modules/es.typed-array.reduce-right");a("core-js/modules/es.typed-array.reverse");a("core-js/modules/es.typed-array.set");a("core-js/modules/es.typed-array.slice");a("core-js/modules/es.typed-array.some");a("core-js/modules/es.typed-array.sort");a("core-js/modules/es.typed-array.subarray");a("core-js/modules/es.typed-array.to-locale-string");a("core-js/modules/es.typed-array.to-string");a("core-js/modules/web.dom-collections.iterator");a("core-js/modules/web.url");a("core-js/modules/es.symbol");
a("core-js/modules/es.symbol.description");a("core-js/modules/es.symbol.iterator");a("core-js/modules/es.array.concat");a("core-js/modules/es.array.includes");a("core-js/modules/es.array.iterator");a("core-js/modules/es.array.last-index-of");a("core-js/modules/es.array.map");a("core-js/modules/es.array.slice");a("core-js/modules/es.array.splice");a("core-js/modules/es.function.name");a("core-js/modules/es.object.from-entries");a("core-js/modules/es.object.to-string");a("core-js/modules/es.promise");
a("core-js/modules/es.regexp.exec");a("core-js/modules/es.regexp.to-string");a("core-js/modules/es.string.includes");a("core-js/modules/es.string.iterator");a("core-js/modules/es.string.replace");a("core-js/modules/es.string.split");a("core-js/modules/es.typed-array.uint8-array");a("core-js/modules/es.typed-array.copy-within");a("core-js/modules/es.typed-array.every");a("core-js/modules/es.typed-array.fill");a("core-js/modules/es.typed-array.filter");a("core-js/modules/es.typed-array.find");a("core-js/modules/es.typed-array.find-index");
a("core-js/modules/es.typed-array.for-each");a("core-js/modules/es.typed-array.includes");a("core-js/modules/es.typed-array.index-of");a("core-js/modules/es.typed-array.iterator");a("core-js/modules/es.typed-array.join");a("core-js/modules/es.typed-array.last-index-of");a("core-js/modules/es.typed-array.map");a("core-js/modules/es.typed-array.reduce");a("core-js/modules/es.typed-array.reduce-right");a("core-js/modules/es.typed-array.reverse");a("core-js/modules/es.typed-array.set");a("core-js/modules/es.typed-array.slice");
a("core-js/modules/es.typed-array.some");a("core-js/modules/es.typed-array.sort");a("core-js/modules/es.typed-array.subarray");a("core-js/modules/es.typed-array.to-locale-string");a("core-js/modules/es.typed-array.to-string");a("core-js/modules/web.dom-collections.iterator");a("core-js/modules/web.url");Object.defineProperty(F,"__esModule",{value:!0});F.default=void 0;var h=y(a("../core/main")),d=(a("whatwg-fetch"),a("es6-promise/auto"),y(a("fetch-jsonp"))),b=y(a("file-saver"));a("../core/friendly_errors/validate_params");
a("../core/friendly_errors/file_errors");a("../core/friendly_errors/fes_core");h.default.prototype.loadJSON=function(){for(var g=arguments.length,p=Array(g),k=0;k<g;k++)p[k]=arguments[k];h.default._validateParameters("loadJSON",p);var n,q,u,v=p[0],x={};g="json";for(k=1;k<p.length;k++){var C=p[k];"string"==typeof C?"jsonp"!==C&&"json"!==C||(g=C):"function"==typeof C?n?q=C:n=C:"object"===w(C)&&(C.hasOwnProperty("jsonpCallback")||C.hasOwnProperty("jsonpCallbackFunction"))&&(g="jsonp",u=C)}var A=this;
return this.httpDo(v,"GET",u,g,function(M){for(var K in M)x[K]=M[K];void 0!==n&&n(M);A._decrementPreload()},function(M){if(h.default._friendlyFileLoadError(5,v),!q)throw M;q(M)}),x};h.default.prototype.loadStrings=function(){for(var g=arguments.length,p=Array(g),k=0;k<g;k++)p[k]=arguments[k];h.default._validateParameters("loadStrings",p);var n,q,u=[];for(g=1;g<p.length;g++)k=p[g],"function"==typeof k&&(void 0===n?n=k:void 0===q&&(q=k));var v=this;return h.default.prototype.httpDo.call(this,p[0],"GET",
"text",function(x){x=x.replace(/\r\n/g,"\r").replace(/\n/g,"\r").split(/\r/);for(var C=0,A=x.length;C<A;C+=32768)Array.prototype.push.apply(u,x.slice(C,Math.min(C+32768,A)));void 0!==n&&n(u);v._decrementPreload()},function(x){if(h.default._friendlyFileLoadError(3,x),!q)throw x;q(x)}),u};h.default.prototype.loadTable=function(g){var p,k,n,q=[],u=!1,v=g.substring(g.lastIndexOf(".")+1,g.length);"csv"===v?n=",":"ssv"===v?n=";":"tsv"===v&&(n="\t");for(v=1;v<arguments.length;v++)"function"==typeof arguments[v]?
void 0===p?p=arguments[v]:void 0===k&&(k=arguments[v]):"string"==typeof arguments[v]&&(q.push(arguments[v]),"header"===arguments[v]&&(u=!0),"csv"===arguments[v]?n=",":"ssv"===arguments[v]?n=";":"tsv"===arguments[v]&&(n="\t"));var x=new h.default.Table,C=this;return this.httpDo(g,"GET","table",function(A){for(var M,K,G={},U=[],J=0,I=null,T=function(){I.push(G.token);G.currentState=0;G.token=""},Y=function(){G.currentState=4;U.push(I);I=null};;){if(null==(M=A[J++])){if(G.escaped)throw Error("Unclosed quote in file.");
if(I){T();Y();break}}null===I&&(G.escaped=!1,I=[],G.currentState=0,G.token="");if(0===G.currentState){if('"'===M){G.escaped=!0;G.currentState=1;continue}G.currentState=1}1===G.currentState&&G.escaped?'"'===M?'"'===A[J]?(G.token+='"',J++):(G.escaped=!1,G.currentState=2):"\r"!==M&&(G.token+=M):"\r"===M?("\n"===A[J]&&J++,T(),Y()):"\n"===M?(T(),Y()):M===n?T():1===G.currentState&&(G.token+=M)}if(u)x.columns=U.shift();else for(A=0;A<U[0].length;A++)x.columns[A]="null";for(A=0;A<U.length;A++)(1!==U[A].length||
"undefined"!==U[A][0]&&""!==U[A][0])&&((K=new h.default.TableRow).arr=U[A],K.obj=function(ea,da){if(void 0===(da=da||[]))for(var X=0;X<ea.length;X++)da[X.toString()]=X;return Object.fromEntries(da.map(function(Z,L){return[Z,ea[L]]}))}(U[A],x.columns),x.addRow(K));"function"==typeof p&&p(x);C._decrementPreload()},function(A){h.default._friendlyFileLoadError(2,g);k?k(A):console.error(A)}),x};h.default.prototype.loadXML=function(){for(var g=arguments.length,p=Array(g),k=0;k<g;k++)p[k]=arguments[k];var n,
q,u=new h.default.XML;for(g=1;g<p.length;g++)k=p[g],"function"==typeof k&&(void 0===n?n=k:void 0===q&&(q=k));var v=this;return this.httpDo(p[0],"GET","xml",function(x){for(var C in x)u[C]=x[C];void 0!==n&&n(u);v._decrementPreload()},function(x){if(h.default._friendlyFileLoadError(1,x),!q)throw x;q(x)}),u};h.default.prototype.loadBytes=function(g,p,k){var n={},q=this;return this.httpDo(g,"GET","arrayBuffer",function(u){n.bytes=new Uint8Array(u);"function"==typeof p&&p(n);q._decrementPreload()},function(u){if(h.default._friendlyFileLoadError(6,
g),!k)throw u;k(u)}),n};h.default.prototype.httpGet=function(){for(var g=arguments.length,p=Array(g),k=0;k<g;k++)p[k]=arguments[k];return h.default._validateParameters("httpGet",p),p.splice(1,0,"GET"),h.default.prototype.httpDo.apply(this,p)};h.default.prototype.httpPost=function(){for(var g=arguments.length,p=Array(g),k=0;k<g;k++)p[k]=arguments[k];return h.default._validateParameters("httpPost",p),p.splice(1,0,"POST"),h.default.prototype.httpDo.apply(this,p)};h.default.prototype.httpDo=function(){for(var g,
p,k,n={},q=0,u="text/plain",v=arguments.length-1;0<v&&"function"==typeof(0>v||arguments.length<=v?void 0:arguments[v]);v--)q++;v=arguments.length-q;var x=0>=arguments.length?void 0:arguments[0];if(2==v&&"string"==typeof x&&"object"===w(1>=arguments.length?void 0:arguments[1]))u=new Request(x,1>=arguments.length?void 0:arguments[1]),p=2>=arguments.length?void 0:arguments[2],k=3>=arguments.length?void 0:arguments[3];else{var C;q="GET";for(v=1;v<arguments.length;v++){var A=0>v||arguments.length<=v?void 0:
arguments[v];if("string"==typeof A)"GET"===A||"POST"===A||"PUT"===A||"DELETE"===A?q=A:"json"===A||"jsonp"===A||"binary"===A||"arrayBuffer"===A||"xml"===A||"text"===A||"table"===A?g=A:C=A;else if("number"==typeof A)C=A.toString();else if("object"===w(A))if(A.hasOwnProperty("jsonpCallback")||A.hasOwnProperty("jsonpCallbackFunction"))for(var M in A)n[M]=A[M];else u=A instanceof h.default.XML?(C=A.serialize(),"application/xml"):(C=JSON.stringify(A),"application/json");else"function"==typeof A&&(p?k=A:
p=A)}v="GET"===q?new Headers:new Headers({"Content-Type":u});u=new Request(x,{method:q,mode:"cors",body:C,headers:v})}return(v=(v="jsonp"===(g=g||(x.includes("json")?"json":x.includes("xml")?"xml":"text"))?(0,d.default)(x,n):fetch(u)).then(function(K){if(!K.ok)throw(G=Error(K.body)).status=K.status,G.ok=!1,G;var G=0;switch((G="jsonp"!==g?K.headers.get("content-length"):G)&&64E6<G&&h.default._friendlyFileLoadError(7,x),g){case "json":case "jsonp":return K.json();case "binary":return K.blob();case "arrayBuffer":return K.arrayBuffer();
case "xml":return K.text().then(function(U){U=(new DOMParser).parseFromString(U,"text/xml");return new h.default.XML(U.documentElement)});default:return K.text()}})).then(p||function(){}),v.catch(k||console.error),v};window.URL=window.URL||window.webkitURL;h.default.prototype._pWriters=[];h.default.prototype.createWriter=function(g,p){var k,n;for(n in h.default.prototype._pWriters)if(h.default.prototype._pWriters[n].name===g)return k=new h.default.PrintWriter(g+this.millis(),p),h.default.prototype._pWriters.push(k),
k;return k=new h.default.PrintWriter(g,p),h.default.prototype._pWriters.push(k),k};h.default.PrintWriter=function(g,p){var k=this;this.name=g;this.content="";this.write=function(n){this.content+=n};this.print=function(n){this.content+="".concat(n,"\n")};this.clear=function(){this.content=""};this.close=function(){var n,q=[];for(n in q.push(this.content),h.default.prototype.writeFile(q,g,p),h.default.prototype._pWriters)h.default.prototype._pWriters[n].name===this.name&&h.default.prototype._pWriters.splice(n,
1);k.clear();k={}}};h.default.prototype.save=function(g,p,k){var n=arguments,q=(this._curElement||this).elt;if(0===n.length)h.default.prototype.saveCanvas(q);else if(n[0]instanceof h.default.Renderer||n[0]instanceof h.default.Graphics)h.default.prototype.saveCanvas(n[0].elt,n[1],n[2]);else if(1===n.length&&"string"==typeof n[0])h.default.prototype.saveCanvas(q,n[0]);else switch(l(n[1],n[2])[1]){case "json":return void h.default.prototype.saveJSON(n[0],n[1],n[2]);case "txt":return void h.default.prototype.saveStrings(n[0],
n[1],n[2]);default:n[0]instanceof Array?h.default.prototype.saveStrings(n[0],n[1],n[2]):n[0]instanceof h.default.Table?h.default.prototype.saveTable(n[0],n[1],n[2]):n[0]instanceof h.default.Image?h.default.prototype.saveCanvas(n[0].canvas,n[1]):n[0]instanceof h.default.SoundFile&&h.default.prototype.saveSound(n[0],n[1],n[2],n[3])}};h.default.prototype.saveJSON=function(g,p,k){h.default._validateParameters("saveJSON",arguments);k=k?JSON.stringify(g):JSON.stringify(g,void 0,2);this.saveStrings(k.split("\n"),
p,"json")};h.default.prototype.saveJSONObject=h.default.prototype.saveJSON;h.default.prototype.saveJSONArray=h.default.prototype.saveJSON;h.default.prototype.saveStrings=function(g,p,k,n){h.default._validateParameters("saveStrings",arguments);for(var q=this.createWriter(p,k||"txt"),u=0;u<g.length;u++)n?q.write(g[u]+"\r\n"):q.write(g[u]+"\n");q.close();q.clear()};h.default.prototype.saveTable=function(g,p,k){h.default._validateParameters("saveTable",arguments);var n=void 0===k?p.substring(p.lastIndexOf(".")+
1,p.length):k;var q=this.createWriter(p,n),u=g.columns,v="tsv"===n?"\t":",";if("html"!==n){if("0"!==u[0]){for(var x=0;x<u.length;x++)x<u.length-1?q.write(u[x]+v):q.write(u[x]);q.write("\n")}for(u=0;u<g.rows.length;u++){for(x=0;x<g.rows[u].arr.length;x++)x<g.rows[u].arr.length-1?"csv"===n&&String(g.rows[u].arr[x]).includes(",")?q.write('"'+g.rows[u].arr[x]+'"'+v):q.write(g.rows[u].arr[x]+v):"csv"===n&&String(g.rows[u].arr[x]).includes(",")?q.write('"'+g.rows[u].arr[x]+'"'):q.write(g.rows[u].arr[x]);
q.write("\n")}}else{q.print("\x3chtml\x3e");q.print("\x3chead\x3e");if(q.print('  \x3cmeta http-equiv\x3d"content-type" content\x3d"text/html;charset\x3dutf-8" /\x3e'),q.print("\x3c/head\x3e"),q.print("\x3cbody\x3e"),q.print("  \x3ctable\x3e"),"0"!==u[0]){q.print("    \x3ctr\x3e");for(n=0;n<u.length;n++)v=r(u[n]),q.print("      \x3ctd\x3e".concat(v)),q.print("      \x3c/td\x3e");q.print("    \x3c/tr\x3e")}for(n=0;n<g.rows.length;n++){q.print("    \x3ctr\x3e");for(u=0;u<g.columns.length;u++)v=r(g.rows[n].getString(u)),
q.print("      \x3ctd\x3e".concat(v)),q.print("      \x3c/td\x3e");q.print("    \x3c/tr\x3e")}q.print("  \x3c/table\x3e");q.print("\x3c/body\x3e");q.print("\x3c/html\x3e")}q.close();q.clear()};h.default.prototype.writeFile=function(g,p,k){var n="application/octet-stream";g=(h.default.prototype._isSafari()&&(n="text/plain"),new Blob(g,{type:n}));h.default.prototype.downloadFile(g,p,k)};h.default.prototype.downloadFile=function(g,p,k){var n;p=l(p,k);k=p[0];g instanceof Blob?b.default.saveAs(g,k):((n=
document.createElement("a")).href=g,n.download=k,n.onclick=function(q){document.body.removeChild(q.target);q.stopPropagation()},n.style.display="none",document.body.appendChild(n),h.default.prototype._isSafari()&&(g=(g='Hello, Safari user! To download this file...\n1. Go to File --\x3e Save As.\n2. Choose "Page Source" as the Format.\n')+'3. Name it with this extension: ."'.concat(p[1],'"'),alert(g)),n.click())};h.default.prototype._checkFileExtension=l;h.default.prototype._isSafari=function(){return window.HTMLElement.toString().includes("Constructor")};
a=h.default;F.default=a},{"../core/friendly_errors/fes_core":274,"../core/friendly_errors/file_errors":275,"../core/friendly_errors/validate_params":278,"../core/main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.last-index-of":167,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.array.splice":171,"core-js/modules/es.function.name":174,"core-js/modules/es.object.from-entries":185,
"core-js/modules/es.object.to-string":190,"core-js/modules/es.promise":191,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.includes":199,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.replace":204,"core-js/modules/es.string.split":206,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.typed-array.copy-within":213,"core-js/modules/es.typed-array.every":214,
"core-js/modules/es.typed-array.fill":215,"core-js/modules/es.typed-array.filter":216,"core-js/modules/es.typed-array.find":218,"core-js/modules/es.typed-array.find-index":217,"core-js/modules/es.typed-array.for-each":221,"core-js/modules/es.typed-array.includes":222,"core-js/modules/es.typed-array.index-of":223,"core-js/modules/es.typed-array.iterator":226,"core-js/modules/es.typed-array.join":227,"core-js/modules/es.typed-array.last-index-of":228,"core-js/modules/es.typed-array.map":229,"core-js/modules/es.typed-array.reduce":231,
"core-js/modules/es.typed-array.reduce-right":230,"core-js/modules/es.typed-array.reverse":232,"core-js/modules/es.typed-array.set":233,"core-js/modules/es.typed-array.slice":234,"core-js/modules/es.typed-array.some":235,"core-js/modules/es.typed-array.sort":236,"core-js/modules/es.typed-array.subarray":237,"core-js/modules/es.typed-array.to-locale-string":238,"core-js/modules/es.typed-array.to-string":239,"core-js/modules/es.typed-array.uint8-array":242,"core-js/modules/web.dom-collections.iterator":246,
"core-js/modules/web.url":248,"es6-promise/auto":249,"fetch-jsonp":251,"file-saver":252,"whatwg-fetch":261}],310:[function(a,R,F){function z(w,r){for(var l=0;l<r.length;l++){var h=r[l];h.enumerable=h.enumerable||!1;h.configurable=!0;"value"in h&&(h.writable=!0);Object.defineProperty(w,h.key,h)}}a("core-js/modules/es.array.concat");a("core-js/modules/es.array.index-of");a("core-js/modules/es.array.join");a("core-js/modules/es.array.splice");a("core-js/modules/es.regexp.constructor");a("core-js/modules/es.regexp.exec");
a("core-js/modules/es.regexp.to-string");a("core-js/modules/es.string.match");a("core-js/modules/es.string.replace");a("core-js/modules/es.array.concat");a("core-js/modules/es.array.index-of");a("core-js/modules/es.array.join");a("core-js/modules/es.array.splice");a("core-js/modules/es.regexp.constructor");a("core-js/modules/es.regexp.exec");a("core-js/modules/es.regexp.to-string");a("core-js/modules/es.string.match");a("core-js/modules/es.string.replace");Object.defineProperty(F,"__esModule",{value:!0});
F.default=void 0;var y=(a=a("../core/main"))&&a.__esModule?a:{default:a};y.default.Table=function(){function w(){var l=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[];if(!(this instanceof w))throw new TypeError("Cannot call a class as a function");this.columns=[];this.rows=l}var r;return r=[{key:"addRow",value:function(l){l=l||new y.default.TableRow;if(void 0===l.arr||void 0===l.obj)throw Error("invalid TableRow: ".concat(l));return(l.table=this).rows.push(l),l}},{key:"removeRow",value:function(l){this.rows[l].table=
null;l=this.rows.splice(l+1,this.rows.length);this.rows.pop();this.rows=this.rows.concat(l)}},{key:"getRow",value:function(l){return this.rows[l]}},{key:"getRows",value:function(){return this.rows}},{key:"findRow",value:function(l,h){if("string"==typeof h)for(var d=0;d<this.rows.length;d++){if(this.rows[d].obj[h]===l)return this.rows[d]}else for(d=0;d<this.rows.length;d++)if(this.rows[d].arr[h]===l)return this.rows[d];return null}},{key:"findRows",value:function(l,h){var d=[];if("string"==typeof h)for(var b=
0;b<this.rows.length;b++)this.rows[b].obj[h]===l&&d.push(this.rows[b]);else for(b=0;b<this.rows.length;b++)this.rows[b].arr[h]===l&&d.push(this.rows[b]);return d}},{key:"matchRow",value:function(l,h){if("number"==typeof h)for(var d=0;d<this.rows.length;d++){if(this.rows[d].arr[h].match(l))return this.rows[d]}else for(d=0;d<this.rows.length;d++)if(this.rows[d].obj[h].match(l))return this.rows[d];return null}},{key:"matchRows",value:function(l,h){var d=[];if("number"==typeof h)for(var b=0;b<this.rows.length;b++)this.rows[b].arr[h].match(l)&&
d.push(this.rows[b]);else for(b=0;b<this.rows.length;b++)this.rows[b].obj[h].match(l)&&d.push(this.rows[b]);return d}},{key:"getColumn",value:function(l){var h=[];if("string"==typeof l)for(var d=0;d<this.rows.length;d++)h.push(this.rows[d].obj[l]);else for(d=0;d<this.rows.length;d++)h.push(this.rows[d].arr[l]);return h}},{key:"clearRows",value:function(){delete this.rows;this.rows=[]}},{key:"addColumn",value:function(l){this.columns.push(l||null)}},{key:"getColumnCount",value:function(){return this.columns.length}},
{key:"getRowCount",value:function(){return this.rows.length}},{key:"removeTokens",value:function(l,h){for(var d=[],b=0;b<l.length;b++)d.push(l.charAt(b).replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$\x26"));l=new RegExp(d.join("|"),"g");if(void 0===h)for(h=0;h<this.columns.length;h++)for(d=0;d<this.rows.length;d++)b=(b=this.rows[d].arr[h]).replace(l,""),this.rows[d].arr[h]=b,this.rows[d].obj[this.columns[h]]=b;else if("string"==typeof h)for(d=0;d<this.rows.length;d++){b=(b=this.rows[d].obj[h]).replace(l,"");
var g=(this.rows[d].obj[h]=b,this.columns.indexOf(h));this.rows[d].arr[g]=b}else for(d=0;d<this.rows.length;d++)b=(b=this.rows[d].arr[h]).replace(l,""),this.rows[d].arr[h]=b,this.rows[d].obj[this.columns[h]]=b}},{key:"trim",value:function(l){var h=RegExp(" ","g");if(void 0===l)for(l=0;l<this.columns.length;l++)for(var d=0;d<this.rows.length;d++){var b=(b=this.rows[d].arr[l]).replace(h,"");this.rows[d].arr[l]=b;this.rows[d].obj[this.columns[l]]=b}else if("string"==typeof l)for(d=0;d<this.rows.length;d++){b=
(b=this.rows[d].obj[l]).replace(h,"");var g=(this.rows[d].obj[l]=b,this.columns.indexOf(l));this.rows[d].arr[g]=b}else for(d=0;d<this.rows.length;d++)b=(b=this.rows[d].arr[l]).replace(h,""),this.rows[d].arr[l]=b,this.rows[d].obj[this.columns[l]]=b}},{key:"removeColumn",value:function(l){"string"==typeof l?d=this.columns.indexOf(h=l):h=this.columns[d=l];var h,d;l=this.columns.splice(d+1,this.columns.length);this.columns.pop();this.columns=this.columns.concat(l);for(l=0;l<this.rows.length;l++){var b=
this.rows[l].arr,g=b.splice(d+1,b.length);b.pop();this.rows[l].arr=b.concat(g);delete this.rows[l].obj[h]}}},{key:"set",value:function(l,h,d){this.rows[l].set(h,d)}},{key:"setNum",value:function(l,h,d){this.rows[l].setNum(h,d)}},{key:"setString",value:function(l,h,d){this.rows[l].setString(h,d)}},{key:"get",value:function(l,h){return this.rows[l].get(h)}},{key:"getNum",value:function(l,h){return this.rows[l].getNum(h)}},{key:"getString",value:function(l,h){return this.rows[l].getString(h)}},{key:"getObject",
value:function(l){for(var h,d={},b=0;b<this.rows.length;b++)if(h=this.rows[b].obj,"string"==typeof l){if(!(0<=this.columns.indexOf(l)))throw Error('This table has no column named "'.concat(l,'"'));d[h[l]]=h}else d[b]=this.rows[b].obj;return d}},{key:"getArray",value:function(){for(var l=[],h=0;h<this.rows.length;h++)l.push(this.rows[h].arr);return l}}],z(w.prototype,r),w}();a=y.default;F.default=a},{"../core/main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.join":166,
"core-js/modules/es.array.splice":171,"core-js/modules/es.regexp.constructor":194,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.match":201,"core-js/modules/es.string.replace":204}],311:[function(a,R,F){function z(y,w){for(var r=0;r<w.length;r++){var l=w[r];l.enumerable=l.enumerable||!1;l.configurable=!0;"value"in l&&(l.writable=!0);Object.defineProperty(y,l.key,l)}}a("core-js/modules/es.array.index-of");a("core-js/modules/es.array.iterator");
a("core-js/modules/es.object.from-entries");a("core-js/modules/es.object.to-string");a("core-js/modules/es.regexp.exec");a("core-js/modules/es.regexp.to-string");a("core-js/modules/es.string.split");a("core-js/modules/web.dom-collections.iterator");a("core-js/modules/es.array.index-of");a("core-js/modules/es.array.iterator");a("core-js/modules/es.object.from-entries");a("core-js/modules/es.object.to-string");a("core-js/modules/es.regexp.exec");a("core-js/modules/es.regexp.to-string");a("core-js/modules/es.string.split");
a("core-js/modules/web.dom-collections.iterator");Object.defineProperty(F,"__esModule",{value:!0});F.default=void 0;a=(a=a("../core/main"))&&a.__esModule?a:{default:a};a.default.TableRow=function(){function y(r,l){if(!(this instanceof y))throw new TypeError("Cannot call a class as a function");var h=[];r&&(h=r.split(l||","));this.arr=h;this.obj=Object.fromEntries(h.entries());this.table=null}var w;return w=[{key:"set",value:function(r,l){if("string"==typeof r){var h=this.table.columns.indexOf(r);
if(!(0<=h))throw Error('This table has no column named "'.concat(r,'"'));this.obj[r]=l;this.arr[h]=l}else{if(!(r<this.table.columns.length))throw Error("Column #".concat(r," is out of the range of this table"));this.arr[r]=l;h=this.table.columns[r];this.obj[h]=l}}},{key:"setNum",value:function(r,l){l=parseFloat(l);this.set(r,l)}},{key:"setString",value:function(r,l){l=l.toString();this.set(r,l)}},{key:"get",value:function(r){return("string"==typeof r?this.obj:this.arr)[r]}},{key:"getNum",value:function(r){var l=
"string"==typeof r?parseFloat(this.obj[r]):parseFloat(this.arr[r]);if("NaN"===l.toString())throw"Error: ".concat(this.obj[r]," is NaN (Not a Number)");return l}},{key:"getString",value:function(r){return("string"==typeof r?this.obj:this.arr)[r].toString()}}],z(y.prototype,w),y}();a=a.default;F.default=a},{"../core/main":283,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.from-entries":185,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.exec":195,
"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.split":206,"core-js/modules/web.dom-collections.iterator":246}],312:[function(a,R,F){function z(w,r){for(var l=0;l<r.length;l++){var h=r[l];h.enumerable=h.enumerable||!1;h.configurable=!0;"value"in h&&(h.writable=!0);Object.defineProperty(w,h.key,h)}}a("core-js/modules/es.symbol");a("core-js/modules/es.symbol.description");a("core-js/modules/es.symbol.iterator");a("core-js/modules/es.array.iterator");a("core-js/modules/es.number.constructor");
a("core-js/modules/es.object.to-string");a("core-js/modules/es.regexp.exec");a("core-js/modules/es.string.iterator");a("core-js/modules/es.string.replace");a("core-js/modules/web.dom-collections.iterator");a("core-js/modules/es.symbol");a("core-js/modules/es.symbol.description");a("core-js/modules/es.symbol.iterator");a("core-js/modules/es.array.iterator");a("core-js/modules/es.number.constructor");a("core-js/modules/es.object.to-string");a("core-js/modules/es.regexp.exec");a("core-js/modules/es.string.iterator");
a("core-js/modules/es.string.replace");a("core-js/modules/web.dom-collections.iterator");Object.defineProperty(F,"__esModule",{value:!0});F.default=void 0;var y=(a=a("../core/main"))&&a.__esModule?a:{default:a};y.default.XML=function(){function w(l){if(!(this instanceof w))throw new TypeError("Cannot call a class as a function");l?this.DOM=l:(l=document.implementation.createDocument(null,"doc"),this.DOM=l.createElement("root"))}var r;return r=[{key:"getParent",value:function(){return new y.default.XML(this.DOM.parentElement)}},
{key:"getName",value:function(){return this.DOM.tagName}},{key:"setName",value:function(l){var h=this.DOM.innerHTML,d=this.DOM.attributes;l=document.implementation.createDocument(null,"default").createElement(l);l.innerHTML=h;for(h=0;h<d.length;h++)l.setAttribute(d[h].nodeName,d[h].nodeValue);this.DOM=l}},{key:"hasChildren",value:function(){return 0<this.DOM.children.length}},{key:"listChildren",value:function(){for(var l=[],h=0;h<this.DOM.childNodes.length;h++)l.push(this.DOM.childNodes[h].nodeName);
return l}},{key:"getChildren",value:function(l){l=l?this.DOM.getElementsByTagName(l):this.DOM.children;for(var h=[],d=0;d<l.length;d++)h.push(new y.default.XML(l[d]));return h}},{key:"getChild",value:function(l){if("string"!=typeof l)return new y.default.XML(this.DOM.children[l]);var h=!0,d=!1,b=void 0;try{for(var g,p=this.DOM.children[Symbol.iterator]();!(h=(g=p.next()).done);h=!0){var k=g.value;if(k.tagName===l)return new y.default.XML(k)}}catch(n){d=!0,b=n}finally{try{h||null==p.return||p.return()}finally{if(d)throw b;
}}}},{key:"addChild",value:function(l){l instanceof y.default.XML&&this.DOM.appendChild(l.DOM)}},{key:"removeChild",value:function(l){var h=-1;if("string"==typeof l)for(var d=0;d<this.DOM.children.length;d++){if(this.DOM.children[d].tagName===l){h=d;break}}else h=l;-1!==h&&this.DOM.removeChild(this.DOM.children[h])}},{key:"getAttributeCount",value:function(){return this.DOM.attributes.length}},{key:"listAttributes",value:function(){var l=[],h=!0,d=!1,b=void 0;try{for(var g,p=this.DOM.attributes[Symbol.iterator]();!(h=
(g=p.next()).done);h=!0)l.push(g.value.nodeName)}catch(k){d=!0,b=k}finally{try{h||null==p.return||p.return()}finally{if(d)throw b;}}return l}},{key:"hasAttribute",value:function(l){var h={},d=!0,b=!1,g=void 0;try{for(var p,k=this.DOM.attributes[Symbol.iterator]();!(d=(p=k.next()).done);d=!0){var n=p.value;h[n.nodeName]=n.nodeValue}}catch(q){b=!0,g=q}finally{try{d||null==k.return||k.return()}finally{if(b)throw g;}}return!!h[l]}},{key:"getNum",value:function(l,h){var d={},b=!0,g=!1,p=void 0;try{for(var k,
n=this.DOM.attributes[Symbol.iterator]();!(b=(k=n.next()).done);b=!0){var q=k.value;d[q.nodeName]=q.nodeValue}}catch(u){g=!0,p=u}finally{try{b||null==n.return||n.return()}finally{if(g)throw p;}}return Number(d[l])||h||0}},{key:"getString",value:function(l,h){var d={},b=!0,g=!1,p=void 0;try{for(var k,n=this.DOM.attributes[Symbol.iterator]();!(b=(k=n.next()).done);b=!0){var q=k.value;d[q.nodeName]=q.nodeValue}}catch(u){g=!0,p=u}finally{try{b||null==n.return||n.return()}finally{if(g)throw p;}}return d[l]?
String(d[l]):h||null}},{key:"setAttribute",value:function(l,h){this.DOM.setAttribute(l,h)}},{key:"getContent",value:function(l){return this.DOM.textContent.replace(/\s\s+/g,",")||l||null}},{key:"setContent",value:function(l){this.DOM.children.length||(this.DOM.textContent=l)}},{key:"serialize",value:function(){return(new XMLSerializer).serializeToString(this.DOM)}}],z(w.prototype,r),w}();a=y.default;F.default=a},{"../core/main":283,"core-js/modules/es.array.iterator":165,"core-js/modules/es.number.constructor":179,
"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.replace":204,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.iterator":246}],313:[function(a,R,F){function z(w){if(!(w=function(r){if(Array.isArray(r)){for(var l=0,h=Array(r.length);l<r.length;l++)h[l]=r[l];return h}}(w)||function(r){if(Symbol.iterator in
Object(r)||"[object Arguments]"===Object.prototype.toString.call(r))return Array.from(r)}(w)))throw new TypeError("Invalid attempt to spread non-iterable instance");return w}a("core-js/modules/es.symbol");a("core-js/modules/es.symbol.description");a("core-js/modules/es.symbol.iterator");a("core-js/modules/es.array.from");a("core-js/modules/es.array.includes");a("core-js/modules/es.array.index-of");a("core-js/modules/es.array.iterator");a("core-js/modules/es.array.map");a("core-js/modules/es.array.slice");
a("core-js/modules/es.math.hypot");a("core-js/modules/es.number.constructor");a("core-js/modules/es.object.to-string");a("core-js/modules/es.regexp.to-string");a("core-js/modules/es.string.includes");a("core-js/modules/es.string.iterator");a("core-js/modules/web.dom-collections.iterator");a("core-js/modules/es.array.includes");a("core-js/modules/es.array.index-of");a("core-js/modules/es.array.map");a("core-js/modules/es.array.slice");a("core-js/modules/es.math.hypot");a("core-js/modules/es.number.constructor");
a("core-js/modules/es.string.includes");Object.defineProperty(F,"__esModule",{value:!0});F.default=void 0;var y=(a=a("../core/main"))&&a.__esModule?a:{default:a};y.default.prototype.abs=Math.abs;y.default.prototype.ceil=Math.ceil;y.default.prototype.constrain=function(w,r,l){return y.default._validateParameters("constrain",arguments),Math.max(Math.min(w,l),r)};y.default.prototype.dist=function(){for(var w=arguments.length,r=Array(w),l=0;l<w;l++)r[l]=arguments[l];return y.default._validateParameters("dist",
r),4===r.length?Math.hypot(r[2]-r[0],r[3]-r[1]):6===r.length?Math.hypot(r[3]-r[0],r[4]-r[1],r[5]-r[2]):void 0};y.default.prototype.exp=Math.exp;y.default.prototype.floor=Math.floor;y.default.prototype.lerp=function(w,r,l){return y.default._validateParameters("lerp",arguments),l*(r-w)+w};y.default.prototype.log=Math.log;y.default.prototype.mag=function(w,r){return y.default._validateParameters("mag",arguments),Math.hypot(w,r)};y.default.prototype.map=function(w,r,l,h,d,b){y.default._validateParameters("map",
arguments);w=(w-r)/(l-r)*(d-h)+h;return b?h<d?this.constrain(w,h,d):this.constrain(w,d,h):w};y.default.prototype.max=function(){for(var w=arguments.length,r=Array(w),l=0;l<w;l++)r[l]=arguments[l];return Array.isArray(r[0])?Math.max.apply(Math,z(r[0])):Math.max.apply(Math,z(r))};y.default.prototype.min=function(){for(var w=arguments.length,r=Array(w),l=0;l<w;l++)r[l]=arguments[l];return Array.isArray(r[0])?Math.min.apply(Math,z(r[0])):Math.min.apply(Math,z(r))};y.default.prototype.norm=function(w,
r,l){return y.default._validateParameters("norm",arguments),this.map(w,r,l,0,1)};y.default.prototype.pow=Math.pow;y.default.prototype.round=function(w,r){return r?(r=Math.pow(10,r),Math.round(w*r)/r):Math.round(w)};y.default.prototype.sq=function(w){return w*w};y.default.prototype.sqrt=Math.sqrt;y.default.prototype.fract=function(w){y.default._validateParameters("fract",arguments);var r,l=0;w=Number(w);return isNaN(w)||Math.abs(w)===1/0?w:(0>w&&(w=-w,l=1),String(w).includes(".")&&!String(w).includes("e")?
(r=String(w),r=Number("0"+r.slice(r.indexOf("."))),Math.abs(l-r)):1>w?Math.abs(l-w):0)};a=y.default;F.default=a},{"../core/main":283,"core-js/modules/es.array.from":162,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.math.hypot":176,"core-js/modules/es.number.constructor":179,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.to-string":196,
"core-js/modules/es.string.includes":199,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.iterator":246}],314:[function(a,R,F){function z(r,l,h){return(z=function(){if("undefined"!=typeof Reflect&&Reflect.construct&&!Reflect.construct.sham){if("function"==typeof Proxy)return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),
1}catch(d){}}}()?Reflect.construct:function(d,b,g){var p=[null];p.push.apply(p,b);b=new (Function.bind.apply(d,p));return g&&y(b,g.prototype),b}).apply(null,arguments)}function y(r,l){return(y=Object.setPrototypeOf||function(h,d){return h.__proto__=d,h})(r,l)}a("core-js/modules/es.array.concat");a("core-js/modules/es.array.slice");a("core-js/modules/es.object.to-string");a("core-js/modules/es.reflect.construct");a("core-js/modules/es.regexp.to-string");a("core-js/modules/es.array.concat");a("core-js/modules/es.array.slice");
Object.defineProperty(F,"__esModule",{value:!0});F.default=void 0;var w=(a=a("../core/main"))&&a.__esModule?a:{default:a};w.default.prototype.createVector=function(r,l,h){return this instanceof w.default?z(w.default.Vector,[this._fromRadians.bind(this),this._toRadians.bind(this)].concat(Array.prototype.slice.call(arguments))):new w.default.Vector(r,l,h)};a=w.default;F.default=a},{"../core/main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.slice":169,"core-js/modules/es.object.to-string":190,
"core-js/modules/es.reflect.construct":192,"core-js/modules/es.regexp.to-string":196}],315:[function(a,R,F){Object.defineProperty(F,"__esModule",{value:!0});F.default=void 0;a=(a=a("../core/main"))&&a.__esModule?a:{default:a};var z,y=4,w=.5;a=(a.default.prototype.noise=function(r){var l=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,h=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0;if(null==z){z=Array(4096);for(var d=0;4096>d;d++)z[d]=Math.random()}0>r&&(r=-r);0>l&&(l=-l);0>h&&
(h=-h);d=Math.floor(r);var b=Math.floor(l),g=Math.floor(h),p=r-d;l-=b;for(var k=h-g,n=0,q=.5,u=0;u<y;u++){var v=d+(b<<4)+(g<<8),x=.5*(1-Math.cos(p*Math.PI)),C=.5*(1-Math.cos(l*Math.PI)),A=z[v&4095];A+=x*(z[v+1&4095]-A);h=z[v+16&4095];A+=C*(h+x*(z[v+16+1&4095]-h)-A);h=z[(v+=256)&4095];h+=x*(z[v+1&4095]-h);var M=z[v+16&4095];h+=C*(M+x*(z[v+16+1&4095]-M)-h);n+=(A+.5*(1-Math.cos(k*Math.PI))*(h-A))*q;q*=w;d<<=1;b<<=1;g<<=1;1<=(p*=2)&&(d++,p--);1<=(l*=2)&&(b++,l--);1<=(k*=2)&&(g++,k--)}return n},a.default.prototype.noiseDetail=
function(r,l){0<r&&(y=r);0<l&&(w=l)},a.default.prototype.noiseSeed=function(r){var l=4294967296;var h,d,b={setSeed:function(g){d=h=(null==g?Math.random()*l:g)>>>0},getSeed:function(){return h},rand:function(){return(d=(1664525*d+1013904223)%l)/l}};b.setSeed(r);z=Array(4096);for(r=0;4096>r;r++)z[r]=b.rand()},a.default);F.default=a},{"../core/main":283}],316:[function(a,R,F){function z(b){return(z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(g){return typeof g}:function(g){return g&&
"function"==typeof Symbol&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g})(b)}function y(b){return(y="function"==typeof Symbol&&"symbol"===z(Symbol.iterator)?function(g){return z(g)}:function(g){return g&&"function"==typeof Symbol&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":z(g)})(b)}function w(){var b;return"function"!=typeof WeakMap?null:(b=new WeakMap,w=function(){return b},b)}function r(b,g){for(var p=0;p<g.length;p++){var k=g[p];k.enumerable=k.enumerable||!1;k.configurable=
!0;"value"in k&&(k.writable=!0);Object.defineProperty(b,k.key,k)}}a("core-js/modules/es.symbol");a("core-js/modules/es.symbol.description");a("core-js/modules/es.symbol.iterator");a("core-js/modules/es.array.concat");a("core-js/modules/es.array.every");a("core-js/modules/es.array.iterator");a("core-js/modules/es.array.some");a("core-js/modules/es.math.sign");a("core-js/modules/es.number.constructor");a("core-js/modules/es.number.epsilon");a("core-js/modules/es.number.is-finite");a("core-js/modules/es.object.get-own-property-descriptor");
a("core-js/modules/es.object.to-string");a("core-js/modules/es.string.iterator");a("core-js/modules/es.string.sub");a("core-js/modules/es.weak-map");a("core-js/modules/web.dom-collections.iterator");a("core-js/modules/es.array.concat");a("core-js/modules/es.array.every");a("core-js/modules/es.array.some");a("core-js/modules/es.math.sign");a("core-js/modules/es.number.constructor");a("core-js/modules/es.number.epsilon");a("core-js/modules/es.number.is-finite");a("core-js/modules/es.string.sub");Object.defineProperty(F,
"__esModule",{value:!0});F.default=void 0;var l=(d=a("../core/main"))&&d.__esModule?d:{default:d},h=function(b){if(b&&b.__esModule)return b;if(null===b||"object"!==y(b)&&"function"!=typeof b)return{default:b};var g=w();if(g&&g.has(b))return g.get(b);var p,k={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(p in b){var q;Object.prototype.hasOwnProperty.call(b,p)&&((q=n?Object.getOwnPropertyDescriptor(b,p):null)&&(q.get||q.set)?Object.defineProperty(k,p,q):k[p]=b[p])}k.default=b;g&&g.set(b,
k);return k}(a("../core/constants"));l.default.Vector=function(){function b(){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");var k,n;var q="function"==typeof(0>=arguments.length?void 0:arguments[0])?(this.isPInst=!0,this._fromRadians=0>=arguments.length?void 0:arguments[0],this._toRadians=1>=arguments.length?void 0:arguments[1],k=(2>=arguments.length?void 0:arguments[2])||0,n=(3>=arguments.length?void 0:arguments[3])||0,(4>=arguments.length?void 0:arguments[4])||
0):(k=(0>=arguments.length?void 0:arguments[0])||0,n=(1>=arguments.length?void 0:arguments[1])||0,(2>=arguments.length?void 0:arguments[2])||0);this.x=k;this.y=n;this.z=q}var g,p;return p=[{key:"fromAngle",value:function(k){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1;return new l.default.Vector(n*Math.cos(k),n*Math.sin(k),0)}},{key:"fromAngles",value:function(k,n){var q=2<arguments.length&&void 0!==arguments[2]?arguments[2]:1,u=Math.cos(n);n=Math.sin(n);var v=Math.cos(k);k=Math.sin(k);
return new l.default.Vector(q*k*n,-q*v,q*k*u)}},{key:"random2D",value:function(){return this.fromAngle(Math.random()*h.TWO_PI)}},{key:"random3D",value:function(){var k=Math.random()*h.TWO_PI,n=2*Math.random()-1,q=Math.sqrt(1-n*n),u=q*Math.cos(k);q*=Math.sin(k);return new l.default.Vector(u,q,n)}},{key:"copy",value:function(k){return k.copy(k)}},{key:"add",value:function(){for(var k=arguments.length,n=Array(k),q=0;q<k;q++)n[q]=arguments[q];k=n[0];q=n[1];var u=n[2];return u?u.set(k):(u=k.copy(),3===
n.length&&l.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.add")),u.add(q),u}},{key:"rem",value:function(k,n){if(k instanceof l.default.Vector&&n instanceof l.default.Vector)return(k=k.copy()).rem(n),k}},{key:"sub",value:function(){for(var k=arguments.length,n=Array(k),q=0;q<k;q++)n[q]=arguments[q];k=n[0];q=n[1];var u=n[2];return u?u.set(k):(u=k.copy(),3===n.length&&l.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector",
"p5.Vector.sub")),u.sub(q),u}},{key:"mult",value:function(){for(var k=arguments.length,n=Array(k),q=0;q<k;q++)n[q]=arguments[q];k=n[0];q=n[1];var u=n[2];return u?u.set(k):(u=k.copy(),3===n.length&&l.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.mult")),u.mult(q),u}},{key:"rotate",value:function(){for(var k=arguments.length,n=Array(k),q=0;q<k;q++)n[q]=arguments[q];k=n[0];q=n[1];var u=n[2];return 2===n.length?u=k.copy():(u instanceof l.default.Vector||
l.default._friendlyError("The target parameter should be of type p5.Vector","p5.Vector.rotate"),u.set(k)),u.rotate(q),u}},{key:"div",value:function(){for(var k=arguments.length,n=Array(k),q=0;q<k;q++)n[q]=arguments[q];k=n[0];q=n[1];var u=n[2];return u?u.set(k):(u=k.copy(),3===n.length&&l.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.div")),u.div(q),u}},{key:"dot",value:function(k,n){return k.dot(n)}},{key:"cross",value:function(k,n){return k.cross(n)}},
{key:"dist",value:function(k,n){return k.dist(n)}},{key:"lerp",value:function(){for(var k=arguments.length,n=Array(k),q=0;q<k;q++)n[q]=arguments[q];k=n[0];q=n[1];var u=n[2],v=n[3];return v?v.set(k):(v=k.copy(),4===n.length&&l.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.lerp")),v.lerp(q,u),v}},{key:"slerp",value:function(){for(var k=arguments.length,n=Array(k),q=0;q<k;q++)n[q]=arguments[q];k=n[0];q=n[1];var u=n[2],v=n[3];return v?v.set(k):(v=
k.copy(),4===n.length&&l.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.slerp")),v.slerp(q,u),v}},{key:"mag",value:function(k){return k.mag()}},{key:"magSq",value:function(k){return k.magSq()}},{key:"normalize",value:function(){for(var k=arguments.length,n=Array(k),q=0;q<k;q++)n[q]=arguments[q];k=n[0];q=n[1];return 2>n.length?q=k.copy():(q instanceof l.default.Vector||l.default._friendlyError("The target parameter should be of type p5.Vector",
"p5.Vector.normalize"),q.set(k)),q.normalize()}},{key:"limit",value:function(){for(var k=arguments.length,n=Array(k),q=0;q<k;q++)n[q]=arguments[q];k=n[0];q=n[1];var u=n[2];return 3>n.length?u=k.copy():(u instanceof l.default.Vector||l.default._friendlyError("The target parameter should be of type p5.Vector","p5.Vector.limit"),u.set(k)),u.limit(q)}},{key:"setMag",value:function(){for(var k=arguments.length,n=Array(k),q=0;q<k;q++)n[q]=arguments[q];k=n[0];q=n[1];var u=n[2];return 3>n.length?u=k.copy():
(u instanceof l.default.Vector||l.default._friendlyError("The target parameter should be of type p5.Vector","p5.Vector.setMag"),u.set(k)),u.setMag(q)}},{key:"heading",value:function(k){return k.heading()}},{key:"angleBetween",value:function(k,n){return k.angleBetween(n)}},{key:"reflect",value:function(){for(var k=arguments.length,n=Array(k),q=0;q<k;q++)n[q]=arguments[q];k=n[0];q=n[1];var u=n[2];return 3>n.length?u=k.copy():(u instanceof l.default.Vector||l.default._friendlyError("The target parameter should be of type p5.Vector",
"p5.Vector.reflect"),u.set(k)),u.reflect(q)}},{key:"array",value:function(k){return k.array()}},{key:"equals",value:function(k,n){var q;return k instanceof l.default.Vector?q=k:Array.isArray(k)?q=(new l.default.Vector).set(k):l.default._friendlyError("The v1 parameter should be of type Array or p5.Vector","p5.Vector.equals"),q.equals(n)}}],g=[{key:"toString",value:function(){return"p5.Vector Object : [".concat(this.x,", ").concat(this.y,", ").concat(this.z,"]")}},{key:"set",value:function(k,n,q){return k instanceof
l.default.Vector?(this.x=k.x||0,this.y=k.y||0,this.z=k.z||0):Array.isArray(k)?(this.x=k[0]||0,this.y=k[1]||0,this.z=k[2]||0):(this.x=k||0,this.y=n||0,this.z=q||0),this}},{key:"copy",value:function(){return this.isPInst?new l.default.Vector(this._fromRadians,this._toRadians,this.x,this.y,this.z):new l.default.Vector(this.x,this.y,this.z)}},{key:"add",value:function(k,n,q){return k instanceof l.default.Vector?(this.x+=k.x||0,this.y+=k.y||0,this.z+=k.z||0):Array.isArray(k)?(this.x+=k[0]||0,this.y+=k[1]||
0,this.z+=k[2]||0):(this.x+=k||0,this.y+=n||0,this.z+=q||0),this}},{key:"calculateRemainder2D",value:function(k,n){return 0!==k&&(this.x%=k),0!==n&&(this.y%=n),this}},{key:"calculateRemainder3D",value:function(k,n,q){return 0!==k&&(this.x%=k),0!==n&&(this.y%=n),0!==q&&(this.z%=q),this}},{key:"rem",value:function(){for(var k=arguments.length,n=Array(k),q=0;q<k;q++)n[q]=arguments[q];var u,v,x;k=n[0];q=n[1];var C=n[2];if(k instanceof l.default.Vector){if([k.x,k.y,k.z].every(Number.isFinite))return u=
parseFloat(k.x),v=parseFloat(k.y),x=parseFloat(k.z),this.calculateRemainder3D(u,v,x)}else if(Array.isArray(k)){if(k.every(Number.isFinite))return 2===k.length?this.calculateRemainder2D(k[0],k[1]):3===k.length?this.calculateRemainder3D(k[0],k[1],k[2]):void 0}else if(1===n.length){if(Number.isFinite(k)&&0!==k)return this.x%=k,this.y%=k,this.z%=k,this}else if(2===n.length){if(n.every(Number.isFinite))return this.calculateRemainder2D(k,q)}else if(3===n.length&&n.every(Number.isFinite))return this.calculateRemainder3D(k,
q,C)}},{key:"sub",value:function(k,n,q){return k instanceof l.default.Vector?(this.x-=k.x||0,this.y-=k.y||0,this.z-=k.z||0):Array.isArray(k)?(this.x-=k[0]||0,this.y-=k[1]||0,this.z-=k[2]||0):(this.x-=k||0,this.y-=n||0,this.z-=q||0),this}},{key:"mult",value:function(){for(var k=arguments.length,n=Array(k),q=0;q<k;q++)n[q]=arguments[q];k=n[0];q=n[1];var u=n[2];return k instanceof l.default.Vector?Number.isFinite(k.x)&&Number.isFinite(k.y)&&Number.isFinite(k.z)&&"number"==typeof k.x&&"number"==typeof k.y&&
"number"==typeof k.z?(this.x*=k.x,this.y*=k.y,this.z*=k.z):console.warn("p5.Vector.prototype.mult:","x contains components that are either undefined or not finite numbers"):Array.isArray(k)?k.every(function(v){return Number.isFinite(v)})&&k.every(function(v){return"number"==typeof v})?1===k.length?(this.x*=k[0],this.y*=k[0],this.z*=k[0]):2===k.length?(this.x*=k[0],this.y*=k[1]):3===k.length&&(this.x*=k[0],this.y*=k[1],this.z*=k[2]):console.warn("p5.Vector.prototype.mult:","x contains elements that are either undefined or not finite numbers"):
n.every(function(v){return Number.isFinite(v)})&&n.every(function(v){return"number"==typeof v})?(1===n.length&&(this.x*=k,this.y*=k,this.z*=k),2===n.length&&(this.x*=k,this.y*=q),3===n.length&&(this.x*=k,this.y*=q,this.z*=u)):console.warn("p5.Vector.prototype.mult:","x, y, or z arguments are either undefined or not a finite number"),this}},{key:"div",value:function(){for(var k=arguments.length,n=Array(k),q=0;q<k;q++)n[q]=arguments[q];k=n[0];q=n[1];var u=n[2];if(k instanceof l.default.Vector)if(Number.isFinite(k.x)&&
Number.isFinite(k.y)&&Number.isFinite(k.z)&&"number"==typeof k.x&&"number"==typeof k.y&&"number"==typeof k.z){n=0===k.z&&0===this.z;if(0===k.x||0===k.y||!n&&0===k.z)return console.warn("p5.Vector.prototype.div:","divide by 0"),this;this.x/=k.x;this.y/=k.y;n||(this.z/=k.z)}else console.warn("p5.Vector.prototype.div:","x contains components that are either undefined or not finite numbers");else if(Array.isArray(k))if(k.every(Number.isFinite)&&k.every(function(v){return"number"==typeof v})){if(k.some(function(v){return 0===
v}))return console.warn("p5.Vector.prototype.div:","divide by 0"),this;1===k.length?(this.x/=k[0],this.y/=k[0],this.z/=k[0]):2===k.length?(this.x/=k[0],this.y/=k[1]):3===k.length&&(this.x/=k[0],this.y/=k[1],this.z/=k[2])}else console.warn("p5.Vector.prototype.div:","x contains components that are either undefined or not finite numbers");else if(n.every(Number.isFinite)&&n.every(function(v){return"number"==typeof v})){if(n.some(function(v){return 0===v}))return console.warn("p5.Vector.prototype.div:",
"divide by 0"),this;1===n.length&&(this.x/=k,this.y/=k,this.z/=k);2===n.length&&(this.x/=k,this.y/=q);3===n.length&&(this.x/=k,this.y/=q,this.z/=u)}else console.warn("p5.Vector.prototype.div:","x, y, or z arguments are either undefined or not a finite number");return this}},{key:"mag",value:function(){return Math.sqrt(this.magSq())}},{key:"magSq",value:function(){var k=this.x,n=this.y,q=this.z;return k*k+n*n+q*q}},{key:"dot",value:function(k,n,q){return k instanceof l.default.Vector?this.dot(k.x,
k.y,k.z):this.x*(k||0)+this.y*(n||0)+this.z*(q||0)}},{key:"cross",value:function(k){var n=this.y*k.z-this.z*k.y,q=this.z*k.x-this.x*k.z;k=this.x*k.y-this.y*k.x;return this.isPInst?new l.default.Vector(this._fromRadians,this._toRadians,n,q,k):new l.default.Vector(n,q,k)}},{key:"dist",value:function(k){return k.copy().sub(this).mag()}},{key:"normalize",value:function(){var k=this.mag();return 0!==k&&this.mult(1/k),this}},{key:"limit",value:function(k){var n=this.magSq();return k*k<n&&this.div(Math.sqrt(n)).mult(k),
this}},{key:"setMag",value:function(k){return this.normalize().mult(k)}},{key:"heading",value:function(){var k=Math.atan2(this.y,this.x);return this.isPInst?this._fromRadians(k):k}},{key:"setHeading",value:function(k){this.isPInst&&(k=this._toRadians(k));var n=this.mag();return this.x=n*Math.cos(k),this.y=n*Math.sin(k),this}},{key:"rotate",value:function(k){k=this.heading()+k;var n=(this.isPInst&&(k=this._toRadians(k)),this.mag());return this.x=Math.cos(k)*n,this.y=Math.sin(k)*n,this}},{key:"angleBetween",
value:function(k){var n;return 0==this.magSq()*k.magSq()?NaN:(n=this.cross(k),k=Math.atan2(n.mag(),this.dot(k))*Math.sign(n.z||1),this.isPInst?this._fromRadians(k):k)}},{key:"lerp",value:function(k,n,q,u){return k instanceof l.default.Vector?this.lerp(k.x,k.y,k.z,n):(this.x+=(k-this.x)*u||0,this.y+=(n-this.y)*u||0,this.z+=(q-this.z)*u||0,this)}},{key:"slerp",value:function(k,n){if(0!==n){if(1===n)return this.set(k);var q=this.mag(),u=k.mag();if(0==q*u)this.mult(1-n).add(k.x*n,k.y*n,k.z*n);else{var v=
this.cross(k),x=v.mag(),C=Math.atan2(x,this.dot(k));if(0<x)v.x/=x,v.y/=x,v.z/=x;else{if(C<.5*Math.PI)return this.mult(1-n).add(k.x*n,k.y*n,k.z*n),this;0===this.z&&0===k.z?v.set(0,0,1):0!==this.x?v.set(this.y,-this.x,0).normalize():v.set(1,0,0)}x=v.cross(this);k=1-n+n*u/q;v=k*Math.cos(n*C);u=k*Math.sin(n*C);this.x=this.x*v+x.x*u;this.y=this.y*v+x.y*u;this.z=this.z*v+x.z*u}}return this}},{key:"reflect",value:function(k){k=l.default.Vector.normalize(k);return this.sub(k.mult(2*this.dot(k)))}},{key:"array",
value:function(){return[this.x||0,this.y||0,this.z||0]}},{key:"equals",value:function(k,n,q){var u,v;k=k instanceof l.default.Vector?(u=k.x||0,v=k.y||0,k.z||0):Array.isArray(k)?(u=k[0]||0,v=k[1]||0,k[2]||0):(u=k||0,v=n||0,q||0);return this.x===u&&this.y===v&&this.z===k}},{key:"clampToZero",value:function(){return this.x=this._clampToZero(this.x),this.y=this._clampToZero(this.y),this.z=this._clampToZero(this.z),this}},{key:"_clampToZero",value:function(k){return Math.abs(+(k||0))<=Number.EPSILON?0:
k}}],r(b.prototype,g),p&&r(b,p),b}();var d=l.default.Vector;F.default=d},{"../core/constants":272,"../core/main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.every":155,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.some":170,"core-js/modules/es.math.sign":178,"core-js/modules/es.number.constructor":179,"core-js/modules/es.number.epsilon":180,"core-js/modules/es.number.is-finite":181,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,
"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.sub":208,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],317:[function(a,R,F){Object.defineProperty(F,"__esModule",{value:!0});F.default=void 0;var z=(a=a("../core/main"))&&a.__esModule?a:{default:a},y=0;a=(z.default.prototype._lcg=function(w){return this[w]=(1664525*this[w]+1013904223)%
4294967296,this[w]/4294967296},z.default.prototype._lcgSetSeed=function(w,r){this[w]=(null==r?4294967296*Math.random():r)>>>0},z.default.prototype.randomSeed=function(w){this._lcgSetSeed("_lcg_random_state",w);this._gaussian_previous=!1},z.default.prototype.random=function(w,r){var l,h;return z.default._validateParameters("random",arguments),l=null!=this._lcg_random_state?this._lcg("_lcg_random_state"):Math.random(),void 0===w?l:void 0===r?Array.isArray(w)?w[Math.floor(l*w.length)]:l*w:(r<w&&(h=w,
w=r,r=h),l*(r-w)+w)},z.default.prototype.randomGaussian=function(w){var r,l,h=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1;if(this._gaussian_previous){var d=y;this._gaussian_previous=!1}else{for(;1<=(l=(d=this.random(2)-1)*d+(r=this.random(2)-1)*r););d*=l=Math.sqrt(-2*Math.log(l)/l);y=r*l;this._gaussian_previous=!0}return d*h+(w||0)},z.default);F.default=a},{"../core/main":283}],318:[function(a,R,F){function z(d){return(z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(b){return typeof b}:
function(b){return b&&"function"==typeof Symbol&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":typeof b})(d)}function y(d){return(y="function"==typeof Symbol&&"symbol"===z(Symbol.iterator)?function(b){return z(b)}:function(b){return b&&"function"==typeof Symbol&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":z(b)})(d)}function w(){var d;return"function"!=typeof WeakMap?null:(d=new WeakMap,w=function(){return d},d)}a("core-js/modules/es.symbol");a("core-js/modules/es.symbol.description");
a("core-js/modules/es.symbol.iterator");a("core-js/modules/es.array.iterator");a("core-js/modules/es.object.get-own-property-descriptor");a("core-js/modules/es.object.to-string");a("core-js/modules/es.string.iterator");a("core-js/modules/es.weak-map");a("core-js/modules/web.dom-collections.iterator");Object.defineProperty(F,"__esModule",{value:!0});F.default=void 0;var r=(h=a("../core/main"))&&h.__esModule?h:{default:h},l=function(d){if(d&&d.__esModule)return d;if(null===d||"object"!==y(d)&&"function"!=
typeof d)return{default:d};var b=w();if(b&&b.has(d))return b.get(d);var g,p={},k=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(g in d){var n;Object.prototype.hasOwnProperty.call(d,g)&&((n=k?Object.getOwnPropertyDescriptor(d,g):null)&&(n.get||n.set)?Object.defineProperty(p,g,n):p[g]=d[g])}p.default=d;b&&b.set(d,p);return p}(a("../core/constants"));r.default.prototype._angleMode=l.RADIANS;r.default.prototype.acos=function(d){return this._fromRadians(Math.acos(d))};r.default.prototype.asin=
function(d){return this._fromRadians(Math.asin(d))};r.default.prototype.atan=function(d){return this._fromRadians(Math.atan(d))};r.default.prototype.atan2=function(d,b){return this._fromRadians(Math.atan2(d,b))};r.default.prototype.cos=function(d){return Math.cos(this._toRadians(d))};r.default.prototype.sin=function(d){return Math.sin(this._toRadians(d))};r.default.prototype.tan=function(d){return Math.tan(this._toRadians(d))};r.default.prototype.degrees=function(d){return d*l.RAD_TO_DEG};r.default.prototype.radians=
function(d){return d*l.DEG_TO_RAD};r.default.prototype.angleMode=function(d){if(r.default._validateParameters("angleMode",arguments),void 0===d)return this._angleMode;d!==l.DEGREES&&d!==l.RADIANS||d!==this._angleMode&&(d===l.RADIANS?(this._setProperty("pRotationX",this.pRotationX*l.DEG_TO_RAD),this._setProperty("pRotationY",this.pRotationY*l.DEG_TO_RAD),this._setProperty("pRotationZ",this.pRotationZ*l.DEG_TO_RAD)):(this._setProperty("pRotationX",this.pRotationX*l.RAD_TO_DEG),this._setProperty("pRotationY",
this.pRotationY*l.RAD_TO_DEG),this._setProperty("pRotationZ",this.pRotationZ*l.RAD_TO_DEG)),this._angleMode=d)};r.default.prototype._toRadians=function(d){return this._angleMode===l.DEGREES?d*l.DEG_TO_RAD:d};r.default.prototype._toDegrees=function(d){return this._angleMode===l.RADIANS?d*l.RAD_TO_DEG:d};r.default.prototype._fromRadians=function(d){return this._angleMode===l.DEGREES?d*l.RAD_TO_DEG:d};r.default.prototype._fromDegrees=function(d){return this._angleMode===l.RADIANS?d*l.DEG_TO_RAD:d};var h=
r.default;F.default=h},{"../core/constants":272,"../core/main":283,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],319:[function(a,R,F){a("core-js/modules/es.regexp.exec");
a("core-js/modules/es.string.replace");a("core-js/modules/es.string.split");a("core-js/modules/es.regexp.exec");a("core-js/modules/es.string.replace");a("core-js/modules/es.string.split");Object.defineProperty(F,"__esModule",{value:!0});F.default=void 0;var z=(a=a("../core/main"))&&a.__esModule?a:{default:a};z.default.prototype.textAlign=function(y,w){var r;return z.default._validateParameters("textAlign",arguments),(r=this._renderer).textAlign.apply(r,arguments)};z.default.prototype.textLeading=
function(y){var w;return z.default._validateParameters("textLeading",arguments),(w=this._renderer).textLeading.apply(w,arguments)};z.default.prototype.textSize=function(y){var w;return z.default._validateParameters("textSize",arguments),(w=this._renderer).textSize.apply(w,arguments)};z.default.prototype.textStyle=function(y){var w;return z.default._validateParameters("textStyle",arguments),(w=this._renderer).textStyle.apply(w,arguments)};z.default.prototype.textWidth=function(){for(var y=arguments.length,
w=Array(y),r=0;r<y;r++)w[r]=arguments[r];if(w[0]+="",z.default._validateParameters("textWidth",w),0===w[0].length)return 0;y=w[0].replace(/\t/g,"  ").split(/\r?\n|\r|\n/g);w=[];for(r=0;r<y.length;r++)w.push(this._renderer.textWidth(y[r]));return Math.max.apply(Math,w)};z.default.prototype.textAscent=function(){for(var y=arguments.length,w=Array(y),r=0;r<y;r++)w[r]=arguments[r];return z.default._validateParameters("textAscent",w),this._renderer.textAscent()};z.default.prototype.textDescent=function(){for(var y=
arguments.length,w=Array(y),r=0;r<y;r++)w[r]=arguments[r];return z.default._validateParameters("textDescent",w),this._renderer.textDescent()};z.default.prototype._updateTextMetrics=function(){return this._renderer._updateTextMetrics()};z.default.prototype.textWrap=function(y){return z.default._validateParameters("textWrap",[y]),this._renderer.textWrap(y)};a=z.default;F.default=a},{"../core/main":283,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.string.replace":204,"core-js/modules/es.string.split":206}],
320:[function(a,R,F){function z(g){return(z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(p){return typeof p}:function(p){return p&&"function"==typeof Symbol&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p})(g)}function y(g){return(y="function"==typeof Symbol&&"symbol"===z(Symbol.iterator)?function(p){return z(p)}:function(p){return p&&"function"==typeof Symbol&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":z(p)})(g)}function w(){var g;return"function"!=
typeof WeakMap?null:(g=new WeakMap,w=function(){return g},g)}function r(g){if(g&&g.__esModule)return g;if(null===g||"object"!==y(g)&&"function"!=typeof g)return{default:g};var p=w();if(p&&p.has(g))return p.get(g);var k,n,q={},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(k in g)Object.prototype.hasOwnProperty.call(g,k)&&((n=u?Object.getOwnPropertyDescriptor(g,k):null)&&(n.get||n.set)?Object.defineProperty(q,k,n):q[k]=g[k]);return q.default=g,p&&p.set(g,q),q}a("core-js/modules/es.symbol");
a("core-js/modules/es.symbol.description");a("core-js/modules/es.symbol.iterator");a("core-js/modules/es.array.concat");a("core-js/modules/es.array.includes");a("core-js/modules/es.array.iterator");a("core-js/modules/es.array.last-index-of");a("core-js/modules/es.array.slice");a("core-js/modules/es.object.get-own-property-descriptor");a("core-js/modules/es.object.to-string");a("core-js/modules/es.regexp.exec");a("core-js/modules/es.string.iterator");a("core-js/modules/es.string.split");a("core-js/modules/es.weak-map");
a("core-js/modules/web.dom-collections.iterator");a("core-js/modules/es.array.concat");a("core-js/modules/es.array.includes");a("core-js/modules/es.array.last-index-of");a("core-js/modules/es.array.slice");a("core-js/modules/es.regexp.exec");a("core-js/modules/es.string.split");Object.defineProperty(F,"__esModule",{value:!0});F.default=void 0;var l=(b=a("../core/main"))&&b.__esModule?b:{default:b},h=r(a("../core/constants")),d=r(a("opentype.js"));a("../core/friendly_errors/validate_params");a("../core/friendly_errors/file_errors");
a("../core/friendly_errors/fes_core");l.default.prototype.loadFont=function(g,p,k){l.default._validateParameters("loadFont",arguments);var n=new l.default.Font(this),q=this;return d.load(g,function(u,v){if(u)return l.default._friendlyFileLoadError(4,g),void 0!==k?k(u):void console.error(u,g);n.font=v;void 0!==p&&p(n);q._decrementPreload();u=g.split("\\").pop().split("/").pop();v=u.lastIndexOf(".");var x=1>v?null:u.slice(v+1);["ttf","otf","woff","woff2"].includes(x)&&(x=u.slice(0,-1!==v?v:0),(u=document.createElement("style")).appendChild(document.createTextNode("\n@font-face {\nfont-family: ".concat(x,
";\nsrc: url(").concat(g,");\n}\n"))),document.head.appendChild(u))}),n};l.default.prototype.text=function(g,p,k,n,q){var u;return l.default._validateParameters("text",arguments),this._renderer._doFill||this._renderer._doStroke?(u=this._renderer).text.apply(u,arguments):this};l.default.prototype.textFont=function(g,p){if(l.default._validateParameters("textFont",arguments),arguments.length){if(g)return this._renderer._setProperty("_textFont",g),p&&(this._renderer._setProperty("_textSize",p),this._renderer._leadingSet||
this._renderer._setProperty("_textLeading",p*h._DEFAULT_LEADMULT)),this._renderer._applyTextProperties();throw Error("null font passed to textFont");}return this._renderer._textFont};var b=l.default;F.default=b},{"../core/constants":272,"../core/friendly_errors/fes_core":274,"../core/friendly_errors/file_errors":275,"../core/friendly_errors/validate_params":278,"../core/main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.iterator":165,
"core-js/modules/es.array.last-index-of":167,"core-js/modules/es.array.slice":169,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.split":206,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246,
"opentype.js":257}],321:[function(a,R,F){function z(A){return(z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(M){return typeof M}:function(M){return M&&"function"==typeof Symbol&&M.constructor===Symbol&&M!==Symbol.prototype?"symbol":typeof M})(A)}function y(){var A;return"function"!=typeof WeakMap?null:(A=new WeakMap,y=function(){return A},A)}function w(A){return(w="function"==typeof Symbol&&"symbol"===z(Symbol.iterator)?function(M){return z(M)}:function(M){return M&&"function"==
typeof Symbol&&M.constructor===Symbol&&M!==Symbol.prototype?"symbol":z(M)})(A)}function r(A,M){for(var K=0;K<M.length;K++){var G=M[K];G.enumerable=G.enumerable||!1;G.configurable=!0;"value"in G&&(G.writable=!0);Object.defineProperty(A,G.key,G)}}function l(A,M){var K=A.length;return A[0>M?M%K+K:M%K]}function h(A,M,K,G){var U,J,I;return G?(void 0===h.tmpPoint1&&(h.tmpPoint1=[],h.tmpPoint2=[]),J=h.tmpPoint1,I=h.tmpPoint2,J.x=M.x-A.x,J.y=M.y-A.y,I.x=K.x-M.x,I.y=K.y-M.y,U=J.x*I.x+J.y*I.y,J=Math.sqrt(J.x*
J.x+J.y*J.y),I=Math.sqrt(I.x*I.x+I.y*I.y),Math.acos(U/(J*I))<G):0==(M[0]-A[0])*(K[1]-A[1])-(K[0]-A[0])*(M[1]-A[1])}function d(A,M,K,G,U,J,I,T,Y){var ea=1-Y,da=Math.pow(ea,3),X=Math.pow(ea,2),Z=Y*Y,L=Z*Y,S=da*A+3*X*Y*K+3*ea*Y*Y*U+L*I;da=da*M+3*X*Y*G+3*ea*Y*Y*J+L*T;X=A+2*Y*(K-A)+Z*(U-2*K+A);L=M+2*Y*(G-M)+Z*(J-2*G+M);var E=K+2*Y*(U-K)+Z*(I-2*U+K);Z=G+2*Y*(J-G)+Z*(T-2*J+G);A=ea*A+Y*K;K=ea*M+Y*G;M=ea*U+Y*I;G=ea*J+Y*T;U=90-180*Math.atan2(X-E,L-Z)/Math.PI;return(E<X||L<Z)&&(U+=180),{x:S,y:da,m:{x:X,y:L},
n:{x:E,y:Z},start:{x:A,y:K},end:{x:M,y:G},alpha:U}}function b(A,M,K,G,U,J,I,T,Y){if(null==Y)A=v(A,M,K,G,U,J,I,T);else{if(0>Y||v(A,M,K,G,U,J,I,T)<Y)Y=void 0;else{var ea,da=.5,X=1-da;for(ea=v(A,M,K,G,U,J,I,T,X);.01<Math.abs(ea-Y);)ea=v(A,M,K,G,U,J,I,T,X+=(ea<Y?1:-1)*(da/=2));Y=X}A=d(A,M,K,G,U,J,I,T,Y)}return A}function g(A,M,K){var G,U,J,I=0,T=0,Y=(A=function(X,Z){function L(ha,na,xa){var Ca;if(!ha)return["C",na.x,na.y,na.x,na.y,na.x,na.y];switch(ha[0]in{T:1,Q:1}||(na.qx=na.qy=null),ha[0]){case "M":na.X=
ha[1];na.Y=ha[2];break;case "A":ha=["C"].concat(k.apply(0,[na.x,na.y].concat(ha.slice(1))));break;case "S":xa="C"===xa||"S"===xa?(Ca=2*na.x-na.bx,2*na.y-na.by):(Ca=na.x,na.y);ha=["C",Ca,xa].concat(ha.slice(1));break;case "T":"Q"===xa||"T"===xa?(na.qx=2*na.x-na.qx,na.qy=2*na.y-na.qy):(na.qx=na.x,na.qy=na.y);ha=["C"].concat(u(na.x,na.y,na.qx,na.qy,ha[1],ha[2]));break;case "Q":na.qx=ha[1];na.qy=ha[2];ha=["C"].concat(u(na.x,na.y,ha[1],ha[2],ha[3],ha[4]));break;case "L":ha=["C"].concat(q(na.x,na.y,ha[1],
ha[2]));break;case "H":ha=["C"].concat(q(na.x,na.y,ha[1],na.y));break;case "V":ha=["C"].concat(q(na.x,na.y,na.x,ha[1]));break;case "Z":ha=["C"].concat(q(na.x,na.y,na.X,na.Y))}return ha}function S(ha,na){if(7<ha[na].length){ha[na].shift();for(var xa=ha[na];xa.length;)ja[na]="A",aa&&(oa[na]="A"),ha.splice(na++,0,["C"].concat(xa.splice(0,6)));ha.splice(na,1);sa=Math.max(P.length,aa&&aa.length||0)}}function E(ha,na,xa,Ca,za){ha&&na&&"M"===ha[za][0]&&"M"!==na[za][0]&&(na.splice(za,0,["M",Ca.x,Ca.y]),xa.bx=
0,xa.by=0,xa.x=ha[za][1],xa.y=ha[za][2],sa=Math.max(P.length,aa&&aa.length||0))}var P=p(X),aa=Z&&p(Z);X={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null};Z={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null};var ja=[],oa=[],ra="",la="";var sa=Math.max(P.length,aa&&aa.length||0);for(var Da=0;Da<sa;Da++){"C"!==(ra=P[Da]?P[Da][0]:ra)&&(ja[Da]=ra,Da&&(la=ja[Da-1]));P[Da]=L(P[Da],X,la);"A"!==ja[Da]&&"C"===ra&&(ja[Da]="C");S(P,Da);aa&&("C"!==(ra=aa[Da]?aa[Da][0]:ra)&&(oa[Da]=ra,Da&&(la=oa[Da-1])),aa[Da]=L(aa[Da],Z,la),
"A"!==oa[Da]&&"C"===ra&&(oa[Da]="C"),S(aa,Da));E(P,aa,X,Z,Da);E(aa,P,Z,X,Da);var qa=P[Da],Aa=aa&&aa[Da],Ga=qa.length,Ka=aa&&Aa.length;X.x=qa[Ga-2];X.y=qa[Ga-1];X.bx=parseFloat(qa[Ga-4])||X.x;X.by=parseFloat(qa[Ga-3])||X.y;Z.bx=aa&&(parseFloat(Aa[Ka-4])||Z.x);Z.by=aa&&(parseFloat(Aa[Ka-3])||Z.y);Z.x=aa&&Aa[Ka-2];Z.y=aa&&Aa[Ka-1]}return aa?[P,aa]:P}(A)).length;for(;T<Y;T++){if("M"===(G=A[T])[0]){var ea=+G[1];var da=+G[2]}else{if(M<I+(U=b(ea,da,G[1],G[2],G[3],G[4],G[5],G[6]))&&!K)return{x:(J=b(ea,da,
G[1],G[2],G[3],G[4],G[5],G[6],M-I)).x,y:J.y,alpha:J.alpha};I+=U;ea=+G[5];da=+G[6]}G.shift()}return J=(J=K?I:d(ea,da,G[0],G[1],G[2],G[3],G[4],G[5],1)).alpha?{x:J.x,y:J.y,alpha:J.alpha}:J}function p(A){var M=[],K=0,G=0,U=0,J=0,I=0;if(A){"M"===A[0][0]&&(U=K=+A[0][1],J=G=+A[0][2],I++,M[0]=["M",K,G]);for(var T,Y=3===A.length&&"M"===A[0][0]&&"R"===A[1][0].toUpperCase()&&"Z"===A[2][0].toUpperCase(),ea=I,da=A.length;ea<da;ea++){if(M.push(I=[]),(T=A[ea])[0]!==T[0].toUpperCase())switch(I[0]=T[0].toUpperCase(),
I[0]){case "A":I[1]=T[1];I[2]=T[2];I[3]=T[3];I[4]=T[4];I[5]=T[5];I[6]=+(T[6]+K);I[7]=+(T[7]+G);break;case "V":I[1]=+T[1]+G;break;case "H":I[1]=+T[1]+K;break;case "R":for(var X,Z=2,L=(X=[K,G].concat(T.slice(1))).length;Z<L;Z++)X[Z]=+X[Z]+K,X[++Z]=+X[Z]+G;M.pop();M=M.concat(n(X,Y));break;case "M":U=+T[1]+K;J=+T[2]+G;break;default:for(X=1,Z=T.length;X<Z;X++)I[X]=+T[X]+(X%2?K:G)}else if("R"===T[0])X=[K,G].concat(T.slice(1)),M.pop(),M=M.concat(n(X,Y)),I=["R"].concat(T.slice(-2));else for(X=0,Z=T.length;X<
Z;X++)I[X]=T[X];switch(I[0]){case "Z":K=U;G=J;break;case "H":K=I[1];break;case "V":G=I[1];break;case "M":U=I[I.length-2];J=I[I.length-1];break;default:K=I[I.length-2],G=I[I.length-1]}}}return M}function k(A,M,K,G,U,J,I,T,Y,ea){function da(Da,qa,Aa){return{x:Da*Math.cos(Aa)-qa*Math.sin(Aa),y:Da*Math.sin(Aa)+qa*Math.cos(Aa)}}var X,Z=Math.PI,L=120*Z/180,S=Z/180*(+U||0),E=[],P=(ea?(sa=ea[0],X=ea[1],ra=ea[2],la=ea[3]):(A=(ja=da(A,M,-S)).x,M=ja.y,1<(P=(aa=(A-(T=(ja=da(T,Y,-S)).x))/2)*aa/(K*K)+(ja=(M-(Y=
ja.y))/2)*ja/(G*G))&&(K*=P=Math.sqrt(P),G*=P),P=K*K,oa=G*G,ra=(J=(J===I?-1:1)*Math.sqrt(Math.abs((P*oa-P*ja*ja-oa*aa*aa)/(P*ja*ja+oa*aa*aa))))*K*ja/G+(A+T)/2,la=J*-G*aa/K+(M+Y)/2,sa=Math.asin(((M-la)/G).toFixed(9)),X=Math.asin(((Y-la)/G).toFixed(9)),0>(sa=A<ra?Z-sa:sa)&&(sa=2*Z+sa),0>(X=T<ra?Z-X:X)&&(X=2*Z+X),I&&X<sa&&(sa-=2*Z),!I&&sa<X&&(X-=2*Z)),X-sa),aa=(Math.abs(P)>L&&(oa=X,ja=T,J=Y,X=sa+L*(I&&sa<X?1:-1),E=k(T=ra+K*Math.cos(X),Y=la+G*Math.sin(X),K,G,U,0,I,ja,J,[X,oa,ra,la])),P=X-sa,Math.cos(sa));
Z=Math.sin(sa);L=Math.cos(X);U=Math.sin(X);I=Math.tan(P/4);var ja=4/3*K*I;J=4/3*G*I;var oa=[A,M],ra=[A+ja*Z,M-J*aa],la=[T+ja*U,Y-J*L],sa=[T,Y];if(ra[0]=2*oa[0]-ra[0],ra[1]=2*oa[1]-ra[1],ea)return[ra,la,sa].concat(E);A=[];M=0;for(ra=(E=[ra,la,sa].concat(E).join().split(",")).length;M<ra;M++)A[M]=M%2?da(E[M-1],E[M],S).y:da(E[M],E[M+1],S).x;return A}function n(A,M){for(var K=[],G=0,U=A.length;G<U-2*!M;G+=2){var J=[{x:+A[G-2],y:+A[G-1]},{x:+A[G],y:+A[G+1]},{x:+A[G+2],y:+A[G+3]},{x:+A[G+4],y:+A[G+5]}];
M?G?U-4===G?J[3]={x:+A[0],y:+A[1]}:U-2===G&&(J[2]={x:+A[0],y:+A[1]},J[3]={x:+A[2],y:+A[3]}):J[0]={x:+A[U-2],y:+A[U-1]}:U-4===G?J[3]=J[2]:G||(J[0]={x:+A[G],y:+A[G+1]});K.push(["C",(-J[0].x+6*J[1].x+J[2].x)/6,(-J[0].y+6*J[1].y+J[2].y)/6,(J[1].x+6*J[2].x-J[3].x)/6,(J[1].y+6*J[2].y-J[3].y)/6,J[2].x,J[2].y])}return K}function q(A,M,K,G){return[A,M,K,G,K,G]}function u(A,M,K,G,U,J){return[1/3*A+2/3*K,1/3*M+2/3*G,1/3*U+2/3*K,1/3*J+2/3*G,U,J]}function v(A,M,K,G,U,J,I,T,Y){var ea=(1<(Y=null==Y?1:Y)?1:0>Y?0:
Y)/2;Y=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816];for(var da=0,X=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],Z=0;12>Z;Z++){var L=ea*Y[Z]+ea,S=L*(L*(-3*A+9*K-9*U+3*I)+6*A-12*K+6*U)-3*A+3*K;L=L*(L*(-3*M+9*G-9*J+3*T)+6*M-12*G+6*J)-3*M+3*G;da+=X[Z]*Math.sqrt(S*S+L*L)}return ea*da}a("core-js/modules/es.symbol");a("core-js/modules/es.symbol.description");a("core-js/modules/es.symbol.iterator");a("core-js/modules/es.array.concat");a("core-js/modules/es.array.fill");
a("core-js/modules/es.array.iterator");a("core-js/modules/es.array.join");a("core-js/modules/es.array.slice");a("core-js/modules/es.array.splice");a("core-js/modules/es.function.name");a("core-js/modules/es.number.to-fixed");a("core-js/modules/es.object.get-own-property-descriptor");a("core-js/modules/es.object.to-string");a("core-js/modules/es.regexp.exec");a("core-js/modules/es.string.iterator");a("core-js/modules/es.string.replace");a("core-js/modules/es.string.split");a("core-js/modules/es.weak-map");
a("core-js/modules/web.dom-collections.iterator");a("core-js/modules/es.symbol");a("core-js/modules/es.symbol.description");a("core-js/modules/es.symbol.iterator");a("core-js/modules/es.array.concat");a("core-js/modules/es.array.fill");a("core-js/modules/es.array.iterator");a("core-js/modules/es.array.join");a("core-js/modules/es.array.slice");a("core-js/modules/es.array.splice");a("core-js/modules/es.function.name");a("core-js/modules/es.number.to-fixed");a("core-js/modules/es.object.to-string");
a("core-js/modules/es.regexp.exec");a("core-js/modules/es.string.iterator");a("core-js/modules/es.string.replace");a("core-js/modules/es.string.split");a("core-js/modules/web.dom-collections.iterator");Object.defineProperty(F,"__esModule",{value:!0});F.default=void 0;var x=(x=a("../core/main"))&&x.__esModule?x:{default:x},C=function(A){if(A&&A.__esModule)return A;if(null===A||"object"!==w(A)&&"function"!=typeof A)return{default:A};var M=y();if(M&&M.has(A))return M.get(A);var K,G={},U=Object.defineProperty&&
Object.getOwnPropertyDescriptor;for(K in A){var J;Object.prototype.hasOwnProperty.call(A,K)&&((J=U?Object.getOwnPropertyDescriptor(A,K):null)&&(J.get||J.set)?Object.defineProperty(G,K,J):G[K]=A[K])}G.default=A;M&&M.set(A,G);return G}(a("../core/constants"));x.default.Font=function(){function A(K){if(!(this instanceof A))throw new TypeError("Cannot call a class as a function");this.parent=K;this.cache={};this.font=void 0}var M;return M=[{key:"textBounds",value:function(K){var G=1<arguments.length&&
void 0!==arguments[1]?arguments[1]:0,U=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,J=3<arguments.length?arguments[3]:void 0,I=4<arguments.length?arguments[4]:void 0,T=I&&I.renderer&&I.renderer._pInst||this.parent,Y=T._renderer.drawingContext;J=(Y.textAlign||C.LEFT,Y.textBaseline||C.BASELINE,J||T._renderer._textSize);if(!E){Y=[];E=[];var ea=[],da=(ea[0]=[],[]),X=this._scale(J),Z=T._renderer.textLeading(),L=0;J=(this.font.forEachGlyph(K,G,U,J,I,function(P,aa,ja,oa){oa=P.getMetrics();0===
P.index?ea[L+=1]=[]:(ea[L].push(aa+oa.xMin*X),ea[L].push(aa+oa.xMax*X),da.push(ja+L*Z+-oa.yMin*X),da.push(ja+L*Z+-oa.yMax*X))}),0<ea[L].length&&(Y[L]=Math.min.apply(null,ea[L]),E[L]=Math.max.apply(null,ea[L])),0);for(I=0;I<=L;I++){Y[I]=Math.min.apply(null,ea[I]);E[I]=Math.max.apply(null,ea[I]);var S=E[I]-Y[I];J<S&&(J=S)}Y=Math.min.apply(null,Y);var E={x:Y,y:U=Math.min.apply(null,da),h:Math.max.apply(null,da)-U,w:J,advance:Y-G};J=this._handleAlignment(T._renderer,K,E.x,E.y,E.w+E.advance);E.x=J.x;E.y=
J.y}return E}},{key:"textToPoints",value:function(K,G,U,J,I){var T=G,Y=[],ea=this.parent,da=K.split(/\r?\n|\r|\n/g);J=J||this.parent._renderer._textSize;for(var X,Z,L,S=0;S<da.length;S++){var E=0;G=T;for(var P=(P=da[S]).replace("\t","  "),aa=this._getGlyphs(P),ja=0;ja<aa.length;ja++){if(Z=P,!((L=aa)[X=ja].name&&"space"===L[X].name||Z.length===L.length&&" "===Z[X]))for(var oa=function(Da){for(var qa,Aa=[],Ga=0;Ga<Da.length;Ga++){"M"===Da[Ga].type&&(qa&&Aa.push(qa),qa=[]);var Ka=qa,ha=Ka.push,na=Da[Ga],
xa=[na.type];"M"===na.type||"L"===na.type?xa.push(na.x,na.y):"C"===na.type?xa.push(na.x1,na.y1,na.x2,na.y2,na.x,na.y):"Q"===na.type&&xa.push(na.x1,na.y1,na.x,na.y);ha.call(Ka,xa)}return Aa.push(qa),Aa}(aa[ja].getPath(G,U,J).commands),ra=0;ra<oa.length;ra++)for(var la=function(Da,qa){qa=function(na,xa){if("object"!==w(na))na=xa;else for(var Ca in xa)void 0===na[Ca]&&(na[Ca]=xa[Ca]);return na}(qa,{sampleFactor:.1,simplifyThreshold:0});for(var Aa=g(Da,0,1),Ga=Aa/(Aa*qa.sampleFactor),Ka=[],ha=0;ha<Aa;ha+=
Ga)Ka.push(g(Da,ha));qa.simplifyThreshold&&!function(na){for(var xa=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,Ca=0,za=na.length-1;3<na.length&&0<=za;--za)h(l(na,za-1),l(na,za),l(na,za+1),xa)&&(na.splice(za%na.length,1),Ca++)}(Ka,qa.simplifyThreshold);return Ka}(oa[ra],I),sa=0;sa<la.length;sa++)la[sa].x+=E,K=this._handleAlignment(ea._renderer,P,la[sa].x,la[sa].y),la[sa].x=K.x,la[sa].y=K.y,Y.push(la[sa]);E+=aa[ja].advanceWidth*this._scale(J)}U+=this.parent._renderer._textLeading}return Y}},
{key:"_getGlyphs",value:function(K){return this.font.stringToGlyphs(K)}},{key:"_getPath",value:function(K,G,U,J){var I=(J&&J.renderer&&J.renderer._pInst||this.parent)._renderer;G=this._handleAlignment(I,K,G,U);return this.font.getPath(K,G.x,G.y,I._textSize,J)}},{key:"_getPathData",value:function(K,G,U,J){var I=3;return"string"==typeof K&&2<arguments.length?K=this._getPath(K,G,U,J):"object"===w(G)&&(J=G),J&&"number"==typeof J.decimals&&(I=J.decimals),K.toPathData(I)}},{key:"_getSVG",value:function(K,
G,U,J){var I=3;return"string"==typeof K&&2<arguments.length?K=this._getPath(K,G,U,J):"object"===w(G)&&(J=G),J&&("number"==typeof J.decimals&&(I=J.decimals),"number"==typeof J.strokeWidth&&(K.strokeWidth=J.strokeWidth),void 0!==J.fill&&(K.fill=J.fill),void 0!==J.stroke&&(K.stroke=J.stroke)),K.toSVG(I)}},{key:"_renderPath",value:function(K,G,U,J){var I=J&&J.renderer||this.parent._renderer,T=I.drawingContext;K=("object"===w(K)&&K.commands?K:this._getPath(K,G,U,J)).commands;J=(I._clipping||T.beginPath(),
!0);G=!1;U=void 0;try{for(var Y,ea=K[Symbol.iterator]();!(J=(Y=ea.next()).done);J=!0){var da=Y.value;"M"===da.type?T.moveTo(da.x,da.y):"L"===da.type?T.lineTo(da.x,da.y):"C"===da.type?T.bezierCurveTo(da.x1,da.y1,da.x2,da.y2,da.x,da.y):"Q"===da.type?T.quadraticCurveTo(da.x1,da.y1,da.x,da.y):"Z"===da.type&&T.closePath()}}catch(X){G=!0,U=X}finally{try{J||null==ea.return||ea.return()}finally{if(G)throw U;}}return I._doStroke&&I._strokeSet&&!I._clipping&&T.stroke(),I._doFill&&!I._clipping&&(I._fillSet||
I._setFill(C._DEFAULT_TEXT_FILL),T.fill()),this}},{key:"_textWidth",value:function(K,G){return this.font.getAdvanceWidth(K,G)}},{key:"_textAscent",value:function(K){return this.font.ascender*this._scale(K)}},{key:"_textDescent",value:function(K){return-this.font.descender*this._scale(K)}},{key:"_scale",value:function(K){return 1/this.font.unitsPerEm*(K||this.parent._renderer._textSize)}},{key:"_handleAlignment",value:function(K,G,U,J,I){var T=K._textSize;switch(void 0===I&&(I=this._textWidth(G,T)),
K._textAlign){case C.CENTER:U-=I/2;break;case C.RIGHT:U-=I}switch(K._textBaseline){case C.TOP:J+=this._textAscent(T);break;case C.CENTER:J+=this._textAscent(T)/2;break;case C.BOTTOM:J-=this._textDescent(T)}return{x:U,y:J}}}],r(A.prototype,M),A}();a=x.default;F.default=a},{"../core/constants":272,"../core/main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.fill":156,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.join":166,"core-js/modules/es.array.slice":169,
"core-js/modules/es.array.splice":171,"core-js/modules/es.function.name":174,"core-js/modules/es.number.to-fixed":182,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.replace":204,"core-js/modules/es.string.split":206,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,
"core-js/modules/web.dom-collections.iterator":246}],322:[function(a,R,F){a("core-js/modules/es.array.concat");a("core-js/modules/es.array.slice");a("core-js/modules/es.array.splice");a("core-js/modules/es.array-buffer.constructor");a("core-js/modules/es.object.to-string");a("core-js/modules/es.array.concat");a("core-js/modules/es.array.slice");a("core-js/modules/es.array.splice");a("core-js/modules/es.array-buffer.constructor");a("core-js/modules/es.object.to-string");Object.defineProperty(F,"__esModule",
{value:!0});F.default=void 0;a=(a=a("../core/main"))&&a.__esModule?a:{default:a};a.default.prototype.append=function(z,y){return z.push(y),z};a.default.prototype.arrayCopy=function(z,y,w,r,l){var h,d;z=void 0!==l?(d=Math.min(l,z.length),h=r,z.slice(y,d+y)):(d=void 0!==w?(d=w,Math.min(d,z.length)):z.length,w=y,z.slice(h=0,d));Array.prototype.splice.apply(w,[h,d].concat(z))};a.default.prototype.concat=function(z,y){return z.concat(y)};a.default.prototype.reverse=function(z){return z.reverse()};a.default.prototype.shorten=
function(z){return z.pop(),z};a.default.prototype.shuffle=function(z,y){var w=ArrayBuffer&&ArrayBuffer.isView&&ArrayBuffer.isView(z);for(var r=(z=y||w?z:z.slice()).length;1<r;)y=this.random(0,1)*r|0,w=z[--r],z[r]=z[y],z[y]=w;return z};a.default.prototype.sort=function(z,y){var w=y?z.slice(0,Math.min(y,z.length)):z;y=y?z.slice(Math.min(y,z.length)):[];return(w="string"==typeof w[0]?w.sort():w.sort(function(r,l){return r-l})).concat(y)};a.default.prototype.splice=function(z,y,w){return Array.prototype.splice.apply(z,
[w,0].concat(y)),z};a.default.prototype.subset=function(z,y,w){return void 0!==w?z.slice(y,y+w):z.slice(y,z.length)};a=a.default;F.default=a},{"../core/main":283,"core-js/modules/es.array-buffer.constructor":152,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.slice":169,"core-js/modules/es.array.splice":171,"core-js/modules/es.object.to-string":190}],323:[function(a,R,F){a("core-js/modules/es.array.map");a("core-js/modules/es.number.constructor");a("core-js/modules/es.object.to-string");
a("core-js/modules/es.regexp.to-string");a("core-js/modules/es.string.repeat");a("core-js/modules/es.array.map");a("core-js/modules/es.number.constructor");a("core-js/modules/es.object.to-string");a("core-js/modules/es.regexp.to-string");a("core-js/modules/es.string.repeat");Object.defineProperty(F,"__esModule",{value:!0});F.default=void 0;var z=(a=a("../core/main"))&&a.__esModule?a:{default:a};z.default.prototype.float=function(y){return y instanceof Array?y.map(parseFloat):parseFloat(y)};z.default.prototype.int=
function(y){var w=1<arguments.length&&void 0!==arguments[1]?arguments[1]:10;return y===1/0||"Infinity"===y?1/0:y===-1/0||"-Infinity"===y?-1/0:"string"==typeof y?parseInt(y,w):"number"==typeof y?0|y:"boolean"==typeof y?y?1:0:y instanceof Array?y.map(function(r){return z.default.prototype.int(r,w)}):void 0};z.default.prototype.str=function(y){return y instanceof Array?y.map(z.default.prototype.str):String(y)};z.default.prototype.boolean=function(y){return"number"==typeof y?0!==y:"string"==typeof y?
"true"===y.toLowerCase():"boolean"==typeof y?y:y instanceof Array?y.map(z.default.prototype.boolean):void 0};z.default.prototype.byte=function(y){y=z.default.prototype.int(y,10);return"number"==typeof y?(y+128)%256-128:y instanceof Array?y.map(z.default.prototype.byte):void 0};z.default.prototype.char=function(y){return"number"!=typeof y||isNaN(y)?y instanceof Array?y.map(z.default.prototype.char):"string"==typeof y?z.default.prototype.char(parseInt(y,10)):void 0:String.fromCharCode(y)};z.default.prototype.unchar=
function(y){return"string"==typeof y&&1===y.length?y.charCodeAt(0):y instanceof Array?y.map(z.default.prototype.unchar):void 0};z.default.prototype.hex=function(y,w){if(w=null==w?8:w,y instanceof Array)return y.map(function(r){return z.default.prototype.hex(r,w)});if(y===1/0||y===-1/0)return(y===1/0?"F":"0").repeat(w);if("number"==typeof y){0>y&&(y=4294967295+y+1);for(y=Number(y).toString(16).toUpperCase();y.length<w;)y="0".concat(y);return y=y.length>=w?y.substring(y.length-w,y.length):y}};z.default.prototype.unhex=
function(y){return y instanceof Array?y.map(z.default.prototype.unhex):parseInt("0x".concat(y),16)};a=z.default;F.default=a},{"../core/main":283,"core-js/modules/es.array.map":168,"core-js/modules/es.number.constructor":179,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.repeat":203}],324:[function(a,R,F){function z(b,g){if(!(b=function(p){if(Array.isArray(p))return p}(b)||function(p,k){if(Symbol.iterator in Object(p)||"[object Arguments]"===
Object.prototype.toString.call(p)){var n=[],q=!0,u=!1,v=void 0;try{for(var x,C=p[Symbol.iterator]();!(q=(x=C.next()).done)&&(n.push(x.value),!k||n.length!==k);q=!0);}catch(A){u=!0,v=A}finally{try{q||null==C.return||C.return()}finally{if(u)throw v;}}return n}}(b,g)))throw new TypeError("Invalid attempt to destructure non-iterable instance");return b}function y(b,g,p){var k,n=0>b,q=z((b=Math.abs(b)).toString().split("."),2),u=q[0];q=q[1];return void 0===p?(u=u.padStart(g,"0"),k=q?u+"."+q:u,n?"-"+k:
k):(u=(k=z(b.toFixed(p).toString().split("."),2))[0],q=k[1],u=u.padStart(g,"0"),b=void 0===q?u:u+"."+q,n?"-"+b:b)}function w(b,g){var p=(b=b.toString()).indexOf("."),k=-1!==p?b.substring(p):"";b=(b=-1!==p?b.substring(0,p):b).toString().replace(/\B(?=(\d{3})+(?!\d))/g,",");if(0===g)k="";else if(void 0!==g)if(g>k.length)for(g=g-(k+=-1===p?".":"").length+1,p=0;p<g;p++)k+="0";else k=k.substring(0,g+1);return b+k}function r(b){return 0<parseFloat(b)?"+".concat(b.toString()):b.toString()}function l(b){return 0<=
parseFloat(b)?" ".concat(b.toString()):b.toString()}a("core-js/modules/es.symbol");a("core-js/modules/es.symbol.description");a("core-js/modules/es.symbol.iterator");a("core-js/modules/es.array.filter");a("core-js/modules/es.array.index-of");a("core-js/modules/es.array.iterator");a("core-js/modules/es.array.join");a("core-js/modules/es.array.map");a("core-js/modules/es.array.slice");a("core-js/modules/es.number.to-fixed");a("core-js/modules/es.object.to-string");a("core-js/modules/es.regexp.constructor");
a("core-js/modules/es.regexp.exec");a("core-js/modules/es.regexp.to-string");a("core-js/modules/es.string.iterator");a("core-js/modules/es.string.match");a("core-js/modules/es.string.pad-start");a("core-js/modules/es.string.replace");a("core-js/modules/es.string.split");a("core-js/modules/es.string.trim");a("core-js/modules/web.dom-collections.iterator");a("core-js/modules/es.array.filter");a("core-js/modules/es.array.index-of");a("core-js/modules/es.array.join");a("core-js/modules/es.array.map");
a("core-js/modules/es.array.slice");a("core-js/modules/es.number.to-fixed");a("core-js/modules/es.object.to-string");a("core-js/modules/es.regexp.constructor");a("core-js/modules/es.regexp.exec");a("core-js/modules/es.regexp.to-string");a("core-js/modules/es.string.match");a("core-js/modules/es.string.pad-start");a("core-js/modules/es.string.replace");a("core-js/modules/es.string.split");a("core-js/modules/es.string.trim");Object.defineProperty(F,"__esModule",{value:!0});F.default=void 0;var h=(d=
a("../core/main"))&&d.__esModule?d:{default:d};a("../core/friendly_errors/validate_params");a("../core/friendly_errors/file_errors");a("../core/friendly_errors/fes_core");h.default.prototype.join=function(b,g){return h.default._validateParameters("join",arguments),b.join(g)};h.default.prototype.match=function(b,g){return h.default._validateParameters("match",arguments),b.match(g)};h.default.prototype.matchAll=function(b,g){h.default._validateParameters("matchAll",arguments);for(var p=new RegExp(g,
"g"),k=p.exec(b),n=[];null!==k;)n.push(k),k=p.exec(b);return n};h.default.prototype.nf=function(b,g,p){return h.default._validateParameters("nf",arguments),b instanceof Array?b.map(function(k){return y(k,g,p)}):"[object Arguments]"===Object.prototype.toString.call(b)?3===b.length?this.nf(b[0],b[1],b[2]):2===b.length?this.nf(b[0],b[1]):this.nf(b[0]):y(b,g,p)};h.default.prototype.nfc=function(b,g){return h.default._validateParameters("nfc",arguments),b instanceof Array?b.map(function(p){return w(p,
g)}):w(b,g)};h.default.prototype.nfp=function(){for(var b=arguments.length,g=Array(b),p=0;p<b;p++)g[p]=arguments[p];h.default._validateParameters("nfp",g);b=h.default.prototype.nf.apply(this,g);return b instanceof Array?b.map(r):r(b)};h.default.prototype.nfs=function(){for(var b=arguments.length,g=Array(b),p=0;p<b;p++)g[p]=arguments[p];h.default._validateParameters("nfs",g);b=h.default.prototype.nf.apply(this,g);return b instanceof Array?b.map(l):l(b)};h.default.prototype.split=function(b,g){return h.default._validateParameters("split",
arguments),b.split(g)};h.default.prototype.splitTokens=function(b,g){var p,k;return h.default._validateParameters("splitTokens",arguments),k=void 0!==g?(k=/\]/g.exec(g),(p=/\[/g.exec(g))&&k?(g=g.slice(0,k.index)+g.slice(k.index+1),p=/\[/g.exec(g),g=g.slice(0,p.index)+g.slice(p.index+1),new RegExp("[\\[".concat(g,"\\]]"),"g")):k?(g=g.slice(0,k.index)+g.slice(k.index+1),new RegExp("[".concat(g,"\\]]"),"g")):p?(g=g.slice(0,p.index)+g.slice(p.index+1),new RegExp("[".concat(g,"\\[]"),"g")):new RegExp("[".concat(g,
"]"),"g")):/\s/g,b.split(k).filter(function(n){return n})};h.default.prototype.trim=function(b){return h.default._validateParameters("trim",arguments),b instanceof Array?b.map(this.trim):b.trim()};var d=h.default;F.default=d},{"../core/friendly_errors/fes_core":274,"../core/friendly_errors/file_errors":275,"../core/friendly_errors/validate_params":278,"../core/main":283,"core-js/modules/es.array.filter":157,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.join":166,
"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.number.to-fixed":182,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.constructor":194,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.match":201,"core-js/modules/es.string.pad-start":202,"core-js/modules/es.string.replace":204,"core-js/modules/es.string.split":206,"core-js/modules/es.string.trim":209,
"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.iterator":246}],325:[function(a,R,F){Object.defineProperty(F,"__esModule",{value:!0});F.default=void 0;a=(a=a("../core/main"))&&a.__esModule?a:{default:a};a.default.prototype.day=function(){return(new Date).getDate()};a.default.prototype.hour=function(){return(new Date).getHours()};a.default.prototype.minute=function(){return(new Date).getMinutes()};
a.default.prototype.millis=function(){return-1===this._millisStart?0:window.performance.now()-this._millisStart};a.default.prototype.month=function(){return(new Date).getMonth()+1};a.default.prototype.second=function(){return(new Date).getSeconds()};a.default.prototype.year=function(){return(new Date).getFullYear()};a=a.default;F.default=a},{"../core/main":283}],326:[function(a,R,F){function z(b){return(z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(g){return typeof g}:function(g){return g&&
"function"==typeof Symbol&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g})(b)}function y(b){return(y="function"==typeof Symbol&&"symbol"===z(Symbol.iterator)?function(g){return z(g)}:function(g){return g&&"function"==typeof Symbol&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":z(g)})(b)}function w(){var b;return"function"!=typeof WeakMap?null:(b=new WeakMap,w=function(){return b},b)}function r(b,g,p,k,n,q,u){b=0>=b?1:b;g=0>g?0:g;p=0>=p?b:p;k=3>k?3:k;var v=(q=void 0===q||q)?
-2:0;var x=(n=1>n?1:n)+((u=void 0===u?0!==g:u)?2:0),C=Math.atan2(b-g,p),A=Math.sin(C),M=Math.cos(C);for(C=v;C<=x;++C){var K=C/n,G=p*K;var U=0>C?(K=G=0,b):n<C?(G=p,K=1,g):b+(g-b)*K;-2!==C&&C!==n+2||(U=0);G-=p/2;for(v=0;v<k;++v){var J=v/(k-1),I=2*Math.PI*J,T=Math.sin(I);I=Math.cos(I);this.vertices.push(new l.default.Vector(T*U,G,I*U));I=0>C?new l.default.Vector(0,-1,0):n<C&&g?new l.default.Vector(0,1,0):new l.default.Vector(T*M,A,I*M);this.vertexNormals.push(I);this.uvs.push(J,K)}}b=0;if(q){for(q=0;q<
k;++q)this.faces.push([b+q,b+k+(q+1)%k,b+k+q]);b+=2*k}for(C=0;C<n;++C){for(v=0;v<k;++v)q=(v+1)%k,this.faces.push([b+v,b+q,b+k+q]),this.faces.push([b+v,b+k+q,b+k+v]);b+=k}if(u)for(b+=k,v=0;v<k;++v)this.faces.push([b+v,b+(v+1)%k,b+k])}a("core-js/modules/es.symbol");a("core-js/modules/es.symbol.description");a("core-js/modules/es.symbol.iterator");a("core-js/modules/es.array.concat");a("core-js/modules/es.array.for-each");a("core-js/modules/es.array.iterator");a("core-js/modules/es.array.slice");a("core-js/modules/es.math.hypot");
a("core-js/modules/es.math.sign");a("core-js/modules/es.number.to-fixed");a("core-js/modules/es.object.get-own-property-descriptor");a("core-js/modules/es.object.to-string");a("core-js/modules/es.string.iterator");a("core-js/modules/es.weak-map");a("core-js/modules/web.dom-collections.iterator");a("core-js/modules/es.symbol");a("core-js/modules/es.symbol.description");a("core-js/modules/es.symbol.iterator");a("core-js/modules/es.array.concat");a("core-js/modules/es.array.for-each");a("core-js/modules/es.array.iterator");
a("core-js/modules/es.array.slice");a("core-js/modules/es.math.hypot");a("core-js/modules/es.math.sign");a("core-js/modules/es.number.to-fixed");a("core-js/modules/es.object.to-string");a("core-js/modules/es.string.iterator");a("core-js/modules/web.dom-collections.iterator");Object.defineProperty(F,"__esModule",{value:!0});F.default=void 0;var l=(d=a("../core/main"))&&d.__esModule?d:{default:d},h=(a("./p5.Geometry"),function(b){if(b&&b.__esModule)return b;if(null===b||"object"!==y(b)&&"function"!=
typeof b)return{default:b};var g=w();if(g&&g.has(b))return g.get(b);var p,k={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(p in b){var q;Object.prototype.hasOwnProperty.call(b,p)&&((q=n?Object.getOwnPropertyDescriptor(b,p):null)&&(q.get||q.set)?Object.defineProperty(k,p,q):k[p]=b[p])}k.default=b;g&&g.set(b,k);return k}(a("../core/constants")));l.default.prototype.beginGeometry=function(){return this._renderer.beginGeometry()};l.default.prototype.endGeometry=function(){return this._renderer.endGeometry()};
l.default.prototype.buildGeometry=function(b){return this._renderer.buildGeometry(b)};l.default.prototype.freeGeometry=function(b){this._renderer._freeBuffers(b.gid)};l.default.prototype.plane=function(){var b,g=0<arguments.length&&void 0!==arguments[0]?arguments[0]:50,p=1<arguments.length&&void 0!==arguments[1]?arguments[1]:g,k=2<arguments.length&&void 0!==arguments[2]?arguments[2]:1,n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:1,q=(this._assert3d("plane"),l.default._validateParameters("plane",
arguments),"plane|".concat(k,"|").concat(n));return this._renderer.geometryInHash(q)||((b=new l.default.Geometry(k,n,function(){for(var u,v,x=0;x<=this.detailY;x++)for(var C=x/this.detailY,A=0;A<=this.detailX;A++)u=A/this.detailX,v=new l.default.Vector(u-.5,C-.5,0),this.vertices.push(v),this.uvs.push(u,C)})).computeFaces().computeNormals(),1>=k&&1>=n?b._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on plane objects with more than 1 detailX or 1 detailY"),
this._renderer.createBuffers(q,b)),this._renderer.drawBuffersScaled(q,g,p,1),this};l.default.prototype.box=function(b,g,p,k,n){this._assert3d("box");l.default._validateParameters("box",arguments);void 0===b&&(b=50);void 0===g&&(g=b);void 0===p&&(p=g);var q,u=this._renderer.attributes&&this._renderer.attributes.perPixelLighting;u=(void 0===n&&(n=u?1:4),"box|".concat(k=void 0===k?u?1:4:k,"|").concat(n));return this._renderer.geometryInHash(u)||((q=new l.default.Geometry(k,n,function(){var v=this;this.edges=
[[0,1],[1,3],[3,2],[6,7],[8,9],[9,11],[14,15],[16,17],[17,19],[18,19],[20,21],[22,23]];[[0,4,2,6],[1,3,5,7],[0,1,4,5],[2,6,3,7],[0,2,1,3],[4,5,6,7]].forEach(function(x,C){C*=4;for(var A=0;4>A;A++){var M=x[A];M=new l.default.Vector((2*(1&M)-1)/2,((2&M)-1)/2,((4&M)/2-1)/2);v.vertices.push(M);v.uvs.push(1&A,(2&A)/2)}v.faces.push([C,1+C,2+C]);v.faces.push([2+C,1+C,3+C])})})).computeNormals(),4>=k&&4>=n?q._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on box objects with more than 4 detailX or 4 detailY"),
this._renderer.createBuffers(u,q)),this._renderer.drawBuffersScaled(u,b,g,p),this};l.default.prototype.sphere=function(){var b=0<arguments.length&&void 0!==arguments[0]?arguments[0]:50,g=1<arguments.length&&void 0!==arguments[1]?arguments[1]:24,p=2<arguments.length&&void 0!==arguments[2]?arguments[2]:16;return this._assert3d("sphere"),l.default._validateParameters("sphere",arguments),this.ellipsoid(b,b,b,g,p),this};l.default.prototype.cylinder=function(){var b,g=0<arguments.length&&void 0!==arguments[0]?
arguments[0]:50,p=1<arguments.length&&void 0!==arguments[1]?arguments[1]:g,k=2<arguments.length&&void 0!==arguments[2]?arguments[2]:24,n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:1,q=!(4<arguments.length&&void 0!==arguments[4])||arguments[4],u=!(5<arguments.length&&void 0!==arguments[5])||arguments[5],v=(this._assert3d("cylinder"),l.default._validateParameters("cylinder",arguments),"cylinder|".concat(k,"|").concat(n,"|").concat(q,"|").concat(u));return this._renderer.geometryInHash(v)||
(b=new l.default.Geometry(k,n),r.call(b,1,1,1,k,n,q,u),24>=k&&16>=n?b._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on cylinder objects with more than 24 detailX or 16 detailY"),this._renderer.createBuffers(v,b)),this._renderer.drawBuffersScaled(v,g,p,g),this};l.default.prototype.cone=function(){var b,g=0<arguments.length&&void 0!==arguments[0]?arguments[0]:50,p=1<arguments.length&&void 0!==arguments[1]?arguments[1]:g,k=2<arguments.length&&void 0!==
arguments[2]?arguments[2]:24,n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:1,q=!(4<arguments.length&&void 0!==arguments[4])||arguments[4],u=(this._assert3d("cone"),l.default._validateParameters("cone",arguments),"cone|".concat(k,"|").concat(n,"|").concat(q));return this._renderer.geometryInHash(u)||(b=new l.default.Geometry(k,n),r.call(b,1,0,1,k,n,q,!1),24>=k&&16>=n?b._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on cone objects with more than 24 detailX or 16 detailY"),
this._renderer.createBuffers(u,b)),this._renderer.drawBuffersScaled(u,g,p,g),this};l.default.prototype.ellipsoid=function(){var b,g=0<arguments.length&&void 0!==arguments[0]?arguments[0]:50,p=1<arguments.length&&void 0!==arguments[1]?arguments[1]:g,k=2<arguments.length&&void 0!==arguments[2]?arguments[2]:g,n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:24,q=4<arguments.length&&void 0!==arguments[4]?arguments[4]:16,u=(this._assert3d("ellipsoid"),l.default._validateParameters("ellipsoid",
arguments),"ellipsoid|".concat(n,"|").concat(q));return this._renderer.geometryInHash(u)||((b=new l.default.Geometry(n,q,function(){for(var v=0;v<=this.detailY;v++){var x=v/this.detailY,C=Math.PI*x-Math.PI/2,A=Math.cos(C);C=Math.sin(C);for(var M=0;M<=this.detailX;M++){var K=M/this.detailX,G=2*Math.PI*K,U=Math.cos(G);G=Math.sin(G);G=new l.default.Vector(A*G,C,A*U);this.vertices.push(G);this.vertexNormals.push(G);this.uvs.push(K,x)}}})).computeFaces(),24>=n&&24>=q?b._makeTriangleEdges()._edgesToVertices():
this._renderer._doStroke&&console.log("Cannot draw stroke on ellipsoids with more than 24 detailX or 24 detailY"),this._renderer.createBuffers(u,b)),this._renderer.drawBuffersScaled(u,g,p,k),this};l.default.prototype.torus=function(b,g,p,k){if(this._assert3d("torus"),l.default._validateParameters("torus",arguments),void 0===b)b=50;else if(!b)return;if(void 0===g)g=10;else if(!g)return;void 0===p&&(p=24);void 0===k&&(k=16);var n,q=(g/b).toPrecision(4);g="torus|".concat(q,"|").concat(p,"|").concat(k);
return this._renderer.geometryInHash(g)||((n=new l.default.Geometry(p,k,function(){for(var u=0;u<=this.detailY;u++){var v=u/this.detailY,x=2*Math.PI*v,C=Math.cos(x);x=Math.sin(x);for(var A=1+q*C,M=0;M<=this.detailX;M++){var K=M/this.detailX,G=2*Math.PI*K,U=Math.cos(G);G=Math.sin(G);var J=new l.default.Vector(A*U,A*G,q*x);U=new l.default.Vector(C*U,C*G,x);this.vertices.push(J);this.vertexNormals.push(U);this.uvs.push(K,v)}}})).computeFaces(),24>=p&&16>=k?n._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&
console.log("Cannot draw strokes on torus object with more than 24 detailX or 16 detailY"),this._renderer.createBuffers(g,n)),this._renderer.drawBuffersScaled(g,b,b,b),this};l.default.RendererGL.prototype.point=function(b,g){var p=[];return p.push(new l.default.Vector(b,g,2<arguments.length&&void 0!==arguments[2]?arguments[2]:0)),this._drawPoints(p,this.immediateMode.buffers.point),this};l.default.RendererGL.prototype.triangle=function(b){var g=b[0],p=b[1],k=b[2],n=b[3],q=b[4];b=b[5];var u=(this.geometryInHash("tri")||
((u=new l.default.Geometry(1,1,function(){var v=[];v.push(new l.default.Vector(0,0,0));v.push(new l.default.Vector(1,0,0));v.push(new l.default.Vector(0,1,0));this.edges=[[0,1],[1,2],[2,0]];this.vertices=v;this.faces=[[0,1,2]];this.uvs=[0,0,1,0,1,1]}))._edgesToVertices(),u.computeNormals(),this.createBuffers("tri",u)),this.uModelMatrix.copy());try{this.uModelMatrix=(new l.default.Matrix([k-g,n-p,0,0,q-g,b-p,0,0,0,0,Math.sign(g*n-k*p+k*b-q*n+q*p-g*b),0,g,p,0,1])).mult(this.uModelMatrix),this.drawBuffers("tri")}finally{this.uModelMatrix=
u}return this};l.default.RendererGL.prototype.ellipse=function(b){this.arc(b[0],b[1],b[2],b[3],0,h.TWO_PI,h.OPEN,b[4])};l.default.RendererGL.prototype.arc=function(){var b,g=0>=arguments.length?void 0:arguments[0],p=1>=arguments.length?void 0:arguments[1],k=2>=arguments.length?void 0:arguments[2],n=3>=arguments.length?void 0:arguments[3],q=4>=arguments.length?void 0:arguments[4],u=5>=arguments.length?void 0:arguments[5],v=6>=arguments.length?void 0:arguments[6],x=(7>=arguments.length?void 0:arguments[7])||
25,C=(Math.abs(u-q)>=h.TWO_PI?"".concat(A="ellipse","|"):"".concat(A="arc","|").concat(q,"|").concat(u,"|").concat(v,"|")).concat(x,"|"),A=(this.geometryInHash(C)||((b=new l.default.Geometry(x,1,function(){if(q.toFixed(10)!==u.toFixed(10)){v!==h.PIE&&void 0!==v||(this.vertices.push(new l.default.Vector(.5,.5,0)),this.uvs.push([.5,.5]));for(var M=0;M<=x;M++){var K=M/x*(u-q)+q,G=.5+Math.cos(K)/2;K=.5+Math.sin(K)/2;this.vertices.push(new l.default.Vector(G,K,0));this.uvs.push([G,K]);M<x-1&&(this.faces.push([0,
M+1,M+2]),this.edges.push([M+1,M+2]))}switch(v){case h.PIE:this.faces.push([0,this.vertices.length-2,this.vertices.length-1]);this.edges.push([0,1]);this.edges.push([this.vertices.length-2,this.vertices.length-1]);this.edges.push([0,this.vertices.length-1]);break;case h.CHORD:this.edges.push([0,1]);this.edges.push([0,this.vertices.length-1]);break;case h.OPEN:this.edges.push([0,1]);break;default:this.faces.push([0,this.vertices.length-2,this.vertices.length-1]),this.edges.push([this.vertices.length-
2,this.vertices.length-1])}}})).computeNormals(),50>=x?b._edgesToVertices(b):this._doStroke&&console.log("Cannot apply a stroke to an ".concat(A," with more than 50 detail")),this.createBuffers(C,b)),this.uModelMatrix.copy());try{this.uModelMatrix.translate([g,p,0]),this.uModelMatrix.scale(k,n,1),this.drawBuffers(C)}finally{this.uModelMatrix=A}return this};l.default.RendererGL.prototype.rect=function(b){var g=b[0],p=b[1],k=b[2],n=b[3];if(void 0===b[4]){var q=this._pInst._glAttributes.perPixelLighting,
u=b[4]||(q?1:24),v=b[5]||(q?1:16);q="rect|".concat(u,"|").concat(v);var x=(this.geometryInHash(q)||((x=new l.default.Geometry(u,v,function(){for(var Y=0;Y<=this.detailY;Y++)for(var ea=Y/this.detailY,da=0;da<=this.detailX;da++){var X=da/this.detailX,Z=new l.default.Vector(X,ea,0);this.vertices.push(Z);this.uvs.push(X,ea)}0<u&&0<v&&(this.edges=[[0,u],[u,(u+1)*(v+1)-1],[(u+1)*(v+1)-1,(u+1)*v],[(u+1)*v,0]])})).computeFaces().computeNormals()._edgesToVertices(),this.createBuffers(q,x)),this.uModelMatrix.copy());
try{this.uModelMatrix.translate([g,p,0]),this.uModelMatrix.scale(k,n,1),this.drawBuffers(q)}finally{this.uModelMatrix=x}}else{q=b[4];x=void 0===b[5]?q:b[5];var C=void 0===b[6]?x:b[6];b=void 0===b[7]?C:b[7];var A=k,M=n,K=((A+=g)<g&&(K=g,g=A,A=K),(M+=p)<p&&(K=p,p=M,M=K),Math.min((A-g)/2,(M-p)/2)),G=(K<q&&(q=K),K<x&&(x=K),K<C&&(C=K),K<b&&(b=K),g),U=p;K=A;g=M;b=(this.beginShape(),0!==x?(this.vertex(K-x,U),this.quadraticVertex(K,U,K,U+x)):this.vertex(K,U),0!==C?(this.vertex(K,g-C),this.quadraticVertex(K,
g,K-C,g)):this.vertex(K,g),0!==b?(this.vertex(G+b,g),this.quadraticVertex(G,g,G,g-b)):this.vertex(G,g),0!==q?(this.vertex(G,U+q),this.quadraticVertex(G,U,G+q,U)):this.vertex(G,U),!(this.immediateMode.geometry.uvs.length=0));p=!1;A=void 0;try{for(var J,I=this.immediateMode.geometry.vertices[Symbol.iterator]();!(b=(J=I.next()).done);b=!0){var T=J.value;this.immediateMode.geometry.uvs.push((T.x-G)/k,(T.y-U)/n)}}catch(Y){p=!0,A=Y}finally{try{b||null==I.return||I.return()}finally{if(p)throw A;}}this.endShape(h.CLOSE)}return this};
l.default.RendererGL.prototype.quad=function(b,g,p,k,n,q,u,v,x,C,A,M){var K=12<arguments.length&&void 0!==arguments[12]?arguments[12]:2,G=13<arguments.length&&void 0!==arguments[13]?arguments[13]:2,U="quad|".concat(b,"|").concat(g,"|").concat(p,"|").concat(k,"|").concat(n,"|").concat(q,"|").concat(u,"|").concat(v,"|").concat(x,"|").concat(C,"|").concat(A,"|").concat(M,"|").concat(K,"|").concat(G);if(!this.geometryInHash(U)){var J=new l.default.Geometry(K,G,function(){for(var X=1/(this.detailX-1),
Z=1/(this.detailY-1),L=0;L<this.detailY;L++)for(var S=0;S<this.detailX;S++){var E=S*X,P=L*Z;this.vertices.push(new l.default.Vector((1-E)*((1-P)*b+P*C)+E*((1-P)*k+P*u),(1-E)*((1-P)*g+P*A)+E*((1-P)*n+P*v),(1-E)*((1-P)*p+P*M)+E*((1-P)*q+P*x)));this.uvs.push([E,P])}});J.faces=[];for(var I=0;I<G-1;I++)for(var T=0;T<K-1;T++){var Y=T+I*K,ea=T+1+(I+1)*K,da=T+(I+1)*K;J.faces.push([Y,T+1+I*K,ea]);J.faces.push([Y,ea,da])}J.computeNormals();K=[J.edges.length=0,2,3,1];for(G=0;G<K.length;G++)J.edges.push([K[G],
K[(G+1)%K.length]]);J._edgesToVertices();this.createBuffers(U,J)}return this.drawBuffers(U),this};l.default.RendererGL.prototype.bezier=function(b,g,p,k,n,q,u,v,x,C,A,M){8===arguments.length&&(A=v,C=u,v=q,u=n,n=k,k=p,p=q=x=M=0);var K=this._pInst._bezierDetail||20;this.beginShape();for(var G=0;G<=K;G++){var U=Math.pow(1-G/K,3),J=G/K*3*Math.pow(1-G/K,2),I=3*Math.pow(G/K,2)*(1-G/K),T=Math.pow(G/K,3);this.vertex(b*U+k*J+u*I+C*T,g*U+n*J+v*I+A*T,p*U+q*J+x*I+M*T)}return this.endShape(),this};l.default.RendererGL.prototype.curve=
function(b,g,p,k,n,q,u,v,x,C,A,M){8===arguments.length&&(C=u,A=v,u=n,v=k,n=k=p,p=q=x=M=0);var K=this._pInst._curveDetail;this.beginShape();for(var G=0;G<=K;G++){var U=.5*Math.pow(G/K,3),J=.5*Math.pow(G/K,2),I=G/K*.5;this.vertex(U*(3*k-b-3*u+C)+J*(2*b-5*k+4*u-C)+I*(-b+u)+1*k,U*(3*n-g-3*v+A)+J*(2*g-5*n+4*v-A)+I*(-g+v)+1*n,U*(3*q-p-3*x+M)+J*(2*p-5*q+4*x-M)+I*(-p+x)+1*q)}return this.endShape(),this};l.default.RendererGL.prototype.line=function(){return 6===arguments.length?(this.beginShape(h.LINES),this.vertex(0>=
arguments.length?void 0:arguments[0],1>=arguments.length?void 0:arguments[1],2>=arguments.length?void 0:arguments[2]),this.vertex(3>=arguments.length?void 0:arguments[3],4>=arguments.length?void 0:arguments[4],5>=arguments.length?void 0:arguments[5]),this.endShape()):4===arguments.length&&(this.beginShape(h.LINES),this.vertex(0>=arguments.length?void 0:arguments[0],1>=arguments.length?void 0:arguments[1],0),this.vertex(2>=arguments.length?void 0:arguments[2],3>=arguments.length?void 0:arguments[3],
0),this.endShape()),this};l.default.RendererGL.prototype.bezierVertex=function(){if(0===this.immediateMode._bezierVertex.length)throw Error("vertex() must be used once before calling bezierVertex()");var b,g,p,k,n,q;var u=arguments.length;if(0===this._lookUpTableBezier.length||this._lutBezierDetail!==this._pInst._curveDetail){this._lookUpTableBezier=[];this._lutBezierDetail=this._pInst._curveDetail;for(var v=q=1/this._lutBezierDetail,x=1,C=0;1>v;){if(n=parseFloat(v.toFixed(6)),this._lookUpTableBezier[C]=
this._bezierCoefficients(n),x.toFixed(6)===q.toFixed(6)){n=parseFloat(x.toFixed(6))+parseFloat(v.toFixed(6));++C;this._lookUpTableBezier[C]=this._bezierCoefficients(n);break}v+=q;x-=q;++C}}v=this._lookUpTableBezier.length;x=[];for(var A=0;4>A;A++)x.push([]);x[0]=this.immediateMode.geometry.vertexColors.slice(-4);x[3]=this.curFillColor.slice();C=[];for(A=0;4>A;A++)C.push([]);if(C[0]=this.immediateMode.geometry.vertexStrokeColors.slice(-4),C[3]=this.curStrokeColor.slice(),6===u){this.isBezier=!0;n=
[this.immediateMode._bezierVertex[0],0>=arguments.length?void 0:arguments[0],2>=arguments.length?void 0:arguments[2],4>=arguments.length?void 0:arguments[4]];q=[this.immediateMode._bezierVertex[1],1>=arguments.length?void 0:arguments[1],3>=arguments.length?void 0:arguments[3],5>=arguments.length?void 0:arguments[5]];var M=Math.hypot(n[0]-n[1],q[0]-q[1]);u=Math.hypot(n[1]-n[2],q[1]-q[2]);A=Math.hypot(n[2]-n[3],q[2]-q[3]);u=M+u+A;M/=u;A/=u;for(u=0;4>u;u++)x[1].push(x[0][u]*(1-M)+x[3][u]*M),x[2].push(x[0][u]*
A+x[3][u]*(1-A)),C[1].push(C[0][u]*(1-M)+C[3][u]*M),C[2].push(C[0][u]*A+C[3][u]*(1-A));for(k=0;k<v;k++){this.curFillColor=[0,0,0,0];this.curStrokeColor=[0,0,0,0];for(A=b=g=0;4>A;A++){for(u=0;4>u;u++)this.curFillColor[u]+=this._lookUpTableBezier[k][A]*x[A][u],this.curStrokeColor[u]+=this._lookUpTableBezier[k][A]*C[A][u];b+=n[A]*this._lookUpTableBezier[k][A];g+=q[A]*this._lookUpTableBezier[k][A]}this.vertex(b,g)}this.curFillColor=x[3];this.curStrokeColor=C[3];this.immediateMode._bezierVertex[0]=4>=
arguments.length?void 0:arguments[4];this.immediateMode._bezierVertex[1]=5>=arguments.length?void 0:arguments[5]}else if(9===u){this.isBezier=!0;n=[this.immediateMode._bezierVertex[0],0>=arguments.length?void 0:arguments[0],3>=arguments.length?void 0:arguments[3],6>=arguments.length?void 0:arguments[6]];q=[this.immediateMode._bezierVertex[1],1>=arguments.length?void 0:arguments[1],4>=arguments.length?void 0:arguments[4],7>=arguments.length?void 0:arguments[7]];M=[this.immediateMode._bezierVertex[2],
2>=arguments.length?void 0:arguments[2],5>=arguments.length?void 0:arguments[5],8>=arguments.length?void 0:arguments[8]];A=Math.hypot(n[0]-n[1],q[0]-q[1],M[0]-M[1]);u=Math.hypot(n[1]-n[2],q[1]-q[2],M[1]-M[2]);b=Math.hypot(n[2]-n[3],q[2]-q[3],M[2]-M[3]);u=A+u+b;A/=u;b/=u;for(u=0;4>u;u++)x[1].push(x[0][u]*(1-A)+x[3][u]*A),x[2].push(x[0][u]*b+x[3][u]*(1-b)),C[1].push(C[0][u]*(1-A)+C[3][u]*A),C[2].push(C[0][u]*b+C[3][u]*(1-b));for(k=0;k<v;k++){this.curFillColor=[0,0,0,0];this.curStrokeColor=[0,0,0,0];
for(A=b=g=p=0;4>A;A++){for(u=0;4>u;u++)this.curFillColor[u]+=this._lookUpTableBezier[k][A]*x[A][u],this.curStrokeColor[u]+=this._lookUpTableBezier[k][A]*C[A][u];b+=n[A]*this._lookUpTableBezier[k][A];g+=q[A]*this._lookUpTableBezier[k][A];p+=M[A]*this._lookUpTableBezier[k][A]}this.vertex(b,g,p)}this.curFillColor=x[3];this.curStrokeColor=C[3];this.immediateMode._bezierVertex[0]=6>=arguments.length?void 0:arguments[6];this.immediateMode._bezierVertex[1]=7>=arguments.length?void 0:arguments[7];this.immediateMode._bezierVertex[2]=
8>=arguments.length?void 0:arguments[8]}};l.default.RendererGL.prototype.quadraticVertex=function(){if(0===this.immediateMode._quadraticVertex.length)throw Error("vertex() must be used once before calling quadraticVertex()");var b,g,p,k,n,q;var u=arguments.length;if(0===this._lookUpTableQuadratic.length||this._lutQuadraticDetail!==this._pInst._curveDetail){this._lookUpTableQuadratic=[];this._lutQuadraticDetail=this._pInst._curveDetail;var v=1/this._lutQuadraticDetail,x=v;var C=1;for(q=0;1>x;){if(n=
parseFloat(x.toFixed(6)),this._lookUpTableQuadratic[q]=this._quadraticCoefficients(n),C.toFixed(6)===v.toFixed(6)){n=parseFloat(C.toFixed(6))+parseFloat(x.toFixed(6));++q;this._lookUpTableQuadratic[q]=this._quadraticCoefficients(n);break}x+=v;C-=v;++q}}n=this._lookUpTableQuadratic.length;v=[];for(var A=0;3>A;A++)v.push([]);v[0]=this.immediateMode.geometry.vertexColors.slice(-4);v[2]=this.curFillColor.slice();x=[];for(A=0;3>A;A++)x.push([]);if(x[0]=this.immediateMode.geometry.vertexStrokeColors.slice(-4),
x[2]=this.curStrokeColor.slice(),4===u){this.isQuadratic=!0;C=[this.immediateMode._quadraticVertex[0],0>=arguments.length?void 0:arguments[0],2>=arguments.length?void 0:arguments[2]];q=[this.immediateMode._quadraticVertex[1],1>=arguments.length?void 0:arguments[1],3>=arguments.length?void 0:arguments[3]];A=Math.hypot(C[0]-C[1],q[0]-q[1]);A/=A+Math.hypot(C[1]-C[2],q[1]-q[2]);for(u=0;4>u;u++)v[1].push(v[0][u]*(1-A)+v[2][u]*A),x[1].push(x[0][u]*(1-A)+x[2][u]*A);for(k=0;k<n;k++){this.curFillColor=[0,
0,0,0];this.curStrokeColor=[0,0,0,0];for(A=b=g=0;3>A;A++){for(u=0;4>u;u++)this.curFillColor[u]+=this._lookUpTableQuadratic[k][A]*v[A][u],this.curStrokeColor[u]+=this._lookUpTableQuadratic[k][A]*x[A][u];b+=C[A]*this._lookUpTableQuadratic[k][A];g+=q[A]*this._lookUpTableQuadratic[k][A]}this.vertex(b,g)}this.curFillColor=v[2];this.curStrokeColor=x[2];this.immediateMode._quadraticVertex[0]=2>=arguments.length?void 0:arguments[2];this.immediateMode._quadraticVertex[1]=3>=arguments.length?void 0:arguments[3]}else if(6===
u){this.isQuadratic=!0;C=[this.immediateMode._quadraticVertex[0],0>=arguments.length?void 0:arguments[0],3>=arguments.length?void 0:arguments[3]];q=[this.immediateMode._quadraticVertex[1],1>=arguments.length?void 0:arguments[1],4>=arguments.length?void 0:arguments[4]];var M=[this.immediateMode._quadraticVertex[2],2>=arguments.length?void 0:arguments[2],5>=arguments.length?void 0:arguments[5]];A=Math.hypot(C[0]-C[1],q[0]-q[1],M[0]-M[1]);A/=A+Math.hypot(C[1]-C[2],q[1]-q[2],M[1]-M[2]);for(u=0;4>u;u++)v[1].push(v[0][u]*
(1-A)+v[2][u]*A),x[1].push(x[0][u]*(1-A)+x[2][u]*A);for(k=0;k<n;k++){this.curFillColor=[0,0,0,0];this.curStrokeColor=[0,0,0,0];for(A=b=g=p=0;3>A;A++){for(u=0;4>u;u++)this.curFillColor[u]+=this._lookUpTableQuadratic[k][A]*v[A][u],this.curStrokeColor[u]+=this._lookUpTableQuadratic[k][A]*x[A][u];b+=C[A]*this._lookUpTableQuadratic[k][A];g+=q[A]*this._lookUpTableQuadratic[k][A];p+=M[A]*this._lookUpTableQuadratic[k][A]}this.vertex(b,g,p)}this.curFillColor=v[2];this.curStrokeColor=x[2];this.immediateMode._quadraticVertex[0]=
3>=arguments.length?void 0:arguments[3];this.immediateMode._quadraticVertex[1]=4>=arguments.length?void 0:arguments[4];this.immediateMode._quadraticVertex[2]=5>=arguments.length?void 0:arguments[5]}};l.default.RendererGL.prototype.curveVertex=function(){var b,g,p,k=arguments.length;if(0===this._lookUpTableBezier.length||this._lutBezierDetail!==this._pInst._curveDetail){this._lookUpTableBezier=[];this._lutBezierDetail=this._pInst._curveDetail;var n=g=1/this._lutBezierDetail;var q=1;for(p=0;1>n;){if(b=
parseFloat(n.toFixed(6)),this._lookUpTableBezier[p]=this._bezierCoefficients(b),q.toFixed(6)===g.toFixed(6)){b=parseFloat(q.toFixed(6))+parseFloat(n.toFixed(6));++p;this._lookUpTableBezier[p]=this._bezierCoefficients(b);break}n+=g;q-=g;++p}}var u=this._lookUpTableBezier.length;if(2===k){if(this.immediateMode._curveVertex.push(0>=arguments.length?void 0:arguments[0]),this.immediateMode._curveVertex.push(1>=arguments.length?void 0:arguments[1]),8===this.immediateMode._curveVertex.length){this.isCurve=
!0;var v=this._bezierToCatmull([this.immediateMode._curveVertex[0],this.immediateMode._curveVertex[2],this.immediateMode._curveVertex[4],this.immediateMode._curveVertex[6]]);var x=this._bezierToCatmull([this.immediateMode._curveVertex[1],this.immediateMode._curveVertex[3],this.immediateMode._curveVertex[5],this.immediateMode._curveVertex[7]]);for(p=0;p<u;p++)g=v[0]*this._lookUpTableBezier[p][0]+v[1]*this._lookUpTableBezier[p][1]+v[2]*this._lookUpTableBezier[p][2]+v[3]*this._lookUpTableBezier[p][3],
n=x[0]*this._lookUpTableBezier[p][0]+x[1]*this._lookUpTableBezier[p][1]+x[2]*this._lookUpTableBezier[p][2]+x[3]*this._lookUpTableBezier[p][3],this.vertex(g,n);for(p=0;p<k;p++)this.immediateMode._curveVertex.shift()}}else if(3===k&&(this.immediateMode._curveVertex.push(0>=arguments.length?void 0:arguments[0]),this.immediateMode._curveVertex.push(1>=arguments.length?void 0:arguments[1]),this.immediateMode._curveVertex.push(2>=arguments.length?void 0:arguments[2]),12===this.immediateMode._curveVertex.length)){this.isCurve=
!0;v=this._bezierToCatmull([this.immediateMode._curveVertex[0],this.immediateMode._curveVertex[3],this.immediateMode._curveVertex[6],this.immediateMode._curveVertex[9]]);x=this._bezierToCatmull([this.immediateMode._curveVertex[1],this.immediateMode._curveVertex[4],this.immediateMode._curveVertex[7],this.immediateMode._curveVertex[10]]);b=this._bezierToCatmull([this.immediateMode._curveVertex[2],this.immediateMode._curveVertex[5],this.immediateMode._curveVertex[8],this.immediateMode._curveVertex[11]]);
for(p=0;p<u;p++)g=v[0]*this._lookUpTableBezier[p][0]+v[1]*this._lookUpTableBezier[p][1]+v[2]*this._lookUpTableBezier[p][2]+v[3]*this._lookUpTableBezier[p][3],n=x[0]*this._lookUpTableBezier[p][0]+x[1]*this._lookUpTableBezier[p][1]+x[2]*this._lookUpTableBezier[p][2]+x[3]*this._lookUpTableBezier[p][3],q=b[0]*this._lookUpTableBezier[p][0]+b[1]*this._lookUpTableBezier[p][1]+b[2]*this._lookUpTableBezier[p][2]+b[3]*this._lookUpTableBezier[p][3],this.vertex(g,n,q);for(p=0;p<k;p++)this.immediateMode._curveVertex.shift()}};
l.default.RendererGL.prototype.image=function(b,g,p,k,n,q,u,v,x){this._isErasing&&this.blendMode(this._cachedBlendMode);this._pInst.push();this._pInst.noLights();this._pInst.noStroke();this._pInst.texture(b);this._pInst.textureMode(h.NORMAL);var C=0,A=(g<=b.width&&(C=g/b.width),1);g=(g+k<=b.width&&(A=(g+k)/b.width),0);k=(p<=b.height&&(g=p/b.height),1);p+n<=b.height&&(k=(p+n)/b.height);this.beginShape();this.vertex(q,u,0,C,g);this.vertex(q+v,u,0,A,g);this.vertex(q+v,u+x,0,A,k);this.vertex(q,u+x,0,
C,k);this.endShape(h.CLOSE);this._pInst.pop();this._isErasing&&this.blendMode(h.REMOVE)};var d=l.default;F.default=d},{"../core/constants":272,"../core/main":283,"./p5.Geometry":335,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.for-each":161,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.slice":169,"core-js/modules/es.math.hypot":176,"core-js/modules/es.math.sign":178,"core-js/modules/es.number.to-fixed":182,"core-js/modules/es.object.get-own-property-descriptor":186,
"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],327:[function(a,R,F){function z(g){return(z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(p){return typeof p}:function(p){return p&&"function"==typeof Symbol&&p.constructor===Symbol&&p!==Symbol.prototype?
"symbol":typeof p})(g)}function y(g){return(y="function"==typeof Symbol&&"symbol"===z(Symbol.iterator)?function(p){return z(p)}:function(p){return p&&"function"==typeof Symbol&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":z(p)})(g)}function w(){var g;return"function"!=typeof WeakMap?null:(g=new WeakMap,w=function(){return g},g)}function r(g){if(!(g=function(p){if(Array.isArray(p)){for(var k=0,n=Array(p.length);k<p.length;k++)n[k]=p[k];return n}}(g)||function(p){if(Symbol.iterator in Object(p)||
"[object Arguments]"===Object.prototype.toString.call(p))return Array.from(p)}(g)))throw new TypeError("Invalid attempt to spread non-iterable instance");return g}function l(g,p){for(var k=0;k<p.length;k++){var n=p[k];n.enumerable=n.enumerable||!1;n.configurable=!0;"value"in n&&(n.writable=!0);Object.defineProperty(g,n.key,n)}}a("core-js/modules/es.symbol");a("core-js/modules/es.symbol.description");a("core-js/modules/es.symbol.iterator");a("core-js/modules/es.array.every");a("core-js/modules/es.array.from");
a("core-js/modules/es.array.iterator");a("core-js/modules/es.array.map");a("core-js/modules/es.object.assign");a("core-js/modules/es.object.get-own-property-descriptor");a("core-js/modules/es.object.to-string");a("core-js/modules/es.regexp.to-string");a("core-js/modules/es.string.iterator");a("core-js/modules/es.weak-map");a("core-js/modules/web.dom-collections.iterator");a("core-js/modules/es.array.every");a("core-js/modules/es.array.map");a("core-js/modules/es.object.assign");Object.defineProperty(F,
"__esModule",{value:!0});F.default=void 0;var h=(b=a("../core/main"))&&b.__esModule?b:{default:b},d=function(g){if(g&&g.__esModule)return g;if(null===g||"object"!==y(g)&&"function"!=typeof g)return{default:g};var p=w();if(p&&p.has(g))return p.get(g);var k,n={},q=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(k in g){var u;Object.prototype.hasOwnProperty.call(g,k)&&((u=q?Object.getOwnPropertyDescriptor(g,k):null)&&(u.get||u.set)?Object.defineProperty(n,k,u):n[k]=g[k])}n.default=g;p&&p.set(g,
n);return n}(a("../core/constants")),b=function(){function g(k){if(!(this instanceof g))throw new TypeError("Cannot call a class as a function");(this.renderer=k)._pInst.push();this.identityMatrix=new h.default.Matrix;k.uModelMatrix=new h.default.Matrix;this.geometry=new h.default.Geometry;this.geometry.gid="_p5_GeometryBuilder_".concat(g.nextGeometryId);g.nextGeometryId++;this.hasTransform=!1}var p;return p=[{key:"transformVertices",value:function(k){var n=this;return this.hasTransform?k.map(function(q){return n.renderer.uModelMatrix.multiplyPoint(q)}):
k}},{key:"transformNormals",value:function(k){var n=this;return this.hasTransform?k.map(function(q){return n.renderer.uNMatrix.multiplyVec3(q)}):k}},{key:"addGeometry",value:function(k){for(var n,q=this,u=(this.hasTransform=!this.renderer.uModelMatrix.mat4.every(function(x,C){return x===q.identityMatrix.mat4[C]}),this.hasTransform&&this.renderer.uNMatrix.inverseTranspose(this.renderer.uModelMatrix),this.geometry.vertices.length),v=((n=this.geometry.vertices).push.apply(n,r(this.transformVertices(k.vertices))),
(n=this.geometry.vertexNormals).push.apply(n,r(this.transformNormals(k.vertexNormals))),(n=this.geometry.uvs).push.apply(n,r(k.uvs)),this.renderer._doFill&&(n=this.geometry.faces).push.apply(n,r(k.faces.map(function(x){return x.map(function(C){return C+u})}))),this.renderer._doStroke&&(n=this.geometry.edges).push.apply(n,r(k.edges.map(function(x){return x.map(function(C){return C+u})}))),r(k.vertexColors));v.length<4*k.vertices.length;)v.push.apply(v,r(this.renderer.curFillColor));(n=this.geometry.vertexColors).push.apply(n,
r(v))}},{key:"addImmediate",value:function(){var k=this.renderer.immediateMode.geometry,n=this.renderer.immediateMode.shapeMode,q=[];if(this.renderer._doFill)if(n===d.TRIANGLE_STRIP||n===d.QUAD_STRIP)for(n=2;n<k.vertices.length;n++)0==n%2?q.push([n,n-1,n-2]):q.push([n,n-2,n-1]);else if(n===d.TRIANGLE_FAN)for(n=2;n<k.vertices.length;n++)q.push([0,n-1,n]);else for(n=0;n<k.vertices.length;n+=3)q.push([n,n+1,n+2]);this.addGeometry(Object.assign({},k,{faces:q}))}},{key:"addRetained",value:function(k){this.addGeometry(k.model)}},
{key:"finish",value:function(){return this.renderer._pInst.pop(),this.geometry}}],l(g.prototype,p),g}();b.nextGeometryId=0;F.default=b},{"../core/constants":272,"../core/main":283,"core-js/modules/es.array.every":155,"core-js/modules/es.array.from":162,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.map":168,"core-js/modules/es.object.assign":183,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.to-string":196,
"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],328:[function(a,R,F){function z(d){return(z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(b){return typeof b}:function(b){return b&&"function"==typeof Symbol&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":typeof b})(d)}function y(){var d;
return"function"!=typeof WeakMap?null:(d=new WeakMap,y=function(){return d},d)}function w(d){return(w="function"==typeof Symbol&&"symbol"===z(Symbol.iterator)?function(b){return z(b)}:function(b){return b&&"function"==typeof Symbol&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":z(b)})(d)}a("core-js/modules/es.symbol");a("core-js/modules/es.symbol.description");a("core-js/modules/es.symbol.iterator");a("core-js/modules/es.array.for-each");a("core-js/modules/es.array.iterator");a("core-js/modules/es.array.splice");
a("core-js/modules/es.math.hypot");a("core-js/modules/es.math.sign");a("core-js/modules/es.object.get-own-property-descriptor");a("core-js/modules/es.object.to-string");a("core-js/modules/es.regexp.to-string");a("core-js/modules/es.string.iterator");a("core-js/modules/es.weak-map");a("core-js/modules/web.dom-collections.for-each");a("core-js/modules/web.dom-collections.iterator");a("core-js/modules/es.symbol");a("core-js/modules/es.symbol.description");a("core-js/modules/es.symbol.iterator");a("core-js/modules/es.array.for-each");
a("core-js/modules/es.array.iterator");a("core-js/modules/es.array.splice");a("core-js/modules/es.math.hypot");a("core-js/modules/es.math.sign");a("core-js/modules/es.object.to-string");a("core-js/modules/es.regexp.to-string");a("core-js/modules/es.string.iterator");a("core-js/modules/web.dom-collections.for-each");a("core-js/modules/web.dom-collections.iterator");Object.defineProperty(F,"__esModule",{value:!0});F.default=void 0;var r=(h=a("../core/main"))&&h.__esModule?h:{default:h},l=function(d){if(d&&
d.__esModule)return d;if(null===d||"object"!==w(d)&&"function"!=typeof d)return{default:d};var b=y();if(b&&b.has(d))return b.get(d);var g,p={},k=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(g in d){var n;Object.prototype.hasOwnProperty.call(d,g)&&((n=k?Object.getOwnPropertyDescriptor(d,g):null)&&(n.get||n.set)?Object.defineProperty(p,g,n):p[g]=d[g])}p.default=d;b&&b.set(d,p);return p}(a("../core/constants"));r.default.prototype.orbitControl=function(d,b,g,p){var k=this,n=(this._assert3d("orbitControl"),
r.default._validateParameters("orbitControl",arguments),this._renderer._curCamera);void 0===d&&(d=1);void 0===b&&(b=d);void 0===g&&(g=1);"object"!==w(p)&&(p={});!0!==this.contextMenuDisabled&&(this.canvas.oncontextmenu=function(){return!1},this._setProperty("contextMenuDisabled",!0));!0!==this.wheelDefaultDisabled&&(this.canvas.onwheel=function(){return!1},this._setProperty("wheelDefaultDisabled",!0));var q=p.disableTouchActions;!0===this.touchActionsDisabled||void 0!==q&&!q||(this.canvas.style["touch-action"]=
"none",this._setProperty("touchActionsDisabled",!0));var u,v,x;q=p.freeRotation;p=void 0!==q&&q;var C=[];q=(this.touches.forEach(function(I){k._renderer.prevTouches.forEach(function(T){I.id===T.id&&(T={x:I.x,y:I.y,px:T.x,py:T.y},C.push(T))})}),this._renderer.prevTouches=this.touches,0);var A=0,M=0,K=0,G=0,U=this.height<this.width?this.height:this.width,J=!1;return 0<C.length?(J=0<C[0].x&&C[0].x<this.width&&0<C[0].y&&C[0].y<this.height,1===C.length?(A=-d*((u=C[0]).x-u.px)/U,M=b*(u.y-u.py)/U):(u=C[0],
v=C[1],q=-(Math.hypot(u.x-v.x,u.y-v.y)-Math.hypot(u.px-v.px,u.py-v.py))*g*4E-4,K=.5*(u.x+v.x)-.5*(u.px+v.px),G=.5*(u.y+v.y)-.5*(u.py+v.py)),0<this.touches.length?J&&(this._renderer.executeRotateAndMove=!0,this._renderer.executeZoom=!0):(this._renderer.executeRotateAndMove=!1,this._renderer.executeZoom=!1)):(J=0<this.mouseX&&this.mouseX<this.width&&0<this.mouseY&&this.mouseY<this.height,0!==this._mouseWheelDeltaY?(q=Math.sign(this._mouseWheelDeltaY)*g,q*=.01,this._mouseWheelDeltaY=0,J&&(this._renderer.executeZoom=
!0)):this._renderer.executeZoom=!1,this.mouseIsPressed?(this.mouseButton===this.LEFT?(A=-d*this.movedX/U,M=b*this.movedY/U):this.mouseButton===this.RIGHT&&(K=this.movedX,G=this.movedY*n.yScale),J&&(this._renderer.executeRotateAndMove=!0)):this._renderer.executeRotateAndMove=!1),0!==q&&this._renderer.executeZoom&&(this._renderer.zoomVelocity+=q),.001<Math.abs(this._renderer.zoomVelocity)?(p?n._orbitFree(0,0,this._renderer.zoomVelocity):n._orbit(0,0,this._renderer.zoomVelocity),0!==n.projMatrix.mat4[15]&&
(n.projMatrix.mat4[0]*=Math.pow(10,-this._renderer.zoomVelocity),n.projMatrix.mat4[5]*=Math.pow(10,-this._renderer.zoomVelocity),this._renderer.uPMatrix.mat4[0]=n.projMatrix.mat4[0],this._renderer.uPMatrix.mat4[5]=n.projMatrix.mat4[5]),this._renderer.zoomVelocity*=.85):this._renderer.zoomVelocity=0,0===A&&0===M||!this._renderer.executeRotateAndMove||this._renderer.rotateVelocity.add(.6*A,.6*M),1E-6<this._renderer.rotateVelocity.magSq()?(p?n._orbitFree(-this._renderer.rotateVelocity.x,this._renderer.rotateVelocity.y,
0):n._orbit(this._renderer.rotateVelocity.x,this._renderer.rotateVelocity.y,0),this._renderer.rotateVelocity.mult(.85)):this._renderer.rotateVelocity.set(0,0),0===K&&0===G||!this._renderer.executeRotateAndMove||(u=2*K/this.width,v=2*-G/this.height,this._renderer.moveVelocity.add(.15*u,.15*v)),1E-6<this._renderer.moveVelocity.magSq()?(g=n._getLocalAxes(),d=n.eyeX-n.centerX,b=n.eyeY-n.centerY,U=n.eyeZ-n.centerZ,J=Math.sqrt(d*d+b*b+U*U),q=new r.default.Vector(n.centerX,n.centerY,n.centerZ),q=n.cameraMatrix.multiplyPoint(q),
(q=this._renderer.uPMatrix.multiplyAndNormalizePoint(q)).x-=this._renderer.moveVelocity.x,q.y-=this._renderer.moveVelocity.y,M=0===(A=this._renderer.uPMatrix.mat4)[15]?(x=(A[8]+q.x)/A[0]*J,(A[9]+q.y)/A[5]*J):(x=(q.x-A[12])/A[0],(q.y-A[13])/A[5]),n.setPosition(n.eyeX+x*g.x[0]+M*g.y[0],n.eyeY+x*g.x[1]+M*g.y[1],n.eyeZ+x*g.x[2]+M*g.y[2]),this._renderer.moveVelocity.mult(.85)):this._renderer.moveVelocity.set(0,0),this};r.default.prototype.debugMode=function(){this._assert3d("debugMode");for(var d=arguments.length,
b=Array(d),g=0;g<d;g++)b[g]=arguments[g];r.default._validateParameters("debugMode",b);for(d=this._registeredMethods.post.length-1;0<=d;d--)this._registeredMethods.post[d].toString()!==this._grid().toString()&&this._registeredMethods.post[d].toString()!==this._axesIcon().toString()||this._registeredMethods.post.splice(d,1);b[0]===l.GRID?this.registerMethod("post",this._grid(b[1],b[2],b[3],b[4],b[5])):b[0]===l.AXES?this.registerMethod("post",this._axesIcon(b[1],b[2],b[3],b[4])):(this.registerMethod("post",
this._grid(b[0],b[1],b[2],b[3],b[4])),this.registerMethod("post",this._axesIcon(b[5],b[6],b[7],b[8])))};r.default.prototype.noDebugMode=function(){this._assert3d("noDebugMode");for(var d=this._registeredMethods.post.length-1;0<=d;d--)this._registeredMethods.post[d].toString()!==this._grid().toString()&&this._registeredMethods.post[d].toString()!==this._axesIcon().toString()||this._registeredMethods.post.splice(d,1)};r.default.prototype._grid=function(d,b,g,p,k){void 0===d&&(d=this.width/2);void 0===
b&&(b=4>Math.round(d/30)?4:Math.round(d/30));void 0===g&&(g=0);void 0===p&&(p=0);void 0===k&&(k=0);var n=d/b,q=d/2;return function(){this.push();this.stroke(255*this._renderer.curStrokeColor[0],255*this._renderer.curStrokeColor[1],255*this._renderer.curStrokeColor[2]);this._renderer.uModelMatrix.reset();for(var u=0;u<=b;u++)this.beginShape(this.LINES),this.vertex(-q+g,p,u*n-q+k),this.vertex(q+g,p,u*n-q+k),this.endShape();for(u=0;u<=b;u++)this.beginShape(this.LINES),this.vertex(u*n-q+g,p,-q+k),this.vertex(u*
n-q+g,p,q+k),this.endShape();this.pop()}};r.default.prototype._axesIcon=function(d,b,g,p){return void 0===d&&(d=40<this.width/20?this.width/20:40),void 0===b&&(b=-this.width/4),void 0===g&&(g=b),void 0===p&&(p=b),function(){this.push();this._renderer.uModelMatrix.reset();this.strokeWeight(2);this.stroke(255,0,0);this.beginShape(this.LINES);this.vertex(b,g,p);this.vertex(b+d,g,p);this.endShape();this.stroke(0,255,0);this.beginShape(this.LINES);this.vertex(b,g,p);this.vertex(b,g+d,p);this.endShape();
this.stroke(0,0,255);this.beginShape(this.LINES);this.vertex(b,g,p);this.vertex(b,g,p+d);this.endShape();this.pop()}};var h=r.default;F.default=h},{"../core/constants":272,"../core/main":283,"core-js/modules/es.array.for-each":161,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.splice":171,"core-js/modules/es.math.hypot":176,"core-js/modules/es.math.sign":178,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.to-string":196,
"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.for-each":245,"core-js/modules/web.dom-collections.iterator":246}],329:[function(a,R,F){a("core-js/modules/es.array.filter");a("core-js/modules/es.array.filter");Object.defineProperty(F,"__esModule",{value:!0});F.default=void 0;var z=(a=a("../core/main"))&&a.__esModule?a:
{default:a};z.default.prototype.ambientLight=function(y,w,r,l){this._assert3d("ambientLight");z.default._validateParameters("ambientLight",arguments);var h=this.color.apply(this,arguments);return this._renderer.ambientLightColors.push(h._array[0],h._array[1],h._array[2]),this._renderer._enableLighting=!0,this};z.default.prototype.specularColor=function(y,w,r){this._assert3d("specularColor");z.default._validateParameters("specularColor",arguments);var l=this.color.apply(this,arguments);return this._renderer.specularColors=
[l._array[0],l._array[1],l._array[2]],this};z.default.prototype.directionalLight=function(y,w,r,l,h,d){this._assert3d("directionalLight");z.default._validateParameters("directionalLight",arguments);y=y instanceof z.default.Color?y:this.color(y,w,r);var b,g;w=arguments[arguments.length-1];r="number"==typeof w?(b=arguments[arguments.length-3],g=arguments[arguments.length-2],arguments[arguments.length-1]):(b=w.x,g=w.y,w.z);w=Math.sqrt(b*b+g*g+r*r);return this._renderer.directionalLightDirections.push(b/
w,g/w,r/w),this._renderer.directionalLightDiffuseColors.push(y._array[0],y._array[1],y._array[2]),Array.prototype.push.apply(this._renderer.directionalLightSpecularColors,this._renderer.specularColors),this._renderer._enableLighting=!0,this};z.default.prototype.pointLight=function(y,w,r,l,h,d){this._assert3d("pointLight");z.default._validateParameters("pointLight",arguments);y=y instanceof z.default.Color?y:this.color(y,w,r);var b,g;w=arguments[arguments.length-1];r="number"==typeof w?(b=arguments[arguments.length-
3],g=arguments[arguments.length-2],arguments[arguments.length-1]):(b=w.x,g=w.y,w.z);return this._renderer.pointLightPositions.push(b,g,r),this._renderer.pointLightDiffuseColors.push(y._array[0],y._array[1],y._array[2]),Array.prototype.push.apply(this._renderer.pointLightSpecularColors,this._renderer.specularColors),this._renderer._enableLighting=!0,this};z.default.prototype.imageLight=function(y){this._renderer.activeImageLight=y;this._renderer._enableLighting=!0};z.default.prototype.panorama=function(y){this.filter(this._renderer._getSphereMapping(y))};
z.default.prototype.lights=function(){this._assert3d("lights");var y=this.color("rgb(128,128,128)");return this.ambientLight(y),this.directionalLight(y,0,0,-1),this};z.default.prototype.lightFalloff=function(y,w,r){return this._assert3d("lightFalloff"),z.default._validateParameters("lightFalloff",arguments),0>y&&(y=0,console.warn("Value of constant argument in lightFalloff() should be never be negative. Set to 0.")),0>w&&(w=0,console.warn("Value of linear argument in lightFalloff() should be never be negative. Set to 0.")),
0>r&&(r=0,console.warn("Value of quadratic argument in lightFalloff() should be never be negative. Set to 0.")),0===y&&0===w&&0===r&&(y=1,console.warn("Either one of the three arguments in lightFalloff() should be greater than zero. Set constant argument to 1.")),this._renderer.constantAttenuation=y,this._renderer.linearAttenuation=w,this._renderer.quadraticAttenuation=r,this};z.default.prototype.spotLight=function(y,w,r,l,h,d,b,g,p,k,n){this._assert3d("spotLight");z.default._validateParameters("spotLight",
arguments);var q=arguments.length;switch(q){case 11:case 10:var u=this.color(y,w,r);var v=new z.default.Vector(l,h,d);var x=new z.default.Vector(b,g,p);break;case 9:y instanceof z.default.Color?(u=y,v=new z.default.Vector(w,r,l),x=new z.default.Vector(h,d,b),k=g,n=p):l instanceof z.default.Vector?(u=this.color(y,w,r),v=l,x=new z.default.Vector(h,d,b),k=g,n=p):b instanceof z.default.Vector?(u=this.color(y,w,r),v=new z.default.Vector(l,h,d),x=b,k=g,n=p):(u=this.color(y,w,r),v=new z.default.Vector(l,
h,d),x=new z.default.Vector(b,g,p));break;case 8:k=(x=y instanceof z.default.Color?(u=y,v=new z.default.Vector(w,r,l),new z.default.Vector(h,d,b)):l instanceof z.default.Vector?(u=this.color(y,w,r),v=l,new z.default.Vector(h,d,b)):(u=this.color(y,w,r),v=new z.default.Vector(l,h,d),b),g);break;case 7:y instanceof z.default.Color&&w instanceof z.default.Vector?(u=y,v=w,x=new z.default.Vector(r,l,h),k=d,n=b):y instanceof z.default.Color&&h instanceof z.default.Vector?(u=y,v=new z.default.Vector(w,r,
l),x=h,k=d,n=b):l instanceof z.default.Vector&&h instanceof z.default.Vector?(u=this.color(y,w,r),v=l,x=h,k=d,n=b):x=y instanceof z.default.Color?(u=y,v=new z.default.Vector(w,r,l),new z.default.Vector(h,d,b)):l instanceof z.default.Vector?(u=this.color(y,w,r),v=l,new z.default.Vector(h,d,b)):(u=this.color(y,w,r),v=new z.default.Vector(l,h,d),b);break;case 6:l instanceof z.default.Vector&&h instanceof z.default.Vector?(u=this.color(y,w,r),v=l,x=h,k=d):y instanceof z.default.Color&&h instanceof z.default.Vector?
(u=y,v=new z.default.Vector(w,r,l),x=h,k=d):y instanceof z.default.Color&&w instanceof z.default.Vector&&(u=y,v=w,x=new z.default.Vector(r,l,h),k=d);break;case 5:y instanceof z.default.Color&&w instanceof z.default.Vector&&r instanceof z.default.Vector?(u=y,v=w,x=r,k=l,n=h):l instanceof z.default.Vector&&h instanceof z.default.Vector?(u=this.color(y,w,r),v=l,x=h):y instanceof z.default.Color&&h instanceof z.default.Vector?(u=y,v=new z.default.Vector(w,r,l),x=h):y instanceof z.default.Color&&w instanceof
z.default.Vector&&(u=y,v=w,x=new z.default.Vector(r,l,h));break;case 4:u=y;v=w;x=r;k=l;break;case 3:u=y;v=w;x=r;break;default:return console.warn("Sorry, input for spotlight() is not in prescribed format. Too ".concat(3>q?"few":"many"," arguments were provided")),this}return this._renderer.spotLightDiffuseColors.push(u._array[0],u._array[1],u._array[2]),Array.prototype.push.apply(this._renderer.spotLightSpecularColors,this._renderer.specularColors),this._renderer.spotLightPositions.push(v.x,v.y,v.z),
x.normalize(),this._renderer.spotLightDirections.push(x.x,x.y,x.z),void 0===k&&(k=Math.PI/3),void 0!==n&&1>n?(n=1,console.warn("Value of concentration needs to be greater than 1. Setting it to 1")):void 0===n&&(n=100),k=this._renderer._pInst._toRadians(k),this._renderer.spotLightAngle.push(Math.cos(k)),this._renderer.spotLightConc.push(n),this._renderer._enableLighting=!0,this};z.default.prototype.noLights=function(){this._assert3d("noLights");for(var y=arguments.length,w=Array(y),r=0;r<y;r++)w[r]=
arguments[r];return z.default._validateParameters("noLights",w),this._renderer.activeImageLight=null,this._renderer._enableLighting=!1,this._renderer.ambientLightColors.length=0,this._renderer.specularColors=[1,1,1],this._renderer.directionalLightDirections.length=0,this._renderer.directionalLightDiffuseColors.length=0,this._renderer.directionalLightSpecularColors.length=0,this._renderer.pointLightPositions.length=0,this._renderer.pointLightDiffuseColors.length=0,this._renderer.pointLightSpecularColors.length=
0,this._renderer.spotLightPositions.length=0,this._renderer.spotLightDirections.length=0,this._renderer.spotLightDiffuseColors.length=0,this._renderer.spotLightSpecularColors.length=0,this._renderer.spotLightAngle.length=0,this._renderer.spotLightConc.length=0,this._renderer.constantAttenuation=1,this._renderer.linearAttenuation=0,this._renderer.quadraticAttenuation=0,this._renderer._useShininess=1,this._renderer._useMetalness=0,this};a=z.default;F.default=a},{"../core/main":283,"core-js/modules/es.array.filter":157}],
330:[function(a,R,F){function z(k){return(z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(k)}function y(k){if(!(k=function(n){if(Array.isArray(n)){for(var q=0,u=Array(n.length);q<n.length;q++)u[q]=n[q];return u}}(k)||function(n){if(Symbol.iterator in Object(n)||"[object Arguments]"===Object.prototype.toString.call(n))return Array.from(n)}(k)))throw new TypeError("Invalid attempt to spread non-iterable instance");
return k}function w(k,n,q,u,v,x,C){try{var A=k[x](C),M=A.value}catch(K){return void q(K)}A.done?n(M):Promise.resolve(M).then(u,v)}function r(k){return function(){var n=this,q=arguments;return new Promise(function(u,v){function x(M){w(A,u,v,x,C,"next",M)}function C(M){w(A,u,v,x,C,"throw",M)}var A=k.apply(n,q);x(void 0)})}}function l(k){return(l="function"==typeof Symbol&&"symbol"===z(Symbol.iterator)?function(n){return z(n)}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&
n!==Symbol.prototype?"symbol":z(n)})(k)}function h(k,n,q){for(var u=2<arguments.length&&void 0!==q?q:{},v={v:[],vt:[],vn:[]},x={},C=null,A=new Set,M=!1,K=!1,G=0;G<n.length;++G){var U=n[G].trim().split(/\b\s+/);if(0<U.length)if("usemtl"===U[0])C=U[1];else if("v"===U[0]||"vn"===U[0]){var J=new b.default.Vector(parseFloat(U[1]),parseFloat(U[2]),parseFloat(U[3]));v[U[0]].push(J)}else if("vt"===U[0])J=[parseFloat(U[1]),1-parseFloat(U[2])],v[U[0]].push(J);else if("f"===U[0])for(J=3;J<U.length;++J){for(var I=
[],T=[1,J-1,J],Y=0;Y<T.length;++Y){for(var ea,da=U[T[Y]],X=da.split("/"),Z=0;Z<X.length;Z++)X[Z]=parseInt(X[Z])-1;x[da]||(x[da]={});void 0===x[da][C]?(ea=k.vertices.length,k.vertices.push(v.v[X[0]].copy()),k.uvs.push(v.vt[X[1]]?v.vt[X[1]].slice():[0,0]),k.vertexNormals.push(v.vn[X[2]]?v.vn[X[2]].copy():new b.default.Vector),x[da][C]=ea,I.push(ea),C&&u[C]&&u[C].diffuseColor&&A.add(v.v[X[0]])):I.push(x[da][C])}if(I[0]!==I[1]&&I[0]!==I[2]&&I[1]!==I[2])if(k.faces.push(I),C&&u[C]&&u[C].diffuseColor)for(M=
M=!0,T=u[C].diffuseColor,Y=0;Y<I.length;Y++)k.vertexColors.push(T[0]),k.vertexColors.push(T[1]),k.vertexColors.push(T[2]);else K=!0}}if(0===k.vertexNormals.length&&k.computeNormals(),M===K)throw Error("Model coloring is inconsistent. Either all vertices should have colors or none should.");}function d(k,n){a:{var q=new DataView(n);for(var u=[115,111,108,105,100],v=0;5>v;v++){b:{var x=u;for(var C=q,A=v,M=0,K=x.length;M<K;M++)if(x[M]!==C.getUint8(A+M,!1)){x=void 0;break b}x=1}if(x){q=void 0;break a}}q=
1}if(q){var G,U,J,I,T,Y,ea;n=new DataView(n);q=n.getUint32(80,!0);u=!1;for(v=0;70>v;v++)1129270351===n.getUint32(v,!1)&&82===n.getUint8(v+4)&&61===n.getUint8(v+5)&&(u=!0,I=[],T=n.getUint8(v+6)/255,Y=n.getUint8(v+7)/255,ea=n.getUint8(v+8)/255);for(v=0;v<q;v++){var da;x=84+50*v;A=n.getFloat32(x,!0);M=n.getFloat32(4+x,!0);K=n.getFloat32(8+x,!0);C=(u&&(da=n.getUint16(48+x,!0),J=0==(32768&da)?(G=(31&da)/31,U=(da>>5&31)/31,(da>>10&31)/31):(G=T,U=Y,ea)),new b.default.Vector(A,M,K));for(A=1;3>=A;A++)M=x+
12*A,M=new b.default.Vector(n.getFloat32(M,!0),n.getFloat32(4+M,!0),n.getFloat32(8+M,!0)),k.vertices.push(M),k.vertexNormals.push(C),u&&I.push(G,U,J);k.faces.push([3*v,3*v+1,3*v+2]);k.uvs.push([0,0],[0,0],[0,0])}}else if(n=new DataView(n),"TextDecoder"in window)for(G=(new TextDecoder("utf-8")).decode(n).split("\n"),I="",U=[],J=0;J<G.length;++J){T=G[J].trim();Y=T.split(" ");for(ea=0;ea<Y.length;++ea)""===Y[ea]&&Y.splice(ea,1);if(0!==Y.length)switch(I){case "":if("solid"!==Y[0])return void(console.error(T),
console.error('Invalid state "'.concat(Y[0],'", should be "solid"')));I="solid";break;case "solid":if("facet"!==Y[0]||"normal"!==Y[1])return void(console.error(T),console.error('Invalid state "'.concat(Y[0],'", should be "facet normal"')));I=new b.default.Vector(parseFloat(Y[2]),parseFloat(Y[3]),parseFloat(Y[4]));k.vertexNormals.push(I,I,I);I="facet normal";break;case "facet normal":if("outer"!==Y[0]||"loop"!==Y[1])return void(console.error(T),console.error('Invalid state "'.concat(Y[0],'", should be "outer loop"')));
I="vertex";break;case "vertex":if("vertex"===Y[0])T=new b.default.Vector(parseFloat(Y[1]),parseFloat(Y[2]),parseFloat(Y[3])),k.vertices.push(T),k.uvs.push([0,0]),U.push(k.vertices.indexOf(T));else{if("endloop"!==Y[0])return void(console.error(T),console.error('Invalid state "'.concat(Y[0],'", should be "vertex" or "endloop"')));k.faces.push(U);U=[];I="endloop"}break;case "endloop":if("endfacet"!==Y[0])return void(console.error(T),console.error('Invalid state "'.concat(Y[0],'", should be "endfacet"')));
I="endfacet";break;case "endfacet":if("endsolid"!==Y[0]){if("facet"!==Y[0]||"normal"!==Y[1])return void(console.error(T),console.error('Invalid state "'.concat(Y[0],'", should be "endsolid" or "facet normal"')));I=new b.default.Vector(parseFloat(Y[2]),parseFloat(Y[3]),parseFloat(Y[4]));k.vertexNormals.push(I,I,I);I="facet normal"}break;default:console.error('Invalid state "'.concat(I,'"'))}}else console.warn("Sorry, ASCII STL loading only works in browsers that support TextDecoder (https://caniuse.com/#feat\x3dtextencoder)")}
a("core-js/modules/es.symbol");a("core-js/modules/es.symbol.description");a("core-js/modules/es.symbol.iterator");a("core-js/modules/es.array.concat");a("core-js/modules/es.array.from");a("core-js/modules/es.array.index-of");a("core-js/modules/es.array.iterator");a("core-js/modules/es.array.join");a("core-js/modules/es.array.slice");a("core-js/modules/es.array.splice");a("core-js/modules/es.object.assign");a("core-js/modules/es.object.to-string");a("core-js/modules/es.promise");a("core-js/modules/es.regexp.exec");
a("core-js/modules/es.regexp.to-string");a("core-js/modules/es.set");a("core-js/modules/es.string.iterator");a("core-js/modules/es.string.match");a("core-js/modules/es.string.split");a("core-js/modules/es.string.trim");a("core-js/modules/web.dom-collections.iterator");a("core-js/modules/es.symbol");a("core-js/modules/es.symbol.description");a("core-js/modules/es.symbol.iterator");a("core-js/modules/es.array.concat");a("core-js/modules/es.array.index-of");a("core-js/modules/es.array.iterator");a("core-js/modules/es.array.join");
a("core-js/modules/es.array.slice");a("core-js/modules/es.array.splice");a("core-js/modules/es.object.assign");a("core-js/modules/es.object.to-string");a("core-js/modules/es.promise");a("core-js/modules/es.regexp.exec");a("core-js/modules/es.set");a("core-js/modules/es.string.iterator");a("core-js/modules/es.string.match");a("core-js/modules/es.string.split");a("core-js/modules/es.string.trim");a("core-js/modules/web.dom-collections.iterator");Object.defineProperty(F,"__esModule",{value:!0});F.default=
void 0;a("regenerator-runtime/runtime");var b=(p=a("../core/main"))&&p.__esModule?p:{default:p};a("./p5.Geometry");b.default.prototype.loadModel=function(k,n){function q(){return(q=r(regeneratorRuntime.mark(function T(I){var Y,ea,da,X;return regeneratorRuntime.wrap(function(Z){for(;;)switch(Z.prev=Z.next){case 0:Y=[];for(ea=0;ea<I.length;ea++)(da=I[ea].match(/^mtllib (.+)/))&&!function(){var L="",S=da[1],E=k.split("/");L=1<E.length?(E.pop(),E.join("/")+"/"+S):S;Y.push(function(){return u.apply(this,
arguments)}(L).then(function(P){var aa,ja;return P?(ja=U,aa=L,new Promise(function(oa,ra){var la=null,sa={};ja.loadStrings(aa,function(Da){for(var qa=0;qa<Da.length;++qa){var Aa,Ga=Da[qa].trim().split(/\s+/);"newmtl"===Ga[0]?(Aa=Ga[1],sa[la=Aa]={}):"Kd"===Ga[0]?sa[la].diffuseColor=[parseFloat(Ga[1]),parseFloat(Ga[2]),parseFloat(Ga[3])]:"Ka"===Ga[0]?sa[la].ambientColor=[parseFloat(Ga[1]),parseFloat(Ga[2]),parseFloat(Ga[3])]:"Ks"===Ga[0]?sa[la].specularColor=[parseFloat(Ga[1]),parseFloat(Ga[2]),parseFloat(Ga[3])]:
"map_Kd"===Ga[0]&&(sa[la].texturePath=Ga[1])}oa(sa)},ra)})):(console.warn("MTL file not found or error in parsing; proceeding without materials: ".concat(L)),{})}).catch(function(P){return console.warn("Error loading MTL file: ".concat(L),P),{}}))}();return Z.prev=2,Z.next=5,Promise.all(Y);case 5:return X=Z.sent,X=Object.assign.apply(Object,[{}].concat(y(X))),Z.abrupt("return",X);case 10:return Z.prev=10,Z.t0=Z.catch(2),Z.abrupt("return",{});case 13:case "end":return Z.stop()}},T,null,[[2,10]])}))).apply(this,
arguments)}function u(){return(u=r(regeneratorRuntime.mark(function T(I){var Y;return regeneratorRuntime.wrap(function(ea){for(;;)switch(ea.prev=ea.next){case 0:return ea.prev=0,ea.next=3,fetch(I,{method:"HEAD"});case 3:return Y=ea.sent,ea.abrupt("return",Y.ok);case 7:return ea.prev=7,ea.t0=ea.catch(0),ea.abrupt("return",!1);case 10:case "end":return ea.stop()}},T,null,[[0,7]])}))).apply(this,arguments)}b.default._validateParameters("loadModel",arguments);var v,x,C=!1,A=!1,M=!1,K=k.slice(-4),G=(n&&
"object"===l(n)?(C=n.normalize||!1,v=n.successCallback,x=n.failureCallback,K=n.fileType||K,A=n.flipU||!1,M=n.flipV||!1):"boolean"==typeof n?(C=n,v=arguments[2],x=arguments[3],void 0!==arguments[4]&&(K=arguments[4])):(v="function"==typeof n?n:void 0,x=arguments[2],void 0!==arguments[3]&&(K=arguments[3])),new b.default.Geometry),U=(G.gid="".concat(k,"|").concat(C),this);return K.match(/\.stl$/i)?this.httpDo(k,"GET","arrayBuffer",function(J){d(G,J);C&&G.normalize();A&&G.flipU();M&&G.flipV();U._decrementPreload();
"function"==typeof v&&v(G)},x):K.match(/\.obj$/i)?this.loadStrings(k,function(){var J=r(regeneratorRuntime.mark(function Y(T){var ea;return regeneratorRuntime.wrap(function(da){for(;;)switch(da.prev=da.next){case 0:return da.prev=0,da.next=3,function(){return q.apply(this,arguments)}(T);case 3:ea=da.sent;h(G,T,ea);da.next=11;break;case 7:return da.prev=7,da.t0=da.catch(0),x?x(da.t0):b.default._friendlyError("Error during parsing: "+da.t0.message),da.abrupt("return");case 11:return da.prev=11,C&&G.normalize(),
A&&G.flipU(),M&&G.flipV(),G._makeTriangleEdges(),U._decrementPreload(),"function"==typeof v&&v(G),da.finish(11);case 19:case "end":return da.stop()}},Y,null,[[0,7,11,19]])}));return function(T){return J.apply(this,arguments)}}(),x):(b.default._friendlyFileLoadError(3,k),x?x():b.default._friendlyError("Sorry, the file type is invalid. Only OBJ and STL files are supported.")),G};b.default.prototype.model=function(k){this._assert3d("model");b.default._validateParameters("model",arguments);0<k.vertices.length&&
(this._renderer.geometryInHash(k.gid)||(k._edgesToVertices(),this._renderer.createBuffers(k.gid,k)),this._renderer.drawBuffers(k.gid))};var g=0,p=(b.default.prototype.createModel=function(k){var n,q,u=1<arguments.length&&void 0!==arguments[1]?arguments[1]:" ",v=2<arguments.length?arguments[2]:void 0,x=(b.default._validateParameters("createModel",arguments),!1),C=!1,A=!1;v=(v&&"object"===l(v)?(x=v.normalize||!1,n=v.successCallback,q=v.failureCallback,C=v.flipU||!1,A=v.flipV||!1):q="boolean"==typeof v?
(x=v,n=arguments[3],arguments[4]):(n="function"==typeof arguments[2]?arguments[2]:void 0,arguments[3]),new b.default.Geometry);if(v.gid="".concat(u,"|").concat(x,"|").concat(g++),u.match(/\.stl$/i))try{d(v,(new TextEncoder).encode(k).buffer)}catch(M){return void(q?q(M):b.default._friendlyError("Error during parsing: "+M.message))}else if(u.match(/\.obj$/i))try{h(v,k.split("\n"))}catch(M){return void(q?q(M):b.default._friendlyError("Error during parsing: "+M.message))}else b.default._friendlyFileLoadError(3,
k),q?q():b.default._friendlyError("Sorry, the file type is invalid. Only OBJ and STL files are supported.");return x&&v.normalize(),C&&v.flipU(),A&&v.flipV(),v._makeTriangleEdges(),"function"==typeof n&&n(v),v},b.default);F.default=p},{"../core/main":283,"./p5.Geometry":335,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.from":162,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.join":166,"core-js/modules/es.array.slice":169,
"core-js/modules/es.array.splice":171,"core-js/modules/es.object.assign":183,"core-js/modules/es.object.to-string":190,"core-js/modules/es.promise":191,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.set":197,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.match":201,"core-js/modules/es.string.split":206,"core-js/modules/es.string.trim":209,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,
"core-js/modules/web.dom-collections.iterator":246,"regenerator-runtime/runtime":260}],331:[function(a,R,F){function z(d){return(z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(b){return typeof b}:function(b){return b&&"function"==typeof Symbol&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":typeof b})(d)}function y(d){return(y="function"==typeof Symbol&&"symbol"===z(Symbol.iterator)?function(b){return z(b)}:function(b){return b&&"function"==typeof Symbol&&b.constructor===
Symbol&&b!==Symbol.prototype?"symbol":z(b)})(d)}function w(){var d;return"function"!=typeof WeakMap?null:(d=new WeakMap,w=function(){return d},d)}a("core-js/modules/es.symbol");a("core-js/modules/es.symbol.description");a("core-js/modules/es.symbol.iterator");a("core-js/modules/es.array.includes");a("core-js/modules/es.array.iterator");a("core-js/modules/es.array.join");a("core-js/modules/es.object.get-own-property-descriptor");a("core-js/modules/es.object.to-string");a("core-js/modules/es.string.includes");
a("core-js/modules/es.string.iterator");a("core-js/modules/es.weak-map");a("core-js/modules/web.dom-collections.iterator");a("core-js/modules/es.symbol");a("core-js/modules/es.symbol.description");a("core-js/modules/es.symbol.iterator");a("core-js/modules/es.array.includes");a("core-js/modules/es.array.iterator");a("core-js/modules/es.array.join");a("core-js/modules/es.object.to-string");a("core-js/modules/es.string.includes");a("core-js/modules/es.string.iterator");a("core-js/modules/web.dom-collections.iterator");
Object.defineProperty(F,"__esModule",{value:!0});F.default=void 0;var r=(h=a("../core/main"))&&h.__esModule?h:{default:h},l=function(d){if(d&&d.__esModule)return d;if(null===d||"object"!==y(d)&&"function"!=typeof d)return{default:d};var b=w();if(b&&b.has(d))return b.get(d);var g,p={},k=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(g in d){var n;Object.prototype.hasOwnProperty.call(d,g)&&((n=k?Object.getOwnPropertyDescriptor(d,g):null)&&(n.get||n.set)?Object.defineProperty(p,g,n):p[g]=
d[g])}p.default=d;b&&b.set(d,p);return p}(a("../core/constants"));a("./p5.Texture");r.default.prototype.loadShader=function(d,b,g,p){r.default._validateParameters("loadShader",arguments);p=p||console.error;var k=new r.default.Shader,n=this,q=!1,u=!1;return this.loadStrings(d,function(v){k._vertSrc=v.join("\n");u=!0;q&&(n._decrementPreload(),g&&g(k))},p),this.loadStrings(b,function(v){k._fragSrc=v.join("\n");q=!0;u&&(n._decrementPreload(),g&&g(k))},p),k};r.default.prototype.createShader=function(d,
b,g){return r.default._validateParameters("createShader",arguments),new r.default.Shader(this._renderer,d,b,g)};r.default.prototype.createFilterShader=function(d){r.default._validateParameters("createFilterShader",arguments);var b=d.includes("#version 300 es")?"#version 300 es\n    uniform mat4 uModelViewMatrix;\n    uniform mat4 uProjectionMatrix;\n\n    in vec3 aPosition;\n    in vec2 aTexCoord;\n    out vec2 vTexCoord;\n\n    void main() {\n      // transferring texcoords for the frag shader\n      vTexCoord \x3d aTexCoord;\n\n      // copy position with a fourth coordinate for projection (1.0 is normal)\n      vec4 positionVec4 \x3d vec4(aPosition, 1.0);\n\n      // project to 3D space\n      gl_Position \x3d uProjectionMatrix * uModelViewMatrix * positionVec4;\n    }\n  ":
"\n    uniform mat4 uModelViewMatrix;\n    uniform mat4 uProjectionMatrix;\n\n    attribute vec3 aPosition;\n    // texcoords only come from p5 to vertex shader\n    // so pass texcoords on to the fragment shader in a varying variable\n    attribute vec2 aTexCoord;\n    varying vec2 vTexCoord;\n\n    void main() {\n      // transferring texcoords for the frag shader\n      vTexCoord \x3d aTexCoord;\n\n      // copy position with a fourth coordinate for projection (1.0 is normal)\n      vec4 positionVec4 \x3d vec4(aPosition, 1.0);\n\n      // project to 3D space\n      gl_Position \x3d uProjectionMatrix * uModelViewMatrix * positionVec4;\n    }\n  ";
b=new r.default.Shader(this._renderer,b,d);return this._renderer.GL?b.ensureCompiledOnContext(this):b.ensureCompiledOnContext(this._renderer.getFilterGraphicsLayer()),b};r.default.prototype.shader=function(d){return this._assert3d("shader"),r.default._validateParameters("shader",arguments),d.ensureCompiledOnContext(this),d.isStrokeShader()?this._renderer.userStrokeShader=d:(this._renderer.userFillShader=d,this._renderer._useNormalMaterial=!1),d.setDefaultUniforms(),this};r.default.prototype.baseMaterialShader=
function(){return this._assert3d("baseMaterialShader"),this._renderer.baseMaterialShader()};r.default.prototype.baseNormalShader=function(){return this._assert3d("baseNormalShader"),this._renderer.baseNormalShader()};r.default.prototype.baseColorShader=function(){return this._assert3d("baseColorShader"),this._renderer.baseColorShader()};r.default.prototype.baseStrokeShader=function(){return this._assert3d("baseStrokeShader"),this._renderer.baseStrokeShader()};r.default.prototype.resetShader=function(){return this._renderer.userFillShader=
this._renderer.userStrokeShader=null,this};r.default.prototype.texture=function(d){return this._assert3d("texture"),r.default._validateParameters("texture",arguments),d.gifProperties&&d._animateGif(this),this._renderer.drawMode=l.TEXTURE,this._renderer._useNormalMaterial=!1,this._renderer._tex=d,this._renderer._setProperty("_doFill",!0),this};r.default.prototype.textureMode=function(d){d!==l.IMAGE&&d!==l.NORMAL?console.warn("You tried to set ".concat(d," textureMode only supports IMAGE \x26 NORMAL ")):
this._renderer.textureMode=d};r.default.prototype.textureWrap=function(d){var b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:d,g=(this._renderer.textureWrapX=d,this._renderer.textureWrapY=b,!0),p=!1,k=void 0;try{for(var n,q=this._renderer.textures.values()[Symbol.iterator]();!(g=(n=q.next()).done);g=!0)n.value.setWrapMode(d,b)}catch(u){p=!0,k=u}finally{try{g||null==q.return||q.return()}finally{if(p)throw k;}}};r.default.prototype.normalMaterial=function(){this._assert3d("normalMaterial");
for(var d=arguments.length,b=Array(d),g=0;g<d;g++)b[g]=arguments[g];return r.default._validateParameters("normalMaterial",b),this._renderer.drawMode=l.FILL,this._renderer._useSpecularMaterial=!1,this._renderer._useEmissiveMaterial=!1,this._renderer._useNormalMaterial=!0,this._renderer.curFillColor=[1,1,1,1],this._renderer._setProperty("_doFill",!0),this.noStroke(),this};r.default.prototype.ambientMaterial=function(d,b,g){this._assert3d("ambientMaterial");r.default._validateParameters("ambientMaterial",
arguments);var p=r.default.prototype.color.apply(this,arguments);return this._renderer._hasSetAmbient=!0,this._renderer.curAmbientColor=p._array,this._renderer._useNormalMaterial=!1,this._renderer._enableLighting=!0,this._renderer._setProperty("_doFill",!0),this};r.default.prototype.emissiveMaterial=function(d,b,g,p){this._assert3d("emissiveMaterial");r.default._validateParameters("emissiveMaterial",arguments);var k=r.default.prototype.color.apply(this,arguments);return this._renderer.curEmissiveColor=
k._array,this._renderer._useEmissiveMaterial=!0,this._renderer._useNormalMaterial=!1,this._renderer._enableLighting=!0,this};r.default.prototype.specularMaterial=function(d,b,g,p){this._assert3d("specularMaterial");r.default._validateParameters("specularMaterial",arguments);var k=r.default.prototype.color.apply(this,arguments);return this._renderer.curSpecularColor=k._array,this._renderer._useSpecularMaterial=!0,this._renderer._useNormalMaterial=!1,this._renderer._enableLighting=!0,this};r.default.prototype.shininess=
function(d){return this._assert3d("shininess"),r.default._validateParameters("shininess",arguments),this._renderer._useShininess=d=1>d?1:d,this};r.default.prototype.metalness=function(d){this._assert3d("metalness");d=1-Math.exp(-d/100);return this._renderer._useMetalness=d,this};r.default.RendererGL.prototype._applyColorBlend=function(d,b){var g=this.GL,p=this.drawMode===l.TEXTURE;b=b||this.userFillShader||this.userStrokeShader||this.userPointShader||p||this.curBlendMode!==l.BLEND||1>d[d.length-1]||
this._isErasing;return b!==this._isBlending&&(b||this.curBlendMode!==l.BLEND&&this.curBlendMode!==l.ADD?g.enable(g.BLEND):g.disable(g.BLEND),g.depthMask(!0),this._isBlending=b),this._applyBlendMode(),d};r.default.RendererGL.prototype._applyBlendMode=function(){if(this._cachedBlendMode!==this.curBlendMode){var d=this.GL;switch(this.curBlendMode){case l.BLEND:d.blendEquation(d.FUNC_ADD);d.blendFunc(d.ONE,d.ONE_MINUS_SRC_ALPHA);break;case l.ADD:d.blendEquation(d.FUNC_ADD);d.blendFunc(d.ONE,d.ONE);break;
case l.REMOVE:d.blendEquation(d.FUNC_ADD);d.blendFunc(d.ZERO,d.ONE_MINUS_SRC_ALPHA);break;case l.MULTIPLY:d.blendEquation(d.FUNC_ADD);d.blendFunc(d.DST_COLOR,d.ONE_MINUS_SRC_ALPHA);break;case l.SCREEN:d.blendEquation(d.FUNC_ADD);d.blendFunc(d.ONE,d.ONE_MINUS_SRC_COLOR);break;case l.EXCLUSION:d.blendEquationSeparate(d.FUNC_ADD,d.FUNC_ADD);d.blendFuncSeparate(d.ONE_MINUS_DST_COLOR,d.ONE_MINUS_SRC_COLOR,d.ONE,d.ONE);break;case l.REPLACE:d.blendEquation(d.FUNC_ADD);d.blendFunc(d.ONE,d.ZERO);break;case l.SUBTRACT:d.blendEquationSeparate(d.FUNC_REVERSE_SUBTRACT,
d.FUNC_ADD);d.blendFuncSeparate(d.ONE,d.ONE,d.ONE,d.ONE_MINUS_SRC_ALPHA);break;case l.DARKEST:this.blendExt?(d.blendEquationSeparate(this.blendExt.MIN||this.blendExt.MIN_EXT,d.FUNC_ADD),d.blendFuncSeparate(d.ONE,d.ONE,d.ONE,d.ONE)):console.warn("blendMode(DARKEST) does not work in your browser in WEBGL mode.");break;case l.LIGHTEST:this.blendExt?(d.blendEquationSeparate(this.blendExt.MAX||this.blendExt.MAX_EXT,d.FUNC_ADD),d.blendFuncSeparate(d.ONE,d.ONE,d.ONE,d.ONE)):console.warn("blendMode(LIGHTEST) does not work in your browser in WEBGL mode.");
break;default:console.error("Oops! Somehow RendererGL set curBlendMode to an unsupported mode.")}this._isErasing||(this._cachedBlendMode=this.curBlendMode)}};var h=r.default;F.default=h},{"../core/constants":272,"../core/main":283,"./p5.Texture":343,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.join":166,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.includes":199,
"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],332:[function(a,R,F){function z(w,r){for(var l=0;l<r.length;l++){var h=r[l];h.enumerable=h.enumerable||!1;h.configurable=!0;"value"in h&&(h.writable=!0);Object.defineProperty(w,h.key,h)}}a("core-js/modules/es.array.slice");a("core-js/modules/es.math.hypot");
a("core-js/modules/es.string.sub");a("core-js/modules/es.array.slice");a("core-js/modules/es.math.hypot");a("core-js/modules/es.string.sub");Object.defineProperty(F,"__esModule",{value:!0});F.default=void 0;var y=(a=a("../core/main"))&&a.__esModule?a:{default:a};y.default.prototype.camera=function(){var w;this._assert3d("camera");for(var r=arguments.length,l=Array(r),h=0;h<r;h++)l[h]=arguments[h];return y.default._validateParameters("camera",l),(w=this._renderer._curCamera).camera.apply(w,l),this};
y.default.prototype.perspective=function(){var w;this._assert3d("perspective");for(var r=arguments.length,l=Array(r),h=0;h<r;h++)l[h]=arguments[h];return y.default._validateParameters("perspective",l),(w=this._renderer._curCamera).perspective.apply(w,l),this};y.default.prototype.linePerspective=function(w){if(y.default._validateParameters("linePerspective",arguments),!(this._renderer instanceof y.default.RendererGL))throw Error("linePerspective() must be called in WebGL mode.");if(void 0===w)return this._renderer._curCamera.useLinePerspective;
this._renderer._curCamera.useLinePerspective=w};y.default.prototype.ortho=function(){var w;this._assert3d("ortho");for(var r=arguments.length,l=Array(r),h=0;h<r;h++)l[h]=arguments[h];return y.default._validateParameters("ortho",l),(w=this._renderer._curCamera).ortho.apply(w,l),this};y.default.prototype.frustum=function(){var w;this._assert3d("frustum");for(var r=arguments.length,l=Array(r),h=0;h<r;h++)l[h]=arguments[h];return y.default._validateParameters("frustum",l),(w=this._renderer._curCamera).frustum.apply(w,
l),this};y.default.prototype.createCamera=function(){this._assert3d("createCamera");var w=new y.default.Camera(this._renderer);return w._computeCameraDefaultSettings(),w._setDefaultCamera(),this._renderer._curCamera=w};y.default.Camera=function(){function w(l){if(!(this instanceof w))throw new TypeError("Cannot call a class as a function");this._renderer=l;this.cameraType="default";this.useLinePerspective=!0;this.cameraMatrix=new y.default.Matrix;this.projMatrix=new y.default.Matrix;this.yScale=1}
var r;return r=[{key:"perspective",value:function(l,h,d,b){this.cameraType=0<arguments.length?"custom":"default";void 0===l?(l=this.defaultCameraFOV,this.cameraFOV=l):this.cameraFOV=this._renderer._pInst._toRadians(l);void 0===h&&(h=this.defaultAspectRatio);void 0===d&&(d=this.defaultCameraNear);void 0===b&&(b=this.defaultCameraFar);1E-4>=d&&(d=.01,console.log("Avoid perspective near plane values close to or below 0. Setting value to 0.01."));b<d&&console.log("Perspective far plane value is less than near plane value. Nothing will be shown.");
this.aspectRatio=h;this.cameraNear=d;this.cameraFar=b;this.projMatrix=y.default.Matrix.identity();l=1/Math.tan(this.cameraFOV/2);var g=1/(this.cameraNear-this.cameraFar);this.projMatrix.set(l/h,0,0,0,0,-l*this.yScale,0,0,0,0,(b+d)*g,-1,0,0,2*b*d*g,0);this._isActive()&&this._renderer.uPMatrix.set(this.projMatrix)}},{key:"ortho",value:function(l,h,d,b,g,p){var k=this.fbo||this._renderer;k=(void 0===l&&(l=-k.width/2),void 0===h&&(h=+k.width/2),void 0===d&&(d=-k.height/2),void 0===b&&(b=+k.height/2),
void 0===g&&(g=0),void 0===p&&(p=Math.max(k.width,k.height)+800),this.cameraNear=g,h-l);var n=b-d,q=(this.cameraFar=p)-g,u=2/k,v=2/n*this.yScale,x=-2/q;h=-(h+l)/k;l=-(b+d)/n;k=-(p+g)/q;this.projMatrix=y.default.Matrix.identity();this.projMatrix.set(u,0,0,0,0,-v,0,0,0,0,x,0,h,l,k,1);this._isActive()&&this._renderer.uPMatrix.set(this.projMatrix);this.cameraType="custom"}},{key:"frustum",value:function(l,h,d,b,g,p){void 0===l&&(l=.05*-this._renderer.width);void 0===h&&(h=.05*+this._renderer.width);void 0===
d&&(d=.05*+this._renderer.height);void 0===b&&(b=.05*-this._renderer.height);void 0===g&&(g=this.defaultCameraNear);void 0===p&&(p=this.defaultCameraFar);this.cameraNear=g;var k=h-l,n=b-d,q=(this.cameraFar=p)-g,u=2*g/k,v=2*g/n*this.yScale,x=-2*p*g/q;h=(h+l)/k;l=(b+d)/n;k=-(p+g)/q;this.projMatrix=y.default.Matrix.identity();this.projMatrix.set(u,0,0,0,0,-v,0,0,h,l,k,-1,0,0,x,0);this._isActive()&&this._renderer.uPMatrix.set(this.projMatrix);this.cameraType="custom"}},{key:"_rotateView",value:function(l,
h,d,b){var g=this.centerX,p=this.centerY,k=this.centerZ,n=(g-=this.eyeX,p-=this.eyeY,k-=this.eyeZ,y.default.Matrix.identity(this._renderer._pInst));l=(n.rotate(this._renderer._pInst._toRadians(l),h,d,b),[g*n.mat4[0]+p*n.mat4[4]+k*n.mat4[8],g*n.mat4[1]+p*n.mat4[5]+k*n.mat4[9],g*n.mat4[2]+p*n.mat4[6]+k*n.mat4[10]]);l[0]+=this.eyeX;l[1]+=this.eyeY;l[2]+=this.eyeZ;this.camera(this.eyeX,this.eyeY,this.eyeZ,l[0],l[1],l[2],this.upX,this.upY,this.upZ)}},{key:"roll",value:function(l){var h=this._getLocalAxes();
l=y.default.Quat.fromAxisAngle(this._renderer._pInst._toRadians(l),h.z[0],h.z[1],h.z[2]).rotateVector(new y.default.Vector(this.upX,this.upY,this.upZ));this.camera(this.eyeX,this.eyeY,this.eyeZ,this.centerX,this.centerY,this.centerZ,l.x,l.y,l.z)}},{key:"pan",value:function(l){var h=this._getLocalAxes();this._rotateView(l,h.y[0],h.y[1],h.y[2])}},{key:"tilt",value:function(l){var h=this._getLocalAxes();this._rotateView(l,h.x[0],h.x[1],h.x[2])}},{key:"lookAt",value:function(l,h,d){this.camera(this.eyeX,
this.eyeY,this.eyeZ,l,h,d,this.upX,this.upY,this.upZ)}},{key:"camera",value:function(l,h,d,b,g,p,k,n,q){void 0===l&&(l=this.defaultEyeX,h=this.defaultEyeY,d=this.defaultEyeZ,b=l,g=h,n=1,q=k=p=0);this.eyeX=l;this.eyeY=h;this.eyeZ=d;void 0!==b&&(this.centerX=b,this.centerY=g,this.centerZ=p);void 0!==k&&(this.upX=k,this.upY=n,this.upZ=q);b=this._getLocalAxes();this.cameraMatrix.set(b.x[0],b.y[0],b.z[0],0,b.x[1],b.y[1],b.z[1],0,b.x[2],b.y[2],b.z[2],0,0,0,0,1);return this.cameraMatrix.translate([-l,-h,
-d]),this._isActive()&&this._renderer.uViewMatrix.set(this.cameraMatrix),this}},{key:"move",value:function(l,h,d){var b=this._getLocalAxes();l=[b.x[0]*l,b.x[1]*l,b.x[2]*l];h=[b.y[0]*h,b.y[1]*h,b.y[2]*h];b=[b.z[0]*d,b.z[1]*d,b.z[2]*d];this.camera(this.eyeX+l[0]+h[0]+b[0],this.eyeY+l[1]+h[1]+b[1],this.eyeZ+l[2]+h[2]+b[2],this.centerX+l[0]+h[0]+b[0],this.centerY+l[1]+h[1]+b[1],this.centerZ+l[2]+h[2]+b[2],this.upX,this.upY,this.upZ)}},{key:"setPosition",value:function(l,h,d){this.camera(l,h,d,this.centerX+
(l-this.eyeX),this.centerY+(h-this.eyeY),this.centerZ+(d-this.eyeZ),this.upX,this.upY,this.upZ)}},{key:"set",value:function(l){for(var h=0,d="eyeX eyeY eyeZ centerX centerY centerZ upX upY upZ cameraFOV aspectRatio cameraNear cameraFar cameraType yScale useLinePerspective".split(" ");h<d.length;h++){var b=d[h];this[b]=l[b]}this.cameraMatrix=l.cameraMatrix.copy();this.projMatrix=l.projMatrix.copy();this._isActive()&&(this._renderer.uModelMatrix.reset(),this._renderer.uViewMatrix.set(this.cameraMatrix),
this._renderer.uPMatrix.set(this.projMatrix))}},{key:"slerp",value:function(l,h,d){var b,g,p,k,n,q,u,v,x,C,A,M,K,G,U,J,I,T;0===d?this.set(l):1===d?this.set(h):(0!==this.projMatrix.mat4[15]&&(this.projMatrix.mat4[0]=l.projMatrix.mat4[0]*Math.pow(h.projMatrix.mat4[0]/l.projMatrix.mat4[0],d),this.projMatrix.mat4[5]=l.projMatrix.mat4[5]*Math.pow(h.projMatrix.mat4[5]/l.projMatrix.mat4[5],d),this._isActive()&&(this._renderer.uPMatrix.mat4=this.projMatrix.mat4.slice())),k=new y.default.Vector(l.eyeX,l.eyeY,
l.eyeZ),n=new y.default.Vector(h.eyeX,h.eyeY,h.eyeZ),J=new y.default.Vector(l.centerX,l.centerY,l.centerZ),T=new y.default.Vector(h.centerX,h.centerY,h.centerZ),p=y.default.Vector.dist(k,J),b=y.default.Vector.dist(n,T),b=p*Math.pow(b/p,d),p=y.default.Vector.sub(k,n),g=1,1E-6<(I=(G=k.copy().sub(n).sub(J).add(T)).magSq())&&(g=y.default.Vector.dot(p,G)/I,g=Math.max(0,Math.min(g,1))),p=y.default.Vector.lerp(y.default.Vector.lerp(k,J,g),y.default.Vector.lerp(n,T,g),d),G=l.cameraMatrix.createSubMatrix3x3(),
I=h.cameraMatrix.createSubMatrix3x3(),k=G.row(2),J=I.row(2),n=G.row(1),T=I.row(1),l=new y.default.Vector,h=new y.default.Vector,q=new y.default.Vector,u=new y.default.Vector,1E-7>1-(v=.5*((G=(I=I.mult3x3(G.copy().transpose3x3())).diagonal())[0]+G[1]+G[2]-1))?(l.set(y.default.Vector.lerp(k,J,d)).normalize(),q.set(l).mult(g*b).add(p),u.set(l).mult((g-1)*b).add(p),h.set(y.default.Vector.lerp(n,T,d)).normalize()):(J=1/(1-v),T=Math.max(G[0],G[1],G[2]),M=I.mat3[1]+I.mat3[3],K=I.mat3[2]+I.mat3[6],U=I.mat3[5]+
I.mat3[7],T=T===G[0]?(C=.5*M*(J/=x=Math.sqrt((G[0]-v)*J)),A=.5*K*J,.5*(I.mat3[7]-I.mat3[5])/x):T===G[1]?(A=.5*U*(J/=C=Math.sqrt((G[1]-v)*J)),x=.5*M*J,.5*(I.mat3[2]-I.mat3[6])/C):(x=.5*K*(J/=A=Math.sqrt((G[2]-v)*J)),C=.5*U*J,.5*(I.mat3[3]-I.mat3[1])/A),M=d*Math.atan2(T,v),K=Math.cos(M),G=Math.sin(M),(T=new y.default.Matrix("mat3",[K+(U=1-K)*x*x,U*(J=x*C)+G*A,U*(I=A*x)-G*C,U*J-G*A,K+U*C*C,U*(d=C*A)+G*x,U*I+G*C,U*d-G*x,K+U*A*A])).multiplyVec3(k,l),q.set(l).mult(g*b).add(p),u.set(l).mult((g-1)*b).add(p),
T.multiplyVec3(n,h)),this.camera(q.x,q.y,q.z,u.x,u.y,u.z,h.x,h.y,h.z))}},{key:"_computeCameraDefaultSettings",value:function(){this.defaultAspectRatio=this._renderer.width/this._renderer.height;this.defaultEyeY=this.defaultEyeX=0;this.defaultEyeZ=800;this.defaultCameraFOV=2*Math.atan(this._renderer.height/2/this.defaultEyeZ);this.defaultCenterZ=this.defaultCenterY=this.defaultCenterX=0;this.defaultCameraNear=.1*this.defaultEyeZ;this.defaultCameraFar=10*this.defaultEyeZ}},{key:"_setDefaultCamera",
value:function(){this.cameraFOV=this.defaultCameraFOV;this.aspectRatio=this.defaultAspectRatio;this.eyeX=this.defaultEyeX;this.eyeY=this.defaultEyeY;this.eyeZ=this.defaultEyeZ;this.centerX=this.defaultCenterX;this.centerY=this.defaultCenterY;this.centerZ=this.defaultCenterZ;this.upX=0;this.upY=1;this.upZ=0;this.cameraNear=this.defaultCameraNear;this.cameraFar=this.defaultCameraFar;this.perspective();this.camera();this.cameraType="default"}},{key:"_resize",value:function(){"default"===this.cameraType&&
(this._computeCameraDefaultSettings(),this.cameraFOV=this.defaultCameraFOV,this.aspectRatio=this.defaultAspectRatio,this.perspective())}},{key:"copy",value:function(){var l=new y.default.Camera(this._renderer);return l.cameraFOV=this.cameraFOV,l.aspectRatio=this.aspectRatio,l.eyeX=this.eyeX,l.eyeY=this.eyeY,l.eyeZ=this.eyeZ,l.centerX=this.centerX,l.centerY=this.centerY,l.centerZ=this.centerZ,l.upX=this.upX,l.upY=this.upY,l.upZ=this.upZ,l.cameraNear=this.cameraNear,l.cameraFar=this.cameraFar,l.cameraType=
this.cameraType,l.useLinePerspective=this.useLinePerspective,l.cameraMatrix=this.cameraMatrix.copy(),l.projMatrix=this.projMatrix.copy(),l.yScale=this.yScale,l}},{key:"_getLocalAxes",value:function(){var l=this.eyeX-this.centerX,h=this.eyeY-this.centerY,d=this.eyeZ-this.centerZ,b=Math.sqrt(l*l+h*h+d*d);b=(0!==b&&(l/=b,h/=b,d/=b),this.upX);var g=(n=this.upY)*d-(q=this.upZ)*h,p=-b*d+q*l,k=b*h-n*l;b=h*k-d*p;var n=-l*k+d*g,q=l*p-h*g,u=Math.sqrt(g*g+p*p+k*k);u=(0!==u&&(g/=u,p/=u,k/=u),Math.sqrt(b*b+n*
n+q*q));return 0!==u&&(b/=u,n/=u,q/=u),{x:[g,p,k],y:[b,n,q],z:[l,h,d]}}},{key:"_orbit",value:function(l,h,d){var b=this.eyeX-this.centerX,g=this.eyeY-this.centerY,p=this.eyeZ-this.centerZ,k=Math.hypot(b,g,p);b=(new y.default.Vector(b,g,p)).normalize();g=(new y.default.Vector(this.upX,this.upY,this.upZ)).normalize();p=y.default.Vector.cross(g,b).normalize();var n=y.default.Vector.cross(p,g);d=((k=(k*=Math.pow(10,d))<this.cameraNear?this.cameraNear:k)>this.cameraFar&&(k=this.cameraFar),Math.acos(Math.max(-1,
Math.min(1,y.default.Vector.dot(b,g))))+h);h=l;(0>=d||d>=Math.PI)&&(this.upX*=-1,this.upY*=-1,this.upZ*=-1);g.mult(Math.cos(d));n.mult(Math.cos(h)*Math.sin(d));p.mult(Math.sin(h)*Math.sin(d));b.set(g).add(n).add(p);this.eyeX=k*b.x+this.centerX;this.eyeY=k*b.y+this.centerY;this.eyeZ=k*b.z+this.centerZ;this.camera(this.eyeX,this.eyeY,this.eyeZ,this.centerX,this.centerY,this.centerZ,this.upX,this.upY,this.upZ)}},{key:"_orbitFree",value:function(l,h,d){var b=this.eyeX-this.centerX,g=this.eyeY-this.centerY,
p=this.eyeZ-this.centerZ,k=Math.hypot(b,g,p);b=(new y.default.Vector(b,g,p)).normalize();g=new y.default.Vector(this.upX,this.upY,this.upZ);p=y.default.Vector.cross(g,b).normalize();var n=y.default.Vector.cross(b,p),q=Math.atan2(h,l);q=(n.mult(Math.sin(q)),p.mult(Math.cos(q)).add(n),Math.sqrt(l*l+h*h));n=y.default.Vector.cross(b,p);l=((k=(k*=Math.pow(10,d))<this.cameraNear?this.cameraNear:k)>this.cameraFar&&(k=this.cameraFar),Math.cos(q));h=Math.sin(q);d=g.dot(b);q=g.dot(p);var u=d*l+q*h;d=-d*h+q*
l;q=g.dot(n);g.x=u*b.x+d*p.x+q*n.x;g.y=u*b.y+d*p.y+q*n.y;g.z=u*b.z+d*p.z+q*n.z;p.mult(-h);b.mult(l).add(p).mult(k);this.camera(b.x+this.centerX,b.y+this.centerY,b.z+this.centerZ,this.centerX,this.centerY,this.centerZ,g.x,g.y,g.z)}},{key:"_isActive",value:function(){return this===this._renderer._curCamera}}],z(w.prototype,r),w}();y.default.prototype.setCamera=function(w){this._renderer._curCamera=w;this._renderer.uPMatrix.set(w.projMatrix);this._renderer.uViewMatrix.set(w.cameraMatrix)};a=y.default.Camera;
F.default=a},{"../core/main":283,"core-js/modules/es.array.slice":169,"core-js/modules/es.math.hypot":176,"core-js/modules/es.string.sub":208}],333:[function(a,R,F){function z(y,w){for(var r=0;r<w.length;r++){var l=w[r];l.enumerable=l.enumerable||!1;l.configurable=!0;"value"in l&&(l.writable=!0);Object.defineProperty(y,l.key,l)}}a("core-js/modules/es.array.iterator");a("core-js/modules/es.array.slice");a("core-js/modules/es.math.log2");a("core-js/modules/es.object.to-string");a("core-js/modules/es.typed-array.float32-array");
a("core-js/modules/es.typed-array.copy-within");a("core-js/modules/es.typed-array.every");a("core-js/modules/es.typed-array.fill");a("core-js/modules/es.typed-array.filter");a("core-js/modules/es.typed-array.find");a("core-js/modules/es.typed-array.find-index");a("core-js/modules/es.typed-array.for-each");a("core-js/modules/es.typed-array.includes");a("core-js/modules/es.typed-array.index-of");a("core-js/modules/es.typed-array.iterator");a("core-js/modules/es.typed-array.join");a("core-js/modules/es.typed-array.last-index-of");
a("core-js/modules/es.typed-array.map");a("core-js/modules/es.typed-array.reduce");a("core-js/modules/es.typed-array.reduce-right");a("core-js/modules/es.typed-array.reverse");a("core-js/modules/es.typed-array.set");a("core-js/modules/es.typed-array.slice");a("core-js/modules/es.typed-array.some");a("core-js/modules/es.typed-array.sort");a("core-js/modules/es.typed-array.subarray");a("core-js/modules/es.typed-array.to-locale-string");a("core-js/modules/es.typed-array.to-string");a("core-js/modules/es.array.iterator");
a("core-js/modules/es.array.slice");a("core-js/modules/es.math.log2");a("core-js/modules/es.object.to-string");a("core-js/modules/es.typed-array.float32-array");a("core-js/modules/es.typed-array.copy-within");a("core-js/modules/es.typed-array.every");a("core-js/modules/es.typed-array.fill");a("core-js/modules/es.typed-array.filter");a("core-js/modules/es.typed-array.find");a("core-js/modules/es.typed-array.find-index");a("core-js/modules/es.typed-array.for-each");a("core-js/modules/es.typed-array.includes");
a("core-js/modules/es.typed-array.index-of");a("core-js/modules/es.typed-array.iterator");a("core-js/modules/es.typed-array.join");a("core-js/modules/es.typed-array.last-index-of");a("core-js/modules/es.typed-array.map");a("core-js/modules/es.typed-array.reduce");a("core-js/modules/es.typed-array.reduce-right");a("core-js/modules/es.typed-array.reverse");a("core-js/modules/es.typed-array.set");a("core-js/modules/es.typed-array.slice");a("core-js/modules/es.typed-array.some");a("core-js/modules/es.typed-array.sort");
a("core-js/modules/es.typed-array.subarray");a("core-js/modules/es.typed-array.to-locale-string");a("core-js/modules/es.typed-array.to-string");Object.defineProperty(F,"__esModule",{value:!0});F.default=void 0;a=(a=a("../core/main"))&&a.__esModule?a:{default:a};a.default.DataArray=function(){function y(){var r=0<arguments.length&&void 0!==arguments[0]?arguments[0]:128;if(!(this instanceof y))throw new TypeError("Cannot call a class as a function");this.length=0;this.data=new Float32Array(r);this.initialLength=
r}var w;return w=[{key:"dataArray",value:function(){return this.subArray(0,this.length)}},{key:"clear",value:function(){this.length=0}},{key:"rescale",value:function(){var r;this.length<this.data.length/2&&(r=1<<Math.ceil(Math.log2(this.length)),(r=new Float32Array(r)).set(this.data.subarray(0,this.length),0),this.data=r)}},{key:"reset",value:function(){this.clear();this.data=new Float32Array(this.initialLength)}},{key:"push",value:function(){for(var r=arguments.length,l=Array(r),h=0;h<r;h++)l[h]=
arguments[h];this.ensureLength(this.length+l.length);this.data.set(l,this.length);this.length+=l.length}},{key:"slice",value:function(r,l){return this.data.slice(r,Math.min(l,this.length))}},{key:"subArray",value:function(r,l){return this.data.subarray(r,Math.min(l,this.length))}},{key:"ensureLength",value:function(r){for(;this.data.length<r;){var l=new Float32Array(2*this.data.length);l.set(this.data,0);this.data=l}}}],z(y.prototype,w),y}();a=a.default.DataArray;F.default=a},{"../core/main":283,
"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.slice":169,"core-js/modules/es.math.log2":177,"core-js/modules/es.object.to-string":190,"core-js/modules/es.typed-array.copy-within":213,"core-js/modules/es.typed-array.every":214,"core-js/modules/es.typed-array.fill":215,"core-js/modules/es.typed-array.filter":216,"core-js/modules/es.typed-array.find":218,"core-js/modules/es.typed-array.find-index":217,"core-js/modules/es.typed-array.float32-array":219,"core-js/modules/es.typed-array.for-each":221,
"core-js/modules/es.typed-array.includes":222,"core-js/modules/es.typed-array.index-of":223,"core-js/modules/es.typed-array.iterator":226,"core-js/modules/es.typed-array.join":227,"core-js/modules/es.typed-array.last-index-of":228,"core-js/modules/es.typed-array.map":229,"core-js/modules/es.typed-array.reduce":231,"core-js/modules/es.typed-array.reduce-right":230,"core-js/modules/es.typed-array.reverse":232,"core-js/modules/es.typed-array.set":233,"core-js/modules/es.typed-array.slice":234,"core-js/modules/es.typed-array.some":235,
"core-js/modules/es.typed-array.sort":236,"core-js/modules/es.typed-array.subarray":237,"core-js/modules/es.typed-array.to-locale-string":238,"core-js/modules/es.typed-array.to-string":239}],334:[function(a,R,F){function z(K){return(z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(G){return typeof G}:function(G){return G&&"function"==typeof Symbol&&G.constructor===Symbol&&G!==Symbol.prototype?"symbol":typeof G})(K)}function y(K){return(y="function"==typeof Symbol&&"symbol"===
z(Symbol.iterator)?function(G){return z(G)}:function(G){return G&&"function"==typeof Symbol&&G.constructor===Symbol&&G!==Symbol.prototype?"symbol":z(G)})(K)}function w(){var K;return"function"!=typeof WeakMap?null:(K=new WeakMap,w=function(){return K},K)}function r(K,G){if(!(K=function(U){if(Array.isArray(U))return U}(K)||function(U,J){if(Symbol.iterator in Object(U)||"[object Arguments]"===Object.prototype.toString.call(U)){var I=[],T=!0,Y=!1,ea=void 0;try{for(var da,X=U[Symbol.iterator]();!(T=(da=
X.next()).done)&&(I.push(da.value),!J||I.length!==J);T=!0);}catch(Z){Y=!0,ea=Z}finally{try{T||null==X.return||X.return()}finally{if(Y)throw ea;}}return I}}(K,G)))throw new TypeError("Invalid attempt to destructure non-iterable instance");return K}function l(K,G,U){return G in K?Object.defineProperty(K,G,{value:U,enumerable:!0,configurable:!0,writable:!0}):K[G]=U,K}function h(K,G){if(!(K instanceof G))throw new TypeError("Cannot call a class as a function");}function d(K,G){for(var U=0;U<G.length;U++){var J=
G[U];J.enumerable=J.enumerable||!1;J.configurable=!0;"value"in J&&(J.writable=!0);Object.defineProperty(K,J.key,J)}}function b(K,G,U){G&&d(K.prototype,G);U&&d(K,U)}function g(K,G,U){return(g="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(J,I,T){for(;!Object.prototype.hasOwnProperty.call(J,I)&&null!==(J=n(J)););if(J)return(J=Object.getOwnPropertyDescriptor(J,I)).get?J.get.call(T):J.value})(K,G,U||K)}function p(K,G){return(p=Object.setPrototypeOf||function(U,J){return U.__proto__=J,U})(K,
G)}function k(K){return function(){var G,U=n(K);U=(G=function(){if("undefined"!=typeof Reflect&&Reflect.construct&&!Reflect.construct.sham){if("function"==typeof Proxy)return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch(J){}}}()?(G=n(this).constructor,Reflect.construct(U,arguments,G)):U.apply(this,arguments),this);if(!G||"object"!==y(G)&&"function"!=typeof G){if(void 0!==U)return U;throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
}return G}}function n(K){return(n=Object.setPrototypeOf?Object.getPrototypeOf:function(G){return G.__proto__||Object.getPrototypeOf(G)})(K)}a("core-js/modules/es.symbol");a("core-js/modules/es.symbol.description");a("core-js/modules/es.symbol.iterator");a("core-js/modules/es.array.fill");a("core-js/modules/es.array.includes");a("core-js/modules/es.array.iterator");a("core-js/modules/es.object.get-own-property-descriptor");a("core-js/modules/es.object.get-prototype-of");a("core-js/modules/es.object.to-string");
a("core-js/modules/es.reflect.construct");a("core-js/modules/es.reflect.get");a("core-js/modules/es.regexp.to-string");a("core-js/modules/es.string.includes");a("core-js/modules/es.string.iterator");a("core-js/modules/es.typed-array.float32-array");a("core-js/modules/es.typed-array.uint8-array");a("core-js/modules/es.typed-array.uint8-clamped-array");a("core-js/modules/es.typed-array.copy-within");a("core-js/modules/es.typed-array.every");a("core-js/modules/es.typed-array.fill");a("core-js/modules/es.typed-array.filter");
a("core-js/modules/es.typed-array.find");a("core-js/modules/es.typed-array.find-index");a("core-js/modules/es.typed-array.for-each");a("core-js/modules/es.typed-array.includes");a("core-js/modules/es.typed-array.index-of");a("core-js/modules/es.typed-array.iterator");a("core-js/modules/es.typed-array.join");a("core-js/modules/es.typed-array.last-index-of");a("core-js/modules/es.typed-array.map");a("core-js/modules/es.typed-array.reduce");a("core-js/modules/es.typed-array.reduce-right");a("core-js/modules/es.typed-array.reverse");
a("core-js/modules/es.typed-array.set");a("core-js/modules/es.typed-array.slice");a("core-js/modules/es.typed-array.some");a("core-js/modules/es.typed-array.sort");a("core-js/modules/es.typed-array.subarray");a("core-js/modules/es.typed-array.to-locale-string");a("core-js/modules/es.typed-array.to-string");a("core-js/modules/es.weak-map");a("core-js/modules/web.dom-collections.iterator");a("core-js/modules/es.array.fill");a("core-js/modules/es.array.includes");a("core-js/modules/es.array.iterator");
a("core-js/modules/es.object.get-prototype-of");a("core-js/modules/es.object.to-string");a("core-js/modules/es.string.includes");a("core-js/modules/es.typed-array.float32-array");a("core-js/modules/es.typed-array.uint8-array");a("core-js/modules/es.typed-array.uint8-clamped-array");a("core-js/modules/es.typed-array.copy-within");a("core-js/modules/es.typed-array.every");a("core-js/modules/es.typed-array.fill");a("core-js/modules/es.typed-array.filter");a("core-js/modules/es.typed-array.find");a("core-js/modules/es.typed-array.find-index");
a("core-js/modules/es.typed-array.for-each");a("core-js/modules/es.typed-array.includes");a("core-js/modules/es.typed-array.index-of");a("core-js/modules/es.typed-array.iterator");a("core-js/modules/es.typed-array.join");a("core-js/modules/es.typed-array.last-index-of");a("core-js/modules/es.typed-array.map");a("core-js/modules/es.typed-array.reduce");a("core-js/modules/es.typed-array.reduce-right");a("core-js/modules/es.typed-array.reverse");a("core-js/modules/es.typed-array.set");a("core-js/modules/es.typed-array.slice");
a("core-js/modules/es.typed-array.some");a("core-js/modules/es.typed-array.sort");a("core-js/modules/es.typed-array.subarray");a("core-js/modules/es.typed-array.to-locale-string");a("core-js/modules/es.typed-array.to-string");Object.defineProperty(F,"__esModule",{value:!0});F.default=void 0;var q=(M=a("../core/main"))&&M.__esModule?M:{default:M},u=function(K){if(K&&K.__esModule)return K;if(null===K||"object"!==y(K)&&"function"!=typeof K)return{default:K};var G=w();if(G&&G.has(K))return G.get(K);var U,
J={},I=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(U in K){var T;Object.prototype.hasOwnProperty.call(K,U)&&((T=I?Object.getOwnPropertyDescriptor(K,U):null)&&(T.get||T.set)?Object.defineProperty(J,U,T):J[U]=K[U])}J.default=K;G&&G.set(K,J);return J}(a("../core/constants")),v=a("./p5.Texture"),x=a("./p5.RendererGL"),C=function(K){function G(J){var I;return h(this,G),(I=U.call(this,J.target._renderer)).fbo=J,I.yScale=-1,I}if("function"!=typeof K&&null!==K)throw new TypeError("Super expression must either be null or a function");
G.prototype=Object.create(K&&K.prototype,{constructor:{value:G,writable:!0,configurable:!0}});K&&p(G,K);var U=k(G);return b(G,[{key:"_computeCameraDefaultSettings",value:function(){g(n(G.prototype),"_computeCameraDefaultSettings",this).call(this);this.defaultAspectRatio=this.fbo.width/this.fbo.height;this.defaultCameraFOV=2*Math.atan(this.fbo.height/2/this.defaultEyeZ)}}]),G}(q.default.Camera),A=(q.default.FramebufferCamera=C,function(){function K(G,U){h(this,K);this.framebuffer=G;this.property=U}
return b(K,[{key:"rawTexture",value:function(){return this.framebuffer[this.property]}},{key:"width",get:function(){return this.framebuffer.width*this.framebuffer.density}},{key:"height",get:function(){return this.framebuffer.height*this.framebuffer.density}}]),K}()),M=(q.default.FramebufferTexture=A,function(){function K(G){var U=this,J=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},I=(h(this,K),this.target=G,this.target._renderer.framebuffers.add(this),this._isClipApplied=!1,this.pixels=
[],this.format=J.format||u.UNSIGNED_BYTE,this.channels=J.channels||(G._renderer._pInst._glAttributes.alpha?u.RGBA:u.RGB),this.useDepth=void 0===J.depth||J.depth,this.depthFormat=J.depthFormat||u.FLOAT,this.textureFiltering=J.textureFiltering||u.LINEAR,void 0===J.antialias?this.antialiasSamples=G._renderer._pInst._glAttributes.antialias?2:0:"number"==typeof J.antialias?this.antialiasSamples=J.antialias:this.antialiasSamples=J.antialias?2:0,this.antialias=0<this.antialiasSamples,this.antialias&&G.webglVersion!==
u.WEBGL2&&(console.warn("Antialiasing is unsupported in a WebGL 1 context"),this.antialias=!1),this.density=J.density||G.pixelDensity(),G._renderer.GL);if(this.gl=I,J.width&&J.height?(T=G._renderer._adjustDimensions(J.width,J.height),this.width=T.adjustedWidth,this.height=T.adjustedHeight,this._autoSized=!1):(void 0===J.width!=(void 0===J.height)&&console.warn("Please supply both width and height for a framebuffer to give it a size. Only one was given, so the framebuffer will match the size of its canvas."),
this.width=G.width,this.height=G.height,this._autoSized=!0),this._checkIfFormatsAvailable(),J.stencil&&!this.useDepth&&console.warn("A stencil buffer can only be used if also using depth. Since the framebuffer has no depth buffer, the stencil buffer will be ignored."),this.useStencil=this.useDepth&&(void 0===J.stencil||J.stencil),this.framebuffer=I.createFramebuffer(),!this.framebuffer)throw Error("Unable to create a framebuffer");if(this.antialias&&(this.aaFramebuffer=I.createFramebuffer(),!this.aaFramebuffer))throw Error("Unable to create a framebuffer for antialiasing");
this._recreateTextures();var T=this.target._renderer._curCamera;this.defaultCamera=this.createCamera();this.filterCamera=this.createCamera();this.target._renderer._curCamera=T;this.draw(function(){return U.target.clear()})}return b(K,[{key:"resize",value:function(G,U){this._autoSized=!1;U=this.target._renderer._adjustDimensions(G,U);G=U.adjustedWidth;U=U.adjustedHeight;this.width=G;this.height=U;this._handleResize()}},{key:"pixelDensity",value:function(G){if(!G)return this.density;this._autoSized=
!1;this.density=G;this._handleResize()}},{key:"autoSized",value:function(G){if(void 0===G)return this._autoSized;this._autoSized=G;this._handleResize()}},{key:"_checkIfFormatsAvailable",value:function(){var G=this.gl;G=(this.useDepth&&this.target.webglVersion===u.WEBGL&&!G.getExtension("WEBGL_depth_texture")&&(console.warn("Unable to create depth textures in this environment. Falling back to a framebuffer without depth."),this.useDepth=!1),this.useDepth&&this.target.webglVersion===u.WEBGL&&this.depthFormat===
u.FLOAT&&(console.warn("FLOAT depth format is unavailable in WebGL 1. Defaulting to UNSIGNED_INT."),this.depthFormat=u.UNSIGNED_INT),[u.UNSIGNED_BYTE,u.FLOAT,u.HALF_FLOAT].includes(this.format)||(console.warn("Unknown Framebuffer format. Please use UNSIGNED_BYTE, FLOAT, or HALF_FLOAT. Defaulting to UNSIGNED_BYTE."),this.format=u.UNSIGNED_BYTE),this.useDepth&&![u.UNSIGNED_INT,u.FLOAT].includes(this.depthFormat)&&(console.warn("Unknown Framebuffer depth format. Please use UNSIGNED_INT or FLOAT. Defaulting to FLOAT."),
this.depthFormat=u.FLOAT),(0,v.checkWebGLCapabilities)(this.target._renderer));G.float||this.format!==u.FLOAT||(console.warn("This environment does not support FLOAT textures. Falling back to UNSIGNED_BYTE."),this.format=u.UNSIGNED_BYTE);this.useDepth&&!G.float&&this.depthFormat===u.FLOAT&&(console.warn("This environment does not support FLOAT depth textures. Falling back to UNSIGNED_INT."),this.depthFormat=u.UNSIGNED_INT);G.halfFloat||this.format!==u.HALF_FLOAT||(console.warn("This environment does not support HALF_FLOAT textures. Falling back to UNSIGNED_BYTE."),
this.format=u.UNSIGNED_BYTE);this.channels===u.RGB&&[u.FLOAT,u.HALF_FLOAT].includes(this.format)&&(console.warn("FLOAT and HALF_FLOAT formats do not work cross-platform with only RGB channels. Falling back to RGBA."),this.channels=u.RGBA)}},{key:"_recreateTextures",value:function(){var G=this.gl,U=(this._updateSize(),G.getParameter(G.TEXTURE_BINDING_2D)),J=G.getParameter(G.FRAMEBUFFER_BINDING),I=G.createTexture();if(!I)throw Error("Unable to create color texture");G.bindTexture(G.TEXTURE_2D,I);var T=
this._glColorFormat();if(G.texImage2D(G.TEXTURE_2D,0,T.internalFormat,this.width*this.density,this.height*this.density,0,T.format,T.type,null),this.colorTexture=I,G.bindFramebuffer(G.FRAMEBUFFER,this.framebuffer),G.framebufferTexture2D(G.FRAMEBUFFER,G.COLOR_ATTACHMENT0,G.TEXTURE_2D,I,0),this.useDepth){I=G.createTexture();if(!I)throw Error("Unable to create depth texture");var Y=this._glDepthFormat();G.bindTexture(G.TEXTURE_2D,I);G.texImage2D(G.TEXTURE_2D,0,Y.internalFormat,this.width*this.density,
this.height*this.density,0,Y.format,Y.type,null);G.framebufferTexture2D(G.FRAMEBUFFER,this.useStencil?G.DEPTH_STENCIL_ATTACHMENT:G.DEPTH_ATTACHMENT,G.TEXTURE_2D,I,0);this.depthTexture=I}this.antialias&&(this.colorRenderbuffer=G.createRenderbuffer(),G.bindRenderbuffer(G.RENDERBUFFER,this.colorRenderbuffer),G.renderbufferStorageMultisample(G.RENDERBUFFER,Math.max(0,Math.min(this.antialiasSamples,G.getParameter(G.MAX_SAMPLES))),T.internalFormat,this.width*this.density,this.height*this.density),this.useDepth&&
(Y=this._glDepthFormat(),this.depthRenderbuffer=G.createRenderbuffer(),G.bindRenderbuffer(G.RENDERBUFFER,this.depthRenderbuffer),G.renderbufferStorageMultisample(G.RENDERBUFFER,Math.max(0,Math.min(this.antialiasSamples,G.getParameter(G.MAX_SAMPLES))),Y.internalFormat,this.width*this.density,this.height*this.density)),G.bindFramebuffer(G.FRAMEBUFFER,this.aaFramebuffer),G.framebufferRenderbuffer(G.FRAMEBUFFER,G.COLOR_ATTACHMENT0,G.RENDERBUFFER,this.colorRenderbuffer),this.useDepth&&G.framebufferRenderbuffer(G.FRAMEBUFFER,
this.useStencil?G.DEPTH_STENCIL_ATTACHMENT:G.DEPTH_ATTACHMENT,G.RENDERBUFFER,this.depthRenderbuffer));this.useDepth&&(this.depth=new A(this,"depthTexture"),I=G.NEAREST,this.depthP5Texture=new q.default.Texture(this.target._renderer,this.depth,{minFilter:I,magFilter:I}),this.target._renderer.textures.set(this.depth,this.depthP5Texture));this.color=new A(this,"colorTexture");T=this.textureFiltering===u.LINEAR?G.LINEAR:G.NEAREST;this.colorP5Texture=new q.default.Texture(this.target._renderer,this.color,
{minFilter:T,magFilter:T});this.target._renderer.textures.set(this.color,this.colorP5Texture);G.bindTexture(G.TEXTURE_2D,U);G.bindFramebuffer(G.FRAMEBUFFER,J)}},{key:"_glColorFormat",value:function(){var G,U,J=this.gl,I=this.format===u.FLOAT?J.FLOAT:this.format===u.HALF_FLOAT?this.target.webglVersion===u.WEBGL2?J.HALF_FLOAT:J.getExtension("OES_texture_half_float").HALF_FLOAT_OES:J.UNSIGNED_BYTE,T=this.channels===u.RGBA?J.RGBA:J.RGB;return{internalFormat:this.target.webglVersion===u.WEBGL2?(l(U={},
J.FLOAT,l({},J.RGBA,J.RGBA32F)),l(U,J.HALF_FLOAT,l({},J.RGBA,J.RGBA16F)),l(U,J.UNSIGNED_BYTE,(l(G={},J.RGBA,J.RGBA8),l(G,J.RGB,J.RGB8),G)),U[I][T]):this.format===u.HALF_FLOAT?J.RGBA:T,format:T,type:I}}},{key:"_glDepthFormat",value:function(){var G=this.gl,U=this.useStencil?this.depthFormat===u.FLOAT?G.FLOAT_32_UNSIGNED_INT_24_8_REV:this.target.webglVersion===u.WEBGL2?G.UNSIGNED_INT_24_8:G.getExtension("WEBGL_depth_texture").UNSIGNED_INT_24_8_WEBGL:this.depthFormat===u.FLOAT?G.FLOAT:G.UNSIGNED_INT,
J=this.useStencil?G.DEPTH_STENCIL:G.DEPTH_COMPONENT;G=this.useStencil?this.depthFormat===u.FLOAT?G.DEPTH32F_STENCIL8:this.target.webglVersion===u.WEBGL2?G.DEPTH24_STENCIL8:G.DEPTH_STENCIL:this.target.webglVersion===u.WEBGL2?this.depthFormat===u.FLOAT?G.DEPTH_COMPONENT32F:G.DEPTH_COMPONENT24:G.DEPTH_COMPONENT;return{internalFormat:G,format:J,type:U}}},{key:"_updateSize",value:function(){this._autoSized&&(this.width=this.target.width,this.height=this.target.height,this.density=this.target.pixelDensity())}},
{key:"_canvasSizeChanged",value:function(){this._autoSized&&this._handleResize()}},{key:"_handleResize",value:function(){var G=this.color,U=this.depth,J=this.colorRenderbuffer,I=this.depthRenderbuffer;G=(this._deleteTexture(G),U&&this._deleteTexture(U),this.gl);J&&G.deleteRenderbuffer(J);I&&G.deleteRenderbuffer(I);this._recreateTextures();this.defaultCamera._resize()}},{key:"createCamera",value:function(){var G=new C(this);return G._computeCameraDefaultSettings(),G._setDefaultCamera(),this.target._renderer._curCamera=
G}},{key:"_deleteTexture",value:function(G){this.gl.deleteTexture(G.rawTexture());this.target._renderer.textures.delete(G)}},{key:"remove",value:function(){var G=this.gl;this._deleteTexture(this.color);this.depth&&this._deleteTexture(this.depth);G.deleteFramebuffer(this.framebuffer);this.aaFramebuffer&&G.deleteFramebuffer(this.aaFramebuffer);this.depthRenderbuffer&&G.deleteRenderbuffer(this.depthRenderbuffer);this.colorRenderbuffer&&G.deleteRenderbuffer(this.colorRenderbuffer);this.target._renderer.framebuffers.delete(this)}},
{key:"begin",value:function(){(this.prevFramebuffer=this.target._renderer.activeFramebuffer())&&this.prevFramebuffer._beforeEnd();this.target._renderer.activeFramebuffers.push(this);this._beforeBegin();this.target.push();this.target.setCamera(this.defaultCamera);this.target.resetMatrix();this.target._renderer.uViewMatrix.set(this.target._renderer._curCamera.cameraMatrix);this.target._renderer.uModelMatrix.reset();this.target._renderer._applyStencilTestIfClipping()}},{key:"_framebufferToBind",value:function(){return this.antialias?
this.aaFramebuffer:this.framebuffer}},{key:"_beforeBegin",value:function(){var G=this.gl;G.bindFramebuffer(G.FRAMEBUFFER,this._framebufferToBind());this.target._renderer.viewport(this.width*this.density,this.height*this.density)}},{key:"_beforeEnd",value:function(){if(this.antialias){var G=this.gl,U=(G.bindFramebuffer(G.READ_FRAMEBUFFER,this.aaFramebuffer),G.bindFramebuffer(G.DRAW_FRAMEBUFFER,this.framebuffer),[[G.COLOR_BUFFER_BIT,this.colorP5Texture.glMagFilter]]);this.useDepth&&U.push([G.DEPTH_BUFFER_BIT,
this.depthP5Texture.glMagFilter]);for(var J=0;J<U.length;J++){var I=r(U[J],2),T=I[0];I=I[1];G.blitFramebuffer(0,0,this.width*this.density,this.height*this.density,0,0,this.width*this.density,this.height*this.density,T,I)}}}},{key:"end",value:function(){var G=this.gl;if(this.target.pop(),this.target._renderer.activeFramebuffers.pop()!==this)throw Error("It looks like you've called end() while another Framebuffer is active.");this._beforeEnd();this.prevFramebuffer?this.prevFramebuffer._beforeBegin():
(G.bindFramebuffer(G.FRAMEBUFFER,null),this.target._renderer.viewport(this.target._renderer._origViewport.width,this.target._renderer._origViewport.height));this.target._renderer._applyStencilTestIfClipping()}},{key:"draw",value:function(G){this.begin();G();this.end()}},{key:"loadPixels",value:function(){var G=this.gl,U=this.target._renderer.activeFramebuffer(),J=(G.bindFramebuffer(G.FRAMEBUFFER,this.framebuffer),this._glColorFormat());this.pixels=(0,x.readPixelsWebGL)(this.pixels,G,this.framebuffer,
0,0,this.width*this.density,this.height*this.density,J.format,J.type);U?G.bindFramebuffer(G.FRAMEBUFFER,U._framebufferToBind()):G.bindFramebuffer(G.FRAMEBUFFER,null)}},{key:"get",value:function(G,U,J,I){q.default._validateParameters("p5.Framebuffer.get",arguments);var T=this._glColorFormat();if(void 0===G&&void 0===U)U=G=0,J=this.width,I=this.height;else if(void 0===J&&void 0===I)return(0>G||0>U||G>=this.width||U>=this.height)&&(console.warn("The x and y values passed to p5.Framebuffer.get are outside of its range and will be clamped."),
G=this.target.constrain(G,0,this.width-1),U=this.target.constrain(U,0,this.height-1)),(0,x.readPixelWebGL)(this.gl,this.framebuffer,G*this.density,U*this.density,T.format,T.type);G=this.target.constrain(G,0,this.width-1);U=this.target.constrain(U,0,this.height-1);J=this.target.constrain(J,1,this.width-G);I=this.target.constrain(I,1,this.height-U);var Y=(0,x.readPixelsWebGL)(void 0,this.gl,this.framebuffer,G*this.density,U*this.density,J*this.density,I*this.density,T.format,T.type),ea=new Uint8ClampedArray(J*
I*this.density*this.density*4);T=(ea.fill(255),T.type===this.gl.RGB?3:4);for(var da=0;da<I*this.density;da++)for(var X=0;X<J*this.density;X++)for(var Z=0;4>Z;Z++){var L,S=4*(da*J*this.density+X)+Z;Z<T&&(L=4==T?S:(da*J*this.density+X)*T+Z,ea[S]=Y[L])}G=new q.default.Image(J*this.density,I*this.density);return G.imageData=G.canvas.getContext("2d").createImageData(G.width,G.height),G.imageData.data.set(ea),G.pixels=G.imageData.data,G.updatePixels(),1!==this.density&&G.resize(J,I),G}},{key:"updatePixels",
value:function(){var G=this.gl,U=(this.colorP5Texture.bindTexture(),this._glColorFormat()),J=U.format===G.RGBA?4:3;J*=this.width*this.height*this.density*this.density;var I=U.type===G.UNSIGNED_BYTE?Uint8Array:Float32Array;if(!(this.pixels instanceof I)||this.pixels.length!==J)throw Error("The pixels array has not been set correctly. Please call loadPixels() before updatePixels().");G.texImage2D(G.TEXTURE_2D,0,U.internalFormat,this.width*this.density,this.height*this.density,0,U.format,U.type,this.pixels);
this.colorP5Texture.unbindTexture();I=this.target._renderer.activeFramebuffer();this.antialias?(this.begin(),this.target.push(),this.target.imageMode(this.target.CENTER),this.target.resetMatrix(),this.target.noStroke(),this.target.clear(),this.target.image(this,0,0),this.target.pop(),this.useDepth&&(G.clearDepth(1),G.clear(G.DEPTH_BUFFER_BIT)),this.end()):(G.bindFramebuffer(G.FRAMEBUFFER,this.framebuffer),this.useDepth&&(G.clearDepth(1),G.clear(G.DEPTH_BUFFER_BIT)),I?G.bindFramebuffer(G.FRAMEBUFFER,
I._framebufferToBind()):G.bindFramebuffer(G.FRAMEBUFFER,null))}}]),K}());a=q.default.Framebuffer=M;F.default=a},{"../core/constants":272,"../core/main":283,"./p5.RendererGL":341,"./p5.Texture":343,"core-js/modules/es.array.fill":156,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.get-prototype-of":188,"core-js/modules/es.object.to-string":190,"core-js/modules/es.reflect.construct":192,
"core-js/modules/es.reflect.get":193,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.includes":199,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.typed-array.copy-within":213,"core-js/modules/es.typed-array.every":214,"core-js/modules/es.typed-array.fill":215,"core-js/modules/es.typed-array.filter":216,"core-js/modules/es.typed-array.find":218,"core-js/modules/es.typed-array.find-index":217,
"core-js/modules/es.typed-array.float32-array":219,"core-js/modules/es.typed-array.for-each":221,"core-js/modules/es.typed-array.includes":222,"core-js/modules/es.typed-array.index-of":223,"core-js/modules/es.typed-array.iterator":226,"core-js/modules/es.typed-array.join":227,"core-js/modules/es.typed-array.last-index-of":228,"core-js/modules/es.typed-array.map":229,"core-js/modules/es.typed-array.reduce":231,"core-js/modules/es.typed-array.reduce-right":230,"core-js/modules/es.typed-array.reverse":232,
"core-js/modules/es.typed-array.set":233,"core-js/modules/es.typed-array.slice":234,"core-js/modules/es.typed-array.some":235,"core-js/modules/es.typed-array.sort":236,"core-js/modules/es.typed-array.subarray":237,"core-js/modules/es.typed-array.to-locale-string":238,"core-js/modules/es.typed-array.to-string":239,"core-js/modules/es.typed-array.uint8-array":242,"core-js/modules/es.typed-array.uint8-clamped-array":243,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],
335:[function(a,R,F){function z(p){return(z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(k){return typeof k}:function(k){return k&&"function"==typeof Symbol&&k.constructor===Symbol&&k!==Symbol.prototype?"symbol":typeof k})(p)}function y(p){return(y="function"==typeof Symbol&&"symbol"===z(Symbol.iterator)?function(k){return z(k)}:function(k){return k&&"function"==typeof Symbol&&k.constructor===Symbol&&k!==Symbol.prototype?"symbol":z(k)})(p)}function w(){var p;return"function"!=
typeof WeakMap?null:(p=new WeakMap,w=function(){return p},p)}function r(p){if(!(p=function(k){if(Array.isArray(k)){for(var n=0,q=Array(k.length);n<k.length;n++)q[n]=k[n];return q}}(p)||function(k){if(Symbol.iterator in Object(k)||"[object Arguments]"===Object.prototype.toString.call(k))return Array.from(k)}(p)))throw new TypeError("Invalid attempt to spread non-iterable instance");return p}function l(p,k){if(!(p=function(n){if(Array.isArray(n))return n}(p)||function(n,q){if(Symbol.iterator in Object(n)||
"[object Arguments]"===Object.prototype.toString.call(n)){var u=[],v=!0,x=!1,C=void 0;try{for(var A,M=n[Symbol.iterator]();!(v=(A=M.next()).done)&&(u.push(A.value),!q||u.length!==q);v=!0);}catch(K){x=!0,C=K}finally{try{v||null==M.return||M.return()}finally{if(x)throw C;}}return u}}(p,k)))throw new TypeError("Invalid attempt to destructure non-iterable instance");return p}function h(p,k){for(var n=0;n<k.length;n++){var q=k[n];q.enumerable=q.enumerable||!1;q.configurable=!0;"value"in q&&(q.writable=
!0);Object.defineProperty(p,q.key,q)}}a("core-js/modules/es.symbol");a("core-js/modules/es.symbol.description");a("core-js/modules/es.symbol.iterator");a("core-js/modules/es.array.concat");a("core-js/modules/es.array.flat");a("core-js/modules/es.array.for-each");a("core-js/modules/es.array.from");a("core-js/modules/es.array.iterator");a("core-js/modules/es.array.last-index-of");a("core-js/modules/es.array.map");a("core-js/modules/es.array.slice");a("core-js/modules/es.array.unscopables.flat");a("core-js/modules/es.array-buffer.constructor");
a("core-js/modules/es.map");a("core-js/modules/es.number.constructor");a("core-js/modules/es.object.entries");a("core-js/modules/es.object.get-own-property-descriptor");a("core-js/modules/es.object.to-string");a("core-js/modules/es.regexp.to-string");a("core-js/modules/es.set");a("core-js/modules/es.string.iterator");a("core-js/modules/es.string.sub");a("core-js/modules/es.weak-map");a("core-js/modules/web.dom-collections.for-each");a("core-js/modules/web.dom-collections.iterator");a("core-js/modules/es.symbol");
a("core-js/modules/es.symbol.description");a("core-js/modules/es.symbol.iterator");a("core-js/modules/es.array.concat");a("core-js/modules/es.array.flat");a("core-js/modules/es.array.for-each");a("core-js/modules/es.array.iterator");a("core-js/modules/es.array.last-index-of");a("core-js/modules/es.array.map");a("core-js/modules/es.array.slice");a("core-js/modules/es.array.unscopables.flat");a("core-js/modules/es.array-buffer.constructor");a("core-js/modules/es.map");a("core-js/modules/es.number.constructor");
a("core-js/modules/es.object.entries");a("core-js/modules/es.object.to-string");a("core-js/modules/es.set");a("core-js/modules/es.string.iterator");a("core-js/modules/es.string.sub");a("core-js/modules/web.dom-collections.for-each");a("core-js/modules/web.dom-collections.iterator");Object.defineProperty(F,"__esModule",{value:!0});F.default=void 0;var d=(g=a("../core/main"))&&g.__esModule?g:{default:g},b=function(p){if(p&&p.__esModule)return p;if(null===p||"object"!==y(p)&&"function"!=typeof p)return{default:p};
var k=w();if(k&&k.has(p))return k.get(p);var n,q={},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in p){var v;Object.prototype.hasOwnProperty.call(p,n)&&((v=u?Object.getOwnPropertyDescriptor(p,n):null)&&(v.get||v.set)?Object.defineProperty(q,n,v):q[n]=p[n])}q.default=p;k&&k.set(p,q);return q}(a("../core/constants"));d.default.Geometry=function(){function p(n,q,u){if(!(this instanceof p))throw new TypeError("Cannot call a class as a function");this.vertices=[];this.boundingBoxCache=
null;this.lineVertices=new d.default.DataArray;this.lineTangentsIn=new d.default.DataArray;this.lineTangentsOut=new d.default.DataArray;this.lineSides=new d.default.DataArray;this.vertexNormals=[];this.faces=[];this.uvs=[];this.edges=[];this.vertexColors=[];this.vertexStrokeColors=[];this.lineVertexColors=new d.default.DataArray;this.detailX=void 0!==n?n:1;this.detailY=void 0!==q?q:1;this.dirtyFlags={};this._hasStrokeTransparency=this._hasFillTransparency=void 0;u instanceof Function&&u.call(this)}
var k;return k=[{key:"calculateBoundingBox",value:function(){if(!this.boundingBoxCache){for(var n=new d.default.Vector(Number.MAX_VALUE,Number.MAX_VALUE,Number.MAX_VALUE),q=new d.default.Vector(Number.MIN_VALUE,Number.MIN_VALUE,Number.MIN_VALUE),u=0;u<this.vertices.length;u++){var v=this.vertices[u];n.x=Math.min(n.x,v.x);n.y=Math.min(n.y,v.y);n.z=Math.min(n.z,v.z);q.x=Math.max(q.x,v.x);q.y=Math.max(q.y,v.y);q.z=Math.max(q.z,v.z)}u=new d.default.Vector(q.x-n.x,q.y-n.y,q.z-n.z);v=new d.default.Vector((n.x+
q.x)/2,(n.y+q.y)/2,(n.z+q.z)/2);this.boundingBoxCache={min:n,max:q,size:u,offset:v}}return this.boundingBoxCache}},{key:"reset",value:function(){this._hasStrokeTransparency=this._hasFillTransparency=void 0;this.lineVertices.clear();this.lineTangentsIn.clear();this.lineTangentsOut.clear();this.lineSides.clear();this.vertices.length=0;this.edges.length=0;this.vertexColors.length=0;this.vertexStrokeColors.length=0;this.lineVertexColors.clear();this.vertexNormals.length=0;this.uvs.length=0;this.dirtyFlags=
{}}},{key:"hasFillTransparency",value:function(){if(void 0===this._hasFillTransparency){this._hasFillTransparency=!1;for(var n=0;n<this.vertexColors.length;n+=4)if(1>this.vertexColors[n+3]){this._hasFillTransparency=!0;break}}return this._hasFillTransparency}},{key:"hasStrokeTransparency",value:function(){if(void 0===this._hasStrokeTransparency){this._hasStrokeTransparency=!1;for(var n=0;n<this.lineVertexColors.length;n+=4)if(1>this.lineVertexColors[n+3]){this._hasStrokeTransparency=!0;break}}return this._hasStrokeTransparency}},
{key:"clearColors",value:function(){return this.vertexColors=[],this}},{key:"saveObj",value:function(){var n=this,q=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"model.obj",u="";if(this.vertices.forEach(function(x){u+="v ".concat(x.x," ").concat(x.y," ").concat(x.z,"\n")}),this.uvs&&0<this.uvs.length)for(var v=0;v<this.uvs.length;v+=2)u+="vt ".concat(this.uvs[v]," ").concat(this.uvs[v+1],"\n");this.vertexNormals&&0<this.vertexNormals.length&&this.vertexNormals.forEach(function(x){u+="vn ".concat(x.x,
" ").concat(x.y," ").concat(x.z,"\n")});this.faces.forEach(function(x){var C="f";x.forEach(function(A){C=C+" "+(A+1);(0<n.vertexNormals.length||0<n.uvs.length)&&(C+="/",0<n.uvs.length&&(C+=A+1),C+="/",0<n.vertexNormals.length&&(C+=A+1))});u+=C+"\n"});v=new Blob([u],{type:"text/plain"});d.default.prototype.downloadFile(v,q,"obj")}},{key:"saveStl",value:function(){var n=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"model.stl",q=(1<arguments.length&&void 0!==arguments[1]?arguments[1]:{}).binary;
q=void 0!==q&&q;var u=n.substring(0,n.lastIndexOf(".")),v=[],x=!0,C=!1,A=void 0;try{for(var M,K=this.faces[Symbol.iterator]();!(x=(M=K.next()).done);x=!0){var G=M.value,U=d.default.Vector.sub(this.vertices[G[1]],this.vertices[G[0]]),J=d.default.Vector.sub(this.vertices[G[2]],this.vertices[G[0]]);v.push((new d.default.Vector(U.y*J.z-U.z*J.y,U.z*J.x-U.x*J.z,U.x*J.y-U.y*J.x)).normalize())}}catch(Z){C=!0,A=Z}finally{try{x||null==K.return||K.return()}finally{if(C)throw A;}}if(q){u=80;C=2*this.faces.length+
48*this.faces.length+84;A=new ArrayBuffer(C);(C=new DataView(A)).setUint32(u,this.faces.length,!0);u+=4;for(var I=0,T=Object.entries(this.faces);I<T.length;I++){var Y=l(T[I],2);A=Y[0];Y=Y[1];A=v[A];q=(C.setFloat32(u,A.x,!0),u+=4,C.setFloat32(u,A.y,!0),u+=4,C.setFloat32(u,A.z,!0),u+=4,!0);A=!1;x=void 0;try{for(var ea,da=Y[Symbol.iterator]();!(q=(ea=da.next()).done);q=!0){var X=this.vertices[ea.value];C.setFloat32(u,X.x,!0);u+=4;C.setFloat32(u,X.y,!0);u+=4;C.setFloat32(u,X.z,!0);u+=4}}catch(Z){A=!0,
x=Z}finally{try{q||null==da.return||da.return()}finally{if(A)throw x;}}C.setUint16(u,0,!0);u+=2}}else{C="solid "+u+"\n";ea=0;for(da=Object.entries(this.faces);ea<da.length;ea++){X=l(da[ea],2);A=X[0];X=X[1];A=v[A];q=(C+=" facet norm "+A.x+" "+A.y+" "+A.z+"\n  outer loop\n",!0);A=!1;x=void 0;try{for(T=X[Symbol.iterator]();!(q=(I=T.next()).done);q=!0)Y=this.vertices[I.value],C+="   vertex "+Y.x+" "+Y.y+" "+Y.z+"\n"}catch(Z){A=!0,x=Z}finally{try{q||null==T.return||T.return()}finally{if(A)throw x;}}C+=
"  endloop\n endfacet\n"}C+="endsolid "+u+"\n"}q=new Blob([C],{type:"text/plain"});d.default.prototype.downloadFile(q,n,"stl")}},{key:"flipU",value:function(){this.uvs=this.uvs.flat().map(function(n,q){return 0==q%2?1-n:n})}},{key:"flipV",value:function(){this.uvs=this.uvs.flat().map(function(n,q){return 0==q%2?n:1-n})}},{key:"computeFaces",value:function(){this.faces.length=0;for(var n,q,u,v=this.detailX+1,x=0;x<this.detailY;x++)for(var C=0;C<this.detailX;C++)q=(x+1)*v+C+1,this.faces.push([x*v+C,
n=x*v+C+1,u=(x+1)*v+C]),this.faces.push([u,n,q]);return this}},{key:"_getFaceNormal",value:function(n){n=this.faces[n];var q=this.vertices[n[0]],u=this.vertices[n[1]];n=this.vertices[n[2]];u=d.default.Vector.sub(u,q);n=d.default.Vector.sub(n,q);q=d.default.Vector.cross(u,n);var v=d.default.Vector.mag(q);u=v/(d.default.Vector.mag(u)*d.default.Vector.mag(n));return 0===u||isNaN(u)?(console.warn("p5.Geometry.prototype._getFaceNormal:","face has colinear sides or a repeated vertex"),q):(1<u&&(u=1),q.mult(Math.asin(u)/
v))}},{key:"computeNormals",value:function(){var n=this,q=(1<arguments.length&&void 0!==arguments[1]?arguments[1]:{}).roundToPrecision,u=this.vertexNormals,v=this.vertices,x=this.faces;if((0<arguments.length&&void 0!==arguments[0]?arguments[0]:b.FLAT)===b.SMOOTH){var C={};var A=[];var M=Math.pow(10,void 0===q?3:q),K=function(J){return"".concat(Math.round(J.x*M)/M,",").concat(Math.round(J.y*M)/M,",").concat(Math.round(J.z*M)/M)};for(q=0;q<v.length;q++){var G=v[q],U=K(G);void 0===C[U]&&(C[U]=A.length,
A.push(G))}x.forEach(function(J){for(var I=0;3>I;++I){var T=J[I];T=v[T];T=K(T);J[I]=C[T]}});this.edges.forEach(function(J){for(var I=0;2>I;++I){var T=J[I];T=v[T];T=K(T);J[I]=C[T]}});this.vertices=v=A}for(A=u.length=0;A<v.length;++A)u.push(new d.default.Vector);x.forEach(function(J,I){I=n._getFaceNormal(I);for(var T=0;3>T;++T)u[J[T]].add(I)});for(A=0;A<v.length;++A)u[A].normalize();return this}},{key:"averageNormals",value:function(){for(var n=0;n<=this.detailY;n++){var q=this.detailX+1,u=d.default.Vector.add(this.vertexNormals[n*
q],this.vertexNormals[n*q+this.detailX]);u=d.default.Vector.div(u,2);this.vertexNormals[n*q]=u;this.vertexNormals[n*q+this.detailX]=u}return this}},{key:"averagePoleNormals",value:function(){for(var n=new d.default.Vector(0,0,0),q=0;q<this.detailX;q++)n.add(this.vertexNormals[q]);n=d.default.Vector.div(n,this.detailX);for(q=0;q<this.detailX;q++)this.vertexNormals[q]=n;n=new d.default.Vector(0,0,0);for(q=this.vertices.length-1;q>this.vertices.length-1-this.detailX;q--)n.add(this.vertexNormals[q]);
n=d.default.Vector.div(n,this.detailX);for(q=this.vertices.length-1;q>this.vertices.length-1-this.detailX;q--)this.vertexNormals[q]=n;return this}},{key:"_makeTriangleEdges",value:function(){for(var n=this.edges.length=0;n<this.faces.length;n++)this.edges.push([this.faces[n][0],this.faces[n][1]]),this.edges.push([this.faces[n][1],this.faces[n][2]]),this.edges.push([this.faces[n][2],this.faces[n][0]]);return this}},{key:"_edgesToVertices",value:function(){this.lineVertices.clear();this.lineTangentsIn.clear();
this.lineTangentsOut.clear();this.lineSides.clear();for(var n,q=new Map,u=new Set,v=0;v<this.edges.length;v++){var x,C=this.edges[v-1],A=this.edges[v],M=this.vertices[A[0]],K=this.vertices[A[1]],G=0<this.vertexStrokeColors.length&&C?this.vertexStrokeColors.slice(4*C[1],4*(C[1]+1)):[0,0,0,0],U=0<this.vertexStrokeColors.length?this.vertexStrokeColors.slice(4*A[0],4*(A[0]+1)):[0,0,0,0],J=0<this.vertexStrokeColors.length?this.vertexStrokeColors.slice(4*A[1],4*(A[1]+1)):[0,0,0,0],I=K.copy().sub(M).normalize(),
T=0<I.magSq();T&&this._addSegment(M,K,U,J,I);0<v&&C[1]===A[0]?u.has(A[0])||(u.add(A[0]),q.delete(A[0]),n&&T&&.99999999>I.dot(n)&&this._addJoin(M,n,I,U)):(T&&!u.has(A[0])&&((x=q.get(A[0]))?(this._addJoin(M,x.dir,I,U),q.delete(A[0]),u.add(A[0])):q.set(A[0],{point:M,dir:I.copy().mult(-1),color:U})),n&&!u.has(C[1])&&((x=q.get(C[1]))?(this._addJoin(this.vertices[C[1]],n,x.dir.copy().mult(-1),G),q.delete(C[1]),u.add(C[1])):q.set(C[1],{point:this.vertices[C[1]],dir:n,color:G}),n=void 0));v!==this.edges.length-
1||u.has(A[1])||((M=q.get(A[1]))?(this._addJoin(K,I,M.dir.copy().mult(-1),J),q.delete(A[1]),u.add(A[1])):q.set(A[1],{point:K,dir:I,color:J}));T&&(n=I)}n=!0;u=!1;v=void 0;try{for(var Y,ea=q.values()[Symbol.iterator]();!(n=(Y=ea.next()).done);n=!0){var da=Y.value;this._addCap(da.point,da.dir,da.color)}}catch(X){u=!0,v=X}finally{try{n||null==ea.return||ea.return()}finally{if(u)throw v;}}return this}},{key:"_addSegment",value:function(n,q,u,v,x){n=n.array();q=q.array();var C=x.array();this.lineSides.push(1,
1,-1,1,-1,-1);for(var A=0,M=[this.lineTangentsIn,this.lineTangentsOut];A<M.length;A++)for(var K=M[A],G=0;6>G;G++)K.push.apply(K,r(C));return(x=this.lineVertices).push.apply(x,r(n).concat(r(q),r(n),r(q),r(q),r(n))),(x=this.lineVertexColors).push.apply(x,r(u).concat(r(v),r(u),r(v),r(v),r(u))),this}},{key:"_addCap",value:function(n,q,u){var v;n=n.array();q=q.array();for(var x=[0,0,0],C=0;6>C;C++)(v=this.lineVertices).push.apply(v,r(n)),(v=this.lineTangentsIn).push.apply(v,r(q)),(v=this.lineTangentsOut).push.apply(v,
x),(v=this.lineVertexColors).push.apply(v,r(u));return this.lineSides.push(-1,2,-2,1,2,-1),this}},{key:"_addJoin",value:function(n,q,u,v){var x;n=n.array();q=q.array();u=u.array();for(var C=0;12>C;C++)(x=this.lineVertices).push.apply(x,r(n)),(x=this.lineTangentsIn).push.apply(x,r(q)),(x=this.lineTangentsOut).push.apply(x,r(u)),(x=this.lineVertexColors).push.apply(x,r(v));return this.lineSides.push(-1,-3,-2,-1,0,-3),this.lineSides.push(3,1,2,3,0,1),this}},{key:"normalize",value:function(){if(0<this.vertices.length){for(var n=
this.vertices[0].copy(),q=this.vertices[0].copy(),u=0;u<this.vertices.length;u++)n.x=Math.max(n.x,this.vertices[u].x),q.x=Math.min(q.x,this.vertices[u].x),n.y=Math.max(n.y,this.vertices[u].y),q.y=Math.min(q.y,this.vertices[u].y),n.z=Math.max(n.z,this.vertices[u].z),q.z=Math.min(q.z,this.vertices[u].z);u=d.default.Vector.lerp(n,q,.5);n=d.default.Vector.sub(n,q);n=200/Math.max(Math.max(n.x,n.y),n.z);for(q=0;q<this.vertices.length;q++)this.vertices[q].sub(u),this.vertices[q].mult(n)}return this}}],h(p.prototype,
k),p}();var g=d.default.Geometry;F.default=g},{"../core/constants":272,"../core/main":283,"core-js/modules/es.array-buffer.constructor":152,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.flat":160,"core-js/modules/es.array.for-each":161,"core-js/modules/es.array.from":162,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.last-index-of":167,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.array.unscopables.flat":173,"core-js/modules/es.map":175,
"core-js/modules/es.number.constructor":179,"core-js/modules/es.object.entries":184,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.set":197,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.sub":208,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.for-each":245,
"core-js/modules/web.dom-collections.iterator":246}],336:[function(a,R,F){function z(l,h){for(var d=0;d<h.length;d++){var b=h[d];b.enumerable=b.enumerable||!1;b.configurable=!0;"value"in b&&(b.writable=!0);Object.defineProperty(l,b.key,b)}}a("core-js/modules/es.array.iterator");a("core-js/modules/es.object.to-string");a("core-js/modules/es.typed-array.float32-array");a("core-js/modules/es.typed-array.copy-within");a("core-js/modules/es.typed-array.every");a("core-js/modules/es.typed-array.fill");
a("core-js/modules/es.typed-array.filter");a("core-js/modules/es.typed-array.find");a("core-js/modules/es.typed-array.find-index");a("core-js/modules/es.typed-array.for-each");a("core-js/modules/es.typed-array.includes");a("core-js/modules/es.typed-array.index-of");a("core-js/modules/es.typed-array.iterator");a("core-js/modules/es.typed-array.join");a("core-js/modules/es.typed-array.last-index-of");a("core-js/modules/es.typed-array.map");a("core-js/modules/es.typed-array.reduce");a("core-js/modules/es.typed-array.reduce-right");
a("core-js/modules/es.typed-array.reverse");a("core-js/modules/es.typed-array.set");a("core-js/modules/es.typed-array.slice");a("core-js/modules/es.typed-array.some");a("core-js/modules/es.typed-array.sort");a("core-js/modules/es.typed-array.subarray");a("core-js/modules/es.typed-array.to-locale-string");a("core-js/modules/es.typed-array.to-string");a("core-js/modules/es.array.iterator");a("core-js/modules/es.object.to-string");a("core-js/modules/es.typed-array.float32-array");a("core-js/modules/es.typed-array.copy-within");
a("core-js/modules/es.typed-array.every");a("core-js/modules/es.typed-array.fill");a("core-js/modules/es.typed-array.filter");a("core-js/modules/es.typed-array.find");a("core-js/modules/es.typed-array.find-index");a("core-js/modules/es.typed-array.for-each");a("core-js/modules/es.typed-array.includes");a("core-js/modules/es.typed-array.index-of");a("core-js/modules/es.typed-array.iterator");a("core-js/modules/es.typed-array.join");a("core-js/modules/es.typed-array.last-index-of");a("core-js/modules/es.typed-array.map");
a("core-js/modules/es.typed-array.reduce");a("core-js/modules/es.typed-array.reduce-right");a("core-js/modules/es.typed-array.reverse");a("core-js/modules/es.typed-array.set");a("core-js/modules/es.typed-array.slice");a("core-js/modules/es.typed-array.some");a("core-js/modules/es.typed-array.sort");a("core-js/modules/es.typed-array.subarray");a("core-js/modules/es.typed-array.to-locale-string");a("core-js/modules/es.typed-array.to-string");Object.defineProperty(F,"__esModule",{value:!0});F.default=
void 0;var y=(a=a("../core/main"))&&a.__esModule?a:{default:a},w=Array,r=function(l){return Array.isArray(l)};a=("undefined"!=typeof Float32Array&&(w=Float32Array,r=function(l){return Array.isArray(l)||l instanceof Float32Array}),y.default.Matrix=function(){function l(){var b=this,g=l;if(b instanceof g)return arguments.length&&(0>(b=arguments.length-1)||arguments.length<=b?void 0:arguments[b])instanceof y.default&&(this.p5=0>(g=arguments.length-1)||arguments.length<=g?void 0:arguments[g]),"mat3"===
(0>=arguments.length?void 0:arguments[0])?this.mat3=Array.isArray(1>=arguments.length?void 0:arguments[1])?1>=arguments.length?void 0:arguments[1]:new w([1,0,0,0,1,0,0,0,1]):this.mat4=Array.isArray(0>=arguments.length?void 0:arguments[0])?0>=arguments.length?void 0:arguments[0]:new w([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),this;throw new TypeError("Cannot call a class as a function");}var h,d;return d=[{key:"identity",value:function(b){return new y.default.Matrix(b)}}],h=[{key:"reset",value:function(){return this.mat3?
this.mat3.set([1,0,0,0,1,0,0,0,1]):this.mat4&&this.mat4.set([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),this}},{key:"set",value:function(b){var g=arguments;if(b instanceof y.default.Matrix?g=b.mat4:r(b)&&(g=b),16!==g.length)y.default._friendlyError("Expected 16 values but received ".concat(g.length,"."),"p5.Matrix.set");else for(var p=0;16>p;p++)this.mat4[p]=g[p];return this}},{key:"get",value:function(){return new y.default.Matrix(this.mat4,this.p5)}},{key:"copy",value:function(){var b;return void 0!==this.mat3?
((b=new y.default.Matrix("mat3",this.p5)).mat3[0]=this.mat3[0],b.mat3[1]=this.mat3[1],b.mat3[2]=this.mat3[2],b.mat3[3]=this.mat3[3],b.mat3[4]=this.mat3[4],b.mat3[5]=this.mat3[5],b.mat3[6]=this.mat3[6],b.mat3[7]=this.mat3[7],b.mat3[8]=this.mat3[8]):((b=new y.default.Matrix(this.p5)).mat4[0]=this.mat4[0],b.mat4[1]=this.mat4[1],b.mat4[2]=this.mat4[2],b.mat4[3]=this.mat4[3],b.mat4[4]=this.mat4[4],b.mat4[5]=this.mat4[5],b.mat4[6]=this.mat4[6],b.mat4[7]=this.mat4[7],b.mat4[8]=this.mat4[8],b.mat4[9]=this.mat4[9],
b.mat4[10]=this.mat4[10],b.mat4[11]=this.mat4[11],b.mat4[12]=this.mat4[12],b.mat4[13]=this.mat4[13],b.mat4[14]=this.mat4[14],b.mat4[15]=this.mat4[15]),b}},{key:"transpose",value:function(b){var g,p,k,n,q,u;return b instanceof y.default.Matrix?(g=b.mat4[1],p=b.mat4[2],k=b.mat4[3],n=b.mat4[6],q=b.mat4[7],u=b.mat4[11],this.mat4[0]=b.mat4[0],this.mat4[1]=b.mat4[4],this.mat4[2]=b.mat4[8],this.mat4[3]=b.mat4[12],this.mat4[4]=g,this.mat4[5]=b.mat4[5],this.mat4[6]=b.mat4[9],this.mat4[7]=b.mat4[13],this.mat4[8]=
p,this.mat4[9]=n,this.mat4[10]=b.mat4[10],this.mat4[11]=b.mat4[14],this.mat4[12]=k,this.mat4[13]=q,this.mat4[14]=u,this.mat4[15]=b.mat4[15]):r(b)&&(g=b[1],p=b[2],k=b[3],n=b[6],q=b[7],u=b[11],this.mat4[0]=b[0],this.mat4[1]=b[4],this.mat4[2]=b[8],this.mat4[3]=b[12],this.mat4[4]=g,this.mat4[5]=b[5],this.mat4[6]=b[9],this.mat4[7]=b[13],this.mat4[8]=p,this.mat4[9]=n,this.mat4[10]=b[10],this.mat4[11]=b[14],this.mat4[12]=k,this.mat4[13]=q,this.mat4[14]=u,this.mat4[15]=b[15]),this}},{key:"invert",value:function(b){b instanceof
y.default.Matrix?(g=b.mat4[0],p=b.mat4[1],k=b.mat4[2],n=b.mat4[3],q=b.mat4[4],u=b.mat4[5],v=b.mat4[6],x=b.mat4[7],C=b.mat4[8],A=b.mat4[9],M=b.mat4[10],K=b.mat4[11],G=b.mat4[12],U=b.mat4[13],J=b.mat4[14],I=b.mat4[15]):r(b)&&(g=b[0],p=b[1],k=b[2],n=b[3],q=b[4],u=b[5],v=b[6],x=b[7],C=b[8],A=b[9],M=b[10],K=b[11],G=b[12],U=b[13],J=b[14],I=b[15]);var g,p,k,n,q,u,v,x,C,A,M,K,G,U,J,I;b=g*u-p*q;var T=g*v-k*q,Y=g*x-n*q,ea=p*v-k*u,da=p*x-n*u,X=k*x-n*v,Z=C*U-A*G,L=C*J-M*G,S=C*I-K*G,E=A*J-M*U,P=A*I-K*U,aa=M*I-
K*J,ja=b*aa-T*P+Y*E+ea*S-da*L+X*Z;return ja?(this.mat4[0]=(u*aa-v*P+x*E)*(ja=1/ja),this.mat4[1]=(k*P-p*aa-n*E)*ja,this.mat4[2]=(U*X-J*da+I*ea)*ja,this.mat4[3]=(M*da-A*X-K*ea)*ja,this.mat4[4]=(v*S-q*aa-x*L)*ja,this.mat4[5]=(g*aa-k*S+n*L)*ja,this.mat4[6]=(J*Y-G*X-I*T)*ja,this.mat4[7]=(C*X-M*Y+K*T)*ja,this.mat4[8]=(q*P-u*S+x*Z)*ja,this.mat4[9]=(p*S-g*P-n*Z)*ja,this.mat4[10]=(G*da-U*Y+I*b)*ja,this.mat4[11]=(A*Y-C*da-K*b)*ja,this.mat4[12]=(u*L-q*E-v*Z)*ja,this.mat4[13]=(g*E-p*L+k*Z)*ja,this.mat4[14]=(U*
T-G*ea-J*b)*ja,this.mat4[15]=(C*ea-A*T+M*b)*ja,this):null}},{key:"invert3x3",value:function(){var b=this.mat3[0],g=this.mat3[1],p=this.mat3[2],k=this.mat3[3],n=this.mat3[4],q=this.mat3[5],u=this.mat3[6],v=this.mat3[7],x=this.mat3[8],C=x*n-q*v,A=-x*k+q*u,M=v*k-n*u,K=b*C+g*A+p*M;return K?(this.mat3[0]=C*(K=1/K),this.mat3[1]=(-x*g+p*v)*K,this.mat3[2]=(q*g-p*n)*K,this.mat3[3]=A*K,this.mat3[4]=(x*b-p*u)*K,this.mat3[5]=(-q*b+p*k)*K,this.mat3[6]=M*K,this.mat3[7]=(-v*b+g*u)*K,this.mat3[8]=(n*b-g*k)*K,this):
null}},{key:"transpose3x3",value:function(b){var g=(b=void 0===b?this.mat3:b)[1],p=b[2],k=b[5];return this.mat3[0]=b[0],this.mat3[1]=b[3],this.mat3[2]=b[6],this.mat3[3]=g,this.mat3[4]=b[4],this.mat3[5]=b[7],this.mat3[6]=p,this.mat3[7]=k,this.mat3[8]=b[8],this}},{key:"inverseTranspose",value:function(b){b=b.mat4;void 0===this.mat3?y.default._friendlyError("sorry, this function only works with mat3"):(this.mat3[0]=b[0],this.mat3[1]=b[1],this.mat3[2]=b[2],this.mat3[3]=b[4],this.mat3[4]=b[5],this.mat3[5]=
b[6],this.mat3[6]=b[8],this.mat3[7]=b[9],this.mat3[8]=b[10]);if(b=this.invert3x3())b.transpose3x3(this.mat3);else for(b=0;9>b;b++)this.mat3[b]=0;return this}},{key:"determinant",value:function(){return(this.mat4[0]*this.mat4[5]-this.mat4[1]*this.mat4[4])*(this.mat4[10]*this.mat4[15]-this.mat4[11]*this.mat4[14])-(this.mat4[0]*this.mat4[6]-this.mat4[2]*this.mat4[4])*(this.mat4[9]*this.mat4[15]-this.mat4[11]*this.mat4[13])+(this.mat4[0]*this.mat4[7]-this.mat4[3]*this.mat4[4])*(this.mat4[9]*this.mat4[14]-
this.mat4[10]*this.mat4[13])+(this.mat4[1]*this.mat4[6]-this.mat4[2]*this.mat4[5])*(this.mat4[8]*this.mat4[15]-this.mat4[11]*this.mat4[12])-(this.mat4[1]*this.mat4[7]-this.mat4[3]*this.mat4[5])*(this.mat4[8]*this.mat4[14]-this.mat4[10]*this.mat4[12])+(this.mat4[2]*this.mat4[7]-this.mat4[3]*this.mat4[6])*(this.mat4[8]*this.mat4[13]-this.mat4[9]*this.mat4[12])}},{key:"mult",value:function(b){if(b===this||b===this.mat4)var g=this.copy().mat4;else if(b instanceof y.default.Matrix)g=b.mat4;else if(r(b))g=
b;else{if(16!==arguments.length)return;g=arguments}b=this.mat4[0];var p=this.mat4[1],k=this.mat4[2],n=this.mat4[3];return this.mat4[0]=b*g[0]+p*g[4]+k*g[8]+n*g[12],this.mat4[1]=b*g[1]+p*g[5]+k*g[9]+n*g[13],this.mat4[2]=b*g[2]+p*g[6]+k*g[10]+n*g[14],this.mat4[3]=b*g[3]+p*g[7]+k*g[11]+n*g[15],b=this.mat4[4],p=this.mat4[5],k=this.mat4[6],n=this.mat4[7],this.mat4[4]=b*g[0]+p*g[4]+k*g[8]+n*g[12],this.mat4[5]=b*g[1]+p*g[5]+k*g[9]+n*g[13],this.mat4[6]=b*g[2]+p*g[6]+k*g[10]+n*g[14],this.mat4[7]=b*g[3]+p*
g[7]+k*g[11]+n*g[15],b=this.mat4[8],p=this.mat4[9],k=this.mat4[10],n=this.mat4[11],this.mat4[8]=b*g[0]+p*g[4]+k*g[8]+n*g[12],this.mat4[9]=b*g[1]+p*g[5]+k*g[9]+n*g[13],this.mat4[10]=b*g[2]+p*g[6]+k*g[10]+n*g[14],this.mat4[11]=b*g[3]+p*g[7]+k*g[11]+n*g[15],b=this.mat4[12],p=this.mat4[13],k=this.mat4[14],n=this.mat4[15],this.mat4[12]=b*g[0]+p*g[4]+k*g[8]+n*g[12],this.mat4[13]=b*g[1]+p*g[5]+k*g[9]+n*g[13],this.mat4[14]=b*g[2]+p*g[6]+k*g[10]+n*g[14],this.mat4[15]=b*g[3]+p*g[7]+k*g[11]+n*g[15],this}},{key:"apply",
value:function(b){if(b===this||b===this.mat4)var g=this.copy().mat4;else if(b instanceof y.default.Matrix)g=b.mat4;else if(r(b))g=b;else{if(16!==arguments.length)return;g=arguments}b=this.mat4;var p=b[0],k=b[4],n=b[8],q=b[12];p=(b[0]=g[0]*p+g[1]*k+g[2]*n+g[3]*q,b[4]=g[4]*p+g[5]*k+g[6]*n+g[7]*q,b[8]=g[8]*p+g[9]*k+g[10]*n+g[11]*q,b[12]=g[12]*p+g[13]*k+g[14]*n+g[15]*q,b[1]);k=b[5];n=b[9];q=b[13];p=(b[1]=g[0]*p+g[1]*k+g[2]*n+g[3]*q,b[5]=g[4]*p+g[5]*k+g[6]*n+g[7]*q,b[9]=g[8]*p+g[9]*k+g[10]*n+g[11]*q,b[13]=
g[12]*p+g[13]*k+g[14]*n+g[15]*q,b[2]);k=b[6];n=b[10];q=b[14];p=(b[2]=g[0]*p+g[1]*k+g[2]*n+g[3]*q,b[6]=g[4]*p+g[5]*k+g[6]*n+g[7]*q,b[10]=g[8]*p+g[9]*k+g[10]*n+g[11]*q,b[14]=g[12]*p+g[13]*k+g[14]*n+g[15]*q,b[3]);k=b[7];n=b[11];q=b[15];return b[3]=g[0]*p+g[1]*k+g[2]*n+g[3]*q,b[7]=g[4]*p+g[5]*k+g[6]*n+g[7]*q,b[11]=g[8]*p+g[9]*k+g[10]*n+g[11]*q,b[15]=g[12]*p+g[13]*k+g[14]*n+g[15]*q,this}},{key:"scale",value:function(b,g,p){return b instanceof y.default.Vector?(g=b.y,p=b.z,b=b.x):b instanceof Array&&(g=
b[1],p=b[2],b=b[0]),this.mat4[0]*=b,this.mat4[1]*=b,this.mat4[2]*=b,this.mat4[3]*=b,this.mat4[4]*=g,this.mat4[5]*=g,this.mat4[6]*=g,this.mat4[7]*=g,this.mat4[8]*=p,this.mat4[9]*=p,this.mat4[10]*=p,this.mat4[11]*=p,this}},{key:"rotate",value:function(b,g,p,k){g instanceof y.default.Vector?(p=g.y,k=g.z,g=g.x):g instanceof Array&&(p=g[1],k=g[2],g=g[0]);var n=Math.sqrt(g*g+p*p+k*k);n=(g*=1/n,p*=1/n,k*=1/n,this.mat4[0]);var q=this.mat4[1],u=this.mat4[2],v=this.mat4[3],x=this.mat4[4],C=this.mat4[5],A=this.mat4[6],
M=this.mat4[7],K=this.mat4[8],G=this.mat4[9],U=this.mat4[10],J=this.mat4[11],I=Math.sin(b);b=Math.cos(b);var T=1-b,Y=g*g*T+b,ea=p*g*T+k*I,da=k*g*T-p*I,X=g*p*T-k*I,Z=p*p*T+b,L=k*p*T+g*I,S=g*k*T+p*I;p=p*k*T-g*I;g=k*k*T+b;return this.mat4[0]=n*Y+x*ea+K*da,this.mat4[1]=q*Y+C*ea+G*da,this.mat4[2]=u*Y+A*ea+U*da,this.mat4[3]=v*Y+M*ea+J*da,this.mat4[4]=n*X+x*Z+K*L,this.mat4[5]=q*X+C*Z+G*L,this.mat4[6]=u*X+A*Z+U*L,this.mat4[7]=v*X+M*Z+J*L,this.mat4[8]=n*S+x*p+K*g,this.mat4[9]=q*S+C*p+G*g,this.mat4[10]=u*S+
A*p+U*g,this.mat4[11]=v*S+M*p+J*g,this}},{key:"translate",value:function(b){var g=b[0],p=b[1];b=b[2]||0;this.mat4[12]+=this.mat4[0]*g+this.mat4[4]*p+this.mat4[8]*b;this.mat4[13]+=this.mat4[1]*g+this.mat4[5]*p+this.mat4[9]*b;this.mat4[14]+=this.mat4[2]*g+this.mat4[6]*p+this.mat4[10]*b;this.mat4[15]+=this.mat4[3]*g+this.mat4[7]*p+this.mat4[11]*b}},{key:"rotateX",value:function(b){this.rotate(b,1,0,0)}},{key:"rotateY",value:function(b){this.rotate(b,0,1,0)}},{key:"rotateZ",value:function(b){this.rotate(b,
0,0,1)}},{key:"perspective",value:function(b,g,p,k){b=1/Math.tan(b/2);var n=1/(p-k);return this.mat4[0]=b/g,this.mat4[1]=0,this.mat4[2]=0,this.mat4[3]=0,this.mat4[4]=0,this.mat4[5]=b,this.mat4[6]=0,this.mat4[7]=0,this.mat4[8]=0,this.mat4[9]=0,this.mat4[10]=(k+p)*n,this.mat4[11]=-1,this.mat4[12]=0,this.mat4[13]=0,this.mat4[14]=2*k*p*n,this.mat4[15]=0,this}},{key:"ortho",value:function(b,g,p,k,n,q){var u=1/(b-g),v=1/(p-k),x=1/(n-q);return this.mat4[0]=-2*u,this.mat4[1]=0,this.mat4[2]=0,this.mat4[3]=
0,this.mat4[4]=0,this.mat4[5]=-2*v,this.mat4[6]=0,this.mat4[7]=0,this.mat4[8]=0,this.mat4[9]=0,this.mat4[10]=2*x,this.mat4[11]=0,this.mat4[12]=(b+g)*u,this.mat4[13]=(k+p)*v,this.mat4[14]=(q+n)*x,this.mat4[15]=1,this}},{key:"multiplyVec4",value:function(b,g,p,k){var n=Array(4),q=this.mat4;return n[0]=q[0]*b+q[4]*g+q[8]*p+q[12]*k,n[1]=q[1]*b+q[5]*g+q[9]*p+q[13]*k,n[2]=q[2]*b+q[6]*g+q[10]*p+q[14]*k,n[3]=q[3]*b+q[7]*g+q[11]*p+q[15]*k,n}},{key:"multiplyPoint",value:function(b){var g=b.x,p=b.y;b=b.z;g=
this.multiplyVec4(g,p,b,1);return new y.default.Vector(g[0],g[1],g[2])}},{key:"multiplyAndNormalizePoint",value:function(b){var g=b.x,p=b.y;b=b.z;g=this.multiplyVec4(g,p,b,1);return g[0]/=g[3],g[1]/=g[3],g[2]/=g[3],new y.default.Vector(g[0],g[1],g[2])}},{key:"multiplyDirection",value:function(b){var g=b.x,p=b.y;b=b.z;g=this.multiplyVec4(g,p,b,0);return new y.default.Vector(g[0],g[1],g[2])}},{key:"mult3x3",value:function(b){if(b===this||b===this.mat3)var g=this.copy().mat3;else if(b instanceof y.default.Matrix)g=
b.mat3;else if(r(b))g=b;else{if(9!==arguments.length)return;g=arguments}b=this.mat3[0];var p=this.mat3[1],k=this.mat3[2];return this.mat3[0]=b*g[0]+p*g[3]+k*g[6],this.mat3[1]=b*g[1]+p*g[4]+k*g[7],this.mat3[2]=b*g[2]+p*g[5]+k*g[8],b=this.mat3[3],p=this.mat3[4],k=this.mat3[5],this.mat3[3]=b*g[0]+p*g[3]+k*g[6],this.mat3[4]=b*g[1]+p*g[4]+k*g[7],this.mat3[5]=b*g[2]+p*g[5]+k*g[8],b=this.mat3[6],p=this.mat3[7],k=this.mat3[8],this.mat3[6]=b*g[0]+p*g[3]+k*g[6],this.mat3[7]=b*g[1]+p*g[4]+k*g[7],this.mat3[8]=
b*g[2]+p*g[5]+k*g[8],this}},{key:"column",value:function(b){return new y.default.Vector(this.mat3[3*b],this.mat3[3*b+1],this.mat3[3*b+2])}},{key:"row",value:function(b){return new y.default.Vector(this.mat3[b],this.mat3[b+3],this.mat3[b+6])}},{key:"diagonal",value:function(){return void 0!==this.mat3?[this.mat3[0],this.mat3[4],this.mat3[8]]:[this.mat4[0],this.mat4[5],this.mat4[10],this.mat4[15]]}},{key:"multiplyVec3",value:function(b,g){return(g=void 0===g?b.copy():g).x=this.row(0).dot(b),g.y=this.row(1).dot(b),
g.z=this.row(2).dot(b),g}},{key:"createSubMatrix3x3",value:function(){var b=new y.default.Matrix("mat3");return b.mat3[0]=this.mat4[0],b.mat3[1]=this.mat4[1],b.mat3[2]=this.mat4[2],b.mat3[3]=this.mat4[4],b.mat3[4]=this.mat4[5],b.mat3[5]=this.mat4[6],b.mat3[6]=this.mat4[8],b.mat3[7]=this.mat4[9],b.mat3[8]=this.mat4[10],b}}],z(l.prototype,h),d&&z(l,d),l}(),y.default.Matrix);F.default=a},{"../core/main":283,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.to-string":190,"core-js/modules/es.typed-array.copy-within":213,
"core-js/modules/es.typed-array.every":214,"core-js/modules/es.typed-array.fill":215,"core-js/modules/es.typed-array.filter":216,"core-js/modules/es.typed-array.find":218,"core-js/modules/es.typed-array.find-index":217,"core-js/modules/es.typed-array.float32-array":219,"core-js/modules/es.typed-array.for-each":221,"core-js/modules/es.typed-array.includes":222,"core-js/modules/es.typed-array.index-of":223,"core-js/modules/es.typed-array.iterator":226,"core-js/modules/es.typed-array.join":227,"core-js/modules/es.typed-array.last-index-of":228,
"core-js/modules/es.typed-array.map":229,"core-js/modules/es.typed-array.reduce":231,"core-js/modules/es.typed-array.reduce-right":230,"core-js/modules/es.typed-array.reverse":232,"core-js/modules/es.typed-array.set":233,"core-js/modules/es.typed-array.slice":234,"core-js/modules/es.typed-array.some":235,"core-js/modules/es.typed-array.sort":236,"core-js/modules/es.typed-array.subarray":237,"core-js/modules/es.typed-array.to-locale-string":238,"core-js/modules/es.typed-array.to-string":239}],337:[function(a,
R,F){function z(w,r){for(var l=0;l<r.length;l++){var h=r[l];h.enumerable=h.enumerable||!1;h.configurable=!0;"value"in h&&(h.writable=!0);Object.defineProperty(w,h.key,h)}}Object.defineProperty(F,"__esModule",{value:!0});F.default=void 0;var y=(a=a("../core/main"))&&a.__esModule?a:{default:a};y.default.Quat=function(){function w(h,d,b,g){if(!(this instanceof w))throw new TypeError("Cannot call a class as a function");this.w=h;this.vec=new y.default.Vector(d,b,g)}var r,l;return l=[{key:"fromAxisAngle",
value:function(h,d,b,g){var p=Math.cos(h/2);d=(new y.default.Vector(d,b,g)).normalize().mult(Math.sin(h/2));return new y.default.Quat(p,d.x,d.y,d.z)}}],r=[{key:"conjugate",value:function(){return new y.default.Quat(this.w,-this.vec.x,-this.vec.y,-this.vec.z)}},{key:"multiply",value:function(h){return new y.default.Quat(this.w*h.w-this.vec.x*h.vec.x-this.vec.y*h.vec.y-this.vec.z-h.vec.z,this.w*h.vec.x+this.vec.x*h.w+this.vec.y*h.vec.z-this.vec.z*h.vec.y,this.w*h.vec.y-this.vec.x*h.vec.z+this.vec.y*
h.w+this.vec.z*h.vec.x,this.w*h.vec.z+this.vec.x*h.vec.y-this.vec.y*h.vec.x+this.vec.z*h.w)}},{key:"rotateVector",value:function(h){return(new y.default.Vector.mult(h,this.w*this.w-this.vec.dot(this.vec))).add(y.default.Vector.mult(this.vec,2*h.dot(this.vec))).add(y.default.Vector.mult(this.vec,2*this.w).cross(h)).clampToZero()}},{key:"rotateBy",value:function(h){return h.multiply(this).multiply(h.conjugate()).vec.clampToZero()}}],z(w.prototype,r),l&&z(w,l),w}();a=y.default.Quat;F.default=a},{"../core/main":283}],
338:[function(a,R,F){function z(y,w){for(var r=0;r<w.length;r++){var l=w[r];l.enumerable=l.enumerable||!1;l.configurable=!0;"value"in l&&(l.writable=!0);Object.defineProperty(y,l.key,l)}}a("core-js/modules/es.array.map");a("core-js/modules/es.array.map");Object.defineProperty(F,"__esModule",{value:!0});F.default=void 0;a=(a=a("../core/main"))&&a.__esModule?a:{default:a};a.default.RenderBuffer=function(){function y(r,l,h,d,b,g){if(!(this instanceof y))throw new TypeError("Cannot call a class as a function");
this.size=r;this.src=l;this.dst=h;this.attr=d;this._renderer=b;this.map=g}var w;return w=[{key:"_prepareBuffer",value:function(r,l){var h,d,b,g=l.attributes,p=this._renderer.GL,k=r.model||r;(g=g[this.attr])&&(h=r[this.dst],0<(d=k[this.src]).length?((b=!h)&&(r[this.dst]=h=p.createBuffer()),p.bindBuffer(p.ARRAY_BUFFER,h),!b&&!1===k.dirtyFlags[this.src]||(b=(r=this.map)?r(d):d,this._renderer._bindBuffer(h,p.ARRAY_BUFFER,b),k.dirtyFlags[this.src]=!1),l.enableAttrib(g,this.size)):-1!==(r=g.location)&&
this._renderer.registerEnabled.has(r)&&(p.disableVertexAttribArray(r),this._renderer.registerEnabled.delete(r)))}}],z(y.prototype,w),y}();a=a.default.RenderBuffer;F.default=a},{"../core/main":283,"core-js/modules/es.array.map":168}],339:[function(a,R,F){function z(g){return(z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(p){return typeof p}:function(p){return p&&"function"==typeof Symbol&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p})(g)}function y(g){return(y=
"function"==typeof Symbol&&"symbol"===z(Symbol.iterator)?function(p){return z(p)}:function(p){return p&&"function"==typeof Symbol&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":z(p)})(g)}function w(){var g;return"function"!=typeof WeakMap?null:(g=new WeakMap,w=function(){return g},g)}function r(g){if(!(g=function(p){if(Array.isArray(p)){for(var k=0,n=Array(p.length);k<p.length;k++)n[k]=p[k];return n}}(g)||function(p){if(Symbol.iterator in Object(p)||"[object Arguments]"===Object.prototype.toString.call(p))return Array.from(p)}(g)))throw new TypeError("Invalid attempt to spread non-iterable instance");
return g}a("core-js/modules/es.symbol");a("core-js/modules/es.symbol.description");a("core-js/modules/es.symbol.iterator");a("core-js/modules/es.array.concat");a("core-js/modules/es.array.fill");a("core-js/modules/es.array.find-index");a("core-js/modules/es.array.from");a("core-js/modules/es.array.iterator");a("core-js/modules/es.array.map");a("core-js/modules/es.array.slice");a("core-js/modules/es.map");a("core-js/modules/es.object.get-own-property-descriptor");a("core-js/modules/es.object.to-string");
a("core-js/modules/es.regexp.to-string");a("core-js/modules/es.string.iterator");a("core-js/modules/es.weak-map");a("core-js/modules/web.dom-collections.iterator");a("core-js/modules/es.symbol");a("core-js/modules/es.symbol.description");a("core-js/modules/es.symbol.iterator");a("core-js/modules/es.array.concat");a("core-js/modules/es.array.fill");a("core-js/modules/es.array.find-index");a("core-js/modules/es.array.iterator");a("core-js/modules/es.array.map");a("core-js/modules/es.array.slice");a("core-js/modules/es.map");
a("core-js/modules/es.object.to-string");a("core-js/modules/es.string.iterator");a("core-js/modules/web.dom-collections.iterator");Object.defineProperty(F,"__esModule",{value:!0});F.default=void 0;var l=(b=a("../core/main"))&&b.__esModule?b:{default:b},h=function(g){if(g&&g.__esModule)return g;if(null===g||"object"!==y(g)&&"function"!=typeof g)return{default:g};var p=w();if(p&&p.has(g))return p.get(g);var k,n={},q=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(k in g){var u;Object.prototype.hasOwnProperty.call(g,
k)&&((u=q?Object.getOwnPropertyDescriptor(g,k):null)&&(u.get||u.set)?Object.defineProperty(n,k,u):n[k]=g[k])}n.default=g;p&&p.set(g,n);return n}(a("../core/constants"));a("./p5.RenderBuffer");l.default.RendererGL.prototype.beginShape=function(g){return this.immediateMode.shapeMode=void 0!==g?g:h.TESS,this.immediateMode.geometry.reset(),this.immediateMode.contourIndices=[],this};var d={vertices:1,vertexNormals:1,vertexColors:4,vertexStrokeColors:4,uvs:2},b=(l.default.RendererGL.prototype.beginContour=
function(){if(this.immediateMode.shapeMode!==h.TESS)throw Error("WebGL mode can only use contours with beginShape(TESS).");this.immediateMode.contourIndices.push(this.immediateMode.geometry.vertices.length)},l.default.RendererGL.prototype.vertex=function(g,p){if(this.immediateMode.shapeMode===h.QUADS&&3==this.immediateMode.geometry.vertices.length%6)for(var k in d){var n=d[k];k=this.immediateMode.geometry[k];k.push.apply(k,r(k.slice(k.length-3*n,k.length-2*n)).concat(r(k.slice(k.length-n,k.length))))}var q=
k=n=0,u=(3===arguments.length?q=arguments[2]:4===arguments.length?(k=arguments[2],n=arguments[3]):5===arguments.length&&(q=arguments[2],k=arguments[3],n=arguments[4]),new l.default.Vector(g,p,q));u=(this.immediateMode.geometry.vertices.push(u),this.immediateMode.geometry.vertexNormals.push(this._currentNormal),this.curFillColor||[.5,.5,.5,1]);u=(this.immediateMode.geometry.vertexColors.push(u[0],u[1],u[2],u[3]),this.curStrokeColor||[.5,.5,.5,1]);return this.immediateMode.geometry.vertexStrokeColors.push(u[0],
u[1],u[2],u[3]),this.textureMode!==h.IMAGE||this.isProcessingVertices||(null!==this._tex?0<this._tex.width&&0<this._tex.height&&(k/=this._tex.width,n/=this._tex.height):void 0===this.userFillShader&&void 0===this.userStrokeShader&&void 0===this.userPointShader&&null===this._tex&&4<=arguments.length&&console.warn("You must first call texture() before using vertex() with image based u and v coordinates")),this.immediateMode.geometry.uvs.push(k,n),this.immediateMode._bezierVertex[0]=g,this.immediateMode._bezierVertex[1]=
p,this.immediateMode._bezierVertex[2]=q,this.immediateMode._quadraticVertex[0]=g,this.immediateMode._quadraticVertex[1]=p,this.immediateMode._quadraticVertex[2]=q,this},l.default.RendererGL.prototype.normal=function(g,p,k){return g instanceof l.default.Vector?this._currentNormal=g:this._currentNormal=new l.default.Vector(g,p,k),this},l.default.RendererGL.prototype.endShape=function(g,p,k,n,q,u){var v,x=6<arguments.length&&void 0!==arguments[6]?arguments[6]:1;return this.immediateMode.shapeMode===
h.POINTS?this._drawPoints(this.immediateMode.geometry.vertices,this.immediateMode.buffers.point):(3===this.immediateMode.geometry.vertices.length&&this.immediateMode.shapeMode===h.TESS&&(this.immediateMode.shapeMode=h.TRIANGLES),this.isProcessingVertices=!0,this._processVertices.apply(this,arguments),v=this.isProcessingVertices=!1,this.immediateMode.shapeMode!==h.LINE_STRIP&&this.immediateMode.shapeMode!==h.LINES||(this.immediateMode.shapeMode=h.TRIANGLE_FAN,v=!0),this.immediateMode.shapeMode===h.QUADS?
this.immediateMode.shapeMode=h.TRIANGLES:this.immediateMode.shapeMode===h.QUAD_STRIP&&(this.immediateMode.shapeMode=h.TRIANGLE_STRIP),this._doFill&&!v&&!this.geometryBuilder&&3<=this.immediateMode.geometry.vertices.length&&this._drawImmediateFill(x),this._doStroke&&!this.geometryBuilder&&1<=this.immediateMode.geometry.lineVertices.length&&this._drawImmediateStroke(),this.geometryBuilder&&this.geometryBuilder.addImmediate(),this.isBezier=!1,this.isQuadratic=!1,this.isCurve=!1,this.immediateMode._bezierVertex.length=
0,this.immediateMode._quadraticVertex.length=0,this.immediateMode._curveVertex.length=0),this},l.default.RendererGL.prototype._processVertices=function(g){var p;0!==this.immediateMode.geometry.vertices.length&&(p=this._doStroke,g=g===h.CLOSE,p&&(this.immediateMode.geometry.edges=this._calculateEdges(this.immediateMode.shapeMode,this.immediateMode.geometry.vertices,g),this.geometryBuilder||this.immediateMode.geometry._edgesToVertices()),p=this.immediateMode.shapeMode===h.TESS,g=0<this.immediateMode.contourIndices.length,
this._doFill&&(this.isBezier||this.isQuadratic||this.isCurve||p||g)&&this.immediateMode.shapeMode!==h.LINES&&this._tesselateShape())},l.default.RendererGL.prototype._calculateEdges=function(g,p,k){var n=[],q,u=this.immediateMode.contourIndices.slice(),v=0;switch(g){case h.TRIANGLE_STRIP:for(q=0;q<p.length-2;q++)n.push([q,q+1]),n.push([q,q+2]);n.push([q,q+1]);break;case h.TRIANGLE_FAN:for(q=1;q<p.length-1;q++)n.push([0,q]),n.push([q,q+1]);n.push([0,p.length-1]);break;case h.TRIANGLES:for(q=0;q<p.length-
2;q+=3)n.push([q,q+1]),n.push([q+1,q+2]),n.push([q+2,q]);break;case h.LINES:for(q=0;q<p.length-1;q+=2)n.push([q,q+1]);break;case h.QUADS:for(q=0;q<p.length-5;q+=6)n.push([q,q+1]),n.push([q+1,q+2]),n.push([q+3,q+5]),n.push([q+4,q+5]);break;case h.QUAD_STRIP:for(q=0;q<p.length-2;q+=2)n.push([q,q+1]),n.push([q,q+2]),n.push([q+1,q+3]);n.push([q,q+1]);break;default:for(q=0;q<p.length;q++)q+1<p.length&&q+1!==u[0]?n.push([q,q+1]):((k||v)&&n.push([q,v]),0<u.length&&(v=u.shift()))}return g!==h.TESS&&k&&n.push([p.length-
1,0]),n},l.default.RendererGL.prototype._tesselateShape=function(){for(var g=this,p=(this.immediateMode.shapeMode=h.TRIANGLES,[[]]),k=0;k<this.immediateMode.geometry.vertices.length;k++)0<this.immediateMode.contourIndices.length&&this.immediateMode.contourIndices[0]===k&&(this.immediateMode.contourIndices.shift(),p.push([])),p[p.length-1].push(this.immediateMode.geometry.vertices[k].x,this.immediateMode.geometry.vertices[k].y,this.immediateMode.geometry.vertices[k].z,this.immediateMode.geometry.uvs[2*
k],this.immediateMode.geometry.uvs[2*k+1],this.immediateMode.geometry.vertexColors[4*k],this.immediateMode.geometry.vertexColors[4*k+1],this.immediateMode.geometry.vertexColors[4*k+2],this.immediateMode.geometry.vertexColors[4*k+3],this.immediateMode.geometry.vertexNormals[k].x,this.immediateMode.geometry.vertexNormals[k].y,this.immediateMode.geometry.vertexNormals[k].z);var n;p=this._triangulate(p);var q=this.immediateMode.geometry.vertices;k=(this.immediateMode.geometry.vertices=[],this.immediateMode.geometry.vertexNormals=
[],this.immediateMode.geometry.uvs=[],[]);for(var u=0,v=p.length;u<v;u+=l.default.RendererGL.prototype.tessyVertexSize)k.push.apply(k,r(p.slice(u+5,u+9))),this.normal.apply(this,r(p.slice(u+9,u+12))),this.vertex.apply(this,r(p.slice(u,u+5)));this.geometryBuilder&&(n=new Map,this.immediateMode.geometry.edges=this.immediateMode.geometry.edges.map(function(x){return x.map(function(C){if(!n.has(C)){var A=q[C],M=g.immediateMode.geometry.vertices.findIndex(function(T){return A.x===T.x&&A.y===T.y&&A.z===
T.z});if(-1===M){M=1/0;for(var K=0,G=0;G<g.immediateMode.geometry.vertices.length;G++){var U=g.immediateMode.geometry.vertices[G],J=A.x-U.x,I=A.y-U.y;U=A.z-U.z;J=J*J+I*I+U*U;J<M&&(M=J,K=G)}M=K}n.set(C,M)}return n.get(C)})}));this.immediateMode.geometry.vertexColors=k},l.default.RendererGL.prototype._drawImmediateFill=function(){var g,p=0<arguments.length&&void 0!==arguments[0]?arguments[0]:1,k=this.GL,n=(this._useVertexColor=0<this.immediateMode.geometry.vertexColors.length,g=this._getImmediateFillShader(),
this._setFillUniforms(g),!0),q=!1,u=void 0;try{for(var v,x=this.immediateMode.buffers.fill[Symbol.iterator]();!(n=(v=x.next()).done);n=!0)v.value._prepareBuffer(this.immediateMode.geometry,g)}catch(C){q=!0,u=C}finally{try{n||null==x.return||x.return()}finally{if(q)throw u;}}if(g.disableRemainingAttributes(),this._applyColorBlend(this.curFillColor,this.immediateMode.geometry.hasFillTransparency()),1===p)k.drawArrays(this.immediateMode.shapeMode,0,this.immediateMode.geometry.vertices.length);else try{k.drawArraysInstanced(this.immediateMode.shapeMode,
0,this.immediateMode.geometry.vertices.length,p)}catch(C){console.log("\ud83c\udf38 p5.js says: Instancing is only supported in WebGL2 mode")}g.unbindShader()},l.default.RendererGL.prototype._drawImmediateStroke=function(){var g=this.GL,p=(this._useLineColor=0<this.immediateMode.geometry.vertexStrokeColors.length,this._getImmediateStrokeShader()),k=(this._setStrokeUniforms(p),!0),n=!1,q=void 0;try{for(var u,v=this.immediateMode.buffers.stroke[Symbol.iterator]();!(k=(u=v.next()).done);k=!0)u.value._prepareBuffer(this.immediateMode.geometry,
p)}catch(x){n=!0,q=x}finally{try{k||null==v.return||v.return()}finally{if(n)throw q;}}p.disableRemainingAttributes();this._applyColorBlend(this.curStrokeColor,this.immediateMode.geometry.hasFillTransparency());g.drawArrays(g.TRIANGLES,0,this.immediateMode.geometry.lineVertices.length/3);p.unbindShader()},l.default.RendererGL);F.default=b},{"../core/constants":272,"../core/main":283,"./p5.RenderBuffer":338,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.fill":156,"core-js/modules/es.array.find-index":158,
"core-js/modules/es.array.from":162,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.map":175,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,
"core-js/modules/web.dom-collections.iterator":246}],340:[function(a,R,F){function z(d){return(z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(b){return typeof b}:function(b){return b&&"function"==typeof Symbol&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":typeof b})(d)}function y(d){return(y="function"==typeof Symbol&&"symbol"===z(Symbol.iterator)?function(b){return z(b)}:function(b){return b&&"function"==typeof Symbol&&b.constructor===Symbol&&b!==Symbol.prototype?
"symbol":z(b)})(d)}function w(){var d;return"function"!=typeof WeakMap?null:(d=new WeakMap,w=function(){return d},d)}a("core-js/modules/es.symbol");a("core-js/modules/es.symbol.description");a("core-js/modules/es.symbol.iterator");a("core-js/modules/es.array.fill");a("core-js/modules/es.array.iterator");a("core-js/modules/es.array.some");a("core-js/modules/es.object.get-own-property-descriptor");a("core-js/modules/es.object.keys");a("core-js/modules/es.object.to-string");a("core-js/modules/es.string.iterator");
a("core-js/modules/es.typed-array.float32-array");a("core-js/modules/es.typed-array.uint16-array");a("core-js/modules/es.typed-array.uint32-array");a("core-js/modules/es.typed-array.copy-within");a("core-js/modules/es.typed-array.every");a("core-js/modules/es.typed-array.fill");a("core-js/modules/es.typed-array.filter");a("core-js/modules/es.typed-array.find");a("core-js/modules/es.typed-array.find-index");a("core-js/modules/es.typed-array.for-each");a("core-js/modules/es.typed-array.includes");a("core-js/modules/es.typed-array.index-of");
a("core-js/modules/es.typed-array.iterator");a("core-js/modules/es.typed-array.join");a("core-js/modules/es.typed-array.last-index-of");a("core-js/modules/es.typed-array.map");a("core-js/modules/es.typed-array.reduce");a("core-js/modules/es.typed-array.reduce-right");a("core-js/modules/es.typed-array.reverse");a("core-js/modules/es.typed-array.set");a("core-js/modules/es.typed-array.slice");a("core-js/modules/es.typed-array.some");a("core-js/modules/es.typed-array.sort");a("core-js/modules/es.typed-array.subarray");
a("core-js/modules/es.typed-array.to-locale-string");a("core-js/modules/es.typed-array.to-string");a("core-js/modules/es.weak-map");a("core-js/modules/web.dom-collections.iterator");a("core-js/modules/es.symbol");a("core-js/modules/es.symbol.description");a("core-js/modules/es.symbol.iterator");a("core-js/modules/es.array.fill");a("core-js/modules/es.array.iterator");a("core-js/modules/es.array.some");a("core-js/modules/es.object.keys");a("core-js/modules/es.object.to-string");a("core-js/modules/es.string.iterator");
a("core-js/modules/es.typed-array.float32-array");a("core-js/modules/es.typed-array.uint16-array");a("core-js/modules/es.typed-array.uint32-array");a("core-js/modules/es.typed-array.copy-within");a("core-js/modules/es.typed-array.every");a("core-js/modules/es.typed-array.fill");a("core-js/modules/es.typed-array.filter");a("core-js/modules/es.typed-array.find");a("core-js/modules/es.typed-array.find-index");a("core-js/modules/es.typed-array.for-each");a("core-js/modules/es.typed-array.includes");a("core-js/modules/es.typed-array.index-of");
a("core-js/modules/es.typed-array.iterator");a("core-js/modules/es.typed-array.join");a("core-js/modules/es.typed-array.last-index-of");a("core-js/modules/es.typed-array.map");a("core-js/modules/es.typed-array.reduce");a("core-js/modules/es.typed-array.reduce-right");a("core-js/modules/es.typed-array.reverse");a("core-js/modules/es.typed-array.set");a("core-js/modules/es.typed-array.slice");a("core-js/modules/es.typed-array.some");a("core-js/modules/es.typed-array.sort");a("core-js/modules/es.typed-array.subarray");
a("core-js/modules/es.typed-array.to-locale-string");a("core-js/modules/es.typed-array.to-string");a("core-js/modules/web.dom-collections.iterator");Object.defineProperty(F,"__esModule",{value:!0});F.default=void 0;var r=(h=a("../core/main"))&&h.__esModule?h:{default:h},l=(a("./p5.RendererGL"),a("./p5.RenderBuffer"),function(d){if(d&&d.__esModule)return d;if(null===d||"object"!==y(d)&&"function"!=typeof d)return{default:d};var b=w();if(b&&b.has(d))return b.get(d);var g,p={},k=Object.defineProperty&&
Object.getOwnPropertyDescriptor;for(g in d){var n;Object.prototype.hasOwnProperty.call(d,g)&&((n=k?Object.getOwnPropertyDescriptor(d,g):null)&&(n.get||n.set)?Object.defineProperty(p,g,n):p[g]=d[g])}p.default=d;b&&b.set(d,p);return p}(a("../core/constants")));r.default.RendererGL.prototype.freeGeometry=function(d){d.gid?this._freeBuffers(d.gid):console.warn("The model you passed to freeGeometry does not have an id!")};r.default.RendererGL.prototype._initBufferDefaults=function(d){var b;return this._freeBuffers(d),
1E3<Object.keys(this.retainedMode.geometry).length&&(b=Object.keys(this.retainedMode.geometry)[0],this._freeBuffers(b)),this.retainedMode.geometry[d]={}};r.default.RendererGL.prototype._freeBuffers=function(d){function b(k){var n=!0,q=!1,u=void 0;try{for(var v,x=k[Symbol.iterator]();!(n=(v=x.next()).done);n=!0){var C=v.value;p[C.dst]&&(g.deleteBuffer(p[C.dst]),p[C.dst]=null)}}catch(A){q=!0,u=A}finally{try{n||null==x.return||x.return()}finally{if(q)throw u;}}}var g,p=this.retainedMode.geometry[d];
p&&(delete this.retainedMode.geometry[d],g=this.GL,p.indexBuffer&&g.deleteBuffer(p.indexBuffer),b(this.retainedMode.buffers.stroke),b(this.retainedMode.buffers.fill))};r.default.RendererGL.prototype.createBuffers=function(d,b){var g,p,k,n=this.GL;d=this._initBufferDefaults(d);var q=(d.model=b,d.indexBuffer);return b.faces.length?(q=q||(d.indexBuffer=n.createBuffer()),k=(p=(g=r.default.RendererGL.prototype._flatten(b.faces)).some(function(u){return 65535<u}))?Uint32Array:Uint16Array,this._bindBuffer(q,
n.ELEMENT_ARRAY_BUFFER,g,k),d.indexBufferType=p?n.UNSIGNED_INT:n.UNSIGNED_SHORT,d.vertexCount=3*b.faces.length):(q&&(n.deleteBuffer(q),d.indexBuffer=null),d.vertexCount=b.vertices?b.vertices.length:0),d.lineVertexCount=b.lineVertices?b.lineVertices.length/3:0,d};r.default.RendererGL.prototype.drawBuffers=function(d){var b=this.GL,g=this.retainedMode.geometry[d];if(!this.geometryBuilder&&this._doFill&&0<this.retainedMode.geometry[d].vertexCount){this._useVertexColor=0<g.model.vertexColors.length;var p=
this._getRetainedFillShader(),k=(this._setFillUniforms(p),!0),n=!1,q=void 0;try{for(var u,v=this.retainedMode.buffers.fill[Symbol.iterator]();!(k=(u=v.next()).done);k=!0)u.value._prepareBuffer(g,p)}catch(A){n=!0,q=A}finally{try{k||null==v.return||v.return()}finally{if(n)throw q;}}p.disableRemainingAttributes();g.indexBuffer&&this._bindBuffer(g.indexBuffer,b.ELEMENT_ARRAY_BUFFER);this._applyColorBlend(this.curFillColor,g.model.hasFillTransparency());this._drawElements(b.TRIANGLES,d);p.unbindShader()}if(!this.geometryBuilder&&
this._doStroke&&0<g.lineVertexCount){this._useLineColor=0<g.model.vertexStrokeColors.length;p=this._getRetainedStrokeShader();k=(this._setStrokeUniforms(p),!0);n=!1;q=void 0;try{for(var x,C=this.retainedMode.buffers.stroke[Symbol.iterator]();!(k=(x=C.next()).done);k=!0)x.value._prepareBuffer(g,p)}catch(A){n=!0,q=A}finally{try{k||null==C.return||C.return()}finally{if(n)throw q;}}p.disableRemainingAttributes();this._applyColorBlend(this.curStrokeColor,g.model.hasStrokeTransparency());this._drawArrays(b.TRIANGLES,
d);p.unbindShader()}return this.geometryBuilder&&this.geometryBuilder.addRetained(g),this};r.default.RendererGL.prototype.drawBuffersScaled=function(d,b,g,p){var k=this.uModelMatrix.copy();try{this.uModelMatrix.scale(b,g,p),this.drawBuffers(d)}finally{this.uModelMatrix=k}};r.default.RendererGL.prototype._drawArrays=function(d,b){return this.GL.drawArrays(d,0,this.retainedMode.geometry[b].lineVertexCount),this};r.default.RendererGL.prototype._drawElements=function(d,b){b=this.retainedMode.geometry[b];
var g=this.GL;if(b.indexBuffer){if(this._pInst.webglVersion!==l.WEBGL2&&b.indexBufferType===g.UNSIGNED_INT&&!g.getExtension("OES_element_index_uint"))throw Error("Unable to render a 3d model with \x3e 65535 triangles. Your web browser does not support the WebGL Extension OES_element_index_uint.");g.drawElements(g.TRIANGLES,b.vertexCount,b.indexBufferType,0)}else g.drawArrays(d||g.TRIANGLES,0,b.vertexCount)};r.default.RendererGL.prototype._drawPoints=function(d,b){var g=this.GL,p=this._getImmediatePointShader();
this._setPointUniforms(p);this._bindBuffer(b,g.ARRAY_BUFFER,this._vToNArray(d),Float32Array,g.STATIC_DRAW);p.enableAttrib(p.attributes.aPosition,3);this._applyColorBlend(this.curStrokeColor);g.drawArrays(g.Points,0,d.length);p.unbindShader()};var h=r.default.RendererGL;F.default=h},{"../core/constants":272,"../core/main":283,"./p5.RenderBuffer":338,"./p5.RendererGL":341,"core-js/modules/es.array.fill":156,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.some":170,"core-js/modules/es.object.get-own-property-descriptor":186,
"core-js/modules/es.object.keys":189,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.typed-array.copy-within":213,"core-js/modules/es.typed-array.every":214,"core-js/modules/es.typed-array.fill":215,"core-js/modules/es.typed-array.filter":216,"core-js/modules/es.typed-array.find":218,"core-js/modules/es.typed-array.find-index":217,
"core-js/modules/es.typed-array.float32-array":219,"core-js/modules/es.typed-array.for-each":221,"core-js/modules/es.typed-array.includes":222,"core-js/modules/es.typed-array.index-of":223,"core-js/modules/es.typed-array.iterator":226,"core-js/modules/es.typed-array.join":227,"core-js/modules/es.typed-array.last-index-of":228,"core-js/modules/es.typed-array.map":229,"core-js/modules/es.typed-array.reduce":231,"core-js/modules/es.typed-array.reduce-right":230,"core-js/modules/es.typed-array.reverse":232,
"core-js/modules/es.typed-array.set":233,"core-js/modules/es.typed-array.slice":234,"core-js/modules/es.typed-array.some":235,"core-js/modules/es.typed-array.sort":236,"core-js/modules/es.typed-array.subarray":237,"core-js/modules/es.typed-array.to-locale-string":238,"core-js/modules/es.typed-array.to-string":239,"core-js/modules/es.typed-array.uint16-array":240,"core-js/modules/es.typed-array.uint32-array":241,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],
341:[function(a,R,F){function z(X){return(z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(Z){return typeof Z}:function(Z){return Z&&"function"==typeof Symbol&&Z.constructor===Symbol&&Z!==Symbol.prototype?"symbol":typeof Z})(X)}function y(X){return(y="function"==typeof Symbol&&"symbol"===z(Symbol.iterator)?function(Z){return z(Z)}:function(Z){return Z&&"function"==typeof Symbol&&Z.constructor===Symbol&&Z!==Symbol.prototype?"symbol":z(Z)})(X)}function w(){var X;return"function"!=
typeof WeakMap?null:(X=new WeakMap,w=function(){return X},X)}function r(X){return X&&X.__esModule?X:{default:X}}function l(X){if(!(X=function(Z){if(Array.isArray(Z)){for(var L=0,S=Array(Z.length);L<Z.length;L++)S[L]=Z[L];return S}}(X)||function(Z){if(Symbol.iterator in Object(Z)||"[object Arguments]"===Object.prototype.toString.call(Z))return Array.from(Z)}(X)))throw new TypeError("Invalid attempt to spread non-iterable instance");return X}function h(X,Z){for(var L=0;L<Z.length;L++){var S=Z[L];S.enumerable=
S.enumerable||!1;S.configurable=!0;"value"in S&&(S.writable=!0);Object.defineProperty(X,S.key,S)}}function d(X,Z,L){return(d="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(S,E,P){for(;!Object.prototype.hasOwnProperty.call(S,E)&&null!==(S=k(S)););if(S)return(S=Object.getOwnPropertyDescriptor(S,E)).get?S.get.call(P):S.value})(X,Z,L||X)}function b(X,Z){return(b=Object.setPrototypeOf||function(L,S){return L.__proto__=S,L})(X,Z)}function g(X){return function(){var Z,L,S=k(X);return Z=function(){if("undefined"!=
typeof Reflect&&Reflect.construct&&!Reflect.construct.sham){if("function"==typeof Proxy)return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch(E){}}}()?(Z=k(this).constructor,Reflect.construct(S,arguments,Z)):S.apply(this,arguments),S=this,!(L=Z)||"object"!==y(L)&&"function"!=typeof L?p(S):L}}function p(X){if(void 0===X)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return X}function k(X){return(k=Object.setPrototypeOf?
Object.getPrototypeOf:function(Z){return Z.__proto__||Object.getPrototypeOf(Z)})(X)}function n(X,Z,L){Z in X?Object.defineProperty(X,Z,{value:L,enumerable:!0,configurable:!0,writable:!0}):X[Z]=L}function q(X,Z){T+="#define STROKE_CAP_".concat(X," ").concat(Z,"\n");J[A[X]]=Z}function u(X,Z){T+="#define STROKE_JOIN_".concat(X," ").concat(Z,"\n");I[A[X]]=Z}function v(X,Z,L,S,E,P,aa,ja,oa,ra){var la=Z.getParameter(Z.FRAMEBUFFER_BINDING);L=(Z.bindFramebuffer(Z.FRAMEBUFFER,L),ja===Z.RGBA?4:3);var sa=P*
aa*L,Da=oa===Z.UNSIGNED_BYTE?Uint8Array:Float32Array;if(X instanceof Da&&X.length===sa||(X=new Da(sa)),Z.readPixels(S,ra?ra-E-aa:E,P,aa,ja,oa,X),Z.bindFramebuffer(Z.FRAMEBUFFER,la),ra)for(Z=Math.floor(aa/2),L=new Da(P*L),Da=0;Da<Z;Da++)S=Da*P*4,E=(aa-Da-1)*P*4,L.set(X.subarray(S,S+4*P)),X.copyWithin(S,E,E+4*P),X.set(L,E);return X}function x(X,Z,L,S,E,P,aa){var ja=X.getParameter(X.FRAMEBUFFER_BINDING);Z=(X.bindFramebuffer(X.FRAMEBUFFER,Z),E===X.RGBA?4:3);Z=new (P===X.UNSIGNED_BYTE?Uint8Array:Float32Array)(Z);
return X.readPixels(L,aa?aa-S-1:S,1,1,E,P,Z),X.bindFramebuffer(X.FRAMEBUFFER,ja),Array.from(Z)}a("core-js/modules/es.symbol");a("core-js/modules/es.symbol.description");a("core-js/modules/es.symbol.iterator");a("core-js/modules/es.array.concat");a("core-js/modules/es.array.copy-within");a("core-js/modules/es.array.every");a("core-js/modules/es.array.fill");a("core-js/modules/es.array.flat");a("core-js/modules/es.array.flat-map");a("core-js/modules/es.array.from");a("core-js/modules/es.array.includes");
a("core-js/modules/es.array.iterator");a("core-js/modules/es.array.map");a("core-js/modules/es.array.slice");a("core-js/modules/es.array.some");a("core-js/modules/es.array.unscopables.flat");a("core-js/modules/es.array.unscopables.flat-map");a("core-js/modules/es.map");a("core-js/modules/es.object.assign");a("core-js/modules/es.object.get-own-property-descriptor");a("core-js/modules/es.object.get-prototype-of");a("core-js/modules/es.object.to-string");a("core-js/modules/es.reflect.construct");a("core-js/modules/es.reflect.get");
a("core-js/modules/es.regexp.to-string");a("core-js/modules/es.set");a("core-js/modules/es.string.includes");a("core-js/modules/es.string.iterator");a("core-js/modules/es.typed-array.float32-array");a("core-js/modules/es.typed-array.float64-array");a("core-js/modules/es.typed-array.int16-array");a("core-js/modules/es.typed-array.uint8-array");a("core-js/modules/es.typed-array.uint16-array");a("core-js/modules/es.typed-array.uint32-array");a("core-js/modules/es.typed-array.copy-within");a("core-js/modules/es.typed-array.every");
a("core-js/modules/es.typed-array.fill");a("core-js/modules/es.typed-array.filter");a("core-js/modules/es.typed-array.find");a("core-js/modules/es.typed-array.find-index");a("core-js/modules/es.typed-array.for-each");a("core-js/modules/es.typed-array.includes");a("core-js/modules/es.typed-array.index-of");a("core-js/modules/es.typed-array.iterator");a("core-js/modules/es.typed-array.join");a("core-js/modules/es.typed-array.last-index-of");a("core-js/modules/es.typed-array.map");a("core-js/modules/es.typed-array.reduce");
a("core-js/modules/es.typed-array.reduce-right");a("core-js/modules/es.typed-array.reverse");a("core-js/modules/es.typed-array.set");a("core-js/modules/es.typed-array.slice");a("core-js/modules/es.typed-array.some");a("core-js/modules/es.typed-array.sort");a("core-js/modules/es.typed-array.subarray");a("core-js/modules/es.typed-array.to-locale-string");a("core-js/modules/es.typed-array.to-string");a("core-js/modules/es.weak-map");a("core-js/modules/web.dom-collections.iterator");a("core-js/modules/es.symbol");
a("core-js/modules/es.symbol.description");a("core-js/modules/es.symbol.iterator");a("core-js/modules/es.array.concat");a("core-js/modules/es.array.copy-within");a("core-js/modules/es.array.every");a("core-js/modules/es.array.fill");a("core-js/modules/es.array.flat");a("core-js/modules/es.array.flat-map");a("core-js/modules/es.array.from");a("core-js/modules/es.array.includes");a("core-js/modules/es.array.iterator");a("core-js/modules/es.array.map");a("core-js/modules/es.array.slice");a("core-js/modules/es.array.some");
a("core-js/modules/es.array.unscopables.flat");a("core-js/modules/es.array.unscopables.flat-map");a("core-js/modules/es.map");a("core-js/modules/es.object.assign");a("core-js/modules/es.object.to-string");a("core-js/modules/es.set");a("core-js/modules/es.string.includes");a("core-js/modules/es.string.iterator");a("core-js/modules/es.typed-array.float32-array");a("core-js/modules/es.typed-array.float64-array");a("core-js/modules/es.typed-array.int16-array");a("core-js/modules/es.typed-array.uint8-array");
a("core-js/modules/es.typed-array.uint16-array");a("core-js/modules/es.typed-array.uint32-array");a("core-js/modules/es.typed-array.copy-within");a("core-js/modules/es.typed-array.every");a("core-js/modules/es.typed-array.fill");a("core-js/modules/es.typed-array.filter");a("core-js/modules/es.typed-array.find");a("core-js/modules/es.typed-array.find-index");a("core-js/modules/es.typed-array.for-each");a("core-js/modules/es.typed-array.includes");a("core-js/modules/es.typed-array.index-of");a("core-js/modules/es.typed-array.iterator");
a("core-js/modules/es.typed-array.join");a("core-js/modules/es.typed-array.last-index-of");a("core-js/modules/es.typed-array.map");a("core-js/modules/es.typed-array.reduce");a("core-js/modules/es.typed-array.reduce-right");a("core-js/modules/es.typed-array.reverse");a("core-js/modules/es.typed-array.set");a("core-js/modules/es.typed-array.slice");a("core-js/modules/es.typed-array.some");a("core-js/modules/es.typed-array.sort");a("core-js/modules/es.typed-array.subarray");a("core-js/modules/es.typed-array.to-locale-string");
a("core-js/modules/es.typed-array.to-string");a("core-js/modules/web.dom-collections.iterator");Object.defineProperty(F,"__esModule",{value:!0});F.readPixelsWebGL=v;F.readPixelWebGL=x;F.default=void 0;var C=r(a("../core/main")),A=function(X){if(X&&X.__esModule)return X;if(null===X||"object"!==y(X)&&"function"!=typeof X)return{default:X};var Z=w();if(Z&&Z.has(X))return Z.get(X);var L,S={},E=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(L in X){var P;Object.prototype.hasOwnProperty.call(X,
L)&&((P=E?Object.getOwnPropertyDescriptor(X,L):null)&&(P.get||P.set)?Object.defineProperty(S,L,P):S[L]=X[L])}S.default=X;Z&&Z.set(X,S);return S}(a("../core/constants")),M=r(a("./GeometryBuilder")),K=r(a("libtess")),G=(a("./p5.Shader"),a("./p5.Camera"),a("../core/p5.Renderer"),a("./p5.Matrix"),a("./p5.Framebuffer"),a("path"),a("./p5.Texture")),U,J={},I={},T="";a=(q("ROUND",0),q("PROJECT",1),q("SQUARE",2),u("ROUND",0),u("MITER",1),u("BEVEL",2),'#define PI 3.141592\n\nprecision highp float;\nprecision highp int;\n\nuniform mat4 uViewMatrix;\n\nuniform bool uUseLighting;\n\nuniform int uAmbientLightCount;\nuniform vec3 uAmbientColor[5];\nuniform mat3 uCameraRotation;\nuniform int uDirectionalLightCount;\nuniform vec3 uLightingDirection[5];\nuniform vec3 uDirectionalDiffuseColors[5];\nuniform vec3 uDirectionalSpecularColors[5];\n\nuniform int uPointLightCount;\nuniform vec3 uPointLightLocation[5];\nuniform vec3 uPointLightDiffuseColors[5];\t\nuniform vec3 uPointLightSpecularColors[5];\n\nuniform int uSpotLightCount;\nuniform float uSpotLightAngle[5];\nuniform float uSpotLightConc[5];\nuniform vec3 uSpotLightDiffuseColors[5];\nuniform vec3 uSpotLightSpecularColors[5];\nuniform vec3 uSpotLightLocation[5];\nuniform vec3 uSpotLightDirection[5];\n\nuniform bool uSpecular;\nuniform float uShininess;\nuniform float uMetallic;\n\nuniform float uConstantAttenuation;\nuniform float uLinearAttenuation;\nuniform float uQuadraticAttenuation;\n\n// setting from  _setImageLightUniforms()\n// boolean to initiate the calculateImageDiffuse and calculateImageSpecular\nuniform bool uUseImageLight;\n// texture for use in calculateImageDiffuse\nuniform sampler2D environmentMapDiffused;\n// texture for use in calculateImageSpecular\nuniform sampler2D environmentMapSpecular;\n\nconst float specularFactor \x3d 2.0;\nconst float diffuseFactor \x3d 0.73;\n\nstruct LightResult {\n  float specular;\n  float diffuse;\n};\n\nfloat _phongSpecular(\n  vec3 lightDirection,\n  vec3 viewDirection,\n  vec3 surfaceNormal,\n  float shininess) {\n\n  vec3 R \x3d reflect(lightDirection, surfaceNormal);\n  return pow(max(0.0, dot(R, viewDirection)), shininess);\n}\n\nfloat _lambertDiffuse(vec3 lightDirection, vec3 surfaceNormal) {\n  return max(0.0, dot(-lightDirection, surfaceNormal));\n}\n\nLightResult _light(vec3 viewDirection, vec3 normal, vec3 lightVector, float shininess, float metallic) {\n\n  vec3 lightDir \x3d normalize(lightVector);\n\n  //compute our diffuse \x26 specular terms\n  LightResult lr;\n  float specularIntensity \x3d mix(1.0, 0.4, metallic);\n  float diffuseIntensity \x3d mix(1.0, 0.1, metallic);\n  if (uSpecular)\n    lr.specular \x3d (_phongSpecular(lightDir, viewDirection, normal, shininess)) * specularIntensity;\n    lr.diffuse \x3d _lambertDiffuse(lightDir, normal) * diffuseIntensity;\n  return lr;\n}\n\n// converts the range of "value" from [min1 to max1] to [min2 to max2]\nfloat map(float value, float min1, float max1, float min2, float max2) {\n  return min2 + (value - min1) * (max2 - min2) / (max1 - min1);\n}\n\nvec2 mapTextureToNormal( vec3 v ){\n  // x \x3d r sin(phi) cos(theta)   \n  // y \x3d r cos(phi)  \n  // z \x3d r sin(phi) sin(theta)\n  float phi \x3d acos( v.y );\n  // if phi is 0, then there are no x, z components\n  float theta \x3d 0.0;\n  // else \n  theta \x3d acos(v.x / sin(phi));\n  float sinTheta \x3d v.z / sin(phi);\n  if (sinTheta \x3c 0.0) {\n    // Turn it into -theta, but in the 0-2PI range\n    theta \x3d 2.0 * PI - theta;\n  }\n  theta \x3d theta / (2.0 * 3.14159);\n  phi \x3d phi / 3.14159 ;\n  \n  vec2 angles \x3d vec2( fract(theta + 0.25), 1.0 - phi );\n  return angles;\n}\n\n\nvec3 calculateImageDiffuse(vec3 vNormal, vec3 vViewPosition, float metallic){\n  // make 2 seperate builds \n  vec3 worldCameraPosition \x3d  vec3(0.0, 0.0, 0.0);  // hardcoded world camera position\n  vec3 worldNormal \x3d normalize(vNormal * uCameraRotation);\n  vec2 newTexCoor \x3d mapTextureToNormal( worldNormal );\n  vec4 texture \x3d TEXTURE( environmentMapDiffused, newTexCoor );\n  // this is to make the darker sections more dark\n  // png and jpg usually flatten the brightness so it is to reverse that\n  return mix(smoothstep(vec3(0.0), vec3(1.0), texture.xyz), vec3(0.0), metallic);\n}\n\nvec3 calculateImageSpecular(vec3 vNormal, vec3 vViewPosition, float shininess, float metallic){\n  vec3 worldCameraPosition \x3d  vec3(0.0, 0.0, 0.0);\n  vec3 worldNormal \x3d normalize(vNormal);\n  vec3 lightDirection \x3d normalize( vViewPosition - worldCameraPosition );\n  vec3 R \x3d reflect(lightDirection, worldNormal) * uCameraRotation;\n  vec2 newTexCoor \x3d mapTextureToNormal( R );\n#ifdef WEBGL2\n  // In p5js the range of shininess is \x3e\x3d 1,\n  // Therefore roughness range will be ([0,1]*8)*20 or [0, 160]\n  // The factor of 8 is because currently the getSpecularTexture\n  // only calculated 8 different levels of roughness\n  // The factor of 20 is just to spread up this range so that,\n  // [1, max] of shininess is converted to [0,160] of roughness\n  float roughness \x3d 20. / shininess;\n  vec4 outColor \x3d textureLod(environmentMapSpecular, newTexCoor, roughness * 8.);\n#else\n  vec4 outColor \x3d TEXTURE(environmentMapSpecular, newTexCoor);\n#endif\n  // this is to make the darker sections more dark\n  // png and jpg usually flatten the brightness so it is to reverse that\n  return mix(\n    pow(outColor.xyz, vec3(10)),\n    pow(outColor.xyz, vec3(1.2)),\n    metallic \n  );\n}\n\nvoid totalLight(\n  vec3 modelPosition,\n  vec3 normal,\n  float shininess,\n  float metallic,\n  out vec3 totalDiffuse,\n  out vec3 totalSpecular\n) {\n\n  totalSpecular \x3d vec3(0.0);\n\n  if (!uUseLighting) {\n    totalDiffuse \x3d vec3(1.0);\n    return;\n  }\n\n  totalDiffuse \x3d vec3(0.0);\n\n  vec3 viewDirection \x3d normalize(-modelPosition);\n\n  for (int j \x3d 0; j \x3c 5; j++) {\n    if (j \x3c uDirectionalLightCount) {\n      vec3 lightVector \x3d (uViewMatrix * vec4(uLightingDirection[j], 0.0)).xyz;\n      vec3 lightColor \x3d uDirectionalDiffuseColors[j];\n      vec3 specularColor \x3d uDirectionalSpecularColors[j];\n      LightResult result \x3d _light(viewDirection, normal, lightVector, shininess, metallic);\n      totalDiffuse +\x3d result.diffuse * lightColor;\n      totalSpecular +\x3d result.specular * lightColor * specularColor;\n    }\n\n    if (j \x3c uPointLightCount) {\n      vec3 lightPosition \x3d (uViewMatrix * vec4(uPointLightLocation[j], 1.0)).xyz;\n      vec3 lightVector \x3d modelPosition - lightPosition;\n      //calculate attenuation\n      float lightDistance \x3d length(lightVector);\n      float lightFalloff \x3d 1.0 / (uConstantAttenuation + lightDistance * uLinearAttenuation + (lightDistance * lightDistance) * uQuadraticAttenuation);\n      vec3 lightColor \x3d lightFalloff * uPointLightDiffuseColors[j];\n      vec3 specularColor \x3d lightFalloff * uPointLightSpecularColors[j];\n\n      LightResult result \x3d _light(viewDirection, normal, lightVector, shininess, metallic);\n      totalDiffuse +\x3d result.diffuse * lightColor;\n      totalSpecular +\x3d result.specular * lightColor * specularColor;\n    }\n\n    if(j \x3c uSpotLightCount) {\n      vec3 lightPosition \x3d (uViewMatrix * vec4(uSpotLightLocation[j], 1.0)).xyz;\n      vec3 lightVector \x3d modelPosition - lightPosition;\n    \n      float lightDistance \x3d length(lightVector);\n      float lightFalloff \x3d 1.0 / (uConstantAttenuation + lightDistance * uLinearAttenuation + (lightDistance * lightDistance) * uQuadraticAttenuation);\n\n      vec3 lightDirection \x3d (uViewMatrix * vec4(uSpotLightDirection[j], 0.0)).xyz;\n      float spotDot \x3d dot(normalize(lightVector), normalize(lightDirection));\n      float spotFalloff;\n      if(spotDot \x3c uSpotLightAngle[j]) {\n        spotFalloff \x3d 0.0;\n      }\n      else {\n        spotFalloff \x3d pow(spotDot, uSpotLightConc[j]);\n      }\n      lightFalloff *\x3d spotFalloff;\n\n      vec3 lightColor \x3d uSpotLightDiffuseColors[j];\n      vec3 specularColor \x3d uSpotLightSpecularColors[j];\n     \n      LightResult result \x3d _light(viewDirection, normal, lightVector, shininess, metallic);\n      \n      totalDiffuse +\x3d result.diffuse * lightColor * lightFalloff;\n      totalSpecular +\x3d result.specular * lightColor * specularColor * lightFalloff;\n    }\n  }\n\n  if( uUseImageLight ){\n    totalDiffuse +\x3d calculateImageDiffuse(normal, modelPosition, metallic);\n    totalSpecular +\x3d calculateImageSpecular(normal, modelPosition, shininess, metallic);\n  }\n\n  totalDiffuse *\x3d diffuseFactor;\n  totalSpecular *\x3d specularFactor;\n}\n');
var Y={sphereMappingFrag:"#define PI 3.141592\n\nprecision highp float;\n  \nuniform sampler2D uSampler;\nuniform mat3 uNewNormalMatrix;\nuniform float uFovY;\nuniform float uAspect;\n\nvarying vec2 vTexCoord;\n  \nvoid main() {\n    float uFovX \x3d uFovY * uAspect; \n    vec4 newTexColor \x3d texture2D(uSampler, vTexCoord);\n    float angleY \x3d mix(uFovY/2.0,  -uFovY/2.0, vTexCoord.y);\n    float angleX \x3d mix(uFovX/2.0, -uFovX/2.0, vTexCoord.x);\n    vec3 rotatedNormal \x3d vec3( angleX, angleY, 1.0 );\n    rotatedNormal \x3d uNewNormalMatrix * normalize(rotatedNormal);\n    float temp \x3d rotatedNormal.z;\n    rotatedNormal.z \x3d rotatedNormal.x;\n    rotatedNormal.x \x3d -temp;\n    vec2 suv;\n    suv.y \x3d 0.5 + 0.5 * (-rotatedNormal.y);\n    suv.x \x3d atan(rotatedNormal.z, rotatedNormal.x) / (2.0 * PI) + 0.5;\n    newTexColor \x3d texture2D(uSampler, suv.xy);\n    gl_FragColor \x3d newTexColor;\n}\n",
immediateVert:"IN vec3 aPosition;\nIN vec4 aVertexColor;\n\nuniform mat4 uModelViewMatrix;\nuniform mat4 uProjectionMatrix;\nuniform float uResolution;\nuniform float uPointSize;\n\nOUT vec4 vColor;\nvoid main(void) {\n  vec4 positionVec4 \x3d vec4(aPosition, 1.0);\n  gl_Position \x3d uProjectionMatrix * uModelViewMatrix * positionVec4;\n  vColor \x3d aVertexColor;\n  gl_PointSize \x3d uPointSize;\n}\n",vertexColorVert:"IN vec3 aPosition;\nIN vec4 aVertexColor;\n\nuniform mat4 uModelViewMatrix;\nuniform mat4 uProjectionMatrix;\n\nOUT vec4 vColor;\n\nvoid main(void) {\n  vec4 positionVec4 \x3d vec4(aPosition, 1.0);\n  gl_Position \x3d uProjectionMatrix * uModelViewMatrix * positionVec4;\n  vColor \x3d aVertexColor;\n}\n",
vertexColorFrag:"IN vec4 vColor;\nvoid main(void) {\n  OUT_COLOR \x3d vec4(vColor.rgb, 1.) * vColor.a;\n}\n",normalVert:"IN vec3 aPosition;\nIN vec3 aNormal;\nIN vec2 aTexCoord;\nIN vec4 aVertexColor;\n\nuniform mat4 uModelViewMatrix;\nuniform mat4 uProjectionMatrix;\nuniform mat3 uNormalMatrix;\n\nuniform vec4 uMaterialColor;\nuniform bool uUseVertexColor;\n\nOUT vec3 vVertexNormal;\nOUT highp vec2 vVertTexCoord;\nOUT vec4 vColor;\n\nvoid main(void) {\n  HOOK_beforeVertex();\n  vec4 positionVec4 \x3d vec4(HOOK_getWorldPosition(\n    (uModelViewMatrix * vec4(HOOK_getLocalPosition(aPosition), 1.0)).xyz\n  ), 1.);\n\n  gl_Position \x3d uProjectionMatrix * positionVec4;\n\n  vVertexNormal \x3d HOOK_getWorldNormal(normalize(uNormalMatrix * HOOK_getLocalNormal(aNormal)));\n  vVertTexCoord \x3d HOOK_getUV(aTexCoord);\n  vColor \x3d HOOK_getVertexColor(uUseVertexColor ? aVertexColor : uMaterialColor);\n  HOOK_afterVertex();\n}\n",
normalFrag:"IN vec3 vVertexNormal;\nvoid main(void) {\n  HOOK_beforeFragment();\n  OUT_COLOR \x3d HOOK_getFinalColor(vec4(vVertexNormal, 1.0));\n  HOOK_afterFragment();\n}\n",basicFrag:"IN vec4 vColor;\nvoid main(void) {\n  HOOK_beforeFragment();\n  OUT_COLOR \x3d HOOK_getFinalColor(vec4(vColor.rgb, 1.) * vColor.a);\n  HOOK_afterFragment();\n}\n",lightVert:a+"// include lighting.glgl\n\nIN vec3 aPosition;\nIN vec3 aNormal;\nIN vec2 aTexCoord;\nIN vec4 aVertexColor;\n\nuniform mat4 uModelViewMatrix;\nuniform mat4 uProjectionMatrix;\nuniform mat3 uNormalMatrix;\n\nuniform bool uUseVertexColor;\nuniform vec4 uMaterialColor;\n\nOUT highp vec2 vVertTexCoord;\nOUT vec3 vDiffuseColor;\nOUT vec3 vSpecularColor;\nOUT vec4 vColor;\n\nvoid main(void) {\n\n  vec4 viewModelPosition \x3d uModelViewMatrix * vec4(aPosition, 1.0);\n  gl_Position \x3d uProjectionMatrix * viewModelPosition;\n\n  vec3 vertexNormal \x3d normalize(uNormalMatrix * aNormal);\n  vVertTexCoord \x3d aTexCoord;\n\n  totalLight(viewModelPosition.xyz, vertexNormal, vDiffuseColor, vSpecularColor);\n\n  for (int i \x3d 0; i \x3c 8; i++) {\n    if (i \x3c uAmbientLightCount) {\n      vDiffuseColor +\x3d uAmbientColor[i];\n    }\n  }\n  \n  vColor \x3d (uUseVertexColor ? aVertexColor : uMaterialColor);\n}\n",
lightTextureFrag:"uniform vec4 uTint;\nuniform sampler2D uSampler;\nuniform bool isTexture;\nuniform bool uEmissive;\n\nIN highp vec2 vVertTexCoord;\nIN vec3 vDiffuseColor;\nIN vec3 vSpecularColor;\nIN vec4 vColor;\n\nvoid main(void) {\n  if(uEmissive \x26\x26 !isTexture) {\n    OUT_COLOR \x3d vColor;\n  }\n  else {\n    vec4 baseColor \x3d isTexture\n      // Textures come in with premultiplied alpha. To apply tint and still have\n      // premultiplied alpha output, we need to multiply the RGB channels by the\n      // tint RGB, and all channels by the tint alpha.\n      ? TEXTURE(uSampler, vVertTexCoord) * vec4(uTint.rgb/255., 1.) * (uTint.a/255.)\n      // Colors come in with unmultiplied alpha, so we need to multiply the RGB\n      // channels by alpha to convert it to premultiplied alpha.\n      : vec4(vColor.rgb * vColor.a, vColor.a);\n    OUT_COLOR \x3d vec4(baseColor.rgb * vDiffuseColor + vSpecularColor, baseColor.a);\n  }\n}\n",
phongVert:"precision highp int;\n\nIN vec3 aPosition;\nIN vec3 aNormal;\nIN vec2 aTexCoord;\nIN vec4 aVertexColor;\n\nuniform vec3 uAmbientColor[5];\n\nuniform mat4 uModelViewMatrix;\nuniform mat4 uProjectionMatrix;\nuniform mat3 uNormalMatrix;\nuniform int uAmbientLightCount;\n\nuniform bool uUseVertexColor;\nuniform vec4 uMaterialColor;\n\nOUT vec3 vNormal;\nOUT vec2 vTexCoord;\nOUT vec3 vViewPosition;\nOUT vec3 vAmbientColor;\nOUT vec4 vColor;\n\nvoid main(void) {\n  HOOK_beforeVertex();\n  vec4 viewModelPosition \x3d vec4(HOOK_getWorldPosition(\n    (uModelViewMatrix * vec4(HOOK_getLocalPosition(aPosition), 1.0)).xyz\n  ), 1.);\n\n  // Pass varyings to fragment shader\n  vViewPosition \x3d viewModelPosition.xyz;\n  gl_Position \x3d uProjectionMatrix * viewModelPosition;  \n\n  vNormal \x3d HOOK_getWorldNormal(uNormalMatrix * HOOK_getLocalNormal(aNormal));\n  vTexCoord \x3d HOOK_getUV(aTexCoord);\n\n  // TODO: this should be a uniform\n  vAmbientColor \x3d vec3(0.0);\n  for (int i \x3d 0; i \x3c 5; i++) {\n    if (i \x3c uAmbientLightCount) {\n      vAmbientColor +\x3d uAmbientColor[i];\n    }\n  }\n  \n  vColor \x3d HOOK_getVertexColor((uUseVertexColor ? aVertexColor : uMaterialColor));\n  HOOK_afterVertex();\n}\n",
phongFrag:a+"// include lighting.glsl\nprecision highp int;\n\nuniform bool uHasSetAmbient;\nuniform vec4 uSpecularMatColor;\nuniform vec4 uAmbientMatColor;\nuniform vec4 uEmissiveMatColor;\n\nuniform vec4 uTint;\nuniform sampler2D uSampler;\nuniform bool isTexture;\n\nIN vec3 vNormal;\nIN vec2 vTexCoord;\nIN vec3 vViewPosition;\nIN vec3 vAmbientColor;\nIN vec4 vColor;\n\nstruct ColorComponents {\n  vec3 baseColor;\n  float opacity;\n  vec3 ambientColor;\n  vec3 specularColor;\n  vec3 diffuse;\n  vec3 ambient;\n  vec3 specular;\n  vec3 emissive;\n};\n\nstruct Inputs {\n  vec3 normal;\n  vec2 texCoord;\n  vec3 ambientLight;\n  vec3 ambientMaterial;\n  vec3 specularMaterial;\n  vec3 emissiveMaterial;\n  vec4 color;\n  float shininess;\n  float metalness;\n};\n\nvoid main(void) {\n  HOOK_beforeFragment();\n\n  Inputs inputs;\n  inputs.normal \x3d normalize(vNormal);\n  inputs.texCoord \x3d vTexCoord;\n  inputs.ambientLight \x3d vAmbientColor;\n  inputs.color \x3d isTexture\n      // Textures come in with premultiplied alpha. To apply tint and still have\n      // premultiplied alpha output, we need to multiply the RGB channels by the\n      // tint RGB, and all channels by the tint alpha.\n      ? TEXTURE(uSampler, vTexCoord) * vec4(uTint.rgb/255., 1.) * (uTint.a/255.)\n      // Colors come in with unmultiplied alpha, so we need to multiply the RGB\n      // channels by alpha to convert it to premultiplied alpha.\n      : vec4(vColor.rgb * vColor.a, vColor.a);\n  inputs.shininess \x3d uShininess;\n  inputs.metalness \x3d uMetallic;\n  inputs.ambientMaterial \x3d uHasSetAmbient ? uAmbientMatColor.rgb : inputs.color.rgb;\n  inputs.specularMaterial \x3d uSpecularMatColor.rgb;\n  inputs.emissiveMaterial \x3d uEmissiveMatColor.rgb;\n  inputs \x3d HOOK_getPixelInputs(inputs);\n\n  vec3 diffuse;\n  vec3 specular;\n  totalLight(vViewPosition, inputs.normal, inputs.shininess, inputs.metalness, diffuse, specular);\n\n  // Calculating final color as result of all lights (plus emissive term).\n\n  vec2 texCoord \x3d inputs.texCoord;\n  vec4 baseColor \x3d inputs.color;\n  ColorComponents c;\n  c.opacity \x3d baseColor.a;\n  c.baseColor \x3d baseColor.rgb;\n  c.ambientColor \x3d inputs.ambientMaterial;\n  c.specularColor \x3d inputs.specularMaterial;\n  c.diffuse \x3d diffuse;\n  c.ambient \x3d inputs.ambientLight;\n  c.specular \x3d specular;\n  c.emissive \x3d inputs.emissiveMaterial;\n  OUT_COLOR \x3d HOOK_getFinalColor(HOOK_combineColors(c));\n  HOOK_afterFragment();\n}\n",
fontVert:"IN vec3 aPosition;\nIN vec2 aTexCoord;\nuniform mat4 uModelViewMatrix;\nuniform mat4 uProjectionMatrix;\n\nuniform vec4 uGlyphRect;\nuniform float uGlyphOffset;\n\nOUT vec2 vTexCoord;\nOUT float w;\n\nvoid main() {\n  vec4 positionVec4 \x3d vec4(aPosition, 1.0);\n\n  // scale by the size of the glyph's rectangle\n  positionVec4.xy *\x3d uGlyphRect.zw - uGlyphRect.xy;\n\n  // Expand glyph bounding boxes by 1px on each side to give a bit of room\n  // for antialiasing\n  vec3 newOrigin \x3d (uModelViewMatrix * vec4(0., 0., 0., 1.)).xyz;\n  vec3 newDX \x3d (uModelViewMatrix * vec4(1., 0., 0., 1.)).xyz;\n  vec3 newDY \x3d (uModelViewMatrix * vec4(0., 1., 0., 1.)).xyz;\n  vec2 pixelScale \x3d vec2(\n    1. / length(newOrigin - newDX),\n    1. / length(newOrigin - newDY)\n  );\n  vec2 offset \x3d pixelScale * normalize(aTexCoord - vec2(0.5, 0.5)) * vec2(1., -1.);\n  vec2 textureOffset \x3d offset * (1. / vec2(\n    uGlyphRect.z - uGlyphRect.x,\n    uGlyphRect.w - uGlyphRect.y\n  ));\n\n  // move to the corner of the glyph\n  positionVec4.xy +\x3d uGlyphRect.xy;\n\n  // move to the letter's line offset\n  positionVec4.x +\x3d uGlyphOffset;\n\n  positionVec4.xy +\x3d offset;\n  \n  gl_Position \x3d uProjectionMatrix * uModelViewMatrix * positionVec4;\n  vTexCoord \x3d aTexCoord + textureOffset;\n  w \x3d gl_Position.w;\n}\n",
fontFrag:"#ifndef WEBGL2\n#extension GL_OES_standard_derivatives : enable\n#endif\n\n#if 0\n  // simulate integer math using floats\n\t#define int float\n\t#define ivec2 vec2\n\t#define INT(x) float(x)\n\n\tint ifloor(float v) { return floor(v); }\n\tivec2 ifloor(vec2 v) { return floor(v); }\n\n#else\n  // use native integer math\n\tprecision highp int;\n\t#define INT(x) x\n\n\tint ifloor(float v) { return int(v); }\n\tint ifloor(int v) { return v; }\n\tivec2 ifloor(vec2 v) { return ivec2(v); }\n\n#endif\n\nuniform sampler2D uSamplerStrokes;\nuniform sampler2D uSamplerRowStrokes;\nuniform sampler2D uSamplerRows;\nuniform sampler2D uSamplerColStrokes;\nuniform sampler2D uSamplerCols;\n\nuniform ivec2 uStrokeImageSize;\nuniform ivec2 uCellsImageSize;\nuniform ivec2 uGridImageSize;\n\nuniform ivec2 uGridOffset;\nuniform ivec2 uGridSize;\nuniform vec4 uMaterialColor;\n\nIN vec2 vTexCoord;\n\n// some helper functions\nint ROUND(float v) { return ifloor(v + 0.5); }\nivec2 ROUND(vec2 v) { return ifloor(v + 0.5); }\nfloat saturate(float v) { return clamp(v, 0.0, 1.0); }\nvec2 saturate(vec2 v) { return clamp(v, 0.0, 1.0); }\n\nint mul(float v1, int v2) {\n  return ifloor(v1 * float(v2));\n}\n\nivec2 mul(vec2 v1, ivec2 v2) {\n  return ifloor(v1 * vec2(v2) + 0.5);\n}\n\n// unpack a 16-bit integer from a float vec2\nint getInt16(vec2 v) {\n  ivec2 iv \x3d ROUND(v * 255.0);\n  return iv.x * INT(128) + iv.y;\n}\n\nvec2 pixelScale;\nvec2 coverage \x3d vec2(0.0);\nvec2 weight \x3d vec2(0.5);\nconst float minDistance \x3d 1.0/8192.0;\nconst float hardness \x3d 1.05; // amount of antialias\n\n// the maximum number of curves in a glyph\nconst int N \x3d INT(250);\n\n// retrieves an indexed pixel from a sampler\nvec4 getTexel(sampler2D sampler, int pos, ivec2 size) {\n  int width \x3d size.x;\n  int y \x3d ifloor(pos / width);\n  int x \x3d pos - y * width;  // pos % width\n\n  return TEXTURE(sampler, (vec2(x, y) + 0.5) / vec2(size));\n}\n\nvoid calulateCrossings(vec2 p0, vec2 p1, vec2 p2, out vec2 C1, out vec2 C2) {\n\n  // get the coefficients of the quadratic in t\n  vec2 a \x3d p0 - p1 * 2.0 + p2;\n  vec2 b \x3d p0 - p1;\n  vec2 c \x3d p0 - vTexCoord;\n\n  // found out which values of 't' it crosses the axes\n  vec2 surd \x3d sqrt(max(vec2(0.0), b * b - a * c));\n  vec2 t1 \x3d ((b - surd) / a).yx;\n  vec2 t2 \x3d ((b + surd) / a).yx;\n\n  // approximate straight lines to avoid rounding errors\n  if (abs(a.y) \x3c 0.001)\n    t1.x \x3d t2.x \x3d c.y / (2.0 * b.y);\n\n  if (abs(a.x) \x3c 0.001)\n    t1.y \x3d t2.y \x3d c.x / (2.0 * b.x);\n\n  // plug into quadratic formula to find the corrdinates of the crossings\n  C1 \x3d ((a * t1 - b * 2.0) * t1 + c) * pixelScale;\n  C2 \x3d ((a * t2 - b * 2.0) * t2 + c) * pixelScale;\n}\n\nvoid coverageX(vec2 p0, vec2 p1, vec2 p2) {\n\n  vec2 C1, C2;\n  calulateCrossings(p0, p1, p2, C1, C2);\n\n  // determine on which side of the x-axis the points lie\n  bool y0 \x3d p0.y \x3e vTexCoord.y;\n  bool y1 \x3d p1.y \x3e vTexCoord.y;\n  bool y2 \x3d p2.y \x3e vTexCoord.y;\n\n  // could web be under the curve (after t1)?\n  if (y1 ? !y2 : y0) {\n    // add the coverage for t1\n    coverage.x +\x3d saturate(C1.x + 0.5);\n    // calculate the anti-aliasing for t1\n    weight.x \x3d min(weight.x, abs(C1.x));\n  }\n\n  // are we outside the curve (after t2)?\n  if (y1 ? !y0 : y2) {\n    // subtract the coverage for t2\n    coverage.x -\x3d saturate(C2.x + 0.5);\n    // calculate the anti-aliasing for t2\n    weight.x \x3d min(weight.x, abs(C2.x));\n  }\n}\n\n// this is essentially the same as coverageX, but with the axes swapped\nvoid coverageY(vec2 p0, vec2 p1, vec2 p2) {\n\n  vec2 C1, C2;\n  calulateCrossings(p0, p1, p2, C1, C2);\n\n  bool x0 \x3d p0.x \x3e vTexCoord.x;\n  bool x1 \x3d p1.x \x3e vTexCoord.x;\n  bool x2 \x3d p2.x \x3e vTexCoord.x;\n\n  if (x1 ? !x2 : x0) {\n    coverage.y -\x3d saturate(C1.y + 0.5);\n    weight.y \x3d min(weight.y, abs(C1.y));\n  }\n\n  if (x1 ? !x0 : x2) {\n    coverage.y +\x3d saturate(C2.y + 0.5);\n    weight.y \x3d min(weight.y, abs(C2.y));\n  }\n}\n\nvoid main() {\n\n  // calculate the pixel scale based on screen-coordinates\n  pixelScale \x3d hardness / fwidth(vTexCoord);\n\n  // which grid cell is this pixel in?\n  ivec2 gridCoord \x3d ifloor(vTexCoord * vec2(uGridSize));\n\n  // intersect curves in this row\n  {\n    // the index into the row info bitmap\n    int rowIndex \x3d gridCoord.y + uGridOffset.y;\n    // fetch the info texel\n    vec4 rowInfo \x3d getTexel(uSamplerRows, rowIndex, uGridImageSize);\n    // unpack the rowInfo\n    int rowStrokeIndex \x3d getInt16(rowInfo.xy);\n    int rowStrokeCount \x3d getInt16(rowInfo.zw);\n\n    for (int iRowStroke \x3d INT(0); iRowStroke \x3c N; iRowStroke++) {\n      if (iRowStroke \x3e\x3d rowStrokeCount)\n        break;\n\n      // each stroke is made up of 3 points: the start and control point\n      // and the start of the next curve.\n      // fetch the indices of this pair of strokes:\n      vec4 strokeIndices \x3d getTexel(uSamplerRowStrokes, rowStrokeIndex++, uCellsImageSize);\n\n      // unpack the stroke index\n      int strokePos \x3d getInt16(strokeIndices.xy);\n\n      // fetch the two strokes\n      vec4 stroke0 \x3d getTexel(uSamplerStrokes, strokePos + INT(0), uStrokeImageSize);\n      vec4 stroke1 \x3d getTexel(uSamplerStrokes, strokePos + INT(1), uStrokeImageSize);\n\n      // calculate the coverage\n      coverageX(stroke0.xy, stroke0.zw, stroke1.xy);\n    }\n  }\n\n  // intersect curves in this column\n  {\n    int colIndex \x3d gridCoord.x + uGridOffset.x;\n    vec4 colInfo \x3d getTexel(uSamplerCols, colIndex, uGridImageSize);\n    int colStrokeIndex \x3d getInt16(colInfo.xy);\n    int colStrokeCount \x3d getInt16(colInfo.zw);\n    \n    for (int iColStroke \x3d INT(0); iColStroke \x3c N; iColStroke++) {\n      if (iColStroke \x3e\x3d colStrokeCount)\n        break;\n\n      vec4 strokeIndices \x3d getTexel(uSamplerColStrokes, colStrokeIndex++, uCellsImageSize);\n\n      int strokePos \x3d getInt16(strokeIndices.xy);\n      vec4 stroke0 \x3d getTexel(uSamplerStrokes, strokePos + INT(0), uStrokeImageSize);\n      vec4 stroke1 \x3d getTexel(uSamplerStrokes, strokePos + INT(1), uStrokeImageSize);\n      coverageY(stroke0.xy, stroke0.zw, stroke1.xy);\n    }\n  }\n\n  weight \x3d saturate(1.0 - weight * 2.0);\n  float distance \x3d max(weight.x + weight.y, minDistance); // manhattan approx.\n  float antialias \x3d abs(dot(coverage, weight) / distance);\n  float cover \x3d min(abs(coverage.x), abs(coverage.y));\n  OUT_COLOR \x3d vec4(uMaterialColor.rgb, 1.) * uMaterialColor.a;\n  OUT_COLOR *\x3d saturate(max(antialias, cover));\n}\n",
lineVert:T+"/*\n  Part of the Processing project - http://processing.org\n  Copyright (c) 2012-15 The Processing Foundation\n  Copyright (c) 2004-12 Ben Fry and Casey Reas\n  Copyright (c) 2001-04 Massachusetts Institute of Technology\n  This library is free software; you can redistribute it and/or\n  modify it under the terms of the GNU Lesser General Public\n  License as published by the Free Software Foundation, version 2.1.\n  This library is distributed in the hope that it will be useful,\n  but WITHOUT ANY WARRANTY; without even the implied warranty of\n  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n  Lesser General Public License for more details.\n  You should have received a copy of the GNU Lesser General\n  Public License along with this library; if not, write to the\n  Free Software Foundation, Inc., 59 Temple Place, Suite 330,\n  Boston, MA  02111-1307  USA\n*/\n\n#define PROCESSING_LINE_SHADER\n\nprecision mediump int;\n\nuniform mat4 uModelViewMatrix;\nuniform mat4 uProjectionMatrix;\nuniform float uStrokeWeight;\n\nuniform bool uUseLineColor;\nuniform vec4 uMaterialColor;\n\nuniform vec4 uViewport;\nuniform int uPerspective;\nuniform int uStrokeJoin;\n\nIN vec4 aPosition;\nIN vec3 aTangentIn;\nIN vec3 aTangentOut;\nIN float aSide;\nIN vec4 aVertexColor;\n\nOUT vec4 vColor;\nOUT vec2 vTangent;\nOUT vec2 vCenter;\nOUT vec2 vPosition;\nOUT float vMaxDist;\nOUT float vCap;\nOUT float vJoin;\nOUT float vStrokeWeight;\n\nvec2 lineIntersection(vec2 aPoint, vec2 aDir, vec2 bPoint, vec2 bDir) {\n  // Rotate and translate so a starts at the origin and goes out to the right\n  bPoint -\x3d aPoint;\n  vec2 rotatedBFrom \x3d vec2(\n    bPoint.x*aDir.x + bPoint.y*aDir.y,\n    bPoint.y*aDir.x - bPoint.x*aDir.y\n  );\n  vec2 bTo \x3d bPoint + bDir;\n  vec2 rotatedBTo \x3d vec2(\n    bTo.x*aDir.x + bTo.y*aDir.y,\n    bTo.y*aDir.x - bTo.x*aDir.y\n  );\n  float intersectionDistance \x3d\n    rotatedBTo.x + (rotatedBFrom.x - rotatedBTo.x) * rotatedBTo.y /\n    (rotatedBTo.y - rotatedBFrom.y);\n  return aPoint + aDir * intersectionDistance;\n}\n\nvoid main() {\n  HOOK_beforeVertex();\n  // Caps have one of either the in or out tangent set to 0\n  vCap \x3d (aTangentIn \x3d\x3d vec3(0.)) !\x3d (aTangentOut \x3d\x3d (vec3(0.)))\n    ? 1. : 0.;\n\n  // Joins have two unique, defined tangents\n  vJoin \x3d (\n    aTangentIn !\x3d vec3(0.) \x26\x26\n    aTangentOut !\x3d vec3(0.) \x26\x26\n    aTangentIn !\x3d aTangentOut\n  ) ? 1. : 0.;\n\n  vec4 localPosition \x3d vec4(HOOK_getLocalPosition(aPosition.xyz), 1.);\n  vec4 posp \x3d vec4(HOOK_getWorldPosition((uModelViewMatrix * localPosition).xyz), 1.);\n  vec4 posqIn \x3d posp + uModelViewMatrix * vec4(aTangentIn, 0);\n  vec4 posqOut \x3d posp + uModelViewMatrix * vec4(aTangentOut, 0);\n  float strokeWeight \x3d HOOK_getStrokeWeight(uStrokeWeight);\n  vStrokeWeight \x3d strokeWeight;\n\n  float facingCamera \x3d pow(\n    // The word space tangent's z value is 0 if it's facing the camera\n    abs(normalize(posqIn-posp).z),\n\n    // Using pow() here to ramp `facingCamera` up from 0 to 1 really quickly\n    // so most lines get scaled and don't get clipped\n    0.25\n  );\n\n  // Moving vertices slightly toward the camera\n  // to avoid depth-fighting with the fill triangles.\n  // A mix of scaling and offsetting is used based on distance\n  // Discussion here:\n  // https://github.com/processing/p5.js/issues/7200 \n\n  // using a scale \x3c1 moves the lines towards nearby camera\n  // in order to prevent popping effects due to half of\n  // the line disappearing behind the geometry faces.\n  float zDistance \x3d -posp.z; \n  float distanceFactor \x3d smoothstep(0.0, 800.0, zDistance); \n  \n  // Discussed here:\n  // http://www.opengl.org/discussion_boards/ubbthreads.php?ubb\x3dshowflat\x26Number\x3d252848  \n  float scale \x3d mix(1., 0.995, facingCamera);\n  float dynamicScale \x3d mix(scale, 1.0, distanceFactor); // Closer \x3d more scale, farther \x3d less\n\n  posp.xyz \x3d posp.xyz * dynamicScale;\n  posqIn.xyz \x3d posqIn.xyz * dynamicScale;\n  posqOut.xyz \x3d posqOut.xyz * dynamicScale;\n\n  // Moving vertices slightly toward camera when far away \n  // https://github.com/processing/p5.js/issues/6956 \n  float zOffset \x3d mix(-0.00045, -1., facingCamera);\n  float dynamicZAdjustment \x3d mix(0.0, zOffset, distanceFactor); // Closer \x3d less zAdjustment, farther \x3d more\n\n  posp.z -\x3d dynamicZAdjustment;\n  posqIn.z -\x3d dynamicZAdjustment;\n  posqOut.z -\x3d dynamicZAdjustment;\n  \n  vec4 p \x3d uProjectionMatrix * posp;\n  vec4 qIn \x3d uProjectionMatrix * posqIn;\n  vec4 qOut \x3d uProjectionMatrix * posqOut;\n  vCenter \x3d HOOK_getLineCenter(p.xy);\n\n  // formula to convert from clip space (range -1..1) to screen space (range 0..[width or height])\n  // screen_p \x3d (p.xy/p.w + \x3c1,1\x3e) * 0.5 * uViewport.zw\n\n  // prevent division by W by transforming the tangent formula (div by 0 causes\n  // the line to disappear, see https://github.com/processing/processing/issues/5183)\n  // t \x3d screen_q - screen_p\n  //\n  // tangent is normalized and we don't care which aDirection it points to (+-)\n  // t \x3d +- normalize( screen_q - screen_p )\n  // t \x3d +- normalize( (q.xy/q.w+\x3c1,1\x3e)*0.5*uViewport.zw - (p.xy/p.w+\x3c1,1\x3e)*0.5*uViewport.zw )\n  //\n  // extract common factor, \x3c1,1\x3e - \x3c1,1\x3e cancels out\n  // t \x3d +- normalize( (q.xy/q.w - p.xy/p.w) * 0.5 * uViewport.zw )\n  //\n  // convert to common divisor\n  // t \x3d +- normalize( ((q.xy*p.w - p.xy*q.w) / (p.w*q.w)) * 0.5 * uViewport.zw )\n  //\n  // remove the common scalar divisor/factor, not needed due to normalize and +-\n  // (keep uViewport - can't remove because it has different components for x and y\n  //  and corrects for aspect ratio, see https://github.com/processing/processing/issues/5181)\n  // t \x3d +- normalize( (q.xy*p.w - p.xy*q.w) * uViewport.zw )\n\n  vec2 tangentIn \x3d normalize((qIn.xy*p.w - p.xy*qIn.w) * uViewport.zw);\n  vec2 tangentOut \x3d normalize((qOut.xy*p.w - p.xy*qOut.w) * uViewport.zw);\n\n  vec2 curPerspScale;\n  if(uPerspective \x3d\x3d 1) {\n    // Perspective ---\n    // convert from world to clip by multiplying with projection scaling factor\n    // to get the right thickness (see https://github.com/processing/processing/issues/5182)\n\n    // The y value of the projection matrix may be flipped if rendering to a Framebuffer.\n    // Multiplying again by its sign here negates the flip to get just the scale.\n    curPerspScale \x3d (uProjectionMatrix * vec4(1, sign(uProjectionMatrix[1][1]), 0, 0)).xy;\n  } else {\n    // No Perspective ---\n    // multiply by W (to cancel out division by W later in the pipeline) and\n    // convert from screen to clip (derived from clip to screen above)\n    curPerspScale \x3d p.w / (0.5 * uViewport.zw);\n  }\n\n  vec2 offset;\n  if (vJoin \x3d\x3d 1.) {\n    vTangent \x3d normalize(tangentIn + tangentOut);\n    vec2 normalIn \x3d vec2(-tangentIn.y, tangentIn.x);\n    vec2 normalOut \x3d vec2(-tangentOut.y, tangentOut.x);\n    float side \x3d sign(aSide);\n    float sideEnum \x3d abs(aSide);\n\n    // We generate vertices for joins on either side of the centerline, but\n    // the \"elbow\" side is the only one needing a join. By not setting the\n    // offset for the other side, all its vertices will end up in the same\n    // spot and not render, effectively discarding it.\n    if (sign(dot(tangentOut, vec2(-tangentIn.y, tangentIn.x))) !\x3d side) {\n      // Side enums:\n      //   1: the side going into the join\n      //   2: the middle of the join\n      //   3: the side going out of the join\n      if (sideEnum \x3d\x3d 2.) {\n        // Calculate the position + tangent on either side of the join, and\n        // find where the lines intersect to find the elbow of the join\n        vec2 c \x3d (posp.xy/posp.w + vec2(1.,1.)) * 0.5 * uViewport.zw;\n        vec2 intersection \x3d lineIntersection(\n          c + (side * normalIn * strokeWeight / 2.),\n          tangentIn,\n          c + (side * normalOut * strokeWeight / 2.),\n          tangentOut\n        );\n        offset \x3d (intersection - c);\n\n        // When lines are thick and the angle of the join approaches 180, the\n        // elbow might be really far from the center. We'll apply a limit to\n        // the magnitude to avoid lines going across the whole screen when this\n        // happens.\n        float mag \x3d length(offset);\n        float maxMag \x3d 3. * strokeWeight;\n        if (mag \x3e maxMag) {\n          offset *\x3d maxMag / mag;\n        }\n      } else if (sideEnum \x3d\x3d 1.) {\n        offset \x3d side * normalIn * strokeWeight / 2.;\n      } else if (sideEnum \x3d\x3d 3.) {\n        offset \x3d side * normalOut * strokeWeight / 2.;\n      }\n    }\n    if (uStrokeJoin \x3d\x3d STROKE_JOIN_BEVEL) {\n      vec2 avgNormal \x3d vec2(-vTangent.y, vTangent.x);\n      vMaxDist \x3d abs(dot(avgNormal, normalIn * strokeWeight / 2.));\n    } else {\n      vMaxDist \x3d strokeWeight / 2.;\n    }\n  } else {\n    vec2 tangent \x3d aTangentIn \x3d\x3d vec3(0.) ? tangentOut : tangentIn;\n    vTangent \x3d tangent;\n    vec2 normal \x3d vec2(-tangent.y, tangent.x);\n\n    float normalOffset \x3d sign(aSide);\n    // Caps will have side values of -2 or 2 on the edge of the cap that\n    // extends out from the line\n    float tangentOffset \x3d abs(aSide) - 1.;\n    offset \x3d (normal * normalOffset + tangent * tangentOffset) *\n      strokeWeight * 0.5;\n    vMaxDist \x3d strokeWeight / 2.;\n  }\n  vPosition \x3d HOOK_getLinePosition(vCenter + offset);\n\n  gl_Position.xy \x3d p.xy + offset.xy * curPerspScale;\n  gl_Position.zw \x3d p.zw;\n  \n  vColor \x3d HOOK_getVertexColor(uUseLineColor ? aVertexColor : uMaterialColor);\n  HOOK_afterVertex();\n}\n",
lineFrag:T+"precision mediump int;\n\nuniform vec4 uMaterialColor;\nuniform int uStrokeCap;\nuniform int uStrokeJoin;\n\nIN vec4 vColor;\nIN vec2 vTangent;\nIN vec2 vCenter;\nIN vec2 vPosition;\nIN float vStrokeWeight;\nIN float vMaxDist;\nIN float vCap;\nIN float vJoin;\n\nfloat distSquared(vec2 a, vec2 b) {\n  vec2 aToB \x3d b - a;\n  return dot(aToB, aToB);\n}\n\nstruct Inputs {\n  vec4 color;\n  vec2 tangent;\n  vec2 center;\n  vec2 position;\n  float strokeWeight;\n};\n\nvoid main() {\n  HOOK_beforeFragment();\n\n  Inputs inputs;\n  inputs.color \x3d vColor;\n  inputs.tangent \x3d vTangent;\n  inputs.center \x3d vCenter;\n  inputs.position \x3d vPosition;\n  inputs.strokeWeight \x3d vStrokeWeight;\n  inputs \x3d HOOK_getPixelInputs(inputs);\n\n  if (vCap \x3e 0.) {\n    if (\n      uStrokeCap \x3d\x3d STROKE_CAP_ROUND \x26\x26\n      HOOK_shouldDiscard(distSquared(inputs.position, inputs.center) \x3e inputs.strokeWeight * inputs.strokeWeight * 0.25)\n    ) {\n      discard;\n    } else if (\n      uStrokeCap \x3d\x3d STROKE_CAP_SQUARE \x26\x26\n      HOOK_shouldDiscard(dot(inputs.position - inputs.center, inputs.tangent) \x3e 0.)\n    ) {\n      discard;\n    // Use full area for PROJECT\n    } else if (HOOK_shouldDiscard(false)) {\n      discard;\n    }\n  } else if (vJoin \x3e 0.) {\n    if (\n      uStrokeJoin \x3d\x3d STROKE_JOIN_ROUND \x26\x26\n      HOOK_shouldDiscard(distSquared(inputs.position, inputs.center) \x3e inputs.strokeWeight * inputs.strokeWeight * 0.25)\n    ) {\n      discard;\n    } else if (uStrokeJoin \x3d\x3d STROKE_JOIN_BEVEL) {\n      vec2 normal \x3d vec2(-inputs.tangent.y, inputs.tangent.x);\n      if (HOOK_shouldDiscard(abs(dot(inputs.position - inputs.center, normal)) \x3e vMaxDist)) {\n        discard;\n      }\n    // Use full area for MITER\n    } else if (HOOK_shouldDiscard(false)) {\n      discard;\n    }\n  }\n  OUT_COLOR \x3d HOOK_getFinalColor(vec4(inputs.color.rgb, 1.) * inputs.color.a);\n  HOOK_afterFragment();\n}\n",
pointVert:"IN vec3 aPosition;\nuniform float uPointSize;\nOUT float vStrokeWeight;\nuniform mat4 uModelViewMatrix;\nuniform mat4 uProjectionMatrix;\n\nvoid main() {\n  HOOK_beforeVertex();\n  vec4 viewModelPosition \x3d vec4(HOOK_getWorldPosition(\n    (uModelViewMatrix * vec4(HOOK_getLocalPosition(aPosition), 1.0)).xyz\n  ), 1.);\n  gl_Position \x3d uProjectionMatrix * viewModelPosition;  \n\n  float pointSize \x3d HOOK_getPointSize(uPointSize);\n\n\tgl_PointSize \x3d pointSize;\n\tvStrokeWeight \x3d pointSize;\n  HOOK_afterVertex();\n}\n",
pointFrag:"precision mediump int;\nuniform vec4 uMaterialColor;\nIN float vStrokeWeight;\n\nvoid main(){\n  HOOK_beforeFragment();\n  float mask \x3d 0.0;\n\n  // make a circular mask using the gl_PointCoord (goes from 0 - 1 on a point)\n  // might be able to get a nicer edge on big strokeweights with smoothstep but slightly less performant\n\n  mask \x3d step(0.98, length(gl_PointCoord * 2.0 - 1.0));\n\n  // if strokeWeight is 1 or less lets just draw a square\n  // this prevents weird artifacting from carving circles when our points are really small\n  // if strokeWeight is larger than 1, we just use it as is\n\n  mask \x3d mix(0.0, mask, clamp(floor(vStrokeWeight - 0.5),0.0,1.0));\n\n  // throw away the borders of the mask\n  // otherwise we get weird alpha blending issues\n\n  if(HOOK_shouldDiscard(mask \x3e 0.98)){\n    discard;\n  }\n\n  OUT_COLOR \x3d HOOK_getFinalColor(vec4(uMaterialColor.rgb, 1.) * uMaterialColor.a);\n  HOOK_afterFragment();\n}\n",
imageLightVert:"precision highp float;\nattribute vec3 aPosition;\nattribute vec3 aNormal;\nattribute vec2 aTexCoord;\n\nvarying vec3 localPos;\nvarying vec3 vWorldNormal;\nvarying vec3 vWorldPosition;\nvarying vec2 vTexCoord;\n\nuniform mat4 uModelViewMatrix;\nuniform mat4 uProjectionMatrix;\nuniform mat3 uNormalMatrix;\n\nvoid main() {\n  // Multiply the position by the matrix.\n  vec4 viewModelPosition \x3d uModelViewMatrix * vec4(aPosition, 1.0);\n  gl_Position \x3d uProjectionMatrix * viewModelPosition;  \n  \n  // orient the normals and pass to the fragment shader\n  vWorldNormal \x3d uNormalMatrix * aNormal;\n  \n  // send the view position to the fragment shader\n  vWorldPosition \x3d (uModelViewMatrix * vec4(aPosition, 1.0)).xyz;\n  \n  localPos \x3d vWorldPosition;\n  vTexCoord \x3d aTexCoord;\n}\n\n\n/*\nin the vertex shader we'll compute the world position and world oriented normal of the vertices and pass those to the fragment shader as varyings.\n*/\n",
imageLightDiffusedFrag:"precision highp float;\nvarying vec3 localPos;\n\n// the HDR cubemap converted (can be from an equirectangular environment map.)\nuniform sampler2D environmentMap;\nvarying vec2 vTexCoord;\n\nconst float PI \x3d 3.14159265359;\n\nvec2 nTOE( vec3 v ){\n  // x \x3d r sin(phi) cos(theta)   \n  // y \x3d r cos(phi)  \n  // z \x3d r sin(phi) sin(theta)\n  float phi \x3d acos( v.y );\n  // if phi is 0, then there are no x, z components\n  float theta \x3d 0.0;\n  // else \n  theta \x3d acos(v.x / sin(phi));\n  float sinTheta \x3d v.z / sin(phi);\n  if (sinTheta \x3c 0.0) {\n    // Turn it into -theta, but in the 0-2PI range\n    theta \x3d 2.0 * PI - theta;\n  }\n  theta \x3d theta / (2.0 * 3.14159);\n  phi \x3d phi / 3.14159 ;\n  \n  vec2 angles \x3d vec2( phi, theta );\n  return angles;\n}\n\nfloat random(vec2 p) {\n  vec3 p3  \x3d fract(vec3(p.xyx) * .1031);\n  p3 +\x3d dot(p3, p3.yzx + 33.33);\n  return fract((p3.x + p3.y) * p3.z);\n}\n\nvoid main()\n{   \t \n\t// the sample direction equals the hemisphere's orientation\n  float phi \x3d vTexCoord.x * 2.0 * PI;\n  float theta \x3d vTexCoord.y * PI;\n  float x \x3d sin(theta) * cos(phi);\n  float y \x3d sin(theta) * sin(phi);\n  float z \x3d cos(theta);\n  vec3 normal \x3d vec3( x, y, z);\n\n\t// Discretely sampling the hemisphere given the integral's\n  // spherical coordinates translates to the following fragment code:\n\tvec3 irradiance \x3d vec3(0.0);  \n\tvec3 up\t\x3d vec3(0.0, 1.0, 0.0);\n\tvec3 right \x3d normalize(cross(up, normal));\n\tup \x3d normalize(cross(normal, right));\n\n\t//  We specify a fixed sampleDelta delta value to traverse\n  // the hemisphere; decreasing or increasing the sample delta\n  // will increase or decrease the accuracy respectively.\n\tconst float sampleDelta \x3d 0.100;\n\tfloat nrSamples \x3d 0.0;\n  float randomOffset \x3d random(gl_FragCoord.xy) * sampleDelta;\n\tfor(float rawPhi \x3d 0.0; rawPhi \x3c 2.0 * PI; rawPhi +\x3d sampleDelta)\n\t{\n    float phi \x3d rawPhi + randomOffset;\n    for(float rawTheta \x3d 0.0; rawTheta \x3c ( 0.5 ) * PI; rawTheta +\x3d sampleDelta)\n    {\n      float theta \x3d rawTheta + randomOffset;\n      // spherical to cartesian (in tangent space) // tangent space to world // add each sample result to irradiance\n      float x \x3d sin(theta) * cos(phi);\n      float y \x3d sin(theta) * sin(phi);\n      float z \x3d cos(theta);\n      vec3 tangentSample \x3d vec3( x, y, z);\n      \n      vec3 sampleVec \x3d tangentSample.x * right + tangentSample.y * up + tangentSample.z * normal;\n        irradiance +\x3d (texture2D(environmentMap, nTOE(sampleVec)).xyz) * cos(theta) * sin(theta);\n      nrSamples++;\n    }\n\t}\n\t// divide by the total number of samples taken, giving us the average sampled irradiance.\n\tirradiance \x3d PI * irradiance * (1.0 / float(nrSamples )) ;\n  \n \n\tgl_FragColor \x3d vec4(irradiance, 1.0);\n}",
imageLightSpecularFrag:"precision highp float;\r\nvarying vec3 localPos;\r\nvarying vec2 vTexCoord;\r\n\r\n// our texture\r\nuniform sampler2D environmentMap;\r\nuniform float roughness;\r\n\r\nconst float PI \x3d 3.14159265359;\r\n\r\nfloat VanDerCorput(int bits);\r\nvec2 HammersleyNoBitOps(int i, int N);\r\nvec3 ImportanceSampleGGX(vec2 Xi, vec3 N, float roughness);\r\n\r\n\r\nvec2 nTOE( vec3 v ){\r\n  // x \x3d r sin(phi) cos(theta)   \r\n  // y \x3d r cos(phi)  \r\n  // z \x3d r sin(phi) sin(theta)\r\n  float phi \x3d acos( v.y );\r\n  // if phi is 0, then there are no x, z components\r\n  float theta \x3d 0.0;\r\n  // else \r\n  theta \x3d acos(v.x / sin(phi));\r\n  float sinTheta \x3d v.z / sin(phi);\r\n  if (sinTheta \x3c 0.0) {\r\n    // Turn it into -theta, but in the 0-2PI range\r\n    theta \x3d 2.0 * PI - theta;\r\n  }\r\n  theta \x3d theta / (2.0 * 3.14159);\r\n  phi \x3d phi / 3.14159 ;\r\n  \r\n  vec2 angles \x3d vec2( phi, theta );\r\n  return angles;\r\n}\r\n\r\n\r\nvoid main(){\r\n  const int SAMPLE_COUNT \x3d 400; // 4096\r\n  int lowRoughnessLimit \x3d int(pow(2.0,(roughness+0.1)*20.0));\r\n  float totalWeight \x3d 0.0;\r\n  vec3 prefilteredColor \x3d vec3(0.0);\r\n  float phi \x3d vTexCoord.x * 2.0 * PI;\r\n  float theta \x3d vTexCoord.y * PI;\r\n  float x \x3d sin(theta) * cos(phi);\r\n  float y \x3d sin(theta) * sin(phi);\r\n  float z \x3d cos(theta);\r\n  vec3 N \x3d vec3(x,y,z);\r\n  vec3 V \x3d N;\r\n  for (int i \x3d 0; i \x3c SAMPLE_COUNT; ++i)\r\n  {\r\n    // break at smaller sample numbers for low roughness levels\r\n    if(i \x3d\x3d lowRoughnessLimit)\r\n    {\r\n      break;\r\n    }\r\n    vec2 Xi \x3d HammersleyNoBitOps(i, SAMPLE_COUNT);\r\n    vec3 H \x3d ImportanceSampleGGX(Xi, N, roughness);\r\n    vec3 L \x3d normalize(2.0 * dot(V, H) * H - V);\r\n\r\n    float NdotL \x3d max(dot(N, L), 0.0);\r\n    if (NdotL \x3e 0.0)\r\n    {\r\n      prefilteredColor +\x3d texture2D(environmentMap, nTOE(L)).xyz * NdotL;\r\n      totalWeight +\x3d NdotL;\r\n    }\r\n  }\r\n  prefilteredColor \x3d prefilteredColor / totalWeight;\r\n\r\n  gl_FragColor \x3d vec4(prefilteredColor, 1.0);\r\n}\r\n\r\nvec3 ImportanceSampleGGX(vec2 Xi, vec3 N, float roughness){\r\n  float a \x3d roughness * roughness;\r\n\r\n  float phi \x3d 2.0 * PI * Xi.x;\r\n  float cosTheta \x3d sqrt((1.0 - Xi.y) / (1.0 + (a * a - 1.0) * Xi.y));\r\n  float sinTheta \x3d sqrt(1.0 - cosTheta * cosTheta);\r\n  // from spherical coordinates to cartesian coordinates\r\n  vec3 H;\r\n  H.x \x3d cos(phi) * sinTheta;\r\n  H.y \x3d sin(phi) * sinTheta;\r\n  H.z \x3d cosTheta;\r\n\r\n  // from tangent-space vector to world-space sample vector\r\n  vec3 up \x3d abs(N.z) \x3c 0.999 ? vec3(0.0, 0.0, 1.0) : vec3(1.0, 0.0, 0.0);\r\n  vec3 tangent \x3d normalize(cross(up, N));\r\n  vec3 bitangent \x3d cross(N, tangent);\r\n\r\n  vec3 sampleVec \x3d tangent * H.x + bitangent * H.y + N * H.z;\r\n  return normalize(sampleVec);\r\n}\r\n\r\n\r\nfloat VanDerCorput(int n, int base)\r\n{\r\n#ifdef WEBGL2\r\n\r\n    uint bits \x3d uint(n);\r\n    bits \x3d (bits \x3c\x3c 16u) | (bits \x3e\x3e 16u);\r\n    bits \x3d ((bits \x26 0x55555555u) \x3c\x3c 1u) | ((bits \x26 0xAAAAAAAAu) \x3e\x3e 1u);\r\n    bits \x3d ((bits \x26 0x33333333u) \x3c\x3c 2u) | ((bits \x26 0xCCCCCCCCu) \x3e\x3e 2u);\r\n    bits \x3d ((bits \x26 0x0F0F0F0Fu) \x3c\x3c 4u) | ((bits \x26 0xF0F0F0F0u) \x3e\x3e 4u);\r\n    bits \x3d ((bits \x26 0x00FF00FFu) \x3c\x3c 8u) | ((bits \x26 0xFF00FF00u) \x3e\x3e 8u);\r\n    return float(bits) * 2.3283064365386963e-10; // / 0x100000000\r\n\r\n#else\r\n\r\n  float invBase \x3d 1.0 / float(base);\r\n  float denom \x3d 1.0;\r\n  float result \x3d 0.0;\r\n\r\n\r\n  for (int i \x3d 0; i \x3c 32; ++i)\r\n  {\r\n        if (n \x3e 0)\r\n        {\r\n        denom \x3d mod(float(n), 2.0);\r\n        result +\x3d denom * invBase;\r\n        invBase \x3d invBase / 2.0;\r\n        n \x3d int(float(n) / 2.0);\r\n        }\r\n  }\r\n\r\n\r\n  return result;\r\n\r\n#endif\r\n}\r\n\r\nvec2 HammersleyNoBitOps(int i, int N)\r\n{\r\n  return vec2(float(i) / float(N), VanDerCorput(i, 2));\r\n}\r\n"},
ea=Y.sphereMappingFrag;for(U in Y)Y[U]="#ifdef WEBGL2\n\n#define IN in\n#define OUT out\n\n#ifdef FRAGMENT_SHADER\nout vec4 outColor;\n#define OUT_COLOR outColor\n#endif\n#define TEXTURE texture\n\n#else\n\n#ifdef FRAGMENT_SHADER\n#define IN varying\n#else\n#define IN attribute\n#endif\n#define OUT varying\n#define TEXTURE texture2D\n\n#ifdef FRAGMENT_SHADER\n#define OUT_COLOR gl_FragColor\n#endif\n\n#endif\n"+Y[U];n(a={},A.GRAY,"precision highp float;\n\nvarying vec2 vTexCoord;\n\nuniform sampler2D tex0;\n\nfloat luma(vec3 color) {\n  // weighted grayscale with luminance values\n  return dot(color, vec3(0.2126, 0.7152, 0.0722));\n}\n\nvoid main() {\n  vec4 tex \x3d texture2D(tex0, vTexCoord);\n  float gray \x3d luma(tex.rgb);\n  gl_FragColor \x3d vec4(gray, gray, gray, tex.a);\n}\n");
n(a,A.ERODE,"// Reduces the bright areas in an image\n\nprecision highp float;\n\nvarying vec2 vTexCoord;\n\nuniform sampler2D tex0;\nuniform vec2 texelSize;\n\nfloat luma(vec3 color) {\n  // weighted grayscale with luminance values\n  // weights 77, 151, 28 taken from src/image/filters.js\n  return dot(color, vec3(0.300781, 0.589844, 0.109375));\n}\n\nvoid main() {\n  vec4 color \x3d texture2D(tex0, vTexCoord);\n  float lum \x3d luma(color.rgb);\n\n  // set current color as the darkest neighbor color\n\n  vec4 neighbors[4];\n  neighbors[0] \x3d texture2D(tex0, vTexCoord + vec2( texelSize.x, 0.0));\n  neighbors[1] \x3d texture2D(tex0, vTexCoord + vec2(-texelSize.x, 0.0));\n  neighbors[2] \x3d texture2D(tex0, vTexCoord + vec2(0.0,  texelSize.y));\n  neighbors[3] \x3d texture2D(tex0, vTexCoord + vec2(0.0, -texelSize.y));\n\n  for (int i \x3d 0; i \x3c 4; i++) {\n    vec4 neighborColor \x3d neighbors[i];\n    float neighborLum \x3d luma(neighborColor.rgb);\n\n    if (neighborLum \x3c lum) {\n      color \x3d neighborColor;\n      lum \x3d neighborLum;\n    }\n  }\n\n  gl_FragColor \x3d color;\n}\n");
n(a,A.DILATE,"// Increase the bright areas in an image\n\nprecision highp float;\n\nvarying vec2 vTexCoord;\n\nuniform sampler2D tex0;\nuniform vec2 texelSize;\n\nfloat luma(vec3 color) {\n  // weighted grayscale with luminance values\n  // weights 77, 151, 28 taken from src/image/filters.js\n  return dot(color, vec3(0.300781, 0.589844, 0.109375));\n}\n\nvoid main() {\n  vec4 color \x3d texture2D(tex0, vTexCoord);\n  float lum \x3d luma(color.rgb);\n\n  // set current color as the brightest neighbor color\n\n  vec4 neighbors[4];\n  neighbors[0] \x3d texture2D(tex0, vTexCoord + vec2( texelSize.x, 0.0));\n  neighbors[1] \x3d texture2D(tex0, vTexCoord + vec2(-texelSize.x, 0.0));\n  neighbors[2] \x3d texture2D(tex0, vTexCoord + vec2(0.0,  texelSize.y));\n  neighbors[3] \x3d texture2D(tex0, vTexCoord + vec2(0.0, -texelSize.y));\n\n  for (int i \x3d 0; i \x3c 4; i++) {\n    vec4 neighborColor \x3d neighbors[i];\n    float neighborLum \x3d luma(neighborColor.rgb);\n\n    if (neighborLum \x3e lum) {\n      color \x3d neighborColor;\n      lum \x3d neighborLum;\n    }\n  }\n\n  gl_FragColor \x3d color;\n}\n");
n(a,A.BLUR,"precision highp float;\n\n// Two-pass blur filter, unweighted kernel.\n// See also a similar blur at Adam Ferriss' repo of shader examples:\n// https://github.com/aferriss/p5jsShaderExamples/blob/gh-pages/4_image-effects/4-9_single-pass-blur/effect.frag\n\n\nuniform sampler2D tex0;\nvarying vec2 vTexCoord;\nuniform vec2 direction;\nuniform vec2 canvasSize;\nuniform float radius;\n\nfloat random(vec2 p) {\n  vec3 p3  \x3d fract(vec3(p.xyx) * .1031);\n  p3 +\x3d dot(p3, p3.yzx + 33.33);\n  return fract((p3.x + p3.y) * p3.z);\n}\n\n// This isn't a real Gaussian weight, it's a quadratic weight. It's what the\n// CPU mode's blur uses though, so we also use it here to match.\nfloat quadWeight(float x, float e) {\n  return pow(e-abs(x), 2.);\n}\n\nvoid main(){\n  vec2 uv \x3d vTexCoord;\n\n  // A reasonable maximum number of samples\n  const float maxSamples \x3d 64.0;\n\n  float numSamples \x3d floor(7. * radius);\n  if (fract(numSamples / 2.) \x3d\x3d 0.) {\n    numSamples++;\n  }\n  vec4 avg \x3d vec4(0.0);\n  float total \x3d 0.0;\n\n  // Calculate the spacing to avoid skewing if numSamples \x3e maxSamples\n  float spacing \x3d 1.0;\n  if (numSamples \x3e maxSamples) {\n    spacing \x3d numSamples / maxSamples;\n    numSamples \x3d maxSamples;\n  }\n\n  float randomOffset \x3d (spacing - 1.0) * mix(-0.5, 0.5, random(gl_FragCoord.xy));\n  for (float i \x3d 0.0; i \x3c maxSamples; i++) {\n    if (i \x3e\x3d numSamples) break;\n\n    float sample \x3d i * spacing - (numSamples - 1.0) * 0.5 * spacing + randomOffset;\n    vec2 sampleCoord \x3d uv + vec2(sample, sample) / canvasSize * direction;\n    float weight \x3d quadWeight(sample, (numSamples - 1.0) * 0.5 * spacing);\n\n    avg +\x3d weight * texture2D(tex0, sampleCoord);\n    total +\x3d weight;\n  }\n\n  avg /\x3d total;\n  gl_FragColor \x3d avg;\n}\n");
n(a,A.POSTERIZE,"// Limit color space for a stylized cartoon / poster effect\n\nprecision highp float;\n\nvarying vec2 vTexCoord;\n\nuniform sampler2D tex0;\nuniform float filterParameter;\n\nvec3 quantize(vec3 color, float n) {\n  // restrict values to N options/bins\n  // and floor each channel to nearest value\n  //\n  // eg. when N \x3d 5, values \x3d 0.0, 0.25, 0.50, 0.75, 1.0\n  // then quantize (0.1, 0.7, 0.9) -\x3e (0.0, 0.5, 1.0)\n\n  color \x3d color * n;\n  color \x3d floor(color);\n  color \x3d color / (n - 1.0);\n  return color;\n}\n\nvoid main() {\n  vec4 color \x3d texture2D(tex0, vTexCoord);\n\n  vec3 restrictedColor \x3d quantize(color.rgb / color.a, filterParameter);\n\n  gl_FragColor \x3d vec4(restrictedColor.rgb * color.a, color.a);\n}\n");
n(a,A.OPAQUE,"// Set alpha channel to entirely opaque\n\nprecision highp float;\n\nvarying vec2 vTexCoord;\n\nuniform sampler2D tex0;\n\nvoid main() {\n  vec4 color \x3d texture2D(tex0, vTexCoord);\n  gl_FragColor \x3d vec4(color.rgb / color.a, 1.0);\n}\n");n(a,A.INVERT,"// Set each pixel to inverse value\n// Note that original INVERT does not change the opacity, so this follows suit\n\nprecision highp float;\n\nvarying vec2 vTexCoord;\n\nuniform sampler2D tex0;\n\nvoid main() {\nvec4 color \x3d texture2D(tex0, vTexCoord);\nvec3 origColor \x3d color.rgb / color.a;\nvec3 invertedColor \x3d vec3(1.0) - origColor;\ngl_FragColor \x3d vec4(invertedColor * color.a, color.a);\n}\n");
n(a,A.THRESHOLD,"// Convert pixels to either white or black, \n// depending on if their luma is above or below filterParameter\n\nprecision highp float;\n\nvarying vec2 vTexCoord;\n\nuniform sampler2D tex0;\nuniform float filterParameter;\n\nfloat luma(vec3 color) {\n  // weighted grayscale with luminance values\n  return dot(color, vec3(0.2126, 0.7152, 0.0722));\n}\n\nvoid main() {\n  vec4 color \x3d texture2D(tex0, vTexCoord);\n  float gray \x3d luma(color.rgb / color.a);\n  // floor() used to match src/image/filters.js\n  float threshold \x3d floor(filterParameter * 255.0) / 255.0;\n  float blackOrWhite \x3d step(threshold, gray);\n  gl_FragColor \x3d vec4(vec3(blackOrWhite) * color.a, color.a);\n}\n");
var da=a;C.default.prototype.setAttributes=function(X,Z){if(void 0===this._glAttributes)console.log("You are trying to use setAttributes on a p5.Graphics object that does not use a WEBGL renderer.");else{var L=!0;if(void 0!==Z?(null===this._glAttributes&&(this._glAttributes={}),this._glAttributes[X]!==Z&&(this._glAttributes[X]=Z,L=!1)):X instanceof Object&&this._glAttributes!==X&&(this._glAttributes=X,L=!1),this._renderer.isP3D&&!L){if(!this._setupDone)for(var S in this._renderer.retainedMode.geometry)if(this._renderer.retainedMode.geometry.hasOwnProperty(S))return void C.default._friendlyError("Sorry, Could not set the attributes, you need to call setAttributes() before calling the other drawing methods in setup()");
this.push();this._renderer._resetContext();this.pop();this._renderer._curCamera&&(this._renderer._curCamera._renderer=this._renderer)}}};C.default.RendererGL=function(X){function Z(E,P,aa,ja){if(this instanceof Z)return(E=S.call(this,E,P,aa))._setAttributeDefaults(P),E._initContext(),E.isP3D=!0,E.geometryBuilder=void 0,E.GL=E.drawingContext,E._pInst._setProperty("drawingContext",E.drawingContext),E._isErasing=!1,E._clipDepths=[],E._isClipApplied=!1,E._stencilTestOn=!1,E._enableLighting=!1,E.ambientLightColors=
[],E.mixedAmbientLight=[],E.mixedSpecularColor=[],E.specularColors=[1,1,1],E.directionalLightDirections=[],E.directionalLightDiffuseColors=[],E.directionalLightSpecularColors=[],E.pointLightPositions=[],E.pointLightDiffuseColors=[],E.pointLightSpecularColors=[],E.spotLightPositions=[],E.spotLightDirections=[],E.spotLightDiffuseColors=[],E.spotLightSpecularColors=[],E.spotLightAngle=[],E.spotLightConc=[],E.activeImageLight=null,E.diffusedTextures=new Map,E.specularTextures=new Map,E.drawMode=A.FILL,
E.curFillColor=[1,1,1,1],E.curAmbientColor=[1,1,1,1],E.curSpecularColor=[0,0,0,0],E.curEmissiveColor=E._cachedFillStyle=[0,0,0,0],E.curStrokeColor=E._cachedStrokeStyle=[0,0,0,1],E.curBlendMode=A.BLEND,E.preEraseBlend=void 0,E._cachedBlendMode=void 0,E.webglVersion===A.WEBGL2?E.blendExt=E.GL:E.blendExt=E.GL.getExtension("EXT_blend_minmax"),E._isBlending=!1,E._hasSetAmbient=!1,E._useSpecularMaterial=!1,E._useEmissiveMaterial=!1,E._useNormalMaterial=!1,E._useShininess=1,E._useMetalness=0,E._useLineColor=
!1,E._useVertexColor=!1,E.registerEnabled=new Set,E._tint=[255,255,255,255],E.constantAttenuation=1,E.linearAttenuation=0,E.quadraticAttenuation=0,E.uModelMatrix=new C.default.Matrix,E.uViewMatrix=new C.default.Matrix,E.uMVMatrix=new C.default.Matrix,E.uPMatrix=new C.default.Matrix,E.uNMatrix=new C.default.Matrix("mat3"),E.curMatrix=new C.default.Matrix("mat3"),E._currentNormal=new C.default.Vector(0,0,1),E._curCamera=new C.default.Camera(p(E)),E._curCamera._computeCameraDefaultSettings(),E._curCamera._setDefaultCamera(),
E.filterCamera=new C.default.Camera(p(E)),E.filterCamera._computeCameraDefaultSettings(),E.filterCamera._setDefaultCamera(),E.prevTouches=[],E.zoomVelocity=0,E.rotateVelocity=new C.default.Vector(0,0),E.moveVelocity=new C.default.Vector(0,0),E.executeZoom=!1,E.executeRotateAndMove=!1,E.specularShader=void 0,E.sphereMapping=void 0,E.diffusedShader=void 0,E._defaultLightShader=void 0,E._defaultImmediateModeShader=void 0,E._defaultNormalShader=void 0,E._defaultColorShader=void 0,E._defaultPointShader=
void 0,E.userFillShader=void 0,E.userStrokeShader=void 0,E.userPointShader=void 0,E.retainedMode={geometry:{},buffers:{stroke:[new C.default.RenderBuffer(4,"lineVertexColors","lineColorBuffer","aVertexColor",p(E)),new C.default.RenderBuffer(3,"lineVertices","lineVerticesBuffer","aPosition",p(E)),new C.default.RenderBuffer(3,"lineTangentsIn","lineTangentsInBuffer","aTangentIn",p(E)),new C.default.RenderBuffer(3,"lineTangentsOut","lineTangentsOutBuffer","aTangentOut",p(E)),new C.default.RenderBuffer(1,
"lineSides","lineSidesBuffer","aSide",p(E))],fill:[new C.default.RenderBuffer(3,"vertices","vertexBuffer","aPosition",p(E),E._vToNArray),new C.default.RenderBuffer(3,"vertexNormals","normalBuffer","aNormal",p(E),E._vToNArray),new C.default.RenderBuffer(4,"vertexColors","colorBuffer","aVertexColor",p(E)),new C.default.RenderBuffer(3,"vertexAmbients","ambientBuffer","aAmbientColor",p(E)),new C.default.RenderBuffer(2,"uvs","uvBuffer","aTexCoord",p(E),E._flatten)],text:[new C.default.RenderBuffer(3,"vertices",
"vertexBuffer","aPosition",p(E),E._vToNArray),new C.default.RenderBuffer(2,"uvs","uvBuffer","aTexCoord",p(E),E._flatten)]}},E.immediateMode={geometry:new C.default.Geometry,shapeMode:A.TRIANGLE_FAN,contourIndices:[],_bezierVertex:[],_quadraticVertex:[],_curveVertex:[],buffers:{fill:[new C.default.RenderBuffer(3,"vertices","vertexBuffer","aPosition",p(E),E._vToNArray),new C.default.RenderBuffer(3,"vertexNormals","normalBuffer","aNormal",p(E),E._vToNArray),new C.default.RenderBuffer(4,"vertexColors",
"colorBuffer","aVertexColor",p(E)),new C.default.RenderBuffer(3,"vertexAmbients","ambientBuffer","aAmbientColor",p(E)),new C.default.RenderBuffer(2,"uvs","uvBuffer","aTexCoord",p(E),E._flatten)],stroke:[new C.default.RenderBuffer(4,"lineVertexColors","lineColorBuffer","aVertexColor",p(E)),new C.default.RenderBuffer(3,"lineVertices","lineVerticesBuffer","aPosition",p(E)),new C.default.RenderBuffer(3,"lineTangentsIn","lineTangentsInBuffer","aTangentIn",p(E)),new C.default.RenderBuffer(3,"lineTangentsOut",
"lineTangentsOutBuffer","aTangentOut",p(E)),new C.default.RenderBuffer(1,"lineSides","lineSidesBuffer","aSide",p(E))],point:E.GL.createBuffer()}},E.pointSize=5,E.curStrokeWeight=1,E.curStrokeCap=A.ROUND,E.curStrokeJoin=A.ROUND,E.textures=new Map,E.framebuffers=new Set,E.activeFramebuffers=[],E.filterShader=void 0,E.filterLayer=void 0,E.filterLayerTemp=void 0,E.defaultFilterShaders={},E.textureMode=A.IMAGE,E.textureWrapX=A.CLAMP,E.textureWrapY=A.CLAMP,E._tex=null,E._curveTightness=6,E._lookUpTableBezier=
[],E._lookUpTableQuadratic=[],E._lutBezierDetail=0,E._lutQuadraticDetail=0,E.isProcessingVertices=!1,E._tessy=E._initTessy(),E.fontInfos={},E._curShader=void 0,E;throw new TypeError("Cannot call a class as a function");}var L=Z;if("function"!=typeof X&&null!==X)throw new TypeError("Super expression must either be null or a function");L.prototype=Object.create(X&&X.prototype,{constructor:{value:L,writable:!0,configurable:!0}});X&&b(L,X);var S=g(Z);return L=Z,X=[{key:"beginGeometry",value:function(){if(this.geometryBuilder)throw Error("It looks like `beginGeometry()` is being called while another p5.Geometry is already being build.");
this.geometryBuilder=new M.default(this)}},{key:"endGeometry",value:function(){var E;if(this.geometryBuilder)return E=this.geometryBuilder.finish(),this.geometryBuilder=void 0,E;throw Error("Make sure you call beginGeometry() before endGeometry()!");}},{key:"buildGeometry",value:function(E){return this.beginGeometry(),E(),this.endGeometry()}},{key:"_setAttributeDefaults",value:function(E){var P={alpha:!0,depth:!0,stencil:!0,antialias:navigator.userAgent.toLowerCase().includes("safari"),premultipliedAlpha:!0,
preserveDrawingBuffer:!0,perPixelLighting:!0,version:2};null===E._glAttributes?E._glAttributes=P:E._glAttributes=Object.assign(P,E._glAttributes)}},{key:"_initContext",value:function(){if(1!==this._pInst._glAttributes.version&&(this.drawingContext=this.canvas.getContext("webgl2",this._pInst._glAttributes)),this.webglVersion=this.drawingContext?A.WEBGL2:A.WEBGL,this._pInst._setProperty("webglVersion",this.webglVersion),this.drawingContext||(this.drawingContext=this.canvas.getContext("webgl",this._pInst._glAttributes)||
this.canvas.getContext("experimental-webgl",this._pInst._glAttributes)),null===this.drawingContext)throw Error("Error creating webgl context");var E=this.drawingContext;E.enable(E.DEPTH_TEST);E.depthFunc(E.LEQUAL);E.viewport(0,0,E.drawingBufferWidth,E.drawingBufferHeight);E.pixelStorei(E.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0);this._viewport=this.drawingContext.getParameter(this.drawingContext.VIEWPORT)}},{key:"_getParam",value:function(){var E=this.drawingContext;return E.getParameter(E.MAX_TEXTURE_SIZE)}},
{key:"_adjustDimensions",value:function(E,P){this._maxTextureSize||(this._maxTextureSize=this._getParam());var aa=this._maxTextureSize;aa=(C.default.prototype._maxAllowedPixelDimensions,Math.floor(aa/this.pixelDensity()));var ja=Math.min(E,aa);aa=Math.min(P,aa);return ja===E&&aa===P||console.warn("Warning: The requested width/height exceeds hardware limits. "+"Adjusting dimensions to width: ".concat(ja,", height: ").concat(aa,".")),{adjustedWidth:ja,adjustedHeight:aa}}},{key:"_resetContext",value:function(E,
P){var aa,ja=this.width,oa=this.height,ra=this.canvas.id,la=this._pInst instanceof C.default.Graphics;ra=(la?((aa=this._pInst).canvas.parentNode.removeChild(aa.canvas),aa.canvas=document.createElement("canvas"),(aa._pInst._userNode||document.body).appendChild(aa.canvas),C.default.Element.call(aa,aa.canvas,aa._pInst),aa.width=ja,aa.height=oa):((aa=this.canvas)&&aa.parentNode.removeChild(aa),(aa=document.createElement("canvas")).id=ra,(this._pInst._userNode||document.body).appendChild(aa),this._pInst.canvas=
aa,this.canvas=aa),new C.default.RendererGL(this._pInst.canvas,this._pInst,!la));this._pInst._setProperty("_renderer",ra);ra.resize(ja,oa);ra._applyDefaults();la||this._pInst._elements.push(ra);"function"==typeof P&&setTimeout(function(){P.apply(window._renderer,E)},0)}},{key:"_update",value:function(){this.uModelMatrix.reset();this.uViewMatrix.set(this._curCamera.cameraMatrix);this.ambientLightColors.length=0;this.specularColors=[1,1,1];this.directionalLightDirections.length=0;this.directionalLightDiffuseColors.length=
0;this.directionalLightSpecularColors.length=0;this.pointLightPositions.length=0;this.pointLightDiffuseColors.length=0;this.pointLightSpecularColors.length=0;this.spotLightPositions.length=0;this.spotLightDirections.length=0;this.spotLightDiffuseColors.length=0;this.spotLightSpecularColors.length=0;this.spotLightAngle.length=0;this.spotLightConc.length=0;this._enableLighting=!1;this._tint=[255,255,255,255];this.GL.clearStencil(0);this.GL.clear(this.GL.DEPTH_BUFFER_BIT|this.GL.STENCIL_BUFFER_BIT);
this.GL.disable(this.GL.STENCIL_TEST)}},{key:"background",value:function(){var E=(E=this._pInst).color.apply(E,arguments),P=E.levels[0]/255,aa=E.levels[1]/255,ja=E.levels[2]/255;E=E.levels[3]/255;this.clear(P,aa,ja,E)}},{key:"fill",value:function(E,P,aa,ja){this.curFillColor=C.default.prototype.color.apply(this._pInst,arguments)._array;this.drawMode=A.FILL;this._useNormalMaterial=!1;this._tex=null}},{key:"stroke",value:function(E,P,aa,ja){this.curStrokeColor=C.default.prototype.color.apply(this._pInst,
arguments)._array}},{key:"strokeCap",value:function(E){this.curStrokeCap=E}},{key:"strokeJoin",value:function(E){this.curStrokeJoin=E}},{key:"getFilterLayer",value:function(){return this.filterLayer||(this.filterLayer=this._pInst.createFramebuffer()),this.filterLayer}},{key:"getFilterLayerTemp",value:function(){return this.filterLayerTemp||(this.filterLayerTemp=this._pInst.createFramebuffer()),this.filterLayerTemp}},{key:"matchSize",value:function(E,P){E.width===P.width&&E.height===P.height||E.resize(P.width,
P.height);E.pixelDensity()!==P.pixelDensity()&&E.pixelDensity(P.pixelDensity())}},{key:"filter",value:function(){var E,P,aa=this,ja=this.getFilterLayer(),oa=void 0,ra=void 0,la=("string"==typeof(0>=arguments.length?void 0:arguments[0])?(ra=0>=arguments.length?void 0:arguments[0],n(E={},A.BLUR,3),n(E,A.POSTERIZE,4),n(E,A.THRESHOLD,.5),oa=ra in E&&void 0===(1>=arguments.length?void 0:arguments[1])?E[ra]:1>=arguments.length?void 0:arguments[1],ra in this.defaultFilterShaders||(this.defaultFilterShaders[ra]=
new C.default.Shader(ja._renderer,"uniform mat4 uModelViewMatrix;\nuniform mat4 uProjectionMatrix;\n\nattribute vec3 aPosition;\n// texcoords only come from p5 to vertex shader\n// so pass texcoords on to the fragment shader in a varying variable\nattribute vec2 aTexCoord;\nvarying vec2 vTexCoord;\n\nvoid main() {\n  // transferring texcoords for the frag shader\n  vTexCoord \x3d aTexCoord;\n\n  // copy position with a fourth coordinate for projection (1.0 is normal)\n  vec4 positionVec4 \x3d vec4(aPosition, 1.0);\n\n  gl_Position \x3d uProjectionMatrix * uModelViewMatrix * positionVec4;\n}\n",
da[ra])),this.filterShader=this.defaultFilterShaders[ra]):this.filterShader=0>=arguments.length?void 0:arguments[0],this.activeFramebuffer()||this),sa=(this.matchSize(ja,la),ja.draw(function(){return aa._pInst.clear()}),[1/(la.width*la.pixelDensity()),1/(la.height*la.pixelDensity())]);ra===A.BLUR?(P=this.getFilterLayerTemp(),this.matchSize(P,la),this._pInst.push(),this._pInst.noStroke(),this._pInst.blendMode(A.BLEND),this._pInst.shader(this.filterShader),this.filterShader.setUniform("texelSize",sa),
this.filterShader.setUniform("canvasSize",[la.width,la.height]),this.filterShader.setUniform("radius",Math.max(1,oa)),P.draw(function(){aa.filterShader.setUniform("direction",[1,0]);aa.filterShader.setUniform("tex0",la);aa._pInst.clear();aa._pInst.shader(aa.filterShader);aa._pInst.noLights();aa._pInst.plane(la.width,la.height)}),ja.draw(function(){aa.filterShader.setUniform("direction",[0,1]);aa.filterShader.setUniform("tex0",P);aa._pInst.clear();aa._pInst.shader(aa.filterShader);aa._pInst.noLights();
aa._pInst.plane(la.width,la.height)}),this._pInst.pop()):ja.draw(function(){aa._pInst.noStroke();aa._pInst.blendMode(A.BLEND);aa._pInst.shader(aa.filterShader);aa.filterShader.setUniform("tex0",la);aa.filterShader.setUniform("texelSize",sa);aa.filterShader.setUniform("canvasSize",[la.width,la.height]);aa.filterShader.setUniform("filterParameter",oa);aa._pInst.noLights();aa._pInst.plane(la.width,la.height)});this._pInst.push();this._pInst.noStroke();this.clear();this._pInst.push();this._pInst.imageMode(A.CORNER);
this._pInst.blendMode(A.BLEND);la.filterCamera._resize();this._pInst.setCamera(la.filterCamera);this._pInst.resetMatrix();this._pInst.image(ja,-la.width/2,-la.height/2,la.width,la.height);this._pInst.clearDepth();this._pInst.pop();this._pInst.pop()}},{key:"pixelDensity",value:function(E){return E?this._pInst.pixelDensity(E):this._pInst.pixelDensity()}},{key:"blendMode",value:function(E){E===A.DARKEST||E===A.LIGHTEST||E===A.ADD||E===A.BLEND||E===A.SUBTRACT||E===A.SCREEN||E===A.EXCLUSION||E===A.REPLACE||
E===A.MULTIPLY||E===A.REMOVE?this.curBlendMode=E:E!==A.BURN&&E!==A.OVERLAY&&E!==A.HARD_LIGHT&&E!==A.SOFT_LIGHT&&E!==A.DODGE||console.warn("BURN, OVERLAY, HARD_LIGHT, SOFT_LIGHT, and DODGE only work for blendMode in 2D mode.")}},{key:"erase",value:function(E,P){this._isErasing||(this.preEraseBlend=this.curBlendMode,this._isErasing=!0,this.blendMode(A.REMOVE),this._cachedFillStyle=this.curFillColor.slice(),this.curFillColor=[1,1,1,E/255],this._cachedStrokeStyle=this.curStrokeColor.slice(),this.curStrokeColor=
[1,1,1,P/255])}},{key:"noErase",value:function(){this._isErasing&&(this.curFillColor=this._cachedFillStyle.slice(),this.curStrokeColor=this._cachedStrokeStyle.slice(),this.curBlendMode=this.preEraseBlend,this.blendMode(this.preEraseBlend),this._isErasing=!1,this._applyBlendMode())}},{key:"drawTarget",value:function(){return this.activeFramebuffers[this.activeFramebuffers.length-1]||this}},{key:"beginClip",value:function(){var E=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};E=(d(k(Z.prototype),
"beginClip",this).call(this,E),this.drawTarget()._isClipApplied=!0,this.GL);E.clearStencil(0);E.clear(E.STENCIL_BUFFER_BIT);E.enable(E.STENCIL_TEST);this._stencilTestOn=!0;E.stencilFunc(E.ALWAYS,1,255);E.stencilOp(E.KEEP,E.KEEP,E.REPLACE);E.disable(E.DEPTH_TEST);this._pInst.push();this._pInst.resetShader();this._doFill&&this._pInst.fill(0,0);this._doStroke&&this._pInst.stroke(0,0)}},{key:"endClip",value:function(){this._pInst.pop();var E=this.GL;E.stencilOp(E.KEEP,E.KEEP,E.KEEP);E.stencilFunc(this._clipInvert?
E.EQUAL:E.NOTEQUAL,0,255);E.enable(E.DEPTH_TEST);this._clipDepths.push(this._pushPopDepth);d(k(Z.prototype),"endClip",this).call(this)}},{key:"_clearClip",value:function(){this.GL.clearStencil(1);this.GL.clear(this.GL.STENCIL_BUFFER_BIT);0<this._clipDepths.length&&this._clipDepths.pop();this.drawTarget()._isClipApplied=!1}},{key:"strokeWeight",value:function(E){this.curStrokeWeight!==E&&(this.pointSize=E,this.curStrokeWeight=E)}},{key:"_getPixel",value:function(E,P){var aa=this.GL;return x(aa,null,
E,P,aa.RGBA,aa.UNSIGNED_BYTE,this._pInst.height*this._pInst.pixelDensity())}},{key:"loadPixels",value:function(){var E,P,aa=this._pixelsState;!0!==this._pInst._glAttributes.preserveDrawingBuffer?console.log("loadPixels only works in WebGL when preserveDrawingBuffer is true."):(E=this._pInst._pixelDensity,P=this.GL,aa._setProperty("pixels",v(aa.pixels,P,null,0,0,this.width*E,this.height*E,P.RGBA,P.UNSIGNED_BYTE,this.height*E)))}},{key:"updatePixels",value:function(){var E=this._getTempFramebuffer();
E.pixels=this._pixelsState.pixels;E.updatePixels();this._pInst.push();this._pInst.resetMatrix();this._pInst.clear();this._pInst.imageMode(A.CENTER);this._pInst.image(E,0,0);this._pInst.pop();this.GL.clearDepth(1);this.GL.clear(this.GL.DEPTH_BUFFER_BIT)}},{key:"_getTempFramebuffer",value:function(){return this._tempFramebuffer||(this._tempFramebuffer=this._pInst.createFramebuffer({format:A.UNSIGNED_BYTE,useDepth:this._pInst._glAttributes.depth,depthFormat:A.UNSIGNED_INT,antialias:this._pInst._glAttributes.antialias})),
this._tempFramebuffer}},{key:"geometryInHash",value:function(E){return void 0!==this.retainedMode.geometry[E]}},{key:"viewport",value:function(E,P){this._viewport=[0,0,E,P];this.GL.viewport(0,0,E,P)}},{key:"resize",value:function(E,P){C.default.Renderer.prototype.resize.call(this,E,P);this._origViewport={width:this.GL.drawingBufferWidth,height:this.GL.drawingBufferHeight};this.viewport(this._origViewport.width,this._origViewport.height);this._curCamera._resize();E=this._pixelsState;var aa=(void 0!==
E.pixels&&E._setProperty("pixels",new Uint8Array(this.GL.drawingBufferWidth*this.GL.drawingBufferHeight*4)),!0);P=!1;E=void 0;try{for(var ja,oa=this.framebuffers[Symbol.iterator]();!(aa=(ja=oa.next()).done);aa=!0)ja.value._canvasSizeChanged()}catch(ra){P=!0,E=ra}finally{try{aa||null==oa.return||oa.return()}finally{if(P)throw E;}}}},{key:"clear",value:function(){var E=(0>=arguments.length?void 0:arguments[0])||0,P=(1>=arguments.length?void 0:arguments[1])||0,aa=(2>=arguments.length?void 0:arguments[2])||
0,ja=(3>=arguments.length?void 0:arguments[3])||0,oa=this.activeFramebuffer();oa&&oa.format===A.UNSIGNED_BYTE&&!oa.antialias&&0===ja&&(ja=1E-10);this.GL.clearColor(E*ja,P*ja,aa*ja,ja);this.GL.clearDepth(1);this.GL.clear(this.GL.COLOR_BUFFER_BIT|this.GL.DEPTH_BUFFER_BIT)}},{key:"clearDepth",value:function(){this.GL.clearDepth(0<arguments.length&&void 0!==arguments[0]?arguments[0]:1);this.GL.clear(this.GL.DEPTH_BUFFER_BIT)}},{key:"applyMatrix",value:function(E,P,aa,ja,oa,ra){16===arguments.length?C.default.Matrix.prototype.apply.apply(this.uModelMatrix,
arguments):this.uModelMatrix.apply([E,P,0,0,aa,ja,0,0,0,0,1,0,oa,ra,0,1])}},{key:"translate",value:function(E,P,aa){return E instanceof C.default.Vector&&(aa=E.z,P=E.y,E=E.x),this.uModelMatrix.translate([E,P,aa]),this}},{key:"scale",value:function(E,P,aa){return this.uModelMatrix.scale(E,P,aa),this}},{key:"rotate",value:function(E,P){return void 0===P?this.rotateZ(E):(C.default.Matrix.prototype.rotate.apply(this.uModelMatrix,arguments),this)}},{key:"rotateX",value:function(E){return this.rotate(E,
1,0,0),this}},{key:"rotateY",value:function(E){return this.rotate(E,0,1,0),this}},{key:"rotateZ",value:function(E){return this.rotate(E,0,0,1),this}},{key:"push",value:function(){var E=C.default.Renderer.prototype.push.apply(this),P=E.properties;return P.uModelMatrix=this.uModelMatrix.copy(),P.uViewMatrix=this.uViewMatrix.copy(),P.uPMatrix=this.uPMatrix.copy(),P._curCamera=this._curCamera,this._curCamera=this._curCamera.copy(),P.ambientLightColors=this.ambientLightColors.slice(),P.specularColors=
this.specularColors.slice(),P.directionalLightDirections=this.directionalLightDirections.slice(),P.directionalLightDiffuseColors=this.directionalLightDiffuseColors.slice(),P.directionalLightSpecularColors=this.directionalLightSpecularColors.slice(),P.pointLightPositions=this.pointLightPositions.slice(),P.pointLightDiffuseColors=this.pointLightDiffuseColors.slice(),P.pointLightSpecularColors=this.pointLightSpecularColors.slice(),P.spotLightPositions=this.spotLightPositions.slice(),P.spotLightDirections=
this.spotLightDirections.slice(),P.spotLightDiffuseColors=this.spotLightDiffuseColors.slice(),P.spotLightSpecularColors=this.spotLightSpecularColors.slice(),P.spotLightAngle=this.spotLightAngle.slice(),P.spotLightConc=this.spotLightConc.slice(),P.userFillShader=this.userFillShader,P.userStrokeShader=this.userStrokeShader,P.userPointShader=this.userPointShader,P.pointSize=this.pointSize,P.curStrokeWeight=this.curStrokeWeight,P.curStrokeColor=this.curStrokeColor,P.curFillColor=this.curFillColor,P.curAmbientColor=
this.curAmbientColor,P.curSpecularColor=this.curSpecularColor,P.curEmissiveColor=this.curEmissiveColor,P._hasSetAmbient=this._hasSetAmbient,P._useSpecularMaterial=this._useSpecularMaterial,P._useEmissiveMaterial=this._useEmissiveMaterial,P._useShininess=this._useShininess,P._useMetalness=this._useMetalness,P.constantAttenuation=this.constantAttenuation,P.linearAttenuation=this.linearAttenuation,P.quadraticAttenuation=this.quadraticAttenuation,P._enableLighting=this._enableLighting,P._useNormalMaterial=
this._useNormalMaterial,P._tex=this._tex,P.drawMode=this.drawMode,P._currentNormal=this._currentNormal,P.curBlendMode=this.curBlendMode,P.activeImageLight=this.activeImageLight,P.textureMode=this.textureMode,E}},{key:"pop",value:function(){var E;0<this._clipDepths.length&&this._pushPopDepth===this._clipDepths[this._clipDepths.length-1]&&this._clearClip();for(var P=arguments.length,aa=Array(P),ja=0;ja<P;ja++)aa[ja]=arguments[ja];(E=d(k(Z.prototype),"pop",this)).call.apply(E,[this].concat(aa));this._applyStencilTestIfClipping()}},
{key:"_applyStencilTestIfClipping",value:function(){var E=this.drawTarget();E._isClipApplied!==this._stencilTestOn&&(E._isClipApplied?(this.GL.enable(this.GL.STENCIL_TEST),this._stencilTestOn=!0):(this.GL.disable(this.GL.STENCIL_TEST),this._stencilTestOn=!1))}},{key:"resetMatrix",value:function(){return this.uModelMatrix.reset(),this.uViewMatrix.set(this._curCamera.cameraMatrix),this}},{key:"_getImmediateStrokeShader",value:function(){var E=this.userStrokeShader;return E&&E.isStrokeShader()?E:this._getLineShader()}},
{key:"_getRetainedStrokeShader",value:function(){return this._getImmediateStrokeShader()}},{key:"_getSphereMapping",value:function(E){return this.sphereMapping||(this.sphereMapping=this._pInst.createFilterShader(ea)),this.uNMatrix.inverseTranspose(this.uViewMatrix),this.uNMatrix.invert3x3(this.uNMatrix),this.sphereMapping.setUniform("uFovY",this._curCamera.cameraFOV),this.sphereMapping.setUniform("uAspect",this._curCamera.aspectRatio),this.sphereMapping.setUniform("uNewNormalMatrix",this.uNMatrix.mat3),
this.sphereMapping.setUniform("uSampler",E),this.sphereMapping}},{key:"_getImmediateFillShader",value:function(){var E=this.userFillShader;if(this._useNormalMaterial&&(!E||!E.isNormalShader()))return this._getNormalShader();if(this._enableLighting){if(!E||!E.isLightShader())return this._getLightShader()}else if(this._tex){if(!E||!E.isTextureShader())return this._getLightShader()}else if(!E)return this._getImmediateModeShader();return E}},{key:"_getRetainedFillShader",value:function(){if(this._useNormalMaterial)return this._getNormalShader();
var E=this.userFillShader;if(this._enableLighting){if(!E||!E.isLightShader())return this._getLightShader()}else if(this._tex){if(!E||!E.isTextureShader())return this._getLightShader()}else if(!E)return this._getColorShader();return E}},{key:"_getImmediatePointShader",value:function(){var E=this.userPointShader;return E&&E.isPointShader()?E:this._getPointShader()}},{key:"_getRetainedLineShader",value:function(){return this._getImmediateLineShader()}},{key:"baseMaterialShader",value:function(){if(this._pInst._glAttributes.perPixelLighting)return this._getLightShader();
throw Error("The material shader does not support hooks without perPixelLighting. Try turning it back on.");}},{key:"_getLightShader",value:function(){return this._defaultLightShader||(this._pInst._glAttributes.perPixelLighting?this._defaultLightShader=new C.default.Shader(this,this._webGL2CompatibilityPrefix("vert","highp")+Y.phongVert,this._webGL2CompatibilityPrefix("frag","highp")+Y.phongFrag,{vertex:{"void beforeVertex":"() {}","vec3 getLocalPosition":"(vec3 position) { return position; }","vec3 getWorldPosition":"(vec3 position) { return position; }",
"vec3 getLocalNormal":"(vec3 normal) { return normal; }","vec3 getWorldNormal":"(vec3 normal) { return normal; }","vec2 getUV":"(vec2 uv) { return uv; }","vec4 getVertexColor":"(vec4 color) { return color; }","void afterVertex":"() {}"},fragment:{"void beforeFragment":"() {}","Inputs getPixelInputs":"(Inputs inputs) { return inputs; }","vec4 combineColors":"(ColorComponents components) {\n                vec4 color \x3d vec4(0.);\n                color.rgb +\x3d components.diffuse * components.baseColor;\n                color.rgb +\x3d components.ambient * components.ambientColor;\n                color.rgb +\x3d components.specular * components.specularColor;\n                color.rgb +\x3d components.emissive;\n                color.a \x3d components.opacity;\n                return color;\n              }",
"vec4 getFinalColor":"(vec4 color) { return color; }","void afterFragment":"() {}"}}):this._defaultLightShader=new C.default.Shader(this,this._webGL2CompatibilityPrefix("vert","highp")+Y.lightVert,this._webGL2CompatibilityPrefix("frag","highp")+Y.lightTextureFrag)),this._defaultLightShader}},{key:"_getImmediateModeShader",value:function(){return this._defaultImmediateModeShader||(this._defaultImmediateModeShader=new C.default.Shader(this,this._webGL2CompatibilityPrefix("vert","mediump")+Y.immediateVert,
this._webGL2CompatibilityPrefix("frag","mediump")+Y.vertexColorFrag)),this._defaultImmediateModeShader}},{key:"baseNormalShader",value:function(){return this._getNormalShader()}},{key:"_getNormalShader",value:function(){return this._defaultNormalShader||(this._defaultNormalShader=new C.default.Shader(this,this._webGL2CompatibilityPrefix("vert","mediump")+Y.normalVert,this._webGL2CompatibilityPrefix("frag","mediump")+Y.normalFrag,{vertex:{"void beforeVertex":"() {}","vec3 getLocalPosition":"(vec3 position) { return position; }",
"vec3 getWorldPosition":"(vec3 position) { return position; }","vec3 getLocalNormal":"(vec3 normal) { return normal; }","vec3 getWorldNormal":"(vec3 normal) { return normal; }","vec2 getUV":"(vec2 uv) { return uv; }","vec4 getVertexColor":"(vec4 color) { return color; }","void afterVertex":"() {}"},fragment:{"void beforeFragment":"() {}","vec4 getFinalColor":"(vec4 color) { return color; }","void afterFragment":"() {}"}})),this._defaultNormalShader}},{key:"baseColorShader",value:function(){return this._getColorShader()}},
{key:"_getColorShader",value:function(){return this._defaultColorShader||(this._defaultColorShader=new C.default.Shader(this,this._webGL2CompatibilityPrefix("vert","mediump")+Y.normalVert,this._webGL2CompatibilityPrefix("frag","mediump")+Y.basicFrag,{vertex:{"void beforeVertex":"() {}","vec3 getLocalPosition":"(vec3 position) { return position; }","vec3 getWorldPosition":"(vec3 position) { return position; }","vec3 getLocalNormal":"(vec3 normal) { return normal; }","vec3 getWorldNormal":"(vec3 normal) { return normal; }",
"vec2 getUV":"(vec2 uv) { return uv; }","vec4 getVertexColor":"(vec4 color) { return color; }","void afterVertex":"() {}"},fragment:{"void beforeFragment":"() {}","vec4 getFinalColor":"(vec4 color) { return color; }","void afterFragment":"() {}"}})),this._defaultColorShader}},{key:"pointShader",value:function(){return this._getPointShader()}},{key:"_getPointShader",value:function(){return this._defaultPointShader||(this._defaultPointShader=new C.default.Shader(this,this._webGL2CompatibilityPrefix("vert",
"mediump")+Y.pointVert,this._webGL2CompatibilityPrefix("frag","mediump")+Y.pointFrag,{vertex:{"void beforeVertex":"() {}","vec3 getLocalPosition":"(vec3 position) { return position; }","vec3 getWorldPosition":"(vec3 position) { return position; }","float getPointSize":"(float size) { return size; }","void afterVertex":"() {}"},fragment:{"void beforeFragment":"() {}","vec4 getFinalColor":"(vec4 color) { return color; }","bool shouldDiscard":"(bool outside) { return outside; }","void afterFragment":"() {}"}})),
this._defaultPointShader}},{key:"baseStrokeShader",value:function(){return this._getLineShader()}},{key:"_getLineShader",value:function(){return this._defaultLineShader||(this._defaultLineShader=new C.default.Shader(this,this._webGL2CompatibilityPrefix("vert","mediump")+Y.lineVert,this._webGL2CompatibilityPrefix("frag","mediump")+Y.lineFrag,{vertex:{"void beforeVertex":"() {}","vec3 getLocalPosition":"(vec3 position) { return position; }","vec3 getWorldPosition":"(vec3 position) { return position; }",
"float getStrokeWeight":"(float weight) { return weight; }","vec2 getLineCenter":"(vec2 center) { return center; }","vec2 getLinePosition":"(vec2 position) { return position; }","vec4 getVertexColor":"(vec4 color) { return color; }","void afterVertex":"() {}"},fragment:{"void beforeFragment":"() {}","Inputs getPixelInputs":"(Inputs inputs) { return inputs; }","vec4 getFinalColor":"(vec4 color) { return color; }","bool shouldDiscard":"(bool outside) { return outside; }","void afterFragment":"() {}"}})),
this._defaultLineShader}},{key:"_getFontShader",value:function(){return this._defaultFontShader||(this.webglVersion===A.WEBGL&&this.GL.getExtension("OES_standard_derivatives"),this._defaultFontShader=new C.default.Shader(this,this._webGL2CompatibilityPrefix("vert","highp")+Y.fontVert,this._webGL2CompatibilityPrefix("frag","highp")+Y.fontFrag)),this._defaultFontShader}},{key:"_webGL2CompatibilityPrefix",value:function(E,P){var aa="";return this.webglVersion===A.WEBGL2&&(aa+="#version 300 es\n#define WEBGL2\n"),
"vert"===E?aa+="#define VERTEX_SHADER\n":"frag"===E&&(aa+="#define FRAGMENT_SHADER\n"),P&&(aa+="precision ".concat(P," float;\n")),aa}},{key:"_getEmptyTexture",value:function(){var E;return this._emptyTexture||((E=new C.default.Image(1,1)).set(0,0,255),this._emptyTexture=new C.default.Texture(this,E)),this._emptyTexture}},{key:"getTexture",value:function(E){E instanceof C.default.Framebuffer&&(E=E.color);var P=this.textures.get(E);return P||(P=new C.default.Texture(this,E),this.textures.set(E,P),
P)}},{key:"getDiffusedTexture",value:function(E){var P,aa,ja=this;return null!=this.diffusedTextures.get(E)?this.diffusedTextures.get(E):(0,P=Math.floor(E.height/E.width*200),aa=this._pInst.createFramebuffer({width:200,height:P,density:1}),this.diffusedShader||(this.diffusedShader=this._pInst.createShader(Y.imageLightVert,Y.imageLightDiffusedFrag)),aa.draw(function(){ja._pInst.shader(ja.diffusedShader);ja.diffusedShader.setUniform("environmentMap",E);ja._pInst.noStroke();ja._pInst.rectMode(A.CENTER);
ja._pInst.noLights();ja._pInst.rect(0,0,200,P)}),this.diffusedTextures.set(E,aa),aa)}},{key:"getSpecularTexture",value:function(E){var P=this;if(null!=this.specularTextures.get(E))return this.specularTextures.get(E);for(var aa,ja=[],oa=this._pInst.createFramebuffer({width:512,height:512,density:1}),ra=Math.log(512)/Math.log(2),la=(this.specularShader||(this.specularShader=this._pInst.createShader(Y.imageLightVert,Y.imageLightSpecularFrag)),512);1<=la;la/=2)!function(sa){oa.resize(sa,sa);var Da=1-
Math.log(sa)/Math.log(2)/ra;oa.draw(function(){P._pInst.shader(P.specularShader);P._pInst.clear();P.specularShader.setUniform("environmentMap",E);P.specularShader.setUniform("roughness",Da);P._pInst.noStroke();P._pInst.noLights();P._pInst.plane(sa,sa)});ja.push(oa.get().drawingContext.getImageData(0,0,sa,sa))}(la);return oa.remove(),aa=new G.MipmapTexture(this,ja,{}),this.specularTextures.set(E,aa),aa}},{key:"activeFramebuffer",value:function(){return this.activeFramebuffers[this.activeFramebuffers.length-
1]||null}},{key:"createFramebuffer",value:function(E){return new C.default.Framebuffer(this,E)}},{key:"_setStrokeUniforms",value:function(E){E.bindShader();E.setUniform("uUseLineColor",this._useLineColor);E.setUniform("uMaterialColor",this.curStrokeColor);E.setUniform("uStrokeWeight",this.curStrokeWeight);E.setUniform("uStrokeCap",J[this.curStrokeCap]);E.setUniform("uStrokeJoin",I[this.curStrokeJoin])}},{key:"_setFillUniforms",value:function(E){var P=this,aa=(E.bindShader(),this.mixedSpecularColor=
l(this.curSpecularColor),0<this._useMetalness&&(this.mixedSpecularColor=this.mixedSpecularColor.map(function(ja,oa){return P.curFillColor[oa]*P._useMetalness+ja*(1-P._useMetalness)})),E.setUniform("uUseVertexColor",this._useVertexColor),E.setUniform("uMaterialColor",this.curFillColor),E.setUniform("isTexture",!!this._tex),this._tex&&E.setUniform("uSampler",this._tex),E.setUniform("uTint",this._tint),E.setUniform("uHasSetAmbient",this._hasSetAmbient),E.setUniform("uAmbientMatColor",this.curAmbientColor),
E.setUniform("uSpecularMatColor",this.mixedSpecularColor),E.setUniform("uEmissiveMatColor",this.curEmissiveColor),E.setUniform("uSpecular",this._useSpecularMaterial),E.setUniform("uEmissive",this._useEmissiveMaterial),E.setUniform("uShininess",this._useShininess),E.setUniform("uMetallic",this._useMetalness),this._setImageLightUniforms(E),E.setUniform("uUseLighting",this._enableLighting),this.pointLightDiffuseColors.length/3);aa=(E.setUniform("uPointLightCount",aa),E.setUniform("uPointLightLocation",
this.pointLightPositions),E.setUniform("uPointLightDiffuseColors",this.pointLightDiffuseColors),E.setUniform("uPointLightSpecularColors",this.pointLightSpecularColors),this.directionalLightDiffuseColors.length/3);aa=(E.setUniform("uDirectionalLightCount",aa),E.setUniform("uLightingDirection",this.directionalLightDirections),E.setUniform("uDirectionalDiffuseColors",this.directionalLightDiffuseColors),E.setUniform("uDirectionalSpecularColors",this.directionalLightSpecularColors),this.ambientLightColors.length/
3);aa=(this.mixedAmbientLight=l(this.ambientLightColors),0<this._useMetalness&&(this.mixedAmbientLight=this.mixedAmbientLight.map(function(ja){ja-=P._useMetalness;return Math.max(0,ja)})),E.setUniform("uAmbientLightCount",aa),E.setUniform("uAmbientColor",this.mixedAmbientLight),this.spotLightDiffuseColors.length/3);E.setUniform("uSpotLightCount",aa);E.setUniform("uSpotLightAngle",this.spotLightAngle);E.setUniform("uSpotLightConc",this.spotLightConc);E.setUniform("uSpotLightDiffuseColors",this.spotLightDiffuseColors);
E.setUniform("uSpotLightSpecularColors",this.spotLightSpecularColors);E.setUniform("uSpotLightLocation",this.spotLightPositions);E.setUniform("uSpotLightDirection",this.spotLightDirections);E.setUniform("uConstantAttenuation",this.constantAttenuation);E.setUniform("uLinearAttenuation",this.linearAttenuation);E.setUniform("uQuadraticAttenuation",this.quadraticAttenuation);E.bindTextures()}},{key:"_setImageLightUniforms",value:function(E){var P;E.setUniform("uUseImageLight",null!=this.activeImageLight);
this.activeImageLight&&(P=this.getDiffusedTexture(this.activeImageLight),E.setUniform("environmentMapDiffused",P),P=this.getSpecularTexture(this.activeImageLight),E.setUniform("environmentMapSpecular",P))}},{key:"_setPointUniforms",value:function(E){E.bindShader();E.setUniform("uMaterialColor",this.curStrokeColor);E.setUniform("uPointSize",this.pointSize*this._pInst._pixelDensity)}},{key:"_bindBuffer",value:function(E,P,aa,ja,oa){P=P||this.GL.ARRAY_BUFFER;this.GL.bindBuffer(P,E);void 0!==aa&&((E=
aa)instanceof C.default.DataArray?E=aa.dataArray():E instanceof(ja||Float32Array)||(E=new (ja||Float32Array)(E)),this.GL.bufferData(P,E,oa||this.GL.STATIC_DRAW))}},{key:"_arraysEqual",value:function(E,P){return E.length===P.length&&E.every(function(aa,ja){return aa===P[ja]})}},{key:"_isTypedArray",value:function(E){return[Float32Array,Float64Array,Int16Array,Uint16Array,Uint32Array].some(function(P){return E instanceof P})}},{key:"_flatten",value:function(E){return E.flat()}},{key:"_vToNArray",value:function(E){return E.flatMap(function(P){return[P.x,
P.y,P.z]})}},{key:"_bezierCoefficients",value:function(E){var P=E*E,aa=1-E,ja=aa*aa;return[ja*aa,3*ja*E,3*aa*P,P*E]}},{key:"_quadraticCoefficients",value:function(E){var P=1-E;return[P*P,2*P*E,E*E]}},{key:"_bezierToCatmull",value:function(E){return[E[1],E[1]+(E[2]-E[0])/this._curveTightness,E[2]-(E[3]-E[1])/this._curveTightness,E[2]]}},{key:"_initTessy",value:function(){var E=new K.default.GluTesselator;return E.gluTessCallback(K.default.gluEnum.GLU_TESS_VERTEX_DATA,function(P,aa){var ja=!0,oa=!1,
ra=void 0;try{for(var la,sa=P[Symbol.iterator]();!(ja=(la=sa.next()).done);ja=!0)aa.push(la.value)}catch(Da){oa=!0,ra=Da}finally{try{ja||null==sa.return||sa.return()}finally{if(oa)throw ra;}}}),E.gluTessCallback(K.default.gluEnum.GLU_TESS_BEGIN,function(P){P!==K.default.primitiveType.GL_TRIANGLES&&console.log("expected TRIANGLES but got type: ".concat(P))}),E.gluTessCallback(K.default.gluEnum.GLU_TESS_ERROR,function(P){console.log("error callback");console.log("error number: ".concat(P))}),E.gluTessCallback(K.default.gluEnum.GLU_TESS_COMBINE,
function(P,aa,ja){P=Array(C.default.RendererGL.prototype.tessyVertexSize).fill(0);for(var oa=0;oa<ja.length;oa++)for(var ra=0;ra<P.length;ra++)0!==ja[oa]&&aa[oa]&&(P[ra]+=aa[oa][ra]*ja[oa]);return P}),E.gluTessCallback(K.default.gluEnum.GLU_TESS_EDGE_FLAG,function(P){}),E.gluTessProperty(K.default.gluEnum.GLU_TESS_WINDING_RULE,K.default.windingRule.GLU_TESS_WINDING_NONZERO),E}},{key:"_triangulate",value:function(E){var P=E[0]?E[0][2]:void 0,aa=!0,ja=!0,oa=!1,ra=void 0;try{for(var la,sa=E[Symbol.iterator]();!(ja=
(la=sa.next()).done);ja=!0)for(var Da=la.value,qa=0;qa<Da.length;qa+=C.default.RendererGL.prototype.tessyVertexSize)if(Da[qa+2]!==P){aa=!1;break}}catch(na){oa=!0,ra=na}finally{try{ja||null==sa.return||sa.return()}finally{if(oa)throw ra;}}aa?this._tessy.gluTessNormal(0,0,1):this._tessy.gluTessNormal(0,0,0);oa=[];P=(this._tessy.gluTessBeginPolygon(oa),!0);ra=!1;aa=void 0;try{for(var Aa,Ga=E[Symbol.iterator]();!(P=(Aa=Ga.next()).done);P=!0){var Ka=Aa.value;this._tessy.gluTessBeginContour();for(E=0;E<
Ka.length;E+=C.default.RendererGL.prototype.tessyVertexSize){var ha=Ka.slice(E,E+C.default.RendererGL.prototype.tessyVertexSize);this._tessy.gluTessVertex(ha,ha)}this._tessy.gluTessEndContour()}}catch(na){ra=!0,aa=na}finally{try{P||null==Ga.return||Ga.return()}finally{if(ra)throw aa;}}return this._tessy.gluTessEndPolygon(),oa}}],h(L.prototype,X),Z}(C.default.Renderer);C.default.prototype._assert3d=function(X){if(!this._renderer.isP3D)throw Error("".concat(X,"() is only supported in WEBGL mode. If you'd like to use 3D graphics and WebGL, see  https://p5js.org/examples/form-3d-primitives.html for more information."));
};C.default.RendererGL.prototype.tessyVertexSize=12;a=C.default.RendererGL;F.default=a},{"../core/constants":272,"../core/main":283,"../core/p5.Renderer":286,"./GeometryBuilder":327,"./p5.Camera":332,"./p5.Framebuffer":334,"./p5.Matrix":336,"./p5.Shader":342,"./p5.Texture":343,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.copy-within":154,"core-js/modules/es.array.every":155,"core-js/modules/es.array.fill":156,"core-js/modules/es.array.flat":160,"core-js/modules/es.array.flat-map":159,
"core-js/modules/es.array.from":162,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.array.some":170,"core-js/modules/es.array.unscopables.flat":173,"core-js/modules/es.array.unscopables.flat-map":172,"core-js/modules/es.map":175,"core-js/modules/es.object.assign":183,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.get-prototype-of":188,
"core-js/modules/es.object.to-string":190,"core-js/modules/es.reflect.construct":192,"core-js/modules/es.reflect.get":193,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.set":197,"core-js/modules/es.string.includes":199,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.typed-array.copy-within":213,"core-js/modules/es.typed-array.every":214,"core-js/modules/es.typed-array.fill":215,
"core-js/modules/es.typed-array.filter":216,"core-js/modules/es.typed-array.find":218,"core-js/modules/es.typed-array.find-index":217,"core-js/modules/es.typed-array.float32-array":219,"core-js/modules/es.typed-array.float64-array":220,"core-js/modules/es.typed-array.for-each":221,"core-js/modules/es.typed-array.includes":222,"core-js/modules/es.typed-array.index-of":223,"core-js/modules/es.typed-array.int16-array":224,"core-js/modules/es.typed-array.iterator":226,"core-js/modules/es.typed-array.join":227,
"core-js/modules/es.typed-array.last-index-of":228,"core-js/modules/es.typed-array.map":229,"core-js/modules/es.typed-array.reduce":231,"core-js/modules/es.typed-array.reduce-right":230,"core-js/modules/es.typed-array.reverse":232,"core-js/modules/es.typed-array.set":233,"core-js/modules/es.typed-array.slice":234,"core-js/modules/es.typed-array.some":235,"core-js/modules/es.typed-array.sort":236,"core-js/modules/es.typed-array.subarray":237,"core-js/modules/es.typed-array.to-locale-string":238,"core-js/modules/es.typed-array.to-string":239,
"core-js/modules/es.typed-array.uint16-array":240,"core-js/modules/es.typed-array.uint32-array":241,"core-js/modules/es.typed-array.uint8-array":242,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246,libtess:255,path:258}],342:[function(a,R,F){function z(r,l){if(!(r=function(h){if(Array.isArray(h))return h}(r)||function(h,d){if(Symbol.iterator in Object(h)||"[object Arguments]"===Object.prototype.toString.call(h)){var b=[],g=!0,p=!1,k=void 0;try{for(var n,q=h[Symbol.iterator]();!(g=
(n=q.next()).done)&&(b.push(n.value),!d||b.length!==d);g=!0);}catch(u){p=!0,k=u}finally{try{g||null==q.return||q.return()}finally{if(p)throw k;}}return b}}(r,l)))throw new TypeError("Invalid attempt to destructure non-iterable instance");return r}function y(r,l){for(var h=0;h<l.length;h++){var d=l[h];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(r,d.key,d)}}a("core-js/modules/es.symbol");a("core-js/modules/es.symbol.description");a("core-js/modules/es.symbol.iterator");
a("core-js/modules/es.array.concat");a("core-js/modules/es.array.index-of");a("core-js/modules/es.array.iterator");a("core-js/modules/es.array.slice");a("core-js/modules/es.array.some");a("core-js/modules/es.function.name");a("core-js/modules/es.object.assign");a("core-js/modules/es.object.keys");a("core-js/modules/es.object.to-string");a("core-js/modules/es.regexp.exec");a("core-js/modules/es.regexp.to-string");a("core-js/modules/es.string.iterator");a("core-js/modules/es.string.split");a("core-js/modules/web.dom-collections.iterator");
a("core-js/modules/es.symbol");a("core-js/modules/es.symbol.description");a("core-js/modules/es.symbol.iterator");a("core-js/modules/es.array.concat");a("core-js/modules/es.array.index-of");a("core-js/modules/es.array.iterator");a("core-js/modules/es.array.slice");a("core-js/modules/es.array.some");a("core-js/modules/es.function.name");a("core-js/modules/es.object.assign");a("core-js/modules/es.object.keys");a("core-js/modules/es.object.to-string");a("core-js/modules/es.regexp.exec");a("core-js/modules/es.string.iterator");
a("core-js/modules/es.string.split");a("core-js/modules/web.dom-collections.iterator");Object.defineProperty(F,"__esModule",{value:!0});F.default=void 0;var w=(a=a("../core/main"))&&a.__esModule?a:{default:a};w.default.Shader=function(){function r(h,d,b){var g=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{};if(!(this instanceof r))throw new TypeError("Cannot call a class as a function");this._renderer=h;this._vertSrc=d;this._fragSrc=b;this._fragShader=this._vertShader=-1;this._glProgram=
0;this._loadedAttributes=!1;this.attributes={};this._loadedUniforms=!1;this.uniforms={};this._bound=!1;this.samplers=[];this.hooks={uniforms:g.uniforms||{},declarations:g.declarations,helpers:g.helpers||{},vertex:g.vertex||{},fragment:g.fragment||{},modified:{vertex:g.modified&&g.modified.vertex||{},fragment:g.modified&&g.modified.fragment||{}}}}var l;return l=[{key:"shaderSrc",value:function(h,d){var b,g,p,k,n;h=z(h.split("void main"),2);var q=h[0];h=h[1];var u="";for(b in this.hooks.uniforms)u+=
"uniform ".concat(b,";\n");for(g in this.hooks.declarations&&(u+=this.hooks.declarations+"\n"),this.hooks[d].declarations&&(u+=this.hooks[d].declarations+"\n"),this.hooks.helpers)u+="".concat(g).concat(this.hooks.helpers[g],"\n");for(p in this.hooks[d])"declarations"!==p&&(k=(n=z(p.split(" "),2))[0],n=n[1],this.hooks.modified[d][p]&&(u+="#define AUGMENTED_HOOK_"+n+"\n"),u+=k+" HOOK_"+n+this.hooks[d][p]+"\n");return q+u+"void main"+h}},{key:"version",value:function(){var h=/#version (.+)$/.exec(this.vertSrc());
return h?h[1]:"100 es"}},{key:"vertSrc",value:function(){return this.shaderSrc(this._vertSrc,"vertex")}},{key:"fragSrc",value:function(){return this.shaderSrc(this._fragSrc,"fragment")}},{key:"inspectHooks",value:function(){for(var h in console.log("\x3d\x3d\x3d\x3d Vertex shader hooks: \x3d\x3d\x3d\x3d"),this.hooks.vertex)console.log((this.hooks.modified.vertex[h]?"[MODIFIED] ":"")+h+this.hooks.vertex[h]);for(var d in console.log(""),console.log("\x3d\x3d\x3d\x3d Fragment shader hooks: \x3d\x3d\x3d\x3d"),
this.hooks.fragment)console.log((this.hooks.modified.fragment[d]?"[MODIFIED] ":"")+d+this.hooks.fragment[d]);for(var b in console.log(""),console.log("\x3d\x3d\x3d\x3d Helper functions: \x3d\x3d\x3d\x3d"),this.hooks.helpers)console.log(b+this.hooks.helpers[b])}},{key:"modify",value:function(h){w.default._validateParameters("p5.Shader.modify",arguments);var d={},b={},g={};for(n in h)"declarations"!==n&&"uniforms"!==n&&("vertexDeclarations"===n?d.declarations=(d.declarations||"")+"\n"+h[n]:"fragmentDeclarations"===
n?b.declarations=(b.declarations||"")+"\n"+h[n]:this.hooks.vertex[n]?d[n]=h[n]:this.hooks.fragment[n]?b[n]=h[n]:g[n]=h[n]);var p,k;var n=Object.assign({},this.hooks.modified.vertex);var q=Object.assign({},this.hooks.modified.fragment);for(p in d||{})"declarations"!==p&&(n[p]=!0);for(k in b||{})"declarations"!==k&&(q[k]=!0);return new w.default.Shader(this._renderer,this._vertSrc,this._fragSrc,{declarations:(this.hooks.declarations||"")+"\n"+(h.declarations||""),uniforms:Object.assign({},this.hooks.uniforms,
h.uniforms||{}),fragment:Object.assign({},this.hooks.fragment,b||{}),vertex:Object.assign({},this.hooks.vertex,d||{}),helpers:Object.assign({},this.hooks.helpers,g||{}),modified:{vertex:n,fragment:q}})}},{key:"init",value:function(){if(0===this._glProgram){var h,d=this._renderer.GL;if(this._vertShader=d.createShader(d.VERTEX_SHADER),d.shaderSource(this._vertShader,this.vertSrc()),d.compileShader(this._vertShader),!d.getShaderParameter(this._vertShader,d.COMPILE_STATUS))return h=d.getShaderInfoLog(this._vertShader),
console.error(h),null;if(this._fragShader=d.createShader(d.FRAGMENT_SHADER),d.shaderSource(this._fragShader,this.fragSrc()),d.compileShader(this._fragShader),!d.getShaderParameter(this._fragShader,d.COMPILE_STATUS))return h=d.getShaderInfoLog(this._fragShader),console.error(h),null;this._glProgram=d.createProgram();d.attachShader(this._glProgram,this._vertShader);d.attachShader(this._glProgram,this._fragShader);d.linkProgram(this._glProgram);d.getProgramParameter(this._glProgram,d.LINK_STATUS)||w.default._friendlyError("Snap! Error linking shader program: ".concat(d.getProgramInfoLog(this._glProgram)));
this._loadAttributes();this._loadUniforms()}return this}},{key:"setDefaultUniforms",value:function(){for(var h in this.hooks.uniforms){var d=z(h.split(" "),2)[1];h=this.hooks.uniforms[h];var b=void 0;null!=(b=h instanceof Function?h():h)&&this.setUniform(d,b)}}},{key:"copyToContext",value:function(h){var d=new w.default.Shader(h._renderer,this._vertSrc,this._fragSrc);return d.ensureCompiledOnContext(h),d}},{key:"ensureCompiledOnContext",value:function(h){if(0!==this._glProgram&&this._renderer!==h._renderer)throw Error("The shader being run is attached to a different context. Do you need to copy it to this context first with .copyToContext()?");
0===this._glProgram&&(this._renderer=h._renderer,this.init())}},{key:"_loadAttributes",value:function(){if(!this._loadedAttributes){this.attributes={};for(var h=this._renderer.GL,d=h.getProgramParameter(this._glProgram,h.ACTIVE_ATTRIBUTES),b=0;b<d;++b){var g=h.getActiveAttrib(this._glProgram,b),p=g.name,k=h.getAttribLocation(this._glProgram,p),n={};n.name=p;n.location=k;n.index=b;n.type=g.type;n.size=g.size;this.attributes[p]=n}this._loadedAttributes=!0}}},{key:"_loadUniforms",value:function(){if(!this._loadedUniforms){for(var h=
this._renderer.GL,d=h.getProgramParameter(this._glProgram,h.ACTIVE_UNIFORMS),b=0,g=0;g<d;++g){var p=h.getActiveUniform(this._glProgram,g),k={},n=(k.location=h.getUniformLocation(this._glProgram,p.name),k.size=p.size,p.name);1<p.size&&(n=n.substring(0,n.indexOf("[0]")));k.name=n;k.type=p.type;k._cachedData=void 0;k.type===h.SAMPLER_2D&&(k.samplerIndex=b,b++,this.samplers.push(k));k.isArray=1<p.size||k.type===h.FLOAT_MAT3||k.type===h.FLOAT_MAT4||k.type===h.FLOAT_VEC2||k.type===h.FLOAT_VEC3||k.type===
h.FLOAT_VEC4||k.type===h.INT_VEC2||k.type===h.INT_VEC4||k.type===h.INT_VEC3;this.uniforms[n]=k}this._loadedUniforms=!0}}},{key:"compile",value:function(){}},{key:"bindShader",value:function(){this.init();this._bound||(this.useProgram(),this._bound=!0,this._setMatrixUniforms(),this.setUniform("uViewport",this._renderer._viewport))}},{key:"unbindShader",value:function(){return this._bound&&(this.unbindTextures(),this._bound=!1),this}},{key:"bindTextures",value:function(){var h=this._renderer.GL,d=!0,
b=!1,g=void 0;try{for(var p,k=this.samplers[Symbol.iterator]();!(d=(p=k.next()).done);d=!0){var n=p.value,q=n.texture;void 0===q&&(q=this._renderer._getEmptyTexture());h.activeTexture(h.TEXTURE0+n.samplerIndex);q.bindTexture();q.update();h.uniform1i(n.location,n.samplerIndex)}}catch(u){b=!0,g=u}finally{try{d||null==k.return||k.return()}finally{if(b)throw g;}}}},{key:"updateTextures",value:function(){var h=!0,d=!1,b=void 0;try{for(var g,p=this.samplers[Symbol.iterator]();!(h=(g=p.next()).done);h=!0){var k=
g.value.texture;k&&k.update()}}catch(n){d=!0,b=n}finally{try{h||null==p.return||p.return()}finally{if(d)throw b;}}}},{key:"unbindTextures",value:function(){var h=!0,d=!1,b=void 0;try{for(var g,p=this.samplers[Symbol.iterator]();!(h=(g=p.next()).done);h=!0)this.setUniform(g.value.name,this._renderer._getEmptyTexture())}catch(k){d=!0,b=k}finally{try{h||null==p.return||p.return()}finally{if(d)throw b;}}}},{key:"_setMatrixUniforms",value:function(){var h=this._renderer.uModelMatrix,d=this._renderer.uViewMatrix,
b=this._renderer.uPMatrix,g=h.copy().mult(d),p=(this._renderer.uMVMatrix=g).copy();p.mult(b);this.isStrokeShader()&&this.setUniform("uPerspective",this._renderer._curCamera.useLinePerspective?1:0);this.setUniform("uViewMatrix",d.mat4);this.setUniform("uProjectionMatrix",b.mat4);this.setUniform("uModelMatrix",h.mat4);this.setUniform("uModelViewMatrix",g.mat4);this.setUniform("uModelViewProjectionMatrix",p.mat4);this.uniforms.uNormalMatrix&&(this._renderer.uNMatrix.inverseTranspose(this._renderer.uMVMatrix),
this.setUniform("uNormalMatrix",this._renderer.uNMatrix.mat3));this.uniforms.uCameraRotation&&(this._renderer.curMatrix.inverseTranspose(this._renderer.uViewMatrix),this.setUniform("uCameraRotation",this._renderer.curMatrix.mat3))}},{key:"useProgram",value:function(){var h=this._renderer.GL;return this._renderer._curShader!==this&&(h.useProgram(this._glProgram),this._renderer._curShader=this),this}},{key:"setUniform",value:function(h,d){if(h=this.uniforms[h]){var b=this._renderer.GL;if(h.isArray){if(h._cachedData&&
this._renderer._arraysEqual(h._cachedData,d))return;h._cachedData=d.slice(0)}else{if(h._cachedData&&h._cachedData===d)return;Array.isArray(d)?h._cachedData=d.slice(0):h._cachedData=d}var g=h.location;switch(this.useProgram(),h.type){case b.BOOL:!0===d?b.uniform1i(g,1):b.uniform1i(g,0);break;case b.INT:1<h.size?d.length&&b.uniform1iv(g,d):b.uniform1i(g,d);break;case b.FLOAT:1<h.size?d.length&&b.uniform1fv(g,d):b.uniform1f(g,d);break;case b.FLOAT_MAT3:b.uniformMatrix3fv(g,!1,d);break;case b.FLOAT_MAT4:b.uniformMatrix4fv(g,
!1,d);break;case b.FLOAT_VEC2:1<h.size?d.length&&b.uniform2fv(g,d):b.uniform2f(g,d[0],d[1]);break;case b.FLOAT_VEC3:1<h.size?d.length&&b.uniform3fv(g,d):b.uniform3f(g,d[0],d[1],d[2]);break;case b.FLOAT_VEC4:1<h.size?d.length&&b.uniform4fv(g,d):b.uniform4f(g,d[0],d[1],d[2],d[3]);break;case b.INT_VEC2:1<h.size?d.length&&b.uniform2iv(g,d):b.uniform2i(g,d[0],d[1]);break;case b.INT_VEC3:1<h.size?d.length&&b.uniform3iv(g,d):b.uniform3i(g,d[0],d[1],d[2]);break;case b.INT_VEC4:1<h.size?d.length&&b.uniform4iv(g,
d):b.uniform4i(g,d[0],d[1],d[2],d[3]);break;case b.SAMPLER_2D:if("number"==typeof d){if(d<b.TEXTURE0||d>b.TEXTURE31||d!==Math.ceil(d))return console.log("\ud83c\udf38 p5.js says: You're trying to use a number as the data for a texture.Please use a texture."),this;b.activeTexture(d);b.uniform1i(g,d)}else b.activeTexture(b.TEXTURE0+h.samplerIndex),h.texture=d instanceof w.default.Texture?d:this._renderer.getTexture(d),b.uniform1i(g,h.samplerIndex),h.texture.src.gifProperties&&h.texture.src._animateGif(this._renderer._pInst);
break;case b.SAMPLER_CUBE:case b.SAMPLER_3D:case b.SAMPLER_2D_SHADOW:case b.SAMPLER_2D_ARRAY:case b.SAMPLER_2D_ARRAY_SHADOW:case b.SAMPLER_CUBE_SHADOW:case b.INT_SAMPLER_2D:case b.INT_SAMPLER_3D:case b.INT_SAMPLER_CUBE:case b.INT_SAMPLER_2D_ARRAY:case b.UNSIGNED_INT_SAMPLER_2D:case b.UNSIGNED_INT_SAMPLER_3D:case b.UNSIGNED_INT_SAMPLER_CUBE:case b.UNSIGNED_INT_SAMPLER_2D_ARRAY:"number"==typeof d&&(d<b.TEXTURE0||d>b.TEXTURE31||d!==Math.ceil(d)?console.log("\ud83c\udf38 p5.js says: You're trying to use a number as the data for a texture.Please use a texture."):
(b.activeTexture(d),b.uniform1i(g,d)))}return this}}},{key:"isLightShader",value:function(){return[this.attributes.aNormal,this.uniforms.uUseLighting,this.uniforms.uAmbientLightCount,this.uniforms.uDirectionalLightCount,this.uniforms.uPointLightCount,this.uniforms.uAmbientColor,this.uniforms.uDirectionalDiffuseColors,this.uniforms.uDirectionalSpecularColors,this.uniforms.uPointLightLocation,this.uniforms.uPointLightDiffuseColors,this.uniforms.uPointLightSpecularColors,this.uniforms.uLightingDirection,
this.uniforms.uSpecular].some(function(h){return void 0!==h})}},{key:"isNormalShader",value:function(){return void 0!==this.attributes.aNormal}},{key:"isTextureShader",value:function(){return 0<this.samplers.length}},{key:"isColorShader",value:function(){return void 0!==this.attributes.aVertexColor||void 0!==this.uniforms.uMaterialColor}},{key:"isTexLightShader",value:function(){return this.isLightShader()&&this.isTextureShader()}},{key:"isStrokeShader",value:function(){return void 0!==this.uniforms.uStrokeWeight}},
{key:"enableAttrib",value:function(h,d,b,g,p,k){var n;return h&&-1!==(h=h.location)&&(n=this._renderer.GL,this._renderer.registerEnabled.has(h)||(n.enableVertexAttribArray(h),this._renderer.registerEnabled.add(h)),this._renderer.GL.vertexAttribPointer(h,d,b||n.FLOAT,g||!1,p||0,k||0)),this}},{key:"disableRemainingAttributes",value:function(){var h=this,d=!0,b=!1,g=void 0;try{for(var p,k=this._renderer.registerEnabled.values()[Symbol.iterator]();!(d=(p=k.next()).done);d=!0)!function(){var n=p.value;
Object.keys(h.attributes).some(function(q){return h.attributes[q].location===n})||(h._renderer.GL.disableVertexAttribArray(n),h._renderer.registerEnabled.delete(n))}()}catch(n){b=!0,g=n}finally{try{d||null==k.return||k.return()}finally{if(b)throw g;}}}}],y(r.prototype,l),r}();a=w.default.Shader;F.default=a},{"../core/main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.slice":169,"core-js/modules/es.array.some":170,
"core-js/modules/es.function.name":174,"core-js/modules/es.object.assign":183,"core-js/modules/es.object.keys":189,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.split":206,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.iterator":246}],343:[function(a,
R,F){function z(u){return(z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(v){return typeof v}:function(v){return v&&"function"==typeof Symbol&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":typeof v})(u)}function y(u){return(y="function"==typeof Symbol&&"symbol"===z(Symbol.iterator)?function(v){return z(v)}:function(v){return v&&"function"==typeof Symbol&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":z(v)})(u)}function w(){var u;return"function"!=typeof WeakMap?
null:(u=new WeakMap,w=function(){return u},u)}function r(u,v){return(r=Object.setPrototypeOf||function(x,C){return x.__proto__=C,x})(u,v)}function l(u){return function(){var v,x=h(u);x=(v=function(){if("undefined"!=typeof Reflect&&Reflect.construct&&!Reflect.construct.sham){if("function"==typeof Proxy)return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch(C){}}}()?(v=h(this).constructor,Reflect.construct(x,arguments,v)):x.apply(this,arguments),this);if(!v||
"object"!==y(v)&&"function"!=typeof v){if(void 0!==x)return x;throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return v}}function h(u){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(v){return v.__proto__||Object.getPrototypeOf(v)})(u)}function d(u,v){if(!(u instanceof v))throw new TypeError("Cannot call a class as a function");}function b(u,v){for(var x=0;x<v.length;x++){var C=v[x];C.enumerable=C.enumerable||!1;C.configurable=!0;"value"in C&&(C.writable=
!0);Object.defineProperty(u,C.key,C)}}function g(u,v,x){v&&b(u.prototype,v);x&&b(u,x)}function p(u){var v=u.GL;u=u.webglVersion;var x=u===n.WEBGL2?v.getExtension("EXT_color_buffer_float")&&v.getExtension("EXT_float_blend"):v.getExtension("OES_texture_float"),C=x&&v.getExtension("OES_texture_float_linear");u=u===n.WEBGL2?v.getExtension("EXT_color_buffer_float"):v.getExtension("OES_texture_half_float");return{float:x,floatLinear:C,halfFloat:u,halfFloatLinear:u&&v.getExtension("OES_texture_half_float_linear")}}
a("core-js/modules/es.symbol");a("core-js/modules/es.symbol.description");a("core-js/modules/es.symbol.iterator");a("core-js/modules/es.array.iterator");a("core-js/modules/es.object.get-own-property-descriptor");a("core-js/modules/es.object.get-prototype-of");a("core-js/modules/es.object.to-string");a("core-js/modules/es.reflect.construct");a("core-js/modules/es.regexp.to-string");a("core-js/modules/es.string.iterator");a("core-js/modules/es.typed-array.uint8-array");a("core-js/modules/es.typed-array.copy-within");
a("core-js/modules/es.typed-array.every");a("core-js/modules/es.typed-array.fill");a("core-js/modules/es.typed-array.filter");a("core-js/modules/es.typed-array.find");a("core-js/modules/es.typed-array.find-index");a("core-js/modules/es.typed-array.for-each");a("core-js/modules/es.typed-array.includes");a("core-js/modules/es.typed-array.index-of");a("core-js/modules/es.typed-array.iterator");a("core-js/modules/es.typed-array.join");a("core-js/modules/es.typed-array.last-index-of");a("core-js/modules/es.typed-array.map");
a("core-js/modules/es.typed-array.reduce");a("core-js/modules/es.typed-array.reduce-right");a("core-js/modules/es.typed-array.reverse");a("core-js/modules/es.typed-array.set");a("core-js/modules/es.typed-array.slice");a("core-js/modules/es.typed-array.some");a("core-js/modules/es.typed-array.sort");a("core-js/modules/es.typed-array.subarray");a("core-js/modules/es.typed-array.to-locale-string");a("core-js/modules/es.typed-array.to-string");a("core-js/modules/es.weak-map");a("core-js/modules/web.dom-collections.iterator");
a("core-js/modules/es.array.iterator");a("core-js/modules/es.object.to-string");a("core-js/modules/es.typed-array.uint8-array");a("core-js/modules/es.typed-array.copy-within");a("core-js/modules/es.typed-array.every");a("core-js/modules/es.typed-array.fill");a("core-js/modules/es.typed-array.filter");a("core-js/modules/es.typed-array.find");a("core-js/modules/es.typed-array.find-index");a("core-js/modules/es.typed-array.for-each");a("core-js/modules/es.typed-array.includes");a("core-js/modules/es.typed-array.index-of");
a("core-js/modules/es.typed-array.iterator");a("core-js/modules/es.typed-array.join");a("core-js/modules/es.typed-array.last-index-of");a("core-js/modules/es.typed-array.map");a("core-js/modules/es.typed-array.reduce");a("core-js/modules/es.typed-array.reduce-right");a("core-js/modules/es.typed-array.reverse");a("core-js/modules/es.typed-array.set");a("core-js/modules/es.typed-array.slice");a("core-js/modules/es.typed-array.some");a("core-js/modules/es.typed-array.sort");a("core-js/modules/es.typed-array.subarray");
a("core-js/modules/es.typed-array.to-locale-string");a("core-js/modules/es.typed-array.to-string");Object.defineProperty(F,"__esModule",{value:!0});F.checkWebGLCapabilities=p;F.default=F.MipmapTexture=void 0;var k=(q=a("../core/main"))&&q.__esModule?q:{default:q},n=function(u){if(u&&u.__esModule)return u;if(null===u||"object"!==y(u)&&"function"!=typeof u)return{default:u};var v=w();if(v&&v.has(u))return v.get(u);var x,C={},A=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(x in u){var M;
Object.prototype.hasOwnProperty.call(u,x)&&((M=A?Object.getOwnPropertyDescriptor(u,x):null)&&(M.get||M.set)?Object.defineProperty(C,x,M):C[x]=u[x])}C.default=u;v&&v.set(u,C);return C}(a("../core/constants"));k.default.Texture=function(){function u(v,x,C){d(this,u);this._renderer=v;var A=this._renderer.GL;C=(C=C||{},this.src=x,this.glTex=void 0,this.glTarget=A.TEXTURE_2D,this.glFormat=C.format||A.RGBA,this.mipmaps=!1,this.glMinFilter=C.minFilter||A.LINEAR,this.glMagFilter=C.magFilter||A.LINEAR,this.glWrapS=
C.wrapS||A.CLAMP_TO_EDGE,this.glWrapT=C.wrapT||A.CLAMP_TO_EDGE,this.glDataType=C.dataType||A.UNSIGNED_BYTE,p(v));v=(this.glFormat!==A.HALF_FLOAT||C.halfFloat||(console.log("This device does not support dataType HALF_FLOAT. Falling back to FLOAT."),this.glDataType=A.FLOAT),this.glFormat!==A.HALF_FLOAT||this.glMinFilter!==A.LINEAR&&this.glMagFilter!==A.LINEAR||C.halfFloatLinear||(console.log("This device does not support linear filtering for dataType FLOAT. Falling back to NEAREST."),this.glMinFilter===
A.LINEAR&&(this.glMinFilter=A.NEAREST),this.glMagFilter===A.LINEAR&&(this.glMagFilter=A.NEAREST)),this.glFormat!==A.FLOAT||C.float||(console.log("This device does not support dataType FLOAT. Falling back to UNSIGNED_BYTE."),this.glDataType=A.UNSIGNED_BYTE),this.glFormat!==A.FLOAT||this.glMinFilter!==A.LINEAR&&this.glMagFilter!==A.LINEAR||C.floatLinear||(console.log("This device does not support linear filtering for dataType FLOAT. Falling back to NEAREST."),this.glMinFilter===A.LINEAR&&(this.glMinFilter=
A.NEAREST),this.glMagFilter===A.LINEAR&&(this.glMagFilter=A.NEAREST)),this.isSrcMediaElement=void 0!==k.default.MediaElement&&x instanceof k.default.MediaElement,this._videoPrevUpdateTime=0,this.isSrcHTMLElement=void 0!==k.default.Element&&x instanceof k.default.Element&&!(x instanceof k.default.Graphics)&&!(x instanceof k.default.Renderer),this.isSrcP5Image=x instanceof k.default.Image,this.isSrcP5Graphics=x instanceof k.default.Graphics,this.isSrcP5Renderer=x instanceof k.default.Renderer,this.isImageData=
"undefined"!=typeof ImageData&&x instanceof ImageData,this.isFramebufferTexture=x instanceof k.default.FramebufferTexture,this._getTextureDataFromSource());return this.width=v.width,this.height=v.height,this.init(v),this}return g(u,[{key:"_getTextureDataFromSource",value:function(){var v;return this.isFramebufferTexture?v=this.src.rawTexture():this.isSrcP5Image?v=this.src.canvas:this.isSrcMediaElement||this.isSrcP5Graphics||this.isSrcP5Renderer||this.isSrcHTMLElement?(this.src._ensureCanvas&&this.src._ensureCanvas(),
v=this.src.canvas||this.src.elt):this.isImageData&&(v=this.src),v}},{key:"init",value:function(v){var x,C=this._renderer.GL;this.isFramebufferTexture||(this.glTex=C.createTexture());this.glWrapS=this._renderer.textureWrapX;this.glWrapT=this._renderer.textureWrapY;this.setWrapMode(this.glWrapS,this.glWrapT);this.bindTexture();C.texParameteri(C.TEXTURE_2D,C.TEXTURE_MAG_FILTER,this.glMagFilter);C.texParameteri(C.TEXTURE_2D,C.TEXTURE_MIN_FILTER,this.glMinFilter);this.isFramebufferTexture||(0===this.width||
0===this.height||this.isSrcMediaElement&&!this.src.loadedmetadata?(x=new Uint8Array([1,1,1,1]),C.texImage2D(this.glTarget,0,C.RGBA,1,1,0,this.glFormat,this.glDataType,x)):C.texImage2D(this.glTarget,0,this.glFormat,this.glFormat,this.glDataType,v))}},{key:"update",value:function(){var v,x,C,A=this.src;return 0!==A.width&&0!==A.height&&!this.isFramebufferTexture&&(v=this._getTextureDataFromSource(),x=!1,C=this._renderer.GL,v.width!==this.width||v.height!==this.height?(x=!0,this.width=v.width||A.width,
this.height=v.height||A.height,this.isSrcP5Image?A.setModified(!1):(this.isSrcMediaElement||this.isSrcHTMLElement)&&A.setModified(!0)):this.isSrcP5Image?A.isModified()&&A.setModified(!(x=!0)):this.isSrcMediaElement?A.isModified()?A.setModified(!(x=!0)):A.loadedmetadata&&this._videoPrevUpdateTime!==A.time()&&(this._videoPrevUpdateTime=A.time(),x=!0):this.isImageData?A._dirty&&(x=!(A._dirty=!1)):x=!0,x&&(this.bindTexture(),C.texImage2D(this.glTarget,0,this.glFormat,this.glFormat,this.glDataType,v)),
x)}},{key:"bindTexture",value:function(){return this._renderer.GL.bindTexture(this.glTarget,this.getTexture()),this}},{key:"unbindTexture",value:function(){this._renderer.GL.bindTexture(this.glTarget,null)}},{key:"getTexture",value:function(){return this.isFramebufferTexture?this.src.rawTexture():this.glTex}},{key:"setInterpolation",value:function(v,x){var C=this._renderer.GL;this.glMinFilter=this.glFilter(v);this.glMagFilter=this.glFilter(x);this.bindTexture();C.texParameteri(C.TEXTURE_2D,C.TEXTURE_MIN_FILTER,
this.glMinFilter);C.texParameteri(C.TEXTURE_2D,C.TEXTURE_MAG_FILTER,this.glMagFilter);this.unbindTexture()}},{key:"glFilter",value:function(v){var x=this._renderer.GL;return v===n.NEAREST?x.NEAREST:x.LINEAR}},{key:"setWrapMode",value:function(v,x){var C=this._renderer.GL,A=this._getTextureDataFromSource();A=A.naturalWidth&&A.naturalHeight?(M=A.naturalWidth,A.naturalHeight):(M=this.width,this.height);var M=0==(M&M-1);A=0==(A&A-1);v===n.REPEAT?this._renderer.webglVersion===n.WEBGL2||M&&A?this.glWrapS=
C.REPEAT:(console.warn("You tried to set the wrap mode to REPEAT but the texture size is not a power of two. Setting to CLAMP instead"),this.glWrapS=C.CLAMP_TO_EDGE):v===n.MIRROR?this._renderer.webglVersion===n.WEBGL2||M&&A?this.glWrapS=C.MIRRORED_REPEAT:(console.warn("You tried to set the wrap mode to MIRROR but the texture size is not a power of two. Setting to CLAMP instead"),this.glWrapS=C.CLAMP_TO_EDGE):this.glWrapS=C.CLAMP_TO_EDGE;x===n.REPEAT?this._renderer.webglVersion===n.WEBGL2||M&&A?this.glWrapT=
C.REPEAT:(console.warn("You tried to set the wrap mode to REPEAT but the texture size is not a power of two. Setting to CLAMP instead"),this.glWrapT=C.CLAMP_TO_EDGE):x===n.MIRROR?this._renderer.webglVersion===n.WEBGL2||M&&A?this.glWrapT=C.MIRRORED_REPEAT:(console.warn("You tried to set the wrap mode to MIRROR but the texture size is not a power of two. Setting to CLAMP instead"),this.glWrapT=C.CLAMP_TO_EDGE):this.glWrapT=C.CLAMP_TO_EDGE;this.bindTexture();C.texParameteri(C.TEXTURE_2D,C.TEXTURE_WRAP_S,
this.glWrapS);C.texParameteri(C.TEXTURE_2D,C.TEXTURE_WRAP_T,this.glWrapT);this.unbindTexture()}}]),u}();var q=function(u){function v(C,A,M){d(this,v);A=(C=x.call(this,C,A,M))._renderer.GL;return C.glMinFilter===A.LINEAR&&(C.glMinFilter=A.LINEAR_MIPMAP_LINEAR),C}if("function"!=typeof u&&null!==u)throw new TypeError("Super expression must either be null or a function");v.prototype=Object.create(u&&u.prototype,{constructor:{value:v,writable:!0,configurable:!0}});u&&r(v,u);var x=l(v);return g(v,[{key:"glFilter",
value:function(C){return this._renderer.GL.LINEAR_MIPMAP_LINEAR}},{key:"_getTextureDataFromSource",value:function(){return this.src}},{key:"init",value:function(C){var A=this._renderer.GL;this.glTex=A.createTexture();this.bindTexture();for(var M=0;M<C.length;M++)A.texImage2D(this.glTarget,M,this.glFormat,this.glFormat,this.glDataType,C[M]);this.glMinFilter=A.LINEAR_MIPMAP_LINEAR;A.texParameteri(A.TEXTURE_2D,A.TEXTURE_MAG_FILTER,this.glMagFilter);A.texParameteri(A.TEXTURE_2D,A.TEXTURE_MIN_FILTER,this.glMinFilter);
this.unbindTexture()}},{key:"update",value:function(){}}]),v}(k.default.Texture);F.MipmapTexture=q;a=k.default.Texture;F.default=a},{"../core/constants":272,"../core/main":283,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.get-prototype-of":188,"core-js/modules/es.object.to-string":190,"core-js/modules/es.reflect.construct":192,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,
"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.typed-array.copy-within":213,"core-js/modules/es.typed-array.every":214,"core-js/modules/es.typed-array.fill":215,"core-js/modules/es.typed-array.filter":216,"core-js/modules/es.typed-array.find":218,"core-js/modules/es.typed-array.find-index":217,"core-js/modules/es.typed-array.for-each":221,"core-js/modules/es.typed-array.includes":222,"core-js/modules/es.typed-array.index-of":223,"core-js/modules/es.typed-array.iterator":226,
"core-js/modules/es.typed-array.join":227,"core-js/modules/es.typed-array.last-index-of":228,"core-js/modules/es.typed-array.map":229,"core-js/modules/es.typed-array.reduce":231,"core-js/modules/es.typed-array.reduce-right":230,"core-js/modules/es.typed-array.reverse":232,"core-js/modules/es.typed-array.set":233,"core-js/modules/es.typed-array.slice":234,"core-js/modules/es.typed-array.some":235,"core-js/modules/es.typed-array.sort":236,"core-js/modules/es.typed-array.subarray":237,"core-js/modules/es.typed-array.to-locale-string":238,
"core-js/modules/es.typed-array.to-string":239,"core-js/modules/es.typed-array.uint8-array":242,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],344:[function(a,R,F){function z(u){return(z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(v){return typeof v}:function(v){return v&&"function"==typeof Symbol&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":typeof v})(u)}function y(u){return(y="function"==typeof Symbol&&"symbol"===z(Symbol.iterator)?
function(v){return z(v)}:function(v){return v&&"function"==typeof Symbol&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":z(v)})(u)}function w(){var u;return"function"!=typeof WeakMap?null:(u=new WeakMap,w=function(){return u},u)}function r(u,v){if(!(u instanceof v))throw new TypeError("Cannot call a class as a function");}function l(u,v){for(var x=0;x<v.length;x++){var C=v[x];C.enumerable=C.enumerable||!1;C.configurable=!0;"value"in C&&(C.writable=!0);Object.defineProperty(u,C.key,C)}}function h(u,
v,x){v&&l(u.prototype,v);x&&l(u,x)}function d(u,v,x,C,A){var M=u.imageData.data;u=4*u.index++;M[u++]=v;M[u++]=x;M[u++]=C;M[+u]=A}a("core-js/modules/es.symbol");a("core-js/modules/es.symbol.description");a("core-js/modules/es.symbol.iterator");a("core-js/modules/es.array.iterator");a("core-js/modules/es.object.get-own-property-descriptor");a("core-js/modules/es.object.to-string");a("core-js/modules/es.regexp.exec");a("core-js/modules/es.string.iterator");a("core-js/modules/es.string.split");a("core-js/modules/es.string.sub");
a("core-js/modules/es.weak-map");a("core-js/modules/web.dom-collections.iterator");a("core-js/modules/es.symbol");a("core-js/modules/es.symbol.description");a("core-js/modules/es.symbol.iterator");a("core-js/modules/es.array.iterator");a("core-js/modules/es.object.to-string");a("core-js/modules/es.regexp.exec");a("core-js/modules/es.string.iterator");a("core-js/modules/es.string.split");a("core-js/modules/es.string.sub");a("core-js/modules/web.dom-collections.iterator");var b,g=(b=a("../core/main"))&&
b.__esModule?b:{default:b},p=function(u){if(u&&u.__esModule)return u;if(null===u||"object"!==y(u)&&"function"!=typeof u)return{default:u};var v=w();if(v&&v.has(u))return v.get(u);var x,C={},A=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(x in u){var M;Object.prototype.hasOwnProperty.call(u,x)&&((M=A?Object.getOwnPropertyDescriptor(u,x):null)&&(M.get||M.set)?Object.defineProperty(C,x,M):C[x]=u[x])}C.default=u;v&&v.set(u,C);return C}(a("../core/constants"));a("./p5.Shader");a("./p5.RendererGL.Retained");
g.default.RendererGL.prototype._applyTextProperties=function(){this._setProperty("_textAscent",null);this._setProperty("_textDescent",null)};g.default.RendererGL.prototype.textWidth=function(u){return this._isOpenType()?this._textFont._textWidth(u,this._textSize):0};var k=function(){function u(v,x){r(this,u);this.width=v;this.height=x;this.infos=[]}return h(u,[{key:"findImage",value:function(v){var x,C=this.width*this.height;if(C<v)throw Error("font is too complex to render in 3D");for(var A=this.infos.length-
1;0<=A;--A){var M=this.infos[A];if(M.index+v<C){var K=(x=M).imageData;break}}if(!x){try{K=new ImageData(this.width,this.height)}catch(G){x=document.getElementsByTagName("canvas")[0],A=!x,(C=(x||((x=document.createElement("canvas")).style.display="none",document.body.appendChild(x)),x.getContext("2d")))&&(K=C.createImageData(this.width,this.height)),A&&document.body.removeChild(x)}this.infos.push(x={index:0,imageData:K})}C=x.index;return x.index+=v,K._dirty=!0,{imageData:K,index:C}}}]),u}(),n=Math.sqrt(3),
q=function(){function u(v){r(this,u);this.font=v;this.strokeImageInfos=new k(64,64);this.colDimImageInfos=new k(64,64);this.rowDimImageInfos=new k(64,64);this.colCellImageInfos=new k(64,64);this.rowCellImageInfos=new k(64,64);this.glyphInfos={}}return h(u,[{key:"getGlyphInfo",value:function(v){function x(xa,Ca,za){function Na(bb,eb,cb){for(var wb=bb.length;0<wb--;){var nb=bb[wb];nb<eb&&(eb=nb);cb<nb&&(cb=nb)}return{min:eb,max:cb}}var Oa=ea.length;ea.push(za);za=Na(xa,1,0);xa=Math.max(Math.floor(9*
za.min-.5),0);for(za=Math.min(Math.ceil(9*za.max+.5),9);xa<za;++xa)X[xa].push(Oa);za=Na(Ca,1,0);xa=Math.max(Math.floor(9*za.min-.5),0);for(Ca=Math.min(Math.ceil(9*za.max+.5),9);xa<Ca;++xa)da[xa].push(Oa)}function C(xa){return 0>(xa*=255)?0:255<xa?255:xa}function A(xa,Ca,za,Na){x([xa,za],[Ca,Na],{x:xa,y:Ca,cx:(xa+za)/2,cy:(Ca+Na)/2})}function M(xa,Ca,za){var Na=xa.length,Oa=Ca.findImage(Na);Ca=Oa.index;for(var bb=0,eb=0;eb<Na;++eb)bb+=xa[eb].length;za=za.findImage(bb);for(bb=0;bb<Na;++bb){eb=xa[bb];
var cb=eb.length,wb=za.index;d(Oa,wb>>7,127&wb,cb>>7,127&cb);for(wb=0;wb<cb;++wb){var nb=eb[wb]+na;d(za,nb>>7,127&nb,0,0)}}return{cellImageInfo:za,dimOffset:Ca,dimImageInfo:Oa}}var K=this.glyphInfos[v.index];if(!K){var G=v.getBoundingBox(),U=G.x1,J=G.y1,I=G.x2-U,T=G.y2-J,Y=v.path.commands;if(0==I||0==T||!Y.length)return this.glyphInfos[v.index]={};for(var ea=[],da=[],X=[],Z=8;0<=Z;--Z)X.push([]);for(Z=8;0<=Z;--Z)da.push([]);var L=function(){function xa(Ca,za,Na,Oa){r(this,xa);this.p0=Ca;this.c0=za;
this.c1=Na;this.p1=Oa}return h(xa,[{key:"toQuadratic",value:function(){return{x:this.p0.x,y:this.p0.y,x1:this.p1.x,y1:this.p1.y,cx:(3*(this.c0.x+this.c1.x)-(this.p0.x+this.p1.x))/4,cy:(3*(this.c0.y+this.c1.y)-(this.p0.y+this.p1.y))/4}}},{key:"quadError",value:function(){return g.default.Vector.sub(g.default.Vector.sub(this.p1,this.p0),g.default.Vector.mult(g.default.Vector.sub(this.c1,this.c0),3)).mag()/2}},{key:"split",value:function(Ca){var za=g.default.Vector.lerp(this.p0,this.c0,Ca),Na=g.default.Vector.lerp(this.c0,
this.c1,Ca),Oa=g.default.Vector.lerp(za,Na,Ca);Na=(this.c1=g.default.Vector.lerp(this.c1,this.p1,Ca),this.c0=g.default.Vector.lerp(Na,this.c1,Ca),g.default.Vector.lerp(Oa,this.c0,Ca));Ca=new xa(this.p0,za,Oa,Na);return this.p0=Na,Ca}},{key:"splitInflections",value:function(){var Ca=g.default.Vector.sub(this.c0,this.p0),za=g.default.Vector.sub(g.default.Vector.sub(this.c1,this.c0),Ca),Na=g.default.Vector.sub(g.default.Vector.sub(g.default.Vector.sub(this.p1,this.c1),Ca),g.default.Vector.mult(za,2)),
Oa=[],bb=za.x*Na.y-za.y*Na.x;return 0!==bb&&0<=(Ca=(Na=Ca.x*Na.y-Ca.y*Na.x)*Na-4*bb*(Ca.x*za.y-Ca.y*za.x))&&(0>bb&&(bb=-bb,Na=-Na,0),Ca=(-Na+(za=Math.sqrt(Ca)))/(2*bb),0<(Na=(-Na-za)/(2*bb))&&1>Na&&(Oa.push(this.split(Na)),Ca=1-(1-Ca)/(1-Na)),0<Ca&&1>Ca&&Oa.push(this.split(Ca))),Oa.push(this),Oa}}]),xa}();Z=!0;var S=!1,E=void 0;try{for(var P,aa=Y[Symbol.iterator]();!(Z=(P=aa.next()).done);Z=!0){var ja=P.value,oa=(ja.x-U)/I,ra=(ja.y-J)/T;if(!(1E-5>Math.abs(oa-Ka)&&1E-5>Math.abs(ra-ha))){switch(ja.type){case "M":var la=
oa;var sa=ra;break;case "L":A(Ka,ha,oa,ra);break;case "Q":var Da=(ja.x1-U)/I,qa=(ja.y1-J)/T;x([Ka,oa,Da],[ha,ra,qa],{x:Ka,y:ha,cx:Da,cy:qa});break;case "Z":1E-5>Math.abs(la-Ka)&&1E-5>Math.abs(sa-ha)?ea.push({x:Ka,y:ha}):(A(Ka,ha,la,sa),ea.push({x:la,y:sa}));break;case "C":var Aa=function(xa,Ca,za,Na,Oa,bb,eb,cb){xa=(new L(new g.default.Vector(xa,Ca),new g.default.Vector(za,Na),new g.default.Vector(Oa,bb),new g.default.Vector(eb,cb))).splitInflections();Na=[];Oa=30/n;bb=!0;Ca=!1;za=void 0;try{for(var wb,
nb=xa[Symbol.iterator]();!(bb=(wb=nb.next()).done);bb=!0){var rb=wb.value;xa=[];for(eb=void 0;!(.125<=(eb=Oa/rb.quadError()));){var ab=Math.pow(eb,1/3),Ab=rb.split(ab),fa=rb.split(1-ab/(1-ab));Na.push(Ab);xa.push(rb);rb=fa}1>eb&&Na.push(rb.split(.5));Na.push(rb);Array.prototype.push.apply(Na,xa.reverse())}}catch(ka){Ca=!0,za=ka}finally{try{bb||null==nb.return||nb.return()}finally{if(Ca)throw za;}}return Na}(Ka,ha,(ja.x1-U)/I,(ja.y1-J)/T,(ja.x2-U)/I,(ja.y2-J)/T,oa,ra);for(Y=0;Y<Aa.length;Y++){var Ga=
Aa[Y].toQuadratic();x([Ga.x,Ga.x1,Ga.cx],[Ga.y,Ga.y1,Ga.cy],Ga)}break;default:throw Error("unknown command type: ".concat(ja.type));}var Ka=oa;var ha=ra}}}catch(xa){S=!0,E=xa}finally{try{Z||null==aa.return||aa.return()}finally{if(S)throw E;}}U=ea.length;J=this.strokeImageInfos.findImage(U);var na=J.index;for(I=0;I<U;++I)T=ea[I],d(J,C(T.x),C(T.y),C(T.cx),C(T.cy));(K=this.glyphInfos[v.index]={glyph:v,uGlyphRect:[G.x1,-G.y1,G.x2,-G.y2],strokeImageInfo:J,strokes:ea,colInfo:M(X,this.colDimImageInfos,this.colCellImageInfos),
rowInfo:M(da,this.rowDimImageInfos,this.rowCellImageInfos)}).uGridOffset=[K.colInfo.dimOffset,K.rowInfo.dimOffset]}return K}}]),u}();g.default.RendererGL.prototype._renderText=function(u,v,x,C,A){if(this._textFont&&"string"!=typeof this._textFont){if(!(A<=C)&&this._doFill){if(this._isOpenType()){u.push();A=this._doStroke;var M=this.drawMode,K=(this._doStroke=!1,this.drawMode=p.TEXTURE,this._textFont.font),G=(G=this._textFont._fontInfo)||(this._textFont._fontInfo=new q(K));x=this._textFont._handleAlignment(this,
v,x,C);C=this._textSize/K.unitsPerEm;var U=(this.translate(x.x,x.y,0),this.scale(C,C,1),this.GL);x=!this._defaultFontShader;var J=this._getFontShader(),I=(J.init(),J.bindShader(),x&&(J.setUniform("uGridImageSize",[64,64]),J.setUniform("uCellsImageSize",[64,64]),J.setUniform("uStrokeImageSize",[64,64]),J.setUniform("uGridSize",[9,9])),this._applyColorBlend(this.curFillColor),this.retainedMode.geometry.glyph),T=(I||((C=this._textGeom=new g.default.Geometry(1,1,function(){for(var aa=0;1>=aa;aa++)for(var ja=
0;1>=ja;ja++)this.vertices.push(new g.default.Vector(ja,aa,0)),this.uvs.push(ja,aa)})).computeFaces().computeNormals(),I=this.createBuffers("glyph",C)),!0);x=!1;C=void 0;try{for(var Y,ea=this.retainedMode.buffers.text[Symbol.iterator]();!(T=(Y=ea.next()).done);T=!0)Y.value._prepareBuffer(I,J)}catch(aa){x=!0,C=aa}finally{try{T||null==ea.return||ea.return()}finally{if(x)throw C;}}this._bindBuffer(I.indexBuffer,U.ELEMENT_ARRAY_BUFFER);J.setUniform("uMaterialColor",this.curFillColor);U.pixelStorei(U.UNPACK_PREMULTIPLY_ALPHA_WEBGL,
!1);try{x=0;C=null;var da=K.stringToGlyphs(v);v=!0;I=!1;T=void 0;try{for(var X,Z=da[Symbol.iterator]();!(v=(X=Z.next()).done);v=!0){var L,S,E=X.value,P=(C&&(x+=K.getKerningValue(C,E)),G.getGlyphInfo(E));P.uGlyphRect&&(L=P.rowInfo,S=P.colInfo,J.setUniform("uSamplerStrokes",P.strokeImageInfo.imageData),J.setUniform("uSamplerRowStrokes",L.cellImageInfo.imageData),J.setUniform("uSamplerRows",L.dimImageInfo.imageData),J.setUniform("uSamplerColStrokes",S.cellImageInfo.imageData),J.setUniform("uSamplerCols",
S.dimImageInfo.imageData),J.setUniform("uGridOffset",P.uGridOffset),J.setUniform("uGlyphRect",P.uGlyphRect),J.setUniform("uGlyphOffset",x),J.bindTextures(),U.drawElements(U.TRIANGLES,6,this.GL.UNSIGNED_SHORT,0));x+=E.advanceWidth;C=E}}catch(aa){I=!0,T=aa}finally{try{v||null==Z.return||Z.return()}finally{if(I)throw T;}}}finally{J.unbindShader(),this._doStroke=A,this.drawMode=M,U.pixelStorei(U.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),u.pop()}}else console.log("WEBGL: only Opentype (.otf) and Truetype (.ttf) fonts are supported");
return u}}else console.log("WEBGL: you must load and set a font before drawing text. See `loadFont` and `textFont` for more details.")}},{"../core/constants":272,"../core/main":283,"./p5.RendererGL.Retained":340,"./p5.Shader":342,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.split":206,"core-js/modules/es.string.sub":208,
"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}]},{},[267])(267)})};
'use strict';var hl=function(a,b){return $APP.aa[a]=b},il=function(a,b){if(a.str===b.str)return 0;var c=$APP.Fa(a.ha);if($APP.t(c?b.ha:c))return-1;if($APP.t(a.ha)){if($APP.Fa(b.ha))return 1;c=$APP.sa(a.ha,b.ha);return 0===c?$APP.sa(a.name,b.name):c}return $APP.sa(a.name,b.name)},jl=function(a,b){if(a.la===b.la)return 0;var c=$APP.Fa(a.ha);if($APP.t(c?b.ha:c))return-1;if($APP.t(a.ha)){if($APP.Fa(b.ha))return 1;c=$APP.sa(a.ha,b.ha);return 0===c?$APP.sa(a.name,b.name):c}return $APP.sa(a.name,b.name)},
kl=function(a){var b=typeof a;return"object"==b&&null!=a||"function"==b},ll=function(a,b){a=a.split(".");var c=$APP.pa;a[0]in c||"undefined"==typeof c.execScript||c.execScript("var "+a[0]);for(var d;a.length&&(d=a.shift());)a.length||void 0===b?c=c[d]&&c[d]!==Object.prototype[d]?c[d]:c[d]={}:c[d]=b},ml=function(a,b){function c(){}c.prototype=b.prototype;a.bc=b.prototype;a.prototype=new c;a.prototype.constructor=a;a.base=function(d,e,f){for(var h=Array(arguments.length-2),k=2;k<arguments.length;k++)h[k-
2]=arguments[k];return b.prototype[e].apply(d,h)}},nl=function(a,b){a.sort(b||$APP.sa)},pl=function(a){var b=ol();const c=Array(a.length);for(let e=0;e<a.length;e++)c[e]={index:e,value:a[e]};const d=b||$APP.sa;nl(c,function(e,f){return d(e.value,f.value)||e.index-f.index});for(b=0;b<a.length;b++)a[b]=c[b].value},ql=function(a){return null==a},rl=function(a){if(null==$APP.Ba)throw Error("No *print-fn* fn set for evaluation environment");$APP.Ba.call(null,a)},ol=function(){return $APP.K.h($APP.$c,$APP.$c)?
$APP.$c:function(a,b){var c=$APP.$c.h?$APP.$c.h(a,b):$APP.$c.call(null,a,b);return"number"===typeof c?c:$APP.t(c)?-1:$APP.t($APP.$c.h?$APP.$c.h(b,a):$APP.$c.call(null,b,a))?1:0}},sl=function(a,b){for(b=$APP.E(b);;){if(null==b)return a;a=$APP.R(a,$APP.G(b));b=$APP.I(b)}},tl=function(){return function(){function a(f,h){return $APP.Fa(ql.h?ql.h(f,h):ql.call(null,f,h))}function b(f){return $APP.Fa(ql.g?ql.g(f):ql.call(null,f))}function c(){return $APP.Fa(ql.o?ql.o():ql.call(null))}var d=null,e=function(){function f(k,
l,m){var n=null;if(2<arguments.length){n=0;for(var q=Array(arguments.length-2);n<q.length;)q[n]=arguments[n+2],++n;n=new $APP.D(q,0,null)}return h.call(this,k,l,n)}function h(k,l,m){return $APP.Fa($APP.Od(ql,k,l,m))}f.A=2;f.B=function(k){var l=$APP.G(k);k=$APP.I(k);var m=$APP.G(k);k=$APP.lc(k);return h(l,m,k)};f.l=h;return f}();d=function(f,h,k){switch(arguments.length){case 0:return c.call(this);case 1:return b.call(this,f);case 2:return a.call(this,f,h);default:var l=null;if(2<arguments.length){l=
0;for(var m=Array(arguments.length-2);l<m.length;)m[l]=arguments[l+2],++l;l=new $APP.D(m,0,null)}return e.l(f,h,l)}throw Error("Invalid arity: "+arguments.length);};d.A=2;d.B=e.B;d.o=c;d.g=b;d.h=a;d.l=e.l;return d}()},ul=function(a,b){for(var c=a.length,d=0,e=$APP.Ib($APP.We);;)if(d<c){if(b.length<=d)throw Error(["No value supplied for key: ",$APP.y.g(a[d])].join(""));var f=d+1;e=$APP.Lb(e,a[d],b[d]);d=f}else return $APP.Kb(e)},vl=function(a){var b=$APP.X.i($APP.za(),$APP.va,!1);rl($APP.cg(a,b));
$APP.t($APP.Aa)&&(a=$APP.za(),rl("\n"),$APP.R(a,$APP.ua))},xl=function(a){a=$APP.Mf(a);$APP.t(a.g?a.g(wl):a.call(null,wl))&&vl($APP.Dc(["Feature :no-safe-draw was renamed to :no-safe-fns in Quil 2.1.","Use :feature [:no-safe-fns] now."]));return $APP.tj.h(a,wl)},Bl=function(a){var b=yl.i(a,new $APP.V(null,1,5,$APP.W,[zl],null),xl);return $APP.Ue.h($APP.Ud,$APP.he(tl(),function(){return function e(d){return new $APP.vd(null,function(){for(;;){var f=$APP.E(d);if(f){if($APP.Uc(f)){var h=$APP.Pb(f),k=
$APP.J(h),l=$APP.zd(k);return function(){for(var w=0;;)if(w<k){var x=$APP.O(h,w),z=$APP.P(x,0,null),B=$APP.P(x,1,null);x=l;var F=Al.g?Al.g(z):Al.call(null,z);$APP.t(F)?(B=$APP.P(F,0,null),F=$APP.P(F,1,null),vl($APP.Dc([z,"option was removed in Quil",B,".",F])),z=null):z=new $APP.V(null,2,5,$APP.W,[z,B],null);x.add(z);w+=1}else return!0}()?$APP.Cd(l.X(),e($APP.Qb(f))):$APP.Cd(l.X(),null)}var m=$APP.G(f),n=$APP.P(m,0,null),q=$APP.P(m,1,null);return $APP.S(function(){var w=Al.g?Al.g(n):Al.call(null,
n);if($APP.t(w)){var x=$APP.P(w,0,null);w=$APP.P(w,1,null);vl($APP.Dc([n,"option was removed in Quil",x,".",w]));return null}return new $APP.V(null,2,5,$APP.W,[n,q],null)}(),e($APP.lc(f)))}return null}},null)}(b)}()))},Cl=function(a,b){this.type=a;this.currentTarget=this.target=b;this.defaultPrevented=!1},Dl=function(a,b){Cl.call(this,a?a.type:"");this.relatedTarget=this.currentTarget=this.target=null;this.button=this.screenY=this.screenX=this.clientY=this.clientX=this.offsetY=this.offsetX=0;this.key=
"";this.charCode=this.keyCode=0;this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1;this.state=null;this.pointerId=0;this.pointerType="";this.pb=null;a&&this.init(a,b)},Fl=function(a,b,c,d,e){this.listener=a;this.proxy=null;this.src=b;this.type=c;this.capture=!!d;this.handler=e;this.key=++El;this.removed=this.Nb=!1},Gl=function(a){a.removed=!0;a.listener=null;a.proxy=null;a.src=null;a.handler=null},Hl=function(a){this.src=a;this.listeners={};this.Lb=0},Il=function(a,b,c,d){for(var e=0;e<a.length;++e){var f=
a[e];if(!f.removed&&f.listener==b&&f.capture==!!c&&f.handler==d)return e}return-1},Kl=function(a,b,c,d,e){if(d&&d.once)Jl(a,b,c,d,e);else if(Array.isArray(b))for(var f=0;f<b.length;f++)Kl(a,b[f],c,d,e);else c=Ll(c),a&&a[Ml]?a.ld(b,c,kl(d)?!!d.capture:!!d,e):Nl(a,b,c,!1,d,e)},Nl=function(a,b,c,d,e,f){if(!b)throw Error("Invalid event type");var h=kl(e)?!!e.capture:!!e,k=Ol(a);k||(a[Pl]=k=new Hl(a));c=k.add(b,c,d,h,f);if(!c.proxy){d=Ql();c.proxy=d;d.src=a;d.listener=c;if(a.addEventListener)Rl||(e=h),
void 0===e&&(e=!1),a.addEventListener(b.toString(),d,e);else if(a.attachEvent)a.attachEvent(Sl(b.toString()),d);else if(a.addListener&&a.removeListener)a.addListener(d);else throw Error("addEventListener and attachEvent are unavailable.");Tl++}},Ql=function(){function a(c){return b.call(a.src,a.listener,c)}const b=Ul;return a},Jl=function(a,b,c,d,e){if(Array.isArray(b))for(var f=0;f<b.length;f++)Jl(a,b[f],c,d,e);else c=Ll(c),a&&a[Ml]?a.md(b,c,kl(d)?!!d.capture:!!d,e):Nl(a,b,c,!0,d,e)},Sl=function(a){return a in
Vl?Vl[a]:Vl[a]="on"+a},Ul=function(a,b){if(a.removed)a=!0;else{b=new Dl(b,this);var c=a.listener,d=a.handler||a.src;if(a.Nb&&"number"!==typeof a&&a&&!a.removed){var e=a.src;if(e&&e[Ml])e.qd(a);else{var f=a.type,h=a.proxy;e.removeEventListener?e.removeEventListener(f,h,a.capture):e.detachEvent?e.detachEvent(Sl(f),h):e.addListener&&e.removeListener&&e.removeListener(h);Tl--;if(f=Ol(e)){h=a.type;var k;if(k=h in f.listeners){k=f.listeners[h];const l=(0,$APP.lj)(k,a);let m;(m=0<=l)&&Array.prototype.splice.call(k,
l,1);k=m}k&&(Gl(a),0==f.listeners[h].length&&(delete f.listeners[h],f.Lb--));0==f.Lb&&(f.src=null,e[Pl]=null)}else Gl(a)}}a=c.call(d,b)}return a},Ol=function(a){a=a[Pl];return a instanceof Hl?a:null},Ll=function(a){if("function"===typeof a)return a;a[Wl]||(a[Wl]=function(b){return a.handleEvent(b)});return a[Wl]},Xl=function(a,b){var c=9==a.nodeType?a:a.ownerDocument||a.document;return c.defaultView&&c.defaultView.getComputedStyle&&(a=c.defaultView.getComputedStyle(a,null))?a[b]||a.getPropertyValue(b)||
"":""},Yl=function(a,b,c){var d=a.quil_canvas;return $APP.t(d)?(d=d.querySelector("canvas"),d.setAttribute("width",b),d.setAttribute("height",c),d.style.width=[$APP.y.g(b),"px"].join(""),d.style.height=[$APP.y.g(c),"px"].join(""),a.width=window.parseInt(Xl(d,"width")),a.height=window.parseInt(Xl(d,"height"))):null},wm=function(a,b){for(var c=$APP.E(ul([Zl,$l,am,bm,cm,dm,em,fm,gm,hm,im,jm,km],[lm,mm,nm,om,cm,pm,qm,rm,sm,tm,um,vm,km])),d=null,e=0,f=0;;)if(f<e){var h=d.H(null,f),k=$APP.P(h,0,null),l=
$APP.P(h,1,null),m=b.g?b.g(l):b.call(null,l);if($APP.t(m)){var n=m;a[$APP.Y(k)]=function(x,z,B,F,Q){return function(){var T=Z;Z=a;try{return Q.o?Q.o():Q.call(null)}finally{Z=T}}}(c,d,e,f,n,m,h,k,l)}f+=1}else if(m=$APP.E(c)){h=m;if($APP.Uc(h))c=$APP.Pb(h),f=$APP.Qb(h),d=c,e=$APP.J(c),c=f;else{n=$APP.G(h);k=$APP.P(n,0,null);l=$APP.P(n,1,null);var q=b.g?b.g(l):b.call(null,l);if($APP.t(q)){var w=q;a[$APP.Y(k)]=function(x,z,B,F,Q){return function(){var T=Z;Z=a;try{return Q.o?Q.o():Q.call(null)}finally{Z=
T}}}(c,d,e,f,w,q,n,k,l,h,m)}c=$APP.I(h);d=null;e=0}f=0}else break},xm=function(){var a=document.fullscreenElement;return $APP.t(a)?a:document.mozFullScreenElement},ym=function(a){function b(){return $APP.t(xm())?($APP.ce(c,new $APP.V(null,2,5,$APP.W,[a.width,a.height],null)),Yl(a,window.screen.width,window.screen.height)):$APP.Nd(Yl,a,$APP.mb(c))}var c=new $APP.be(null);Kl(window,"keydown",function(d){return $APP.K.h(d.key,"F11")&&$APP.Fa(xm())?(d.preventDefault(),d=a.quil_canvas,$APP.t(d.requestFullscreen)?
d.requestFullscreen():$APP.t(d.mozRequestFullScreen)?d.mozRequestFullScreen():console.warn("Fullscreen mode is not supported in current browser.")):null});Kl(document,"fullscreenchange",b);Kl(document,"mozfullscreenchange",b);Kl(document,"fullscreenerror",function(d){return console.error("Error while switching to/from fullscreen: ",d)})},Fm=function(a){var b=$APP.mi.l($APP.Dc([new $APP.r(null,1,[zm,new $APP.V(null,2,5,$APP.W,[500,300],null)],null),function(h){return h.g?h.g(a):h.call(null,a)}($APP.Md($APP.ij,
$APP.S(Bl,Am.h(a,$APP.we))))])),c=zm.g(b),d=Bm.g(b);$APP.Mf(zl.g(b));var e=$APP.t(nm.g(b))?function(){var h=-1*Z.nd,k=nm.g(b);return k.g?k.g(h):k.call(null,h)}:null,f=$APP.X.l(b,cm,function(){$APP.Md(Cm,$APP.dj.h(c,$APP.t(d)?new $APP.V(null,1,5,$APP.W,[d],null):$APP.we));if($APP.t(Dm.g(b))){var h=Dm.g(b);h.o?h.o():h.call(null)}return $APP.t(cm.g(b))?(h=cm.g(b),h.o?h.o():h.call(null)):null},$APP.Dc([nm,e]));return function(h){wm(h,f);h.vb=new $APP.be(null);return h.wb=new $APP.be(Em)}},Gm=function(a){var b=
document.createElement("canvas");b.setAttribute("id",a);document.body.appendChild(b)},Hm=function(){return $APP.t(null)?null:Z},Jm=function(a){return $APP.fi.u(Z.wb,$APP.X,Im,a)},Lm=function(){var a=Z.mouseButton;return $APP.t(function(){var b=p5.prototype.LEFT;return $APP.K.h?$APP.K.h(b,a):$APP.K.call(null,b,a)}())?$APP.Bj:$APP.t(function(){var b=p5.prototype.RIGHT;return $APP.K.h?$APP.K.h(b,a):$APP.K.call(null,b,a)}())?$APP.Ej:$APP.t(function(){var b=p5.prototype.CENTER;return $APP.K.h?$APP.K.h(b,
a):$APP.K.call(null,b,a)}())?Km:null},Mm=function(){Hm().noFill();return $APP.fi.u(Z.wb,$APP.X,Im,null)},Om=function(a){return $APP.fi.u(Z.wb,$APP.X,Nm,a)},Pm=function(a){var b=cm.h(a,function(){return null});return $APP.X.i(a,cm,function(){return $APP.ce(Z.vb,b.o?b.o():b.call(null))})},Rm=function(a){var b=km.h(a,function(){return null}),c=Qm.h(a,$APP.jd);return $APP.X.i($APP.Ch.h(a,Qm),km,function(){var d=$APP.fi.h(Z.vb,$APP.K.h(Z.frameCount,1)?$APP.jd:c);return b.g?b.g(d):b.call(null,d)})},Sm=
function(){return new $APP.r(null,2,[$APP.Uj,Z.mouseX,$APP.Tj,Z.mouseY],null)},Um=function(){return new $APP.r(null,3,[$APP.Uj,Z.mouseX,$APP.Tj,Z.mouseY,Tm,Lm()],null)},$m=function(){var a=Z.key;var b=Z.keyCode;$APP.K.h(65535,String(a).charCodeAt())?a=$APP.Gc(Vm,b,Wm):(a=String(a),b=Xm.g?Xm.g(a):Xm.call(null,a),a=$APP.t(b)?b:$APP.Yf.g(a));return new $APP.r(null,3,[$APP.Ii,a,Ym,Z.keyCode,Zm,Z.key],null)},bn=function(a,b){return $APP.Ja(function(c,d){return d instanceof $APP.U?an.h(c,d):$APP.Nd(an,
c,d)},a,b)},cn=function(a){var b=nm.g(a);return $APP.t(b)?$APP.X.i(a,nm,function(c){return $APP.fi.i(Z.vb,b,c)}):a},jn=function(a){return cn(bn(Rm(Pm(a)),$APP.Dc([dn,en,new $APP.V(null,2,5,$APP.W,[um,Sm],null),new $APP.V(null,2,5,$APP.W,[mm,Sm],null),new $APP.V(null,2,5,$APP.W,[sm,Um],null),new $APP.V(null,2,5,$APP.W,[rm,Sm],null),new $APP.V(null,2,5,$APP.W,[qm,Um],null),new $APP.V(null,2,5,$APP.W,[tm,function(){return new $APP.r(null,4,[$APP.Uj,Z.mouseX,$APP.Tj,Z.mouseY,fn,Z.pmouseX,gn,Z.pmouseY],
null)}],null),new $APP.V(null,2,5,$APP.W,[om,function(){return new $APP.r(null,5,[$APP.Uj,Z.mouseX,$APP.Tj,Z.mouseY,fn,Z.pmouseX,gn,Z.pmouseY,Tm,Lm()],null)}],null),new $APP.V(null,2,5,$APP.W,[lm,$m],null),new $APP.V(null,2,5,$APP.W,[pm,$m],null),new $APP.V(null,2,5,$APP.W,[vm,$m],null),hn])))},kn=function(a){return jn(a)},tn=function(a){function b(){return $APP.fi.u(e,$APP.X,ln,!1)}var c=$APP.Vd(a);$APP.R(c,$APP.Ni);$APP.R(c,mn);a=$APP.R(c,$APP.Mj);var d=$APP.R(c,$APP.fk),e=$APP.R(c,nn),f=$APP.R(c,
cm),h=$APP.R(c,on),k=$APP.R(c,pn);c=$APP.mb(e);c=$APP.Vd(c);$APP.R(c,ln);$APP.R(c,qn);c=$APP.R(c,rn);return $APP.Md(sn,$APP.Dc([mn,c,zm,new $APP.V(null,2,5,$APP.W,[a,d],null),cm,function(){var l=f.o?f.o():f.call(null);return $APP.X.i(l,$APP.Jj,b)},Qm,function(l){return $APP.t(ln.g($APP.mb(e)))?h.g?h.g(l):h.call(null,l):l},km,function(l){return $APP.t(ln.g($APP.mb(e)))?k.g?k.g(l):k.call(null,l):null},Am,new $APP.V(null,1,5,$APP.W,[kn],null)]))},xn=function(a){var b=$APP.Vd(a);$APP.R(b,$APP.Ni);$APP.R(b,
un);$APP.R(b,$APP.Mj);$APP.R(b,$APP.fk);var c=$APP.R(b,nn);return $APP.qi(new $APP.r(null,2,[vn,function(d){d=$APP.cj(d);$APP.fi.u(c,$APP.X,rn,d);return tn(b)},$APP.ci,function(){return new $APP.V(null,1,5,$APP.W,[wn],null)}],null))},Bn=function(a){a=$APP.Vd(a);$APP.R(a,$APP.Ni);$APP.R(a,$APP.Mj);$APP.R(a,$APP.fk);a=$APP.R(a,$APP.Lh);var b=$APP.Xh.g(new $APP.r(null,3,[rn,null,ln,a,qn,a],null));return function(c){c=$APP.Vd(c);$APP.R(c,$APP.Ni);$APP.R(c,$APP.Mj);$APP.R(c,$APP.fk);var d=$APP.mb(b),e=
$APP.Vd(d);d=$APP.R(e,ln);e=$APP.R(e,qn);var f=$APP.X.i(c,nn,b);return new $APP.V(null,3,5,$APP.W,[yn,new $APP.V(null,3,5,$APP.W,[Tm,new $APP.r(null,2,[$APP.Li,new $APP.V(null,3,5,$APP.W,["play-button",$APP.t(d)?"hidden":null,$APP.Fa(e)?"first-time":null],null),zn,function(){$APP.fi.u(b,$APP.X,ln,!0);$APP.fi.u(b,$APP.X,qn,!0);return tn(f)}],null),new $APP.V(null,2,5,$APP.W,[An,""],null)],null),new $APP.V(null,2,5,$APP.W,[xn,f],null)],null)}},Cn=function(a){var b=new $APP.V(null,2,5,$APP.W,[Bn,a],
null);a=document.getElementById(mn.g(a));$APP.bj(b,a)},En=function(){for(var a=$APP.E($APP.mb(Dn)),b=null,c=0,d=0;;)if(d<c){var e=b.H(null,d);Cn(e);d+=1}else if(a=$APP.E(a))b=a,$APP.Uc(b)?(a=$APP.Pb(b),c=$APP.Qb(b),b=a,e=$APP.J(a),a=c,c=e):(e=$APP.G(b),Cn(e),a=$APP.I(b),b=null,c=0),d=0;else return null},Hn=function(a,b){b*=Z.noise(a);var c=.5>1*Math.random()?Fn:Gn;return c.h?c.h(a,b):c.call(null,a,b)},Pn=function(){return new $APP.r(null,6,[In,1.5*Z.height,Jn,Kn,Ln,Hn(1E3,1),$APP.Rj,new $APP.r(null,
3,[Mn,255*Math.random(),Nn,255*Math.random(),On,255*Math.random()],null),$APP.Uj,Z.width/2,$APP.Tj,Z.width/2],null)},Qn=function(a){a=Hn(a,50);a=255<a?255:a;return 0>a?0:a},Rn=function(a,b){return $APP.Zd(function(c){return $APP.K.h(b,c)},a)};$APP.hc.prototype.va=hl(3,function(a,b){if(b instanceof $APP.hc)return il(this,b);throw Error(["Cannot compare ",$APP.y.g(this)," to ",$APP.y.g(b)].join(""));});
$APP.U.prototype.va=hl(2,function(a,b){if(b instanceof $APP.U)return jl(this,b);throw Error(["Cannot compare ",$APP.y.g(this)," to ",$APP.y.g(b)].join(""));});$APP.V.prototype.va=hl(1,function(a,b){if($APP.Tc(b))return $APP.ad(this,b);throw Error(["Cannot compare ",$APP.y.g(this)," to ",$APP.y.g(b)].join(""));});$APP.Ne.prototype.va=hl(0,function(a,b){if($APP.Tc(b))return $APP.ad(this,b);throw Error(["Cannot compare ",$APP.y.g(this)," to ",$APP.y.g(b)].join(""));});
var Gn=function Gn(a){switch(arguments.length){case 1:return Gn.g(arguments[0]);case 2:return Gn.h(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=2<c.length?new $APP.D(c.slice(2),0,null):null;return Gn.l(arguments[0],arguments[1],c)}};Gn.g=function(a){return-a};Gn.h=function(a,b){return a-b};Gn.l=function(a,b,c){return $APP.Ja(Gn,a-b,c)};Gn.B=function(a){var b=$APP.G(a),c=$APP.I(a);a=$APP.G(c);c=$APP.I(c);return this.l(b,a,c)};
Gn.A=2;var Fn=function Fn(a){switch(arguments.length){case 0:return Fn.o();case 1:return Fn.g(arguments[0]);case 2:return Fn.h(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=2<c.length?new $APP.D(c.slice(2),0,null):null;return Fn.l(arguments[0],arguments[1],c)}};Fn.o=function(){return 0};Fn.g=function(a){return a};Fn.h=function(a,b){return a+b};Fn.l=function(a,b,c){return $APP.Ja(Fn,a+b,c)};
Fn.B=function(a){var b=$APP.G(a),c=$APP.I(a);a=$APP.G(c);c=$APP.I(c);return this.l(b,a,c)};Fn.A=2;
var yl=function yl(a){switch(arguments.length){case 3:return yl.i(arguments[0],arguments[1],arguments[2]);case 4:return yl.u(arguments[0],arguments[1],arguments[2],arguments[3]);case 5:return yl.Y(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);case 6:return yl.wa(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=6<c.length?new $APP.D(c.slice(6),0,null):null;return yl.l(arguments[0],
arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],c)}};yl.i=function(a,b,c){var d=$APP.E(b);b=$APP.G(d);if(d=$APP.I(d))a=$APP.X.i(a,b,yl.i($APP.R(a,b),d,c));else{d=$APP.X.i;var e=$APP.R(a,b);c=c.g?c.g(e):c.call(null,e);a=d.call($APP.X,a,b,c)}return a};yl.u=function(a,b,c,d){var e=$APP.E(b);b=$APP.G(e);if(e=$APP.I(e))a=$APP.X.i(a,b,yl.u($APP.R(a,b),e,c,d));else{e=$APP.X.i;var f=$APP.R(a,b);c=c.h?c.h(f,d):c.call(null,f,d);a=e.call($APP.X,a,b,c)}return a};
yl.Y=function(a,b,c,d,e){var f=$APP.E(b);b=$APP.G(f);if(f=$APP.I(f))a=$APP.X.i(a,b,yl.Y($APP.R(a,b),f,c,d,e));else{f=$APP.X.i;var h=$APP.R(a,b);c=c.i?c.i(h,d,e):c.call(null,h,d,e);a=f.call($APP.X,a,b,c)}return a};yl.wa=function(a,b,c,d,e,f){var h=$APP.E(b);b=$APP.G(h);if(h=$APP.I(h))a=$APP.X.i(a,b,yl.wa($APP.R(a,b),h,c,d,e,f));else{h=$APP.X.i;var k=$APP.R(a,b);c=c.u?c.u(k,d,e,f):c.call(null,k,d,e,f);a=h.call($APP.X,a,b,c)}return a};
yl.l=function(a,b,c,d,e,f,h){var k=$APP.E(b);b=$APP.G(k);return(k=$APP.I(k))?$APP.X.i(a,b,$APP.Qd(yl,$APP.R(a,b),k,c,d,$APP.Dc([e,f,h]))):$APP.X.i(a,b,$APP.Qd(c,$APP.R(a,b),d,e,f,$APP.Dc([h])))};yl.B=function(a){var b=$APP.G(a),c=$APP.I(a);a=$APP.G(c);var d=$APP.I(c);c=$APP.G(d);var e=$APP.I(d);d=$APP.G(e);var f=$APP.I(e);e=$APP.G(f);var h=$APP.I(f);f=$APP.G(h);h=$APP.I(h);return this.l(b,a,c,d,e,f,h)};yl.A=6;
var Sn=function Sn(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=0<c.length?new $APP.D(c.slice(0),0,null):null;return Sn.l(c)};Sn.l=function(a){for(var b=$APP.E(a),c=$APP.Ib($APP.We);;)if(b){var d=$APP.I(b);if(null==d)throw Error(["No value supplied for key: ",$APP.y.g($APP.G(b))].join(""));a=$APP.I(d);b=$APP.G(b);d=$APP.G(d);d=$APP.Lb(c,b,d);b=a;c=d}else return $APP.Kb(c)};Sn.A=0;Sn.B=function(a){return this.l($APP.E(a))};
var zm=new $APP.U(null,"size","size",1098693007),Tn=new $APP.U(null,"enable-depth-sort","enable-depth-sort",-383089627),Un=new $APP.U(null,"disable-depth-test","disable-depth-test",284606407),Vn=new $APP.U(null,"enable-optimized-stroke","enable-optimized-stroke",1537575253),Im=new $APP.U(null,"current-fill","current-fill",1421462292),Wn=new $APP.U(null,"multiply","multiply",-1036907048),Xn=new $APP.U(null,"f9","f9",704633338),vm=new $APP.U(null,"key-typed","key-typed",-876037597),Yn=new $APP.U(null,
"f8","f8",-2141475484),Zn=new $APP.U(null,"opengl","opengl",-614998103),en=new $APP.U(null,"focus-lost","focus-lost",-554849613),$n=new $APP.U(null,"command","command",-894540724),$l=new $APP.U(null,"mouseOut","mouseOut",-386669045),ao=new $APP.U(null,"fn","fn",-1175266204),tm=new $APP.U(null,"mouse-moved","mouse-moved",-1918152310),bo=new $APP.U(null,"soft-light","soft-light",513207899),co=new $APP.U(null,"alt","alt",-3214426),jm=new $APP.U(null,"keyTyped","keyTyped",1437329399),wn=new $APP.U(null,
"div.canvas","div.canvas",-1339887804),eo=new $APP.U(null,"f5","f5",1587057387),fo=new $APP.U(null,"f4","f4",990968764),go=new $APP.U(null,"f7","f7",356150168),ho=new $APP.U(null,"f6","f6",2103080604),io=new $APP.U(null,"f1","f1",1714532389),jo=new $APP.U(null,"f3","f3",1954829043),ko=new $APP.U(null,"f2","f2",396168596),Kn=new $APP.U(null,"forward","forward",-557345303),lo=new $APP.U(null,"decor","decor",-1730969431),fm=new $APP.U(null,"mouseReleased","mouseReleased",1116234838),mo=new $APP.U(null,
"disable-texture-mipmaps","disable-texture-mipmaps",1697917541),no=new $APP.U(null,"enable-opengl-errors","enable-opengl-errors",89998962),cm=new $APP.U(null,"setup","setup",1987730512),oo=new $APP.U(null,"enable-async-saveframe","enable-async-saveframe",-1817644525),po=new $APP.U(null,"first-run","first-run",-648168202),em=new $APP.U(null,"mouseClicked","mouseClicked",1764302965),Wm=new $APP.U(null,"unknown-key","unknown-key",255305911),qo=new $APP.U(null,"safe-draw-fn","safe-draw-fn",1454900202),
ro=new $APP.U(null,"host-id","host-id",742376279),hn=new $APP.U(null,"on-close","on-close",-761178394),on=new $APP.U(null,"update-state","update-state",-653396259),so=new $APP.U(null,"f10","f10",627525541),qm=new $APP.U(null,"mouse-clicked","mouse-clicked",-199339421),to=new $APP.U(null,"f11","f11",-1417398799),uo=new $APP.U(null,"f12","f12",853352790),pm=new $APP.U(null,"key-released","key-released",215919828),Nm=new $APP.U(null,"current-stroke","current-stroke",-1338415274),vo=new $APP.U(null,"exclusion",
"exclusion",531897910),zn=new $APP.U(null,"on-click","on-click",1632826543),wo=new $APP.U(null,"enable-depth-test","enable-depth-test",1519326084),rn=new $APP.U(null,"canvas-node","canvas-node",-1430137835),xo=new $APP.U(null,"down","down",1565245570),yo=new $APP.U(null,"space","space",348133475),Bm=new $APP.U(null,"renderer","renderer",336841071),zo=new $APP.U(null,"java2d","java2d",166099237),qn=new $APP.U(null,"ran-first?","ran-first?",1843537820),Km=new $APP.U(null,"center","center",-748944368),
Ao=new $APP.U(null,"frame-rate","frame-rate",-994918942),Bo=new $APP.U(null,"add","add",235287739),ln=new $APP.U(null,"running?","running?",-257884763),om=new $APP.U(null,"mouse-dragged","mouse-dragged",-1220073441),Co=new $APP.U(null,"disable-async-saveframe","disable-async-saveframe",-1346138728),lm=new $APP.U(null,"key-pressed","key-pressed",-757100364),Qm=new $APP.U(null,"update","update",1045576396),km=new $APP.U(null,"draw","draw",1358331674),Do=new $APP.U(null,"looping?","looping?",78344245),
Eo=new $APP.U(null,"lightest","lightest",-2043115912),Ym=new $APP.U(null,"key-code","key-code",-1732114304),Fo=new $APP.U(null,"enable-texture-mipmaps","enable-texture-mipmaps",1241892671),Go=new $APP.U(null,"disable-opengl-errors","disable-opengl-errors",506822839),wl=new $APP.U(null,"no-safe-draw","no-safe-draw",-1157778157),dm=new $APP.U(null,"keyReleased","keyReleased",541714964),zl=new $APP.U(null,"features","features",-1146962336),am=new $APP.U(null,"mouseScrolled","mouseScrolled",31878252),
Mn=new $APP.U(null,"r","r",-471384190),yn=new $APP.U(null,"div.sketch","div.sketch",309416843),un=new $APP.U(null,"run-sketch-fn","run-sketch-fn",410891953),Ho=new $APP.U(null,"disable-optimized-stroke","disable-optimized-stroke",74038544),Io=new $APP.U(null,"disable-stroke-perspective","disable-stroke-perspective",479198433),Jo=new $APP.U(null,"burn","burn",-458179293),Ko=new $APP.U(null,"up","up",-269712113),Zl=new $APP.U(null,"keyPressed","keyPressed",1791025256),Nn=new $APP.U(null,"g","g",1738089905),
On=new $APP.U(null,"b","b",1482224470),Zm=new $APP.U(null,"raw-key","raw-key",-162482279),Jn=new $APP.U(null,"mode","mode",654403691),mn=new $APP.U(null,"host","host",-1558485167),hm=new $APP.U(null,"mouseMoved","mouseMoved",-1936954058),bm=new $APP.U(null,"mouseDragged","mouseDragged",129975181),Lo=new $APP.U(null,"control","control",1892578036),mm=new $APP.U(null,"mouse-exited","mouse-exited",-483205244),Mo=new $APP.U(null,"reverse","reverse",-888455266),No=new $APP.U(null,"enable-stroke-pure",
"enable-stroke-pure",881345587),Oo=new $APP.U(null,"subtract","subtract",2136988635),vn=new $APP.U(null,"component-did-mount","component-did-mount",-1126910518),um=new $APP.U(null,"mouse-entered","mouse-entered",811350322),nn=new $APP.U(null,"state","state",-1988618099),Po=new $APP.U(null,"screen","screen",1990059748),Qo=new $APP.U(null,"darkest","darkest",68197253),Ln=new $APP.U(null,"num","num",1985240673),im=new $APP.U(null,"mouseOver","mouseOver",-1334461930),Ro=new $APP.U(null,"disable-depth-mask",
"disable-depth-mask",3298562),gm=new $APP.U(null,"mousePressed","mousePressed",1776186454),rm=new $APP.U(null,"mouse-released","mouse-released",-664480061),So=new $APP.U(null,"shift","shift",997140064),In=new $APP.U(null,"diameter","diameter",1560913323),dn=new $APP.U(null,"focus-gained","focus-gained",-857086384),To=new $APP.U(null,"enable-stroke-perspective","enable-stroke-perspective",-259923319),Uo=new $APP.U(null,"p3d","p3d",-850380194),Vo=new $APP.U(null,"disable-depth-sort","disable-depth-sort",
-1568352839),Wo=new $APP.U(null,"dodge","dodge",-1556666427),Am=new $APP.U(null,"middleware","middleware",1462115504),Xo=new $APP.U(null,"p2d","p2d",-2106175755),Yo=new $APP.U(null,"replace","replace",-786587770),sm=new $APP.U(null,"mouse-pressed","mouse-pressed",736955536),Zo=new $APP.U(null,"disable-stroke-pure","disable-stroke-pure",735493926),nm=new $APP.U(null,"mouse-wheel","mouse-wheel",1811662439),$o=new $APP.U(null,"difference","difference",1916101396),ap=new $APP.U(null,"overlay","overlay",
-139131598),bp=new $APP.U(null,"hard-light","hard-light",-37591145),An=new $APP.U(null,"span","span",1394872991),gn=new $APP.U(null,"p-y","p-y",-530704830),Tm=new $APP.U(null,"button","button",1456579943),fn=new $APP.U(null,"p-x","p-x",-1721211211),cp=new $APP.U(null,"circles2","circles2",823906301),pn=new $APP.U(null,"draw-state","draw-state",7564539),dp=new $APP.U(null,"blend","blend",249565561),Dm=new $APP.U(null,"settings","settings",1556144875),ep=new $APP.U(null,"enable-depth-mask","enable-depth-mask",
872785875),fp=new $APP.U(null,"target","target",253001721);var gp=$APP.jh(18,{});ll("p5",gp);var Em=new $APP.r(null,2,[Ao,60,Do,!0],null);var Al=new $APP.r(null,3,[lo,new $APP.V(null,2,5,$APP.W,["2.0","Try :features [:present] for similar effect"],null),fp,new $APP.V(null,2,5,$APP.W,["2.0","Use :features [:keep-on-top] instead."],null),qo,new $APP.V(null,2,5,$APP.W,["2.0","Use :features [:no-safe-fns] instead."],null)],null);/*

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/
Cl.prototype.stopPropagation=function(){};Cl.prototype.preventDefault=function(){this.defaultPrevented=!0};var Rl=function(){if(!$APP.pa.addEventListener||!Object.defineProperty)return!1;var a=!1,b=Object.defineProperty({},"passive",{get:function(){a=!0}});try{$APP.pa.addEventListener("test",()=>{},b),$APP.pa.removeEventListener("test",()=>{},b)}catch(c){}return a}();ml(Dl,Cl);var hp={2:"touch",3:"pen",4:"mouse"};
Dl.prototype.init=function(a,b){var c=this.type=a.type,d=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:null;this.target=a.target||a.srcElement;this.currentTarget=b;if(b=a.relatedTarget){if($APP.ik){a:{try{$APP.ja(b.nodeName);var e=!0;break a}catch(f){}e=!1}e||(b=null)}}else"mouseover"==c?b=a.fromElement:"mouseout"==c&&(b=a.toElement);this.relatedTarget=b;d?(this.clientX=void 0!==d.clientX?d.clientX:d.pageX,this.clientY=void 0!==d.clientY?d.clientY:d.pageY,this.screenX=d.screenX||0,
this.screenY=d.screenY||0):(this.offsetX=$APP.jk||void 0!==a.offsetX?a.offsetX:a.layerX,this.offsetY=$APP.jk||void 0!==a.offsetY?a.offsetY:a.layerY,this.clientX=void 0!==a.clientX?a.clientX:a.pageX,this.clientY=void 0!==a.clientY?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0);this.button=a.button;this.keyCode=a.keyCode||0;this.key=a.key||"";this.charCode=a.charCode||("keypress"==c?a.keyCode:0);this.ctrlKey=a.ctrlKey;this.altKey=a.altKey;this.shiftKey=a.shiftKey;this.metaKey=
a.metaKey;this.pointerId=a.pointerId||0;this.pointerType="string"===typeof a.pointerType?a.pointerType:hp[a.pointerType]||"";this.state=a.state;this.pb=a;a.defaultPrevented&&Dl.bc.preventDefault.call(this)};Dl.prototype.stopPropagation=function(){Dl.bc.stopPropagation.call(this);this.pb.stopPropagation?this.pb.stopPropagation():this.pb.cancelBubble=!0};Dl.prototype.preventDefault=function(){Dl.bc.preventDefault.call(this);var a=this.pb;a.preventDefault?a.preventDefault():a.returnValue=!1};var Ml="closure_listenable_"+(1E6*Math.random()|0);var El=0;Hl.prototype.add=function(a,b,c,d,e){var f=a.toString();a=this.listeners[f];a||(a=this.listeners[f]=[],this.Lb++);var h=Il(a,b,d,e);-1<h?(b=a[h],c||(b.Nb=!1)):(b=new Fl(b,this.src,f,!!d,e),b.Nb=c,a.push(b));return b};Hl.prototype.remove=function(a,b,c,d){a=a.toString();if(!(a in this.listeners))return!1;var e=this.listeners[a];b=Il(e,b,c,d);return-1<b?(Gl(e[b]),Array.prototype.splice.call(e,b,1),0==e.length&&(delete this.listeners[a],this.Lb--),!0):!1};var Pl="closure_lm_"+(1E6*Math.random()|0),Vl={},Tl=0,Wl="__closure_events_fn_"+(1E9*Math.random()>>>0);var Z=null,ip=new $APP.r(null,4,[zo,p5.prototype.JAVA2D,Xo,p5.prototype.P2D,Uo,p5.prototype.P3D,Zn,p5.prototype.OPENGL],null),Cm=function Cm(a){switch(arguments.length){case 2:return Cm.h(arguments[0],arguments[1]);case 3:return Cm.i(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",$APP.y.g(arguments.length)].join(""));}};Cm.h=function(a,b){return Z.createCanvas(a|0,b|0)};
Cm.i=function(a,b,c){var d=Z,e=d.createCanvas;if($APP.K.h(Uo,c))c=p5.prototype.WEBGL;else if($APP.t($APP.R(ip,c)))c=$APP.R(ip,c);else if(!$APP.t($APP.Zd($APP.Kf([c]),$APP.Df(ip)))){a=Error;b=$APP.y.g(c);c=$APP.y;d=c.g;e=$APP.Bf(ip);if($APP.E(e)){var f=$APP.Ed.g?$APP.Ed.g(e):$APP.Ed.call(null,e);pl(f);e=$APP.Lc($APP.E(f),$APP.Mc(e))}else e=$APP.H;throw a(["Expecting a keyword, got: ",b,". Expected one of: ",d.call(c,$APP.xe(e))].join(""));}return e.call(d,a|0,b|0,c)};Cm.A=3;
var sn=function sn(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=0<c.length?new $APP.D(c.slice(0),0,null):null;return sn.l(c)};
sn.l=function(a){a=$APP.Md(Sn,a);var b=mn.g(a);var c=Bm.g(a);c=$APP.t(c)?c:Xo;b="string"===typeof b?document.getElementById(b):b;return $APP.t(b)?($APP.t(b.wc)?$APP.K.h(c,b.wc)||console.warn("WARNING: Using different context on one canvas!"):b.wc=c,c=b.processing_obj,$APP.t(c)&&c.remove(),a=new p5(Fm(a),b),b.processing_obj=a,a.quil_canvas=b,ym(a),a):console.error($APP.t(mn.g(a))?["ERROR: Cannot find host element: ",$APP.y.g(mn.g(a))].join(""):"ERROR: Cannot create sketch. :host is not specified or element not found.")};
sn.A=0;sn.B=function(a){return this.l($APP.E(a))};var jp=new $APP.be($APP.H);Jl(window,"load",function(){for(var a=1>=document.body.childNodes.length,b=$APP.E($APP.mb(jp)),c=null,d=0,e=0;;)if(e<d){var f=c.H(null,e);a&&Gm(ro.g(f));f=ao.g(f);f.o?f.o():f.call(null);e+=1}else if(b=$APP.E(b))$APP.Uc(b)?(d=$APP.Pb(b),b=$APP.Qb(b),c=d,d=$APP.J(d)):(c=$APP.G(b),a&&Gm(ro.g(c)),c=ao.g(c),c.o?c.o():c.call(null),b=$APP.I(b),c=null,d=0),e=0;else break;return $APP.ce(jp,$APP.we)});ul([Jo,Po,Qo,Wo,Yo,ap,$o,vo,bp,Wn,Eo,dp,Bo,bo,Oo],[p5.prototype.BURN,p5.prototype.SCREEN,p5.prototype.DARKEST,p5.prototype.DODGE,p5.prototype.REPLACE,p5.prototype.OVERLAY,p5.prototype.DIFFERENCE,p5.prototype.EXCLUSION,p5.prototype.HARD_LIGHT,p5.prototype.MULTIPLY,p5.prototype.LIGHTEST,p5.prototype.BLEND,p5.prototype.ADD,p5.prototype.SOFT_LIGHT,p5.prototype.SUBTRACT]);
ul([Io,Ro,wo,Tn,mo,Zo,Un,To,Ho,no,No,oo,ep,Vn,Go,Co,Vo,Fo],[p5.prototype.DISABLE_STROKE_PERSPECTIVE,p5.prototype.DISABLE_DEPTH_MASK,p5.prototype.ENABLE_DEPTH_TEST,p5.prototype.ENABLE_DEPTH_SORT,p5.prototype.DISABLE_TEXTURE_MIPMAPS,p5.prototype.DISABLE_STROKE_PURE,p5.prototype.DISABLE_DEPTH_TEST,p5.prototype.ENABLE_STROKE_PERSPECTIVE,p5.prototype.DISABLE_OPTIMIZED_STROKE,p5.prototype.ENABLE_OPENGL_ERRORS,p5.prototype.ENABLE_STROKE_PURE,p5.prototype.ENABLE_ASYNC_SAVEFRAME,p5.prototype.ENABLE_DEPTH_MASK,
p5.prototype.ENABLE_OPTIMIZED_STROKE,p5.prototype.DISABLE_OPENGL_ERRORS,p5.prototype.DISABLE_ASYNC_SAVEFRAME,p5.prototype.DISABLE_DEPTH_SORT,p5.prototype.ENABLE_TEXTURE_MIPMAPS]);
var Vm=ul([121,39,157,119,116,113,40,117,118,122,17,115,112,123,16,120,38,18,114,37],[so,$APP.Ej,$n,Yn,eo,ko,xo,ho,go,to,Lo,fo,io,uo,So,Xn,Ko,co,jo,$APP.Bj]),Xm=new $APP.r(null,1,[" ",yo],null),kp=function kp(a){switch(arguments.length){case 1:return kp.g(arguments[0]);case 2:return kp.h(arguments[0],arguments[1]);case 3:return kp.i(arguments[0],arguments[1],arguments[2]);case 4:return kp.u(arguments[0],arguments[1],arguments[2],arguments[3]);default:throw Error(["Invalid arity: ",$APP.y.g(arguments.length)].join(""));
}};kp.g=function(a){if($APP.Tc(a))return $APP.Md(kp,a);if(null==a)return Mm.o?Mm.o():Mm.call(null);Hm().fill(a);return Jm(new $APP.V(null,1,5,$APP.W,[a],null))};kp.h=function(a,b){Hm().fill(a,b);return Jm(new $APP.V(null,2,5,$APP.W,[a,b],null))};kp.i=function(a,b,c){Hm().fill(a,b,c);return Jm(new $APP.V(null,3,5,$APP.W,[a,b,c],null))};kp.u=function(a,b,c,d){Hm().fill(a,b,c,d);return Jm(new $APP.V(null,4,5,$APP.W,[a,b,c,d],null))};kp.A=4;
var lp=function lp(a){switch(arguments.length){case 1:return lp.g(arguments[0]);case 2:return lp.h(arguments[0],arguments[1]);case 3:return lp.i(arguments[0],arguments[1],arguments[2]);case 4:return lp.u(arguments[0],arguments[1],arguments[2],arguments[3]);default:throw Error(["Invalid arity: ",$APP.y.g(arguments.length)].join(""));}};
lp.g=function(a){if($APP.Tc(a))return $APP.Md(lp,a);if(null==a)return Hm().noStroke(),$APP.fi.u(Z.wb,$APP.X,Nm,null);Hm().stroke(a);return Om(new $APP.V(null,1,5,$APP.W,[a],null))};lp.h=function(a,b){Hm().stroke(a,b);return Om(new $APP.V(null,2,5,$APP.W,[a,b],null))};lp.i=function(a,b,c){Hm().stroke(a,b,c);return Om(new $APP.V(null,3,5,$APP.W,[a,b,c],null))};lp.u=function(a,b,c,d){Hm().stroke(a,b,c,d);return Om(new $APP.V(null,4,5,$APP.W,[c,b,c,d],null))};lp.A=4;var an=function an(a){switch(arguments.length){case 2:return an.h(arguments[0],arguments[1]);case 3:return an.i(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",$APP.y.g(arguments.length)].join(""));}};an.h=function(a,b){return an.i(a,b,null)};an.i=function(a,b,c){var d=a.g?a.g(b):a.call(null,b);return $APP.t(d)?$APP.X.i(a,b,$APP.t(c)?function(){return $APP.fi.i(Z.vb,d,c.o?c.o():c.call(null))}:function(){return $APP.fi.h(Z.vb,d)}):a};an.A=3;$APP.Yf.g(" ");var Dn=new $APP.be($APP.we);ll("sketches.registry.run_sketches",En);(function(a){return $APP.fi.h(Dn,function(b){return $APP.qd.h(b,a)})})(new $APP.r(null,8,[$APP.Ni,cp,mn,"sketches-circles",$APP.Mj,700,$APP.fk,750,$APP.Lh,!0,pn,function(a){$APP.K.h(Jn.g(a),Mo)?(Mm(),lp.i(sl(a,new $APP.V(null,2,5,$APP.W,[$APP.Rj,Mn],null)),sl(a,new $APP.V(null,2,5,$APP.W,[$APP.Rj,Nn],null)),sl(a,new $APP.V(null,2,5,$APP.W,[$APP.Rj,On],null))),Hm().strokeWeight(8)):$APP.K.h(Jn.g(a),po)?(Hm().strokeWeight(.5),kp.i(sl(a,new $APP.V(null,2,5,$APP.W,[$APP.Rj,Mn],null)),sl(a,new $APP.V(null,
2,5,$APP.W,[$APP.Rj,Nn],null)),sl(a,new $APP.V(null,2,5,$APP.W,[$APP.Rj,On],null)))):$APP.K.h(Jn.g(a),Kn)&&(Hm().strokeWeight(8),lp.i(sl(a,new $APP.V(null,2,5,$APP.W,[$APP.Rj,Mn],null)),sl(a,new $APP.V(null,2,5,$APP.W,[$APP.Rj,Nn],null)),sl(a,new $APP.V(null,2,5,$APP.W,[$APP.Rj,On],null))));var b=$APP.Uj.g(a),c=$APP.Tj.g(a),d=In.g(a);a=In.g(a);return Hm().ellipse(b,c,d,a)},on,function(a){if(0>=In.g(a)){var b=$APP.Jj.g(a);b.o?b.o():b.call(null)}return $APP.t(Rn(new $APP.V(null,2,5,$APP.W,[Kn,po],null),
Jn.g(a)))?(b=Jn.g(a),b=0>=In.g(a)?$APP.K.h(b,Kn)?Mo:Kn:b,$APP.mi.l($APP.Dc([a,new $APP.r(null,6,[In,In.g(a)-3,Jn,b,Ln,Hn(Ln.g(a),1),$APP.Rj,new $APP.r(null,3,[Mn,Qn(sl(a,new $APP.V(null,2,5,$APP.W,[$APP.Rj,Mn],null))),Nn,Qn(sl(a,new $APP.V(null,2,5,$APP.W,[$APP.Rj,Nn],null))),On,Qn(sl(a,new $APP.V(null,2,5,$APP.W,[$APP.Rj,On],null)))],null),$APP.Uj,Hn($APP.Uj.g(a),3),$APP.Tj,Hn($APP.Tj.g(a),3)],null)]))):$APP.K.h(Jn.g(a),Mo)?(b=Jn.g(a),b=In.g(a)>=In.g(Pn())?$APP.K.h(b,Kn)?Mo:Kn:b,$APP.mi.l($APP.Dc([a,
new $APP.r(null,6,[In,In.g(a)+3,Jn,b,Ln,Hn(Ln.g(a),1),$APP.Rj,new $APP.r(null,3,[Mn,Qn(sl(a,new $APP.V(null,2,5,$APP.W,[$APP.Rj,Mn],null))),Nn,Qn(sl(a,new $APP.V(null,2,5,$APP.W,[$APP.Rj,Nn],null))),On,Qn(sl(a,new $APP.V(null,2,5,$APP.W,[$APP.Rj,On],null)))],null),$APP.Uj,Hn($APP.Uj.g(a),3),$APP.Tj,Hn($APP.Tj.g(a),3)],null)]))):null},cm,function(){Hm().smooth();$APP.fi.u(Z.wb,$APP.X,Ao,30);Z.frameRate(30);lp.g(0);Hm().strokeWeight(.5);Hm().background(240);Mm();return Pn()}],null));En();
}).call(this);